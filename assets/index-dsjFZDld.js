const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/RutaPrincipal-Bq2aptRT-DTltwZHV-CO5MJhz9.js","assets/RutaPrincipal-BNL2tyW5-CxY54UNU-AsulsZtJ.js","assets/infoNuestrosTrabajos-oMYqesbl-CZ4GuPae-C4l6GJXy.js","assets/RutaGaleria-DBNweeWk-i9hANpid-D89xlyjx.js","assets/RutaPrivacidad-Bef9SSgP-BP2xXnTu-DWpL_POm.js","assets/Enlaces-BAchbKQX-BHDoRq5I-Co_SzKil.js","assets/RutaCookies-BXGI4ksc-CbfThwsS-BqO0hWUL.js","assets/RutaAvisosLegales-yMytLAYF-zOLIQJ9i-BF4QC_zU.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();const fw="modulepreload",mw=function(h){return"/"+h},d0={},ea=function(t,e,i){let s=Promise.resolve();if(e&&e.length>0){let l=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=l(e.map(p=>{if(p=mw(p),p in d0)return;d0[p]=!0;const m=p.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${g}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":fw,m||(v.as="script"),v.crossOrigin="",v.href=p,d&&v.setAttribute("nonce",d),document.head.appendChild(v),m)return new Promise((b,x)=>{v.addEventListener("load",b),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return t().catch(o)})},ra=(h,t=ra,e=t.f||(t.f=["assets/RutaPrincipal-Bq2aptRT-DTltwZHV.js","assets/RutaPrincipal-BNL2tyW5-CxY54UNU.js","assets/infoNuestrosTrabajos-oMYqesbl-CZ4GuPae.js","assets/RutaGaleria-DBNweeWk-i9hANpid.js","assets/RutaPrivacidad-Bef9SSgP-BP2xXnTu.js","assets/Enlaces-BAchbKQX-BHDoRq5I.js","assets/RutaCookies-BXGI4ksc-CbfThwsS.js","assets/RutaAvisosLegales-yMytLAYF-zOLIQJ9i.js"]))=>h.map(i=>e[i]);(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))e(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&e(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const yw="modulepreload",gw=function(h){return"/"+h},p0={},ia=function(h,t,e){let i=Promise.resolve();if(t&&t.length>0){let o=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=o(t.map(d=>{if(d=gw(d),d in p0)return;p0[d]=!0;const p=d.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=p?"stylesheet":yw,p||(g.as="script"),g.crossOrigin="",g.href=d,c&&g.setAttribute("nonce",c),document.head.appendChild(g),p)return new Promise((v,b)=>{g.addEventListener("load",v),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return h().catch(s)})},Fn=(h,t=Fn,e=t.f||(t.f=["assets/RutaPrincipal-Bq2aptRT.js","assets/RutaPrincipal-BNL2tyW5.js","assets/RutaPrincipal-Dx12AUPm.css","assets/infoNuestrosTrabajos-oMYqesbl.js","assets/infoNuestrosTrabajos-BMD19QWe.css","assets/RutaPrincipal-B-p4PSoI.css","assets/RutaGaleria-DBNweeWk.js","assets/RutaGaleria-C7MitIqe.css","assets/RutaPrivacidad-Bef9SSgP.js","assets/Enlaces-BAchbKQX.js","assets/Enlaces-a5_1FaFr.css","assets/RutaCookies-BXGI4ksc.js","assets/RutaAvisosLegales-yMytLAYF.js","assets/Admin-DjU9vF7V.js","assets/Admin-B2Fu8fAo.css"]))=>h.map(i=>e[i]);function vw(h,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in h)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(h,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}))}(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))e(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&e(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var mT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bw(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var f0={exports:{}},lo={};/**
* @license React
* react-jsx-runtime.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var m0;function xw(){if(m0)return lo;m0=1;var h=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:h,type:i,key:l,ref:s!==void 0?s:null,props:o}}return lo.Fragment=t,lo.jsx=e,lo.jsxs=e,lo}var y0;function ww(){return y0||(y0=1,f0.exports=xw()),f0.exports}var Yt=ww(),g0={exports:{}},Mt={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var v0;function Sw(){if(v0)return Mt;v0=1;var h=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(R){return R===null||typeof R!="object"?null:(R=g&&R[g]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function _(R,q,Q){this.props=R,this.context=q,this.refs=S,this.updater=Q||b}_.prototype.isReactComponent={},_.prototype.setState=function(R,q){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,q,"setState")},_.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function M(){}M.prototype=_.prototype;function T(R,q,Q){this.props=R,this.context=q,this.refs=S,this.updater=Q||b}var A=T.prototype=new M;A.constructor=T,x(A,_.prototype),A.isPureReactComponent=!0;var C=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function j(R,q,Q,K,ht,zt){return Q=zt.ref,{$$typeof:h,type:R,key:q,ref:Q!==void 0?Q:null,props:zt}}function D(R,q){return j(R.type,q,void 0,void 0,void 0,R.props)}function G(R){return typeof R=="object"&&R!==null&&R.$$typeof===h}function Z(R){var q={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Q){return q[Q]})}var it=/\/+/g;function lt(R,q){return typeof R=="object"&&R!==null&&R.key!=null?Z(""+R.key):q.toString(36)}function mt(){}function xt(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(mt,mt):(R.status="pending",R.then(function(q){R.status==="pending"&&(R.status="fulfilled",R.value=q)},function(q){R.status==="pending"&&(R.status="rejected",R.reason=q)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function _t(R,q,Q,K,ht){var zt=typeof R;(zt==="undefined"||zt==="boolean")&&(R=null);var gt=!1;if(R===null)gt=!0;else switch(zt){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(R.$$typeof){case h:case t:gt=!0;break;case m:return gt=R._init,_t(gt(R._payload),q,Q,K,ht)}}if(gt)return ht=ht(R),gt=K===""?"."+lt(R,0):K,C(ht)?(Q="",gt!=null&&(Q=gt.replace(it,"$&/")+"/"),_t(ht,q,Q,"",function(Ye){return Ye})):ht!=null&&(G(ht)&&(ht=D(ht,Q+(ht.key==null||R&&R.key===ht.key?"":(""+ht.key).replace(it,"$&/")+"/")+gt)),q.push(ht)),1;gt=0;var Se=K===""?".":K+":";if(C(R))for(var Nt=0;Nt<R.length;Nt++)K=R[Nt],zt=Se+lt(K,Nt),gt+=_t(K,q,Q,zt,ht);else if(Nt=v(R),typeof Nt=="function")for(R=Nt.call(R),Nt=0;!(K=R.next()).done;)K=K.value,zt=Se+lt(K,Nt++),gt+=_t(K,q,Q,zt,ht);else if(zt==="object"){if(typeof R.then=="function")return _t(xt(R),q,Q,K,ht);throw q=String(R),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return gt}function U(R,q,Q){if(R==null)return R;var K=[],ht=0;return _t(R,K,"","",function(zt){return q.call(Q,zt,ht++)}),K}function X(R){if(R._status===-1){var q=R._result;q=q(),q.then(function(Q){(R._status===0||R._status===-1)&&(R._status=1,R._result=Q)},function(Q){(R._status===0||R._status===-1)&&(R._status=2,R._result=Q)}),R._status===-1&&(R._status=0,R._result=q)}if(R._status===1)return R._result.default;throw R._result}var at=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function ft(){}return Mt.Children={map:U,forEach:function(R,q,Q){U(R,function(){q.apply(this,arguments)},Q)},count:function(R){var q=0;return U(R,function(){q++}),q},toArray:function(R){return U(R,function(q){return q})||[]},only:function(R){if(!G(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Mt.Component=_,Mt.Fragment=e,Mt.Profiler=s,Mt.PureComponent=T,Mt.StrictMode=i,Mt.Suspense=d,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(R){return N.H.useMemoCache(R)}},Mt.cache=function(R){return function(){return R.apply(null,arguments)}},Mt.cloneElement=function(R,q,Q){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var K=x({},R.props),ht=R.key,zt=void 0;if(q!=null)for(gt in q.ref!==void 0&&(zt=void 0),q.key!==void 0&&(ht=""+q.key),q)!B.call(q,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&q.ref===void 0||(K[gt]=q[gt]);var gt=arguments.length-2;if(gt===1)K.children=Q;else if(1<gt){for(var Se=Array(gt),Nt=0;Nt<gt;Nt++)Se[Nt]=arguments[Nt+2];K.children=Se}return j(R.type,ht,void 0,void 0,zt,K)},Mt.createContext=function(R){return R={$$typeof:l,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:o,_context:R},R},Mt.createElement=function(R,q,Q){var K,ht={},zt=null;if(q!=null)for(K in q.key!==void 0&&(zt=""+q.key),q)B.call(q,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ht[K]=q[K]);var gt=arguments.length-2;if(gt===1)ht.children=Q;else if(1<gt){for(var Se=Array(gt),Nt=0;Nt<gt;Nt++)Se[Nt]=arguments[Nt+2];ht.children=Se}if(R&&R.defaultProps)for(K in gt=R.defaultProps,gt)ht[K]===void 0&&(ht[K]=gt[K]);return j(R,zt,void 0,void 0,null,ht)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(R){return{$$typeof:c,render:R}},Mt.isValidElement=G,Mt.lazy=function(R){return{$$typeof:m,_payload:{_status:-1,_result:R},_init:X}},Mt.memo=function(R,q){return{$$typeof:p,type:R,compare:q===void 0?null:q}},Mt.startTransition=function(R){var q=N.T,Q={};N.T=Q;try{var K=R(),ht=N.S;ht!==null&&ht(Q,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(ft,at)}catch(zt){at(zt)}finally{N.T=q}},Mt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Mt.use=function(R){return N.H.use(R)},Mt.useActionState=function(R,q,Q){return N.H.useActionState(R,q,Q)},Mt.useCallback=function(R,q){return N.H.useCallback(R,q)},Mt.useContext=function(R){return N.H.useContext(R)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(R,q){return N.H.useDeferredValue(R,q)},Mt.useEffect=function(R,q,Q){var K=N.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(R,q)},Mt.useId=function(){return N.H.useId()},Mt.useImperativeHandle=function(R,q,Q){return N.H.useImperativeHandle(R,q,Q)},Mt.useInsertionEffect=function(R,q){return N.H.useInsertionEffect(R,q)},Mt.useLayoutEffect=function(R,q){return N.H.useLayoutEffect(R,q)},Mt.useMemo=function(R,q){return N.H.useMemo(R,q)},Mt.useOptimistic=function(R,q){return N.H.useOptimistic(R,q)},Mt.useReducer=function(R,q,Q){return N.H.useReducer(R,q,Q)},Mt.useRef=function(R){return N.H.useRef(R)},Mt.useState=function(R){return N.H.useState(R)},Mt.useSyncExternalStore=function(R,q,Q){return N.H.useSyncExternalStore(R,q,Q)},Mt.useTransition=function(){return N.H.useTransition()},Mt.version="19.1.0",Mt}var b0;function Rp(){return b0||(b0=1,g0.exports=Sw()),g0.exports}var W=Rp();const vp=bw(W),yT=vw({__proto__:null,default:vp},[W]);var Id={exports:{}},uo={},x0={exports:{}},w0={};/**
* @license React
* scheduler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var S0;function Mw(){return S0||(S0=1,function(h){function t(U,X){var at=U.length;U.push(X);t:for(;0<at;){var ft=at-1>>>1,R=U[ft];if(0<s(R,X))U[ft]=X,U[at]=R,at=ft;else break t}}function e(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var X=U[0],at=U.pop();if(at!==X){U[0]=at;t:for(var ft=0,R=U.length,q=R>>>1;ft<q;){var Q=2*(ft+1)-1,K=U[Q],ht=Q+1,zt=U[ht];if(0>s(K,at))ht<R&&0>s(zt,K)?(U[ft]=zt,U[ht]=at,ft=ht):(U[ft]=K,U[Q]=at,ft=Q);else if(ht<R&&0>s(zt,at))U[ft]=zt,U[ht]=at,ft=ht;else break t}}return X}function s(U,X){var at=U.sortIndex-X.sortIndex;return at!==0?at:U.id-X.id}if(h.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;h.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();h.unstable_now=function(){return l.now()-c}}var d=[],p=[],m=1,g=null,v=3,b=!1,x=!1,S=!1,_=!1,M=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function C(U){for(var X=e(p);X!==null;){if(X.callback===null)i(p);else if(X.startTime<=U)i(p),X.sortIndex=X.expirationTime,t(d,X);else break;X=e(p)}}function N(U){if(S=!1,C(U),!x)if(e(d)!==null)x=!0,B||(B=!0,lt());else{var X=e(p);X!==null&&_t(N,X.startTime-U)}}var B=!1,j=-1,D=5,G=-1;function Z(){return _?!0:!(h.unstable_now()-G<D)}function it(){if(_=!1,B){var U=h.unstable_now();G=U;var X=!0;try{t:{x=!1,S&&(S=!1,T(j),j=-1),b=!0;var at=v;try{e:{for(C(U),g=e(d);g!==null&&!(g.expirationTime>U&&Z());){var ft=g.callback;if(typeof ft=="function"){g.callback=null,v=g.priorityLevel;var R=ft(g.expirationTime<=U);if(U=h.unstable_now(),typeof R=="function"){g.callback=R,C(U),X=!0;break e}g===e(d)&&i(d),C(U)}else i(d);g=e(d)}if(g!==null)X=!0;else{var q=e(p);q!==null&&_t(N,q.startTime-U),X=!1}}break t}finally{g=null,v=at,b=!1}X=void 0}}finally{X?lt():B=!1}}}var lt;if(typeof A=="function")lt=function(){A(it)};else if(typeof MessageChannel<"u"){var mt=new MessageChannel,xt=mt.port2;mt.port1.onmessage=it,lt=function(){xt.postMessage(null)}}else lt=function(){M(it,0)};function _t(U,X){j=M(function(){U(h.unstable_now())},X)}h.unstable_IdlePriority=5,h.unstable_ImmediatePriority=1,h.unstable_LowPriority=4,h.unstable_NormalPriority=3,h.unstable_Profiling=null,h.unstable_UserBlockingPriority=2,h.unstable_cancelCallback=function(U){U.callback=null},h.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<U?Math.floor(1e3/U):5},h.unstable_getCurrentPriorityLevel=function(){return v},h.unstable_next=function(U){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var at=v;v=X;try{return U()}finally{v=at}},h.unstable_requestPaint=function(){_=!0},h.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var at=v;v=U;try{return X()}finally{v=at}},h.unstable_scheduleCallback=function(U,X,at){var ft=h.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?ft+at:ft):at=ft,U){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=at+R,U={id:m++,callback:X,priorityLevel:U,startTime:at,expirationTime:R,sortIndex:-1},at>ft?(U.sortIndex=at,t(p,U),e(d)===null&&U===e(p)&&(S?(T(j),j=-1):S=!0,_t(N,at-ft))):(U.sortIndex=R,t(d,U),x||b||(x=!0,B||(B=!0,lt()))),U},h.unstable_shouldYield=Z,h.unstable_wrapCallback=function(U){var X=v;return function(){var at=v;v=X;try{return U.apply(this,arguments)}finally{v=at}}}}(w0)),w0}var M0;function _w(){return M0||(M0=1,x0.exports=Mw()),x0.exports}var Nd={exports:{}},Te={};/**
* @license React
* react-dom.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var _0;function kw(){if(_0)return Te;_0=1;var h=Rp();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,p,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:d,containerInfo:p,implementation:m}}var l=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Te.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Te.createPortal=function(d,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return o(d,p,null,m)},Te.flushSync=function(d){var p=l.T,m=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=p,i.p=m,i.d.f()}},Te.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},Te.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Te.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var m=p.as,g=c(m,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:b}):m==="script"&&i.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Te.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=c(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(d)},Te.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,g=c(m,p.crossOrigin);i.d.L(d,m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Te.preloadModule=function(d,p){if(typeof d=="string")if(p){var m=c(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},Te.requestFormReset=function(d){i.d.r(d)},Te.unstable_batchedUpdates=function(d,p){return d(p)},Te.useFormState=function(d,p,m){return l.H.useFormState(d,p,m)},Te.useFormStatus=function(){return l.H.useHostTransitionStatus()},Te.version="19.1.0",Te}var k0;function Tw(){if(k0)return Nd.exports;k0=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(t){console.error(t)}}return h(),Nd.exports=kw(),Nd.exports}/**
* @license React
* react-dom-client.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var T0;function Aw(){if(T0)return uo;T0=1;var h=_w(),t=Rp(),e=Tw();function i(r){var n="https://react.dev/errors/"+r;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var n=r,a=r;if(r.alternate)for(;n.return;)n=n.return;else{r=n;do n=r,(n.flags&4098)!==0&&(a=n.return),r=n.return;while(r)}return n.tag===3?a:null}function l(r){if(r.tag===13){var n=r.memoizedState;if(n===null&&(r=r.alternate,r!==null&&(n=r.memoizedState)),n!==null)return n.dehydrated}return null}function c(r){if(o(r)!==r)throw Error(i(188))}function d(r){var n=r.alternate;if(!n){if(n=o(r),n===null)throw Error(i(188));return n!==r?null:r}for(var a=r,u=n;;){var f=a.return;if(f===null)break;var y=f.alternate;if(y===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===a)return c(f),r;if(y===u)return c(f),n;y=y.sibling}throw Error(i(188))}if(a.return!==u.return)a=f,u=y;else{for(var w=!1,k=f.child;k;){if(k===a){w=!0,a=f,u=y;break}if(k===u){w=!0,u=f,a=y;break}k=k.sibling}if(!w){for(k=y.child;k;){if(k===a){w=!0,a=y,u=f;break}if(k===u){w=!0,u=y,a=f;break}k=k.sibling}if(!w)throw Error(i(189))}}if(a.alternate!==u)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?r:n}function p(r){var n=r.tag;if(n===5||n===26||n===27||n===6)return r;for(r=r.child;r!==null;){if(n=p(r),n!==null)return n;r=r.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),it=Symbol.iterator;function lt(r){return r===null||typeof r!="object"?null:(r=it&&r[it]||r["@@iterator"],typeof r=="function"?r:null)}var mt=Symbol.for("react.client.reference");function xt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===mt?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case _:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case B:return"SuspenseList";case G:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case b:return"Portal";case A:return(r.displayName||"Context")+".Provider";case T:return(r._context.displayName||"Context")+".Consumer";case C:var n=r.render;return r=r.displayName,r||(r=n.displayName||n.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case j:return n=r.displayName||null,n!==null?n:xt(r.type)||"Memo";case D:n=r._payload,r=r._init;try{return xt(r(n))}catch{}}return null}var _t=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},ft=[],R=-1;function q(r){return{current:r}}function Q(r){0>R||(r.current=ft[R],ft[R]=null,R--)}function K(r,n){R++,ft[R]=r.current,r.current=n}var ht=q(null),zt=q(null),gt=q(null),Se=q(null);function Nt(r,n){switch(K(gt,n),K(zt,r),K(ht,null),n.nodeType){case 9:case 11:r=(r=n.documentElement)&&(r=r.namespaceURI)?Vg(r):0;break;default:if(r=n.tagName,n=n.namespaceURI)n=Vg(n),r=Ug(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Q(ht),K(ht,r)}function Ye(){Q(ht),Q(zt),Q(gt)}function ca(r){r.memoizedState!==null&&K(Se,r);var n=ht.current,a=Ug(n,r.type);n!==a&&(K(zt,r),K(ht,a))}function Fe(r){zt.current===r&&(Q(ht),Q(zt)),Se.current===r&&(Q(Se),io._currentValue=at)}var Ze=Object.prototype.hasOwnProperty,tt=h.unstable_scheduleCallback,et=h.unstable_cancelCallback,rt=h.unstable_shouldYield,ct=h.unstable_requestPaint,nt=h.unstable_now,Et=h.unstable_getCurrentPriorityLevel,kt=h.unstable_ImmediatePriority,Ht=h.unstable_UserBlockingPriority,qt=h.unstable_NormalPriority,te=h.unstable_LowPriority,Re=h.unstable_IdlePriority,rn=h.log,Ie=h.unstable_setDisableYieldValue,Si=null,Me=null;function Sr(r){if(typeof rn=="function"&&Ie(r),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(Si,r)}catch{}}var Ne=Math.clz32?Math.clz32:qo,xh=Math.log,Ho=Math.LN2;function qo(r){return r>>>=0,r===0?32:31-(xh(r)/Ho|0)|0}var Jo=256,Go=4194304;function nn(r){var n=r&42;if(n!==0)return n;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Yo(r,n,a){var u=r.pendingLanes;if(u===0)return 0;var f=0,y=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var k=u&134217727;return k!==0?(u=k&~y,u!==0?f=nn(u):(w&=k,w!==0?f=nn(w):a||(a=k&~r,a!==0&&(f=nn(a))))):(k=u&~y,k!==0?f=nn(k):w!==0?f=nn(w):a||(a=u&~r,a!==0&&(f=nn(a)))),f===0?0:n!==0&&n!==f&&(n&y)===0&&(y=f&-f,a=n&-n,y>=a||y===32&&(a&4194048)!==0)?n:f}function da(r,n){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&n)===0}function ex(r,n){switch(r){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mf(){var r=Jo;return Jo<<=1,(Jo&4194048)===0&&(Jo=256),r}function _f(){var r=Go;return Go<<=1,(Go&62914560)===0&&(Go=4194304),r}function wh(r){for(var n=[],a=0;31>a;a++)n.push(r);return n}function pa(r,n){r.pendingLanes|=n,n!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function rx(r,n,a,u,f,y){var w=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var k=r.entanglements,E=r.expirationTimes,L=r.hiddenUpdates;for(a=w&~a;0<a;){var H=31-Ne(a),Y=1<<H;k[H]=0,E[H]=-1;var F=L[H];if(F!==null)for(L[H]=null,H=0;H<F.length;H++){var V=F[H];V!==null&&(V.lane&=-536870913)}a&=~Y}u!==0&&kf(r,u,0),y!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=y&~(w&~n))}function kf(r,n,a){r.pendingLanes|=n,r.suspendedLanes&=~n;var u=31-Ne(n);r.entangledLanes|=n,r.entanglements[u]=r.entanglements[u]|1073741824|a&4194090}function Tf(r,n){var a=r.entangledLanes|=n;for(r=r.entanglements;a;){var u=31-Ne(a),f=1<<u;f&n|r[u]&n&&(r[u]|=n),a&=~f}}function Sh(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Mh(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Af(){var r=X.p;return r!==0?r:(r=window.event,r===void 0?32:a0(r.type))}function ix(r,n){var a=X.p;try{return X.p=r,n()}finally{X.p=a}}var Mi=Math.random().toString(36).slice(2),_e="__reactFiber$"+Mi,Ve="__reactProps$"+Mi,Wn="__reactContainer$"+Mi,_h="__reactEvents$"+Mi,nx="__reactListeners$"+Mi,sx="__reactHandles$"+Mi,Cf="__reactResources$"+Mi,fa="__reactMarker$"+Mi;function kh(r){delete r[_e],delete r[Ve],delete r[_h],delete r[nx],delete r[sx]}function Hn(r){var n=r[_e];if(n)return n;for(var a=r.parentNode;a;){if(n=a[Wn]||a[_e]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(r=qg(r);r!==null;){if(a=r[_e])return a;r=qg(r)}return n}r=a,a=r.parentNode}return null}function qn(r){if(r=r[_e]||r[Wn]){var n=r.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return r}return null}function ma(r){var n=r.tag;if(n===5||n===26||n===27||n===6)return r.stateNode;throw Error(i(33))}function Jn(r){var n=r[Cf];return n||(n=r[Cf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function pe(r){r[fa]=!0}var zf=new Set,Ef={};function sn(r,n){Gn(r,n),Gn(r+"Capture",n)}function Gn(r,n){for(Ef[r]=n,r=0;r<n.length;r++)zf.add(n[r])}var ax=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rf={},If={};function ox(r){return Ze.call(If,r)?!0:Ze.call(Rf,r)?!1:ax.test(r)?If[r]=!0:(Rf[r]=!0,!1)}function Zo(r,n,a){if(ox(n))if(a===null)r.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(n);return}}r.setAttribute(n,""+a)}}function $o(r,n,a){if(a===null)r.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(n);return}r.setAttribute(n,""+a)}}function Gr(r,n,a,u){if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(n,a,""+u)}}var Th,Nf;function Yn(r){if(Th===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Th=n&&n[1]||"",Nf=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Th+r+Nf}var Ah=!1;function Ch(r,n){if(!r||Ah)return"";Ah=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(V){var F=V}Reflect.construct(r,[],Y)}else{try{Y.call()}catch(V){F=V}r.call(Y.prototype)}}else{try{throw Error()}catch(V){F=V}(Y=r())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(V){if(V&&F&&typeof V.stack=="string")return[V.stack,F.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),w=y[0],k=y[1];if(w&&k){var E=w.split(`
`),L=k.split(`
`);for(f=u=0;u<E.length&&!E[u].includes("DetermineComponentFrameRoot");)u++;for(;f<L.length&&!L[f].includes("DetermineComponentFrameRoot");)f++;if(u===E.length||f===L.length)for(u=E.length-1,f=L.length-1;1<=u&&0<=f&&E[u]!==L[f];)f--;for(;1<=u&&0<=f;u--,f--)if(E[u]!==L[f]){if(u!==1||f!==1)do if(u--,f--,0>f||E[u]!==L[f]){var H=`
`+E[u].replace(" at new "," at ");return r.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",r.displayName)),H}while(1<=u&&0<=f);break}}}finally{Ah=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?Yn(a):""}function lx(r){switch(r.tag){case 26:case 27:case 5:return Yn(r.type);case 16:return Yn("Lazy");case 13:return Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return Ch(r.type,!1);case 11:return Ch(r.type.render,!1);case 1:return Ch(r.type,!0);case 31:return Yn("Activity");default:return""}}function Pf(r){try{var n="";do n+=lx(r),r=r.return;while(r);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function hr(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Of(r){var n=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ux(r){var n=Of(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,n),u=""+r[n];if(!r.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,y=a.set;return Object.defineProperty(r,n,{configurable:!0,get:function(){return f.call(this)},set:function(w){u=""+w,y.call(this,w)}}),Object.defineProperty(r,n,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){r._valueTracker=null,delete r[n]}}}}function Xo(r){r._valueTracker||(r._valueTracker=ux(r))}function Lf(r){if(!r)return!1;var n=r._valueTracker;if(!n)return!0;var a=n.getValue(),u="";return r&&(u=Of(r)?r.checked?"true":"false":r.value),r=u,r!==a?(n.setValue(r),!0):!1}function Qo(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var hx=/[\n"\\]/g;function Mr(r){return r.replace(hx,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function zh(r,n,a,u,f,y,w,k){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),n!=null?w==="number"?(n===0&&r.value===""||r.value!=n)&&(r.value=""+hr(n)):r.value!==""+hr(n)&&(r.value=""+hr(n)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),n!=null?Eh(r,w,hr(n)):a!=null?Eh(r,w,hr(a)):u!=null&&r.removeAttribute("value"),f==null&&y!=null&&(r.defaultChecked=!!y),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.name=""+hr(k):r.removeAttribute("name")}function Bf(r,n,a,u,f,y,w,k){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),n!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||n!=null))return;a=a!=null?""+hr(a):"",n=n!=null?""+hr(n):a,k||n===r.value||(r.value=n),r.defaultValue=n}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=k?r.checked:!!u,r.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w)}function Eh(r,n,a){n==="number"&&Qo(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function Zn(r,n,a,u){if(r=r.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=n.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&u&&(r[a].defaultSelected=!0)}else{for(a=""+hr(a),n=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}n!==null||r[f].disabled||(n=r[f])}n!==null&&(n.selected=!0)}}function Df(r,n,a){if(n!=null&&(n=""+hr(n),n!==r.value&&(r.value=n),a==null)){r.defaultValue!==n&&(r.defaultValue=n);return}r.defaultValue=a!=null?""+hr(a):""}function Ff(r,n,a,u){if(n==null){if(u!=null){if(a!=null)throw Error(i(92));if(_t(u)){if(1<u.length)throw Error(i(93));u=u[0]}a=u}a==null&&(a=""),n=a}a=hr(n),r.defaultValue=a,u=r.textContent,u===a&&u!==""&&u!==null&&(r.value=u)}function $n(r,n){if(n){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=n;return}}r.textContent=n}var cx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vf(r,n,a){var u=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?r.setProperty(n,""):n==="float"?r.cssFloat="":r[n]="":u?r.setProperty(n,a):typeof a!="number"||a===0||cx.has(n)?n==="float"?r.cssFloat=a:r[n]=(""+a).trim():r[n]=a+"px"}function Uf(r,n,a){if(n!=null&&typeof n!="object")throw Error(i(62));if(r=r.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in n)u=n[f],n.hasOwnProperty(f)&&a[f]!==u&&Vf(r,f,u)}else for(var y in n)n.hasOwnProperty(y)&&Vf(r,y,n[y])}function Rh(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),px=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ko(r){return px.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ih=null;function Nh(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Xn=null,Qn=null;function jf(r){var n=qn(r);if(n&&(r=n.stateNode)){var a=r[Ve]||null;t:switch(r=n.stateNode,n.type){case"input":if(zh(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Mr(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var u=a[n];if(u!==r&&u.form===r.form){var f=u[Ve]||null;if(!f)throw Error(i(90));zh(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)u=a[n],u.form===r.form&&Lf(u)}break t;case"textarea":Df(r,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Zn(r,!!a.multiple,n,!1)}}}var Ph=!1;function Wf(r,n,a){if(Ph)return r(n,a);Ph=!0;try{var u=r(n);return u}finally{if(Ph=!1,(Xn!==null||Qn!==null)&&(Dl(),Xn&&(n=Xn,r=Qn,Qn=Xn=null,jf(n),r)))for(n=0;n<r.length;n++)jf(r[n])}}function ya(r,n){var a=r.stateNode;if(a===null)return null;var u=a[Ve]||null;if(u===null)return null;a=u[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break t;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(i(231,n,typeof a));return a}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oh=!1;if(Yr)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){Oh=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch{Oh=!1}var _i=null,Lh=null,tl=null;function Hf(){if(tl)return tl;var r,n=Lh,a=n.length,u,f="value"in _i?_i.value:_i.textContent,y=f.length;for(r=0;r<a&&n[r]===f[r];r++);var w=a-r;for(u=1;u<=w&&n[a-u]===f[y-u];u++);return tl=f.slice(r,1<u?1-u:void 0)}function el(r){var n=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&n===13&&(r=13)):r=n,r===10&&(r=13),32<=r||r===13?r:0}function rl(){return!0}function qf(){return!1}function Ue(r){function n(a,u,f,y,w){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(a=r[k],this[k]=a?a(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?rl:qf,this.isPropagationStopped=qf,this}return m(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=rl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=rl)},persist:function(){},isPersistent:rl}),n}var an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},il=Ue(an),va=m({},an,{view:0,detail:0}),fx=Ue(va),Bh,Dh,ba,nl=m({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vh,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ba&&(ba&&r.type==="mousemove"?(Bh=r.screenX-ba.screenX,Dh=r.screenY-ba.screenY):Dh=Bh=0,ba=r),Bh)},movementY:function(r){return"movementY"in r?r.movementY:Dh}}),Jf=Ue(nl),mx=m({},nl,{dataTransfer:0}),yx=Ue(mx),gx=m({},va,{relatedTarget:0}),Fh=Ue(gx),vx=m({},an,{animationName:0,elapsedTime:0,pseudoElement:0}),bx=Ue(vx),xx=m({},an,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),wx=Ue(xx),Sx=m({},an,{data:0}),Gf=Ue(Sx),Mx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_x={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tx(r){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(r):(r=kx[r])?!!n[r]:!1}function Vh(){return Tx}var Ax=m({},va,{key:function(r){if(r.key){var n=Mx[r.key]||r.key;if(n!=="Unidentified")return n}return r.type==="keypress"?(r=el(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?_x[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vh,charCode:function(r){return r.type==="keypress"?el(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?el(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Cx=Ue(Ax),zx=m({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yf=Ue(zx),Ex=m({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vh}),Rx=Ue(Ex),Ix=m({},an,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nx=Ue(Ix),Px=m({},nl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ox=Ue(Px),Lx=m({},an,{newState:0,oldState:0}),Bx=Ue(Lx),Dx=[9,13,27,32],Uh=Yr&&"CompositionEvent"in window,xa=null;Yr&&"documentMode"in document&&(xa=document.documentMode);var Fx=Yr&&"TextEvent"in window&&!xa,Zf=Yr&&(!Uh||xa&&8<xa&&11>=xa),$f=" ",Xf=!1;function Qf(r,n){switch(r){case"keyup":return Dx.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kf(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Kn=!1;function Vx(r,n){switch(r){case"compositionend":return Kf(n);case"keypress":return n.which!==32?null:(Xf=!0,$f);case"textInput":return r=n.data,r===$f&&Xf?null:r;default:return null}}function Ux(r,n){if(Kn)return r==="compositionend"||!Uh&&Qf(r,n)?(r=Hf(),tl=Lh=_i=null,Kn=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Zf&&n.locale!=="ko"?null:n.data;default:return null}}var jx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tm(r){var n=r&&r.nodeName&&r.nodeName.toLowerCase();return n==="input"?!!jx[r.type]:n==="textarea"}function em(r,n,a,u){Xn?Qn?Qn.push(u):Qn=[u]:Xn=u,n=Hl(n,"onChange"),0<n.length&&(a=new il("onChange","change",null,a,u),r.push({event:a,listeners:n}))}var wa=null,Sa=null;function Wx(r){Og(r,0)}function sl(r){var n=ma(r);if(Lf(n))return r}function rm(r,n){if(r==="change")return n}var im=!1;if(Yr){var jh;if(Yr){var Wh="oninput"in document;if(!Wh){var nm=document.createElement("div");nm.setAttribute("oninput","return;"),Wh=typeof nm.oninput=="function"}jh=Wh}else jh=!1;im=jh&&(!document.documentMode||9<document.documentMode)}function sm(){wa&&(wa.detachEvent("onpropertychange",am),Sa=wa=null)}function am(r){if(r.propertyName==="value"&&sl(Sa)){var n=[];em(n,Sa,r,Nh(r)),Wf(Wx,n)}}function Hx(r,n,a){r==="focusin"?(sm(),wa=n,Sa=a,wa.attachEvent("onpropertychange",am)):r==="focusout"&&sm()}function qx(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return sl(Sa)}function Jx(r,n){if(r==="click")return sl(n)}function Gx(r,n){if(r==="input"||r==="change")return sl(n)}function Yx(r,n){return r===n&&(r!==0||1/r===1/n)||r!==r&&n!==n}var $e=typeof Object.is=="function"?Object.is:Yx;function Ma(r,n){if($e(r,n))return!0;if(typeof r!="object"||r===null||typeof n!="object"||n===null)return!1;var a=Object.keys(r),u=Object.keys(n);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!Ze.call(n,f)||!$e(r[f],n[f]))return!1}return!0}function om(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function lm(r,n){var a=om(r);r=0;for(var u;a;){if(a.nodeType===3){if(u=r+a.textContent.length,r<=n&&u>=n)return{node:a,offset:n-r};r=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=om(a)}}function um(r,n){return r&&n?r===n?!0:r&&r.nodeType===3?!1:n&&n.nodeType===3?um(r,n.parentNode):"contains"in r?r.contains(n):r.compareDocumentPosition?!!(r.compareDocumentPosition(n)&16):!1:!1}function hm(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var n=Qo(r.document);n instanceof r.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)r=n.contentWindow;else break;n=Qo(r.document)}return n}function Hh(r){var n=r&&r.nodeName&&r.nodeName.toLowerCase();return n&&(n==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||n==="textarea"||r.contentEditable==="true")}var Zx=Yr&&"documentMode"in document&&11>=document.documentMode,ts=null,qh=null,_a=null,Jh=!1;function cm(r,n,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jh||ts==null||ts!==Qo(u)||(u=ts,"selectionStart"in u&&Hh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),_a&&Ma(_a,u)||(_a=u,u=Hl(qh,"onSelect"),0<u.length&&(n=new il("onSelect","select",null,n,a),r.push({event:n,listeners:u}),n.target=ts)))}function on(r,n){var a={};return a[r.toLowerCase()]=n.toLowerCase(),a["Webkit"+r]="webkit"+n,a["Moz"+r]="moz"+n,a}var es={animationend:on("Animation","AnimationEnd"),animationiteration:on("Animation","AnimationIteration"),animationstart:on("Animation","AnimationStart"),transitionrun:on("Transition","TransitionRun"),transitionstart:on("Transition","TransitionStart"),transitioncancel:on("Transition","TransitionCancel"),transitionend:on("Transition","TransitionEnd")},Gh={},dm={};Yr&&(dm=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function ln(r){if(Gh[r])return Gh[r];if(!es[r])return r;var n=es[r],a;for(a in n)if(n.hasOwnProperty(a)&&a in dm)return Gh[r]=n[a];return r}var pm=ln("animationend"),fm=ln("animationiteration"),mm=ln("animationstart"),$x=ln("transitionrun"),Xx=ln("transitionstart"),Qx=ln("transitioncancel"),ym=ln("transitionend"),gm=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function _r(r,n){gm.set(r,n),sn(n,[r])}var vm=new WeakMap;function cr(r,n){if(typeof r=="object"&&r!==null){var a=vm.get(r);return a!==void 0?a:(n={value:r,source:n,stack:Pf(n)},vm.set(r,n),n)}return{value:r,source:n,stack:Pf(n)}}var dr=[],rs=0,Zh=0;function al(){for(var r=rs,n=Zh=rs=0;n<r;){var a=dr[n];dr[n++]=null;var u=dr[n];dr[n++]=null;var f=dr[n];dr[n++]=null;var y=dr[n];if(dr[n++]=null,u!==null&&f!==null){var w=u.pending;w===null?f.next=f:(f.next=w.next,w.next=f),u.pending=f}y!==0&&bm(a,f,y)}}function ol(r,n,a,u){dr[rs++]=r,dr[rs++]=n,dr[rs++]=a,dr[rs++]=u,Zh|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function $h(r,n,a,u){return ol(r,n,a,u),ll(r)}function is(r,n){return ol(r,null,null,n),ll(r)}function bm(r,n,a){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a);for(var f=!1,y=r.return;y!==null;)y.childLanes|=a,u=y.alternate,u!==null&&(u.childLanes|=a),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(f=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,f&&n!==null&&(f=31-Ne(a),r=y.hiddenUpdates,u=r[f],u===null?r[f]=[n]:u.push(n),n.lane=a|536870912),y):null}function ll(r){if(50<Za)throw Za=0,rd=null,Error(i(185));for(var n=r.return;n!==null;)r=n,n=r.return;return r.tag===3?r.stateNode:null}var ns={};function Kx(r,n,a,u){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(r,n,a,u){return new Kx(r,n,a,u)}function Xh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Zr(r,n){var a=r.alternate;return a===null?(a=Xe(r.tag,n,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=n,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,n=r.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function xm(r,n){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,n=a.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),r}function ul(r,n,a,u,f,y){var w=0;if(u=r,typeof r=="function")Xh(r)&&(w=1);else if(typeof r=="string")w=ew(r,a,ht.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case G:return r=Xe(31,a,n,f),r.elementType=G,r.lanes=y,r;case x:return un(a.children,f,y,n);case S:w=8,f|=24;break;case _:return r=Xe(12,a,n,f|2),r.elementType=_,r.lanes=y,r;case N:return r=Xe(13,a,n,f),r.elementType=N,r.lanes=y,r;case B:return r=Xe(19,a,n,f),r.elementType=B,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:case A:w=10;break t;case T:w=9;break t;case C:w=11;break t;case j:w=14;break t;case D:w=16,u=null;break t}w=29,a=Error(i(130,r===null?"null":typeof r,"")),u=null}return n=Xe(w,a,n,f),n.elementType=r,n.type=u,n.lanes=y,n}function un(r,n,a,u){return r=Xe(7,r,u,n),r.lanes=a,r}function Qh(r,n,a){return r=Xe(6,r,null,n),r.lanes=a,r}function Kh(r,n,a){return n=Xe(4,r.children!==null?r.children:[],r.key,n),n.lanes=a,n.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},n}var ss=[],as=0,hl=null,cl=0,pr=[],fr=0,hn=null,$r=1,Xr="";function cn(r,n){ss[as++]=cl,ss[as++]=hl,hl=r,cl=n}function wm(r,n,a){pr[fr++]=$r,pr[fr++]=Xr,pr[fr++]=hn,hn=r;var u=$r;r=Xr;var f=32-Ne(u)-1;u&=~(1<<f),a+=1;var y=32-Ne(n)+f;if(30<y){var w=f-f%5;y=(u&(1<<w)-1).toString(32),u>>=w,f-=w,$r=1<<32-Ne(n)+f|a<<f|u,Xr=y+r}else $r=1<<y|a<<f|u,Xr=r}function tc(r){r.return!==null&&(cn(r,1),wm(r,1,0))}function ec(r){for(;r===hl;)hl=ss[--as],ss[as]=null,cl=ss[--as],ss[as]=null;for(;r===hn;)hn=pr[--fr],pr[fr]=null,Xr=pr[--fr],pr[fr]=null,$r=pr[--fr],pr[fr]=null}var Pe=null,ee=null,Dt=!1,dn=null,Nr=!1,rc=Error(i(519));function pn(r){var n=Error(i(418,""));throw Aa(cr(n,r)),rc}function Sm(r){var n=r.stateNode,a=r.type,u=r.memoizedProps;switch(n[_e]=r,n[Ve]=u,a){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<Xa.length;a++)It(Xa[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Bf(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Xo(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),Ff(n,u.value,u.defaultValue,u.children),Xo(n)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||u.suppressHydrationWarning===!0||Fg(n.textContent,a)?(u.popover!=null&&(It("beforetoggle",n),It("toggle",n)),u.onScroll!=null&&It("scroll",n),u.onScrollEnd!=null&&It("scrollend",n),u.onClick!=null&&(n.onclick=ql),n=!0):n=!1,n||pn(r)}function Mm(r){for(Pe=r.return;Pe;)switch(Pe.tag){case 5:case 13:Nr=!1;return;case 27:case 3:Nr=!0;return;default:Pe=Pe.return}}function ka(r){if(r!==Pe)return!1;if(!Dt)return Mm(r),Dt=!0,!1;var n=r.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||vd(r.type,r.memoizedProps)),a=!a),a&&ee&&pn(r),Mm(r),n===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,n=0;r;){if(r.nodeType===8)if(a=r.data,a==="/$"){if(n===0){ee=Tr(r.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;r=r.nextSibling}ee=null}}else n===27?(n=ee,Vi(r.type)?(r=Sd,Sd=null,ee=r):ee=n):ee=Pe?Tr(r.stateNode.nextSibling):null;return!0}function Ta(){ee=Pe=null,Dt=!1}function _m(){var r=dn;return r!==null&&(He===null?He=r:He.push.apply(He,r),dn=null),r}function Aa(r){dn===null?dn=[r]:dn.push(r)}var ic=q(null),fn=null,Qr=null;function ki(r,n,a){K(ic,n._currentValue),n._currentValue=a}function Kr(r){r._currentValue=ic.current,Q(ic)}function nc(r,n,a){for(;r!==null;){var u=r.alternate;if((r.childLanes&n)!==n?(r.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),r===a)break;r=r.return}}function sc(r,n,a,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var y=f.dependencies;if(y!==null){var w=f.child;y=y.firstContext;t:for(;y!==null;){var k=y;y=f;for(var E=0;E<n.length;E++)if(k.context===n[E]){y.lanes|=a,k=y.alternate,k!==null&&(k.lanes|=a),nc(y.return,a,r),u||(w=null);break t}y=k.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(i(341));w.lanes|=a,y=w.alternate,y!==null&&(y.lanes|=a),nc(w,a,r),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===r){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function Ca(r,n,a,u){r=null;for(var f=n,y=!1;f!==null;){if(!y){if((f.flags&524288)!==0)y=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var k=f.type;$e(f.pendingProps.value,w.value)||(r!==null?r.push(k):r=[k])}}else if(f===Se.current){if(w=f.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(io):r=[io])}f=f.return}r!==null&&sc(n,r,a,u),n.flags|=262144}function dl(r){for(r=r.firstContext;r!==null;){if(!$e(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function mn(r){fn=r,Qr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function ke(r){return km(fn,r)}function pl(r,n){return fn===null&&mn(r),km(r,n)}function km(r,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Qr===null){if(r===null)throw Error(i(308));Qr=n,r.dependencies={lanes:0,firstContext:n},r.flags|=524288}else Qr=Qr.next=n;return a}var t1=typeof AbortController<"u"?AbortController:function(){var r=[],n=this.signal={aborted:!1,addEventListener:function(a,u){r.push(u)}};this.abort=function(){n.aborted=!0,r.forEach(function(a){return a()})}},e1=h.unstable_scheduleCallback,r1=h.unstable_NormalPriority,he={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ac(){return{controller:new t1,data:new Map,refCount:0}}function za(r){r.refCount--,r.refCount===0&&e1(r1,function(){r.controller.abort()})}var Ea=null,oc=0,os=0,ls=null;function i1(r,n){if(Ea===null){var a=Ea=[];oc=0,os=ud(),ls={status:"pending",value:void 0,then:function(u){a.push(u)}}}return oc++,n.then(Tm,Tm),n}function Tm(){if(--oc===0&&Ea!==null){ls!==null&&(ls.status="fulfilled");var r=Ea;Ea=null,os=0,ls=null;for(var n=0;n<r.length;n++)(0,r[n])()}}function n1(r,n){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return r.then(function(){u.status="fulfilled",u.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var Am=U.S;U.S=function(r,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&i1(r,n),Am!==null&&Am(r,n)};var yn=q(null);function lc(){var r=yn.current;return r!==null?r:Gt.pooledCache}function fl(r,n){n===null?K(yn,yn.current):K(yn,n.pool)}function Cm(){var r=lc();return r===null?null:{parent:he._currentValue,pool:r}}var Ra=Error(i(460)),zm=Error(i(474)),ml=Error(i(542)),uc={then:function(){}};function Em(r){return r=r.status,r==="fulfilled"||r==="rejected"}function yl(){}function Rm(r,n,a){switch(a=r[a],a===void 0?r.push(n):a!==n&&(n.then(yl,yl),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw r=n.reason,Nm(r),r;default:if(typeof n.status=="string")n.then(yl,yl);else{if(r=Gt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=n,r.status="pending",r.then(function(u){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=u}},function(u){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw r=n.reason,Nm(r),r}throw Ia=n,Ra}}var Ia=null;function Im(){if(Ia===null)throw Error(i(459));var r=Ia;return Ia=null,r}function Nm(r){if(r===Ra||r===ml)throw Error(i(483))}var Ti=!1;function hc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cc(r,n){r=r.updateQueue,n.updateQueue===r&&(n.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ai(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ci(r,n,a){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Ft&2)!==0){var f=u.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),u.pending=n,n=ll(r),bm(r,null,a),n}return ol(r,u,n,a),ll(r)}function Na(r,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var u=n.lanes;u&=r.pendingLanes,a|=u,n.lanes=a,Tf(r,a)}}function dc(r,n){var a=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?f=y=w:y=y.next=w,a=a.next}while(a!==null);y===null?f=y=n:y=y.next=n}else f=y=n;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=n:r.next=n,a.lastBaseUpdate=n}var pc=!1;function Pa(){if(pc){var r=ls;if(r!==null)throw r}}function Oa(r,n,a,u){pc=!1;var f=r.updateQueue;Ti=!1;var y=f.firstBaseUpdate,w=f.lastBaseUpdate,k=f.shared.pending;if(k!==null){f.shared.pending=null;var E=k,L=E.next;E.next=null,w===null?y=L:w.next=L,w=E;var H=r.alternate;H!==null&&(H=H.updateQueue,k=H.lastBaseUpdate,k!==w&&(k===null?H.firstBaseUpdate=L:k.next=L,H.lastBaseUpdate=E))}if(y!==null){var Y=f.baseState;w=0,H=L=E=null,k=y;do{var F=k.lane&-536870913,V=F!==k.lane;if(V?(Pt&F)===F:(u&F)===F){F!==0&&F===os&&(pc=!0),H!==null&&(H=H.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});t:{var yt=r,dt=k;F=n;var Wt=a;switch(dt.tag){case 1:if(yt=dt.payload,typeof yt=="function"){Y=yt.call(Wt,Y,F);break t}Y=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=dt.payload,F=typeof yt=="function"?yt.call(Wt,Y,F):yt,F==null)break t;Y=m({},Y,F);break t;case 2:Ti=!0}}F=k.callback,F!==null&&(r.flags|=64,V&&(r.flags|=8192),V=f.callbacks,V===null?f.callbacks=[F]:V.push(F))}else V={lane:F,tag:k.tag,payload:k.payload,callback:k.callback,next:null},H===null?(L=H=V,E=Y):H=H.next=V,w|=F;if(k=k.next,k===null){if(k=f.shared.pending,k===null)break;V=k,k=V.next,V.next=null,f.lastBaseUpdate=V,f.shared.pending=null}}while(!0);H===null&&(E=Y),f.baseState=E,f.firstBaseUpdate=L,f.lastBaseUpdate=H,y===null&&(f.shared.lanes=0),Li|=w,r.lanes=w,r.memoizedState=Y}}function Pm(r,n){if(typeof r!="function")throw Error(i(191,r));r.call(n)}function Om(r,n){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)Pm(a[r],n)}var us=q(null),gl=q(0);function Lm(r,n){r=oi,K(gl,r),K(us,n),oi=r|n.baseLanes}function fc(){K(gl,oi),K(us,us.current)}function mc(){oi=gl.current,Q(us),Q(gl)}var zi=0,Tt=null,Ut=null,oe=null,vl=!1,hs=!1,gn=!1,bl=0,La=0,cs=null,s1=0;function ne(){throw Error(i(321))}function yc(r,n){if(n===null)return!1;for(var a=0;a<n.length&&a<r.length;a++)if(!$e(r[a],n[a]))return!1;return!0}function gc(r,n,a,u,f,y){return zi=y,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=r===null||r.memoizedState===null?by:xy,gn=!1,y=a(u,f),gn=!1,hs&&(y=Dm(n,a,u,f)),Bm(r),y}function Bm(r){U.H=kl;var n=Ut!==null&&Ut.next!==null;if(zi=0,oe=Ut=Tt=null,vl=!1,La=0,cs=null,n)throw Error(i(300));r===null||fe||(r=r.dependencies,r!==null&&dl(r)&&(fe=!0))}function Dm(r,n,a,u){Tt=r;var f=0;do{if(hs&&(cs=null),La=0,hs=!1,25<=f)throw Error(i(301));if(f+=1,oe=Ut=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}U.H=d1,y=n(a,u)}while(hs);return y}function a1(){var r=U.H,n=r.useState()[0];return n=typeof n.then=="function"?Ba(n):n,r=r.useState()[0],(Ut!==null?Ut.memoizedState:null)!==r&&(Tt.flags|=1024),n}function vc(){var r=bl!==0;return bl=0,r}function bc(r,n,a){n.updateQueue=r.updateQueue,n.flags&=-2053,r.lanes&=~a}function xc(r){if(vl){for(r=r.memoizedState;r!==null;){var n=r.queue;n!==null&&(n.pending=null),r=r.next}vl=!1}zi=0,oe=Ut=Tt=null,hs=!1,La=bl=0,cs=null}function je(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?Tt.memoizedState=oe=r:oe=oe.next=r,oe}function le(){if(Ut===null){var r=Tt.alternate;r=r!==null?r.memoizedState:null}else r=Ut.next;var n=oe===null?Tt.memoizedState:oe.next;if(n!==null)oe=n,Ut=r;else{if(r===null)throw Tt.alternate===null?Error(i(467)):Error(i(310));Ut=r,r={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},oe===null?Tt.memoizedState=oe=r:oe=oe.next=r}return oe}function wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ba(r){var n=La;return La+=1,cs===null&&(cs=[]),r=Rm(cs,r,n),n=Tt,(oe===null?n.memoizedState:oe.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?by:xy),r}function xl(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ba(r);if(r.$$typeof===A)return ke(r)}throw Error(i(438,String(r)))}function Sc(r){var n=null,a=Tt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var u=Tt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=wc(),Tt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(r),u=0;u<r;u++)a[u]=Z;return n.index++,a}function ti(r,n){return typeof n=="function"?n(r):n}function wl(r){var n=le();return Mc(n,Ut,r)}function Mc(r,n,a){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=a;var f=r.baseQueue,y=u.pending;if(y!==null){if(f!==null){var w=f.next;f.next=y.next,y.next=w}n.baseQueue=f=y,u.pending=null}if(y=r.baseState,f===null)r.memoizedState=y;else{n=f.next;var k=w=null,E=null,L=n,H=!1;do{var Y=L.lane&-536870913;if(Y!==L.lane?(Pt&Y)===Y:(zi&Y)===Y){var F=L.revertLane;if(F===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Y===os&&(H=!0);else if((zi&F)===F){L=L.next,F===os&&(H=!0);continue}else Y={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},E===null?(k=E=Y,w=y):E=E.next=Y,Tt.lanes|=F,Li|=F;Y=L.action,gn&&a(y,Y),y=L.hasEagerState?L.eagerState:a(y,Y)}else F={lane:Y,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},E===null?(k=E=F,w=y):E=E.next=F,Tt.lanes|=Y,Li|=Y;L=L.next}while(L!==null&&L!==n);if(E===null?w=y:E.next=k,!$e(y,r.memoizedState)&&(fe=!0,H&&(a=ls,a!==null)))throw a;r.memoizedState=y,r.baseState=w,r.baseQueue=E,u.lastRenderedState=y}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function _c(r){var n=le(),a=n.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=r;var u=a.dispatch,f=a.pending,y=n.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do y=r(y,w.action),w=w.next;while(w!==f);$e(y,n.memoizedState)||(fe=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),a.lastRenderedState=y}return[y,u]}function Fm(r,n,a){var u=Tt,f=le(),y=Dt;if(y){if(a===void 0)throw Error(i(407));a=a()}else a=n();var w=!$e((Ut||f).memoizedState,a);w&&(f.memoizedState=a,fe=!0),f=f.queue;var k=jm.bind(null,u,f,r);if(Da(2048,8,k,[r]),f.getSnapshot!==n||w||oe!==null&&oe.memoizedState.tag&1){if(u.flags|=2048,ds(9,Sl(),Um.bind(null,u,f,a,n),null),Gt===null)throw Error(i(349));y||(zi&124)!==0||Vm(u,n,a)}return a}function Vm(r,n,a){r.flags|=16384,r={getSnapshot:n,value:a},n=Tt.updateQueue,n===null?(n=wc(),Tt.updateQueue=n,n.stores=[r]):(a=n.stores,a===null?n.stores=[r]:a.push(r))}function Um(r,n,a,u){n.value=a,n.getSnapshot=u,Wm(n)&&Hm(r)}function jm(r,n,a){return a(function(){Wm(n)&&Hm(r)})}function Wm(r){var n=r.getSnapshot;r=r.value;try{var a=n();return!$e(r,a)}catch{return!0}}function Hm(r){var n=is(r,2);n!==null&&rr(n,r,2)}function kc(r){var n=je();if(typeof r=="function"){var a=r;if(r=a(),gn){Sr(!0);try{a()}finally{Sr(!1)}}}return n.memoizedState=n.baseState=r,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:r},n}function qm(r,n,a,u){return r.baseState=a,Mc(r,Ut,typeof u=="function"?u:ti)}function o1(r,n,a,u,f){if(_l(r))throw Error(i(485));if(r=n.action,r!==null){var y={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};U.T!==null?a(!0):y.isTransition=!1,u(y),a=n.pending,a===null?(y.next=n.pending=y,Jm(n,y)):(y.next=a.next,n.pending=a.next=y)}}function Jm(r,n){var a=n.action,u=n.payload,f=r.state;if(n.isTransition){var y=U.T,w={};U.T=w;try{var k=a(f,u),E=U.S;E!==null&&E(w,k),Gm(r,n,k)}catch(L){Tc(r,n,L)}finally{U.T=y}}else try{y=a(f,u),Gm(r,n,y)}catch(L){Tc(r,n,L)}}function Gm(r,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Ym(r,n,u)},function(u){return Tc(r,n,u)}):Ym(r,n,a)}function Ym(r,n,a){n.status="fulfilled",n.value=a,Zm(n),r.state=a,n=r.pending,n!==null&&(a=n.next,a===n?r.pending=null:(a=a.next,n.next=a,Jm(r,a)))}function Tc(r,n,a){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=a,Zm(n),n=n.next;while(n!==u)}r.action=null}function Zm(r){r=r.listeners;for(var n=0;n<r.length;n++)(0,r[n])()}function $m(r,n){return n}function Xm(r,n){if(Dt){var a=Gt.formState;if(a!==null){t:{var u=Tt;if(Dt){if(ee){e:{for(var f=ee,y=Nr;f.nodeType!==8;){if(!y){f=null;break e}if(f=Tr(f.nextSibling),f===null){f=null;break e}}y=f.data,f=y==="F!"||y==="F"?f:null}if(f){ee=Tr(f.nextSibling),u=f.data==="F!";break t}}pn(u)}u=!1}u&&(n=a[0])}}return a=je(),a.memoizedState=a.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$m,lastRenderedState:n},a.queue=u,a=yy.bind(null,Tt,u),u.dispatch=a,u=kc(!1),y=Rc.bind(null,Tt,!1,u.queue),u=je(),f={state:n,dispatch:null,action:r,pending:null},u.queue=f,a=o1.bind(null,Tt,f,y,a),f.dispatch=a,u.memoizedState=r,[n,a,!1]}function Qm(r){var n=le();return Km(n,Ut,r)}function Km(r,n,a){if(n=Mc(r,n,$m)[0],r=wl(ti)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=Ba(n)}catch(w){throw w===Ra?ml:w}else u=n;n=le();var f=n.queue,y=f.dispatch;return a!==n.memoizedState&&(Tt.flags|=2048,ds(9,Sl(),l1.bind(null,f,a),null)),[u,y,r]}function l1(r,n){r.action=n}function ty(r){var n=le(),a=Ut;if(a!==null)return Km(n,a,r);le(),n=n.memoizedState,a=le();var u=a.queue.dispatch;return a.memoizedState=r,[n,u,!1]}function ds(r,n,a,u){return r={tag:r,create:a,deps:u,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=wc(),Tt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=r.next=r:(u=a.next,a.next=r,r.next=u,n.lastEffect=r),r}function Sl(){return{destroy:void 0,resource:void 0}}function ey(){return le().memoizedState}function Ml(r,n,a,u){var f=je();u=u===void 0?null:u,Tt.flags|=r,f.memoizedState=ds(1|n,Sl(),a,u)}function Da(r,n,a,u){var f=le();u=u===void 0?null:u;var y=f.memoizedState.inst;Ut!==null&&u!==null&&yc(u,Ut.memoizedState.deps)?f.memoizedState=ds(n,y,a,u):(Tt.flags|=r,f.memoizedState=ds(1|n,y,a,u))}function ry(r,n){Ml(8390656,8,r,n)}function iy(r,n){Da(2048,8,r,n)}function ny(r,n){return Da(4,2,r,n)}function sy(r,n){return Da(4,4,r,n)}function ay(r,n){if(typeof n=="function"){r=r();var a=n(r);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return r=r(),n.current=r,function(){n.current=null}}function oy(r,n,a){a=a!=null?a.concat([r]):null,Da(4,4,ay.bind(null,n,r),a)}function Ac(){}function ly(r,n){var a=le();n=n===void 0?null:n;var u=a.memoizedState;return n!==null&&yc(n,u[1])?u[0]:(a.memoizedState=[r,n],r)}function uy(r,n){var a=le();n=n===void 0?null:n;var u=a.memoizedState;if(n!==null&&yc(n,u[1]))return u[0];if(u=r(),gn){Sr(!0);try{r()}finally{Sr(!1)}}return a.memoizedState=[u,n],u}function Cc(r,n,a){return a===void 0||(zi&1073741824)!==0?r.memoizedState=n:(r.memoizedState=a,r=dg(),Tt.lanes|=r,Li|=r,a)}function hy(r,n,a,u){return $e(a,n)?a:us.current!==null?(r=Cc(r,a,u),$e(r,n)||(fe=!0),r):(zi&42)===0?(fe=!0,r.memoizedState=a):(r=dg(),Tt.lanes|=r,Li|=r,n)}function cy(r,n,a,u,f){var y=X.p;X.p=y!==0&&8>y?y:8;var w=U.T,k={};U.T=k,Rc(r,!1,n,a);try{var E=f(),L=U.S;if(L!==null&&L(k,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var H=n1(E,u);Fa(r,n,H,er(r))}else Fa(r,n,u,er(r))}catch(Y){Fa(r,n,{then:function(){},status:"rejected",reason:Y},er())}finally{X.p=y,U.T=w}}function u1(){}function zc(r,n,a,u){if(r.tag!==5)throw Error(i(476));var f=dy(r).queue;cy(r,f,n,at,a===null?u1:function(){return py(r),a(u)})}function dy(r){var n=r.memoizedState;if(n!==null)return n;n={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:at},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:a},next:null},r.memoizedState=n,r=r.alternate,r!==null&&(r.memoizedState=n),n}function py(r){var n=dy(r).next.queue;Fa(r,n,{},er())}function Ec(){return ke(io)}function fy(){return le().memoizedState}function my(){return le().memoizedState}function h1(r){for(var n=r.return;n!==null;){switch(n.tag){case 24:case 3:var a=er();r=Ai(a);var u=Ci(n,r,a);u!==null&&(rr(u,n,a),Na(u,n,a)),n={cache:ac()},r.payload=n;return}n=n.return}}function c1(r,n,a){var u=er();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},_l(r)?gy(n,a):(a=$h(r,n,a,u),a!==null&&(rr(a,r,u),vy(a,n,u)))}function yy(r,n,a){var u=er();Fa(r,n,a,u)}function Fa(r,n,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(_l(r))gy(n,f);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var w=n.lastRenderedState,k=y(w,a);if(f.hasEagerState=!0,f.eagerState=k,$e(k,w))return ol(r,n,f,0),Gt===null&&al(),!1}catch{}finally{}if(a=$h(r,n,f,u),a!==null)return rr(a,r,u),vy(a,n,u),!0}return!1}function Rc(r,n,a,u){if(u={lane:2,revertLane:ud(),action:u,hasEagerState:!1,eagerState:null,next:null},_l(r)){if(n)throw Error(i(479))}else n=$h(r,a,u,2),n!==null&&rr(n,r,2)}function _l(r){var n=r.alternate;return r===Tt||n!==null&&n===Tt}function gy(r,n){hs=vl=!0;var a=r.pending;a===null?n.next=n:(n.next=a.next,a.next=n),r.pending=n}function vy(r,n,a){if((a&4194048)!==0){var u=n.lanes;u&=r.pendingLanes,a|=u,n.lanes=a,Tf(r,a)}}var kl={readContext:ke,use:xl,useCallback:ne,useContext:ne,useEffect:ne,useImperativeHandle:ne,useLayoutEffect:ne,useInsertionEffect:ne,useMemo:ne,useReducer:ne,useRef:ne,useState:ne,useDebugValue:ne,useDeferredValue:ne,useTransition:ne,useSyncExternalStore:ne,useId:ne,useHostTransitionStatus:ne,useFormState:ne,useActionState:ne,useOptimistic:ne,useMemoCache:ne,useCacheRefresh:ne},by={readContext:ke,use:xl,useCallback:function(r,n){return je().memoizedState=[r,n===void 0?null:n],r},useContext:ke,useEffect:ry,useImperativeHandle:function(r,n,a){a=a!=null?a.concat([r]):null,Ml(4194308,4,ay.bind(null,n,r),a)},useLayoutEffect:function(r,n){return Ml(4194308,4,r,n)},useInsertionEffect:function(r,n){Ml(4,2,r,n)},useMemo:function(r,n){var a=je();n=n===void 0?null:n;var u=r();if(gn){Sr(!0);try{r()}finally{Sr(!1)}}return a.memoizedState=[u,n],u},useReducer:function(r,n,a){var u=je();if(a!==void 0){var f=a(n);if(gn){Sr(!0);try{a(n)}finally{Sr(!1)}}}else f=n;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=c1.bind(null,Tt,r),[u.memoizedState,r]},useRef:function(r){var n=je();return r={current:r},n.memoizedState=r},useState:function(r){r=kc(r);var n=r.queue,a=yy.bind(null,Tt,n);return n.dispatch=a,[r.memoizedState,a]},useDebugValue:Ac,useDeferredValue:function(r,n){var a=je();return Cc(a,r,n)},useTransition:function(){var r=kc(!1);return r=cy.bind(null,Tt,r.queue,!0,!1),je().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,n,a){var u=Tt,f=je();if(Dt){if(a===void 0)throw Error(i(407));a=a()}else{if(a=n(),Gt===null)throw Error(i(349));(Pt&124)!==0||Vm(u,n,a)}f.memoizedState=a;var y={value:a,getSnapshot:n};return f.queue=y,ry(jm.bind(null,u,y,r),[r]),u.flags|=2048,ds(9,Sl(),Um.bind(null,u,y,a,n),null),a},useId:function(){var r=je(),n=Gt.identifierPrefix;if(Dt){var a=Xr,u=$r;a=(u&~(1<<32-Ne(u)-1)).toString(32)+a,n="«"+n+"R"+a,a=bl++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=s1++,n="«"+n+"r"+a.toString(32)+"»";return r.memoizedState=n},useHostTransitionStatus:Ec,useFormState:Xm,useActionState:Xm,useOptimistic:function(r){var n=je();n.memoizedState=n.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Rc.bind(null,Tt,!0,a),a.dispatch=n,[r,n]},useMemoCache:Sc,useCacheRefresh:function(){return je().memoizedState=h1.bind(null,Tt)}},xy={readContext:ke,use:xl,useCallback:ly,useContext:ke,useEffect:iy,useImperativeHandle:oy,useInsertionEffect:ny,useLayoutEffect:sy,useMemo:uy,useReducer:wl,useRef:ey,useState:function(){return wl(ti)},useDebugValue:Ac,useDeferredValue:function(r,n){var a=le();return hy(a,Ut.memoizedState,r,n)},useTransition:function(){var r=wl(ti)[0],n=le().memoizedState;return[typeof r=="boolean"?r:Ba(r),n]},useSyncExternalStore:Fm,useId:fy,useHostTransitionStatus:Ec,useFormState:Qm,useActionState:Qm,useOptimistic:function(r,n){var a=le();return qm(a,Ut,r,n)},useMemoCache:Sc,useCacheRefresh:my},d1={readContext:ke,use:xl,useCallback:ly,useContext:ke,useEffect:iy,useImperativeHandle:oy,useInsertionEffect:ny,useLayoutEffect:sy,useMemo:uy,useReducer:_c,useRef:ey,useState:function(){return _c(ti)},useDebugValue:Ac,useDeferredValue:function(r,n){var a=le();return Ut===null?Cc(a,r,n):hy(a,Ut.memoizedState,r,n)},useTransition:function(){var r=_c(ti)[0],n=le().memoizedState;return[typeof r=="boolean"?r:Ba(r),n]},useSyncExternalStore:Fm,useId:fy,useHostTransitionStatus:Ec,useFormState:ty,useActionState:ty,useOptimistic:function(r,n){var a=le();return Ut!==null?qm(a,Ut,r,n):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:Sc,useCacheRefresh:my},ps=null,Va=0;function Tl(r){var n=Va;return Va+=1,ps===null&&(ps=[]),Rm(ps,r,n)}function Ua(r,n){n=n.props.ref,r.ref=n!==void 0?n:null}function Al(r,n){throw n.$$typeof===g?Error(i(525)):(r=Object.prototype.toString.call(n),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":r)))}function wy(r){var n=r._init;return n(r._payload)}function Sy(r){function n(P,I){if(r){var O=P.deletions;O===null?(P.deletions=[I],P.flags|=16):O.push(I)}}function a(P,I){if(!r)return null;for(;I!==null;)n(P,I),I=I.sibling;return null}function u(P){for(var I=new Map;P!==null;)P.key!==null?I.set(P.key,P):I.set(P.index,P),P=P.sibling;return I}function f(P,I){return P=Zr(P,I),P.index=0,P.sibling=null,P}function y(P,I,O){return P.index=O,r?(O=P.alternate,O!==null?(O=O.index,O<I?(P.flags|=67108866,I):O):(P.flags|=67108866,I)):(P.flags|=1048576,I)}function w(P){return r&&P.alternate===null&&(P.flags|=67108866),P}function k(P,I,O,J){return I===null||I.tag!==6?(I=Qh(O,P.mode,J),I.return=P,I):(I=f(I,O),I.return=P,I)}function E(P,I,O,J){var st=O.type;return st===x?H(P,I,O.props.children,J,O.key):I!==null&&(I.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===D&&wy(st)===I.type)?(I=f(I,O.props),Ua(I,O),I.return=P,I):(I=ul(O.type,O.key,O.props,null,P.mode,J),Ua(I,O),I.return=P,I)}function L(P,I,O,J){return I===null||I.tag!==4||I.stateNode.containerInfo!==O.containerInfo||I.stateNode.implementation!==O.implementation?(I=Kh(O,P.mode,J),I.return=P,I):(I=f(I,O.children||[]),I.return=P,I)}function H(P,I,O,J,st){return I===null||I.tag!==7?(I=un(O,P.mode,J,st),I.return=P,I):(I=f(I,O),I.return=P,I)}function Y(P,I,O){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Qh(""+I,P.mode,O),I.return=P,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case v:return O=ul(I.type,I.key,I.props,null,P.mode,O),Ua(O,I),O.return=P,O;case b:return I=Kh(I,P.mode,O),I.return=P,I;case D:var J=I._init;return I=J(I._payload),Y(P,I,O)}if(_t(I)||lt(I))return I=un(I,P.mode,O,null),I.return=P,I;if(typeof I.then=="function")return Y(P,Tl(I),O);if(I.$$typeof===A)return Y(P,pl(P,I),O);Al(P,I)}return null}function F(P,I,O,J){var st=I!==null?I.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return st!==null?null:k(P,I,""+O,J);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case v:return O.key===st?E(P,I,O,J):null;case b:return O.key===st?L(P,I,O,J):null;case D:return st=O._init,O=st(O._payload),F(P,I,O,J)}if(_t(O)||lt(O))return st!==null?null:H(P,I,O,J,null);if(typeof O.then=="function")return F(P,I,Tl(O),J);if(O.$$typeof===A)return F(P,I,pl(P,O),J);Al(P,O)}return null}function V(P,I,O,J,st){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return P=P.get(O)||null,k(I,P,""+J,st);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case v:return P=P.get(J.key===null?O:J.key)||null,E(I,P,J,st);case b:return P=P.get(J.key===null?O:J.key)||null,L(I,P,J,st);case D:var Ct=J._init;return J=Ct(J._payload),V(P,I,O,J,st)}if(_t(J)||lt(J))return P=P.get(O)||null,H(I,P,J,st,null);if(typeof J.then=="function")return V(P,I,O,Tl(J),st);if(J.$$typeof===A)return V(P,I,O,pl(I,J),st);Al(I,J)}return null}function yt(P,I,O,J){for(var st=null,Ct=null,ut=I,pt=I=0,ye=null;ut!==null&&pt<O.length;pt++){ut.index>pt?(ye=ut,ut=null):ye=ut.sibling;var Ot=F(P,ut,O[pt],J);if(Ot===null){ut===null&&(ut=ye);break}r&&ut&&Ot.alternate===null&&n(P,ut),I=y(Ot,I,pt),Ct===null?st=Ot:Ct.sibling=Ot,Ct=Ot,ut=ye}if(pt===O.length)return a(P,ut),Dt&&cn(P,pt),st;if(ut===null){for(;pt<O.length;pt++)ut=Y(P,O[pt],J),ut!==null&&(I=y(ut,I,pt),Ct===null?st=ut:Ct.sibling=ut,Ct=ut);return Dt&&cn(P,pt),st}for(ut=u(ut);pt<O.length;pt++)ye=V(ut,P,pt,O[pt],J),ye!==null&&(r&&ye.alternate!==null&&ut.delete(ye.key===null?pt:ye.key),I=y(ye,I,pt),Ct===null?st=ye:Ct.sibling=ye,Ct=ye);return r&&ut.forEach(function(qi){return n(P,qi)}),Dt&&cn(P,pt),st}function dt(P,I,O,J){if(O==null)throw Error(i(151));for(var st=null,Ct=null,ut=I,pt=I=0,ye=null,Ot=O.next();ut!==null&&!Ot.done;pt++,Ot=O.next()){ut.index>pt?(ye=ut,ut=null):ye=ut.sibling;var qi=F(P,ut,Ot.value,J);if(qi===null){ut===null&&(ut=ye);break}r&&ut&&qi.alternate===null&&n(P,ut),I=y(qi,I,pt),Ct===null?st=qi:Ct.sibling=qi,Ct=qi,ut=ye}if(Ot.done)return a(P,ut),Dt&&cn(P,pt),st;if(ut===null){for(;!Ot.done;pt++,Ot=O.next())Ot=Y(P,Ot.value,J),Ot!==null&&(I=y(Ot,I,pt),Ct===null?st=Ot:Ct.sibling=Ot,Ct=Ot);return Dt&&cn(P,pt),st}for(ut=u(ut);!Ot.done;pt++,Ot=O.next())Ot=V(ut,P,pt,Ot.value,J),Ot!==null&&(r&&Ot.alternate!==null&&ut.delete(Ot.key===null?pt:Ot.key),I=y(Ot,I,pt),Ct===null?st=Ot:Ct.sibling=Ot,Ct=Ot);return r&&ut.forEach(function(pw){return n(P,pw)}),Dt&&cn(P,pt),st}function Wt(P,I,O,J){if(typeof O=="object"&&O!==null&&O.type===x&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case v:t:{for(var st=O.key;I!==null;){if(I.key===st){if(st=O.type,st===x){if(I.tag===7){a(P,I.sibling),J=f(I,O.props.children),J.return=P,P=J;break t}}else if(I.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===D&&wy(st)===I.type){a(P,I.sibling),J=f(I,O.props),Ua(J,O),J.return=P,P=J;break t}a(P,I);break}else n(P,I);I=I.sibling}O.type===x?(J=un(O.props.children,P.mode,J,O.key),J.return=P,P=J):(J=ul(O.type,O.key,O.props,null,P.mode,J),Ua(J,O),J.return=P,P=J)}return w(P);case b:t:{for(st=O.key;I!==null;){if(I.key===st)if(I.tag===4&&I.stateNode.containerInfo===O.containerInfo&&I.stateNode.implementation===O.implementation){a(P,I.sibling),J=f(I,O.children||[]),J.return=P,P=J;break t}else{a(P,I);break}else n(P,I);I=I.sibling}J=Kh(O,P.mode,J),J.return=P,P=J}return w(P);case D:return st=O._init,O=st(O._payload),Wt(P,I,O,J)}if(_t(O))return yt(P,I,O,J);if(lt(O)){if(st=lt(O),typeof st!="function")throw Error(i(150));return O=st.call(O),dt(P,I,O,J)}if(typeof O.then=="function")return Wt(P,I,Tl(O),J);if(O.$$typeof===A)return Wt(P,I,pl(P,O),J);Al(P,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,I!==null&&I.tag===6?(a(P,I.sibling),J=f(I,O),J.return=P,P=J):(a(P,I),J=Qh(O,P.mode,J),J.return=P,P=J),w(P)):a(P,I)}return function(P,I,O,J){try{Va=0;var st=Wt(P,I,O,J);return ps=null,st}catch(ut){if(ut===Ra||ut===ml)throw ut;var Ct=Xe(29,ut,null,P.mode);return Ct.lanes=J,Ct.return=P,Ct}finally{}}}var fs=Sy(!0),My=Sy(!1),mr=q(null),ei=null;function Ei(r){var n=r.alternate;K(ce,ce.current&1),K(mr,r),ei===null&&(n===null||us.current!==null||n.memoizedState!==null)&&(ei=r)}function _y(r){if(r.tag===22){if(K(ce,ce.current),K(mr,r),ei===null){var n=r.alternate;n!==null&&n.memoizedState!==null&&(ei=r)}}else Ri()}function Ri(){K(ce,ce.current),K(mr,mr.current)}function ri(r){Q(mr),ei===r&&(ei=null),Q(ce)}var ce=q(0);function Cl(r){for(var n=r;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||wd(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Ic(r,n,a,u){n=r.memoizedState,a=a(u,n),a=a==null?n:m({},n,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Nc={enqueueSetState:function(r,n,a){r=r._reactInternals;var u=er(),f=Ai(u);f.payload=n,a!=null&&(f.callback=a),n=Ci(r,f,u),n!==null&&(rr(n,r,u),Na(n,r,u))},enqueueReplaceState:function(r,n,a){r=r._reactInternals;var u=er(),f=Ai(u);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=Ci(r,f,u),n!==null&&(rr(n,r,u),Na(n,r,u))},enqueueForceUpdate:function(r,n){r=r._reactInternals;var a=er(),u=Ai(a);u.tag=2,n!=null&&(u.callback=n),n=Ci(r,u,a),n!==null&&(rr(n,r,a),Na(n,r,a))}};function ky(r,n,a,u,f,y,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,y,w):n.prototype&&n.prototype.isPureReactComponent?!Ma(a,u)||!Ma(f,y):!0}function Ty(r,n,a,u){r=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,u),n.state!==r&&Nc.enqueueReplaceState(n,n.state,null)}function vn(r,n){var a=n;if("ref"in n){a={};for(var u in n)u!=="ref"&&(a[u]=n[u])}if(r=r.defaultProps){a===n&&(a=m({},a));for(var f in r)a[f]===void 0&&(a[f]=r[f])}return a}var zl=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Ay(r){zl(r)}function Cy(r){console.error(r)}function zy(r){zl(r)}function El(r,n){try{var a=r.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function Ey(r,n,a){try{var u=r.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Pc(r,n,a){return a=Ai(a),a.tag=3,a.payload={element:null},a.callback=function(){El(r,n)},a}function Ry(r){return r=Ai(r),r.tag=3,r}function Iy(r,n,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var y=u.value;r.payload=function(){return f(y)},r.callback=function(){Ey(n,a,u)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){Ey(n,a,u),typeof f!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var k=u.stack;this.componentDidCatch(u.value,{componentStack:k!==null?k:""})})}function p1(r,n,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=a.alternate,n!==null&&Ca(n,a,f,!0),a=mr.current,a!==null){switch(a.tag){case 13:return ei===null?nd():a.alternate===null&&re===0&&(re=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===uc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([u]):n.add(u),ad(r,u,f)),!1;case 22:return a.flags|=65536,u===uc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([u]):a.add(u)),ad(r,u,f)),!1}throw Error(i(435,a.tag))}return ad(r,u,f),nd(),!1}if(Dt)return n=mr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,u!==rc&&(r=Error(i(422),{cause:u}),Aa(cr(r,a)))):(u!==rc&&(n=Error(i(423),{cause:u}),Aa(cr(n,a))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=cr(u,a),f=Pc(r.stateNode,u,f),dc(r,f),re!==4&&(re=2)),!1;var y=Error(i(520),{cause:u});if(y=cr(y,a),Ya===null?Ya=[y]:Ya.push(y),re!==4&&(re=2),n===null)return!0;u=cr(u,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,r=f&-f,a.lanes|=r,r=Pc(a.stateNode,u,r),dc(a,r),!1;case 1:if(n=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Bi===null||!Bi.has(y))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Ry(f),Iy(f,r,a,u),dc(a,f),!1}a=a.return}while(a!==null);return!1}var Ny=Error(i(461)),fe=!1;function be(r,n,a,u){n.child=r===null?My(n,null,a,u):fs(n,r.child,a,u)}function Py(r,n,a,u,f){a=a.render;var y=n.ref;if("ref"in u){var w={};for(var k in u)k!=="ref"&&(w[k]=u[k])}else w=u;return mn(n),u=gc(r,n,a,w,y,f),k=vc(),r!==null&&!fe?(bc(r,n,f),ii(r,n,f)):(Dt&&k&&tc(n),n.flags|=1,be(r,n,u,f),n.child)}function Oy(r,n,a,u,f){if(r===null){var y=a.type;return typeof y=="function"&&!Xh(y)&&y.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=y,Ly(r,n,y,u,f)):(r=ul(a.type,null,u,n,n.mode,f),r.ref=n.ref,r.return=n,n.child=r)}if(y=r.child,!jc(r,f)){var w=y.memoizedProps;if(a=a.compare,a=a!==null?a:Ma,a(w,u)&&r.ref===n.ref)return ii(r,n,f)}return n.flags|=1,r=Zr(y,u),r.ref=n.ref,r.return=n,n.child=r}function Ly(r,n,a,u,f){if(r!==null){var y=r.memoizedProps;if(Ma(y,u)&&r.ref===n.ref)if(fe=!1,n.pendingProps=u=y,jc(r,f))(r.flags&131072)!==0&&(fe=!0);else return n.lanes=r.lanes,ii(r,n,f)}return Oc(r,n,a,u,f)}function By(r,n,a){var u=n.pendingProps,f=u.children,y=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((n.flags&128)!==0){if(u=y!==null?y.baseLanes|a:a,r!==null){for(f=n.child=r.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;n.childLanes=y&~u}else n.childLanes=0,n.child=null;return Dy(r,n,u,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},r!==null&&fl(n,y!==null?y.cachePool:null),y!==null?Lm(n,y):fc(),_y(n);else return n.lanes=n.childLanes=536870912,Dy(r,n,y!==null?y.baseLanes|a:a,a)}else y!==null?(fl(n,y.cachePool),Lm(n,y),Ri(),n.memoizedState=null):(r!==null&&fl(n,null),fc(),Ri());return be(r,n,f,a),n.child}function Dy(r,n,a,u){var f=lc();return f=f===null?null:{parent:he._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},r!==null&&fl(n,null),fc(),_y(n),r!==null&&Ca(r,n,u,!0),null}function Rl(r,n){var a=n.ref;if(a===null)r!==null&&r.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(r===null||r.ref!==a)&&(n.flags|=4194816)}}function Oc(r,n,a,u,f){return mn(n),a=gc(r,n,a,u,void 0,f),u=vc(),r!==null&&!fe?(bc(r,n,f),ii(r,n,f)):(Dt&&u&&tc(n),n.flags|=1,be(r,n,a,f),n.child)}function Fy(r,n,a,u,f,y){return mn(n),n.updateQueue=null,a=Dm(n,u,a,f),Bm(r),u=vc(),r!==null&&!fe?(bc(r,n,y),ii(r,n,y)):(Dt&&u&&tc(n),n.flags|=1,be(r,n,a,y),n.child)}function Vy(r,n,a,u,f){if(mn(n),n.stateNode===null){var y=ns,w=a.contextType;typeof w=="object"&&w!==null&&(y=ke(w)),y=new a(u,y),n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Nc,n.stateNode=y,y._reactInternals=n,y=n.stateNode,y.props=u,y.state=n.memoizedState,y.refs={},hc(n),w=a.contextType,y.context=typeof w=="object"&&w!==null?ke(w):ns,y.state=n.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(Ic(n,a,w,u),y.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&Nc.enqueueReplaceState(y,y.state,null),Oa(n,u,y,f),Pa(),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(r===null){y=n.stateNode;var k=n.memoizedProps,E=vn(a,k);y.props=E;var L=y.context,H=a.contextType;w=ns,typeof H=="object"&&H!==null&&(w=ke(H));var Y=a.getDerivedStateFromProps;H=typeof Y=="function"||typeof y.getSnapshotBeforeUpdate=="function",k=n.pendingProps!==k,H||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k||L!==w)&&Ty(n,y,u,w),Ti=!1;var F=n.memoizedState;y.state=F,Oa(n,u,y,f),Pa(),L=n.memoizedState,k||F!==L||Ti?(typeof Y=="function"&&(Ic(n,a,Y,u),L=n.memoizedState),(E=Ti||ky(n,a,E,u,F,L,w))?(H||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=L),y.props=u,y.state=L,y.context=w,u=E):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{y=n.stateNode,cc(r,n),w=n.memoizedProps,H=vn(a,w),y.props=H,Y=n.pendingProps,F=y.context,L=a.contextType,E=ns,typeof L=="object"&&L!==null&&(E=ke(L)),k=a.getDerivedStateFromProps,(L=typeof k=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==Y||F!==E)&&Ty(n,y,u,E),Ti=!1,F=n.memoizedState,y.state=F,Oa(n,u,y,f),Pa();var V=n.memoizedState;w!==Y||F!==V||Ti||r!==null&&r.dependencies!==null&&dl(r.dependencies)?(typeof k=="function"&&(Ic(n,a,k,u),V=n.memoizedState),(H=Ti||ky(n,a,H,u,F,V,E)||r!==null&&r.dependencies!==null&&dl(r.dependencies))?(L||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,V,E),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,V,E)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===r.memoizedProps&&F===r.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&F===r.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=V),y.props=u,y.state=V,y.context=E,u=H):(typeof y.componentDidUpdate!="function"||w===r.memoizedProps&&F===r.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&F===r.memoizedState||(n.flags|=1024),u=!1)}return y=u,Rl(r,n),u=(n.flags&128)!==0,y||u?(y=n.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:y.render(),n.flags|=1,r!==null&&u?(n.child=fs(n,r.child,null,f),n.child=fs(n,null,a,f)):be(r,n,a,f),n.memoizedState=y.state,r=n.child):r=ii(r,n,f),r}function Uy(r,n,a,u){return Ta(),n.flags|=256,be(r,n,a,u),n.child}var Lc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bc(r){return{baseLanes:r,cachePool:Cm()}}function Dc(r,n,a){return r=r!==null?r.childLanes&~a:0,n&&(r|=yr),r}function jy(r,n,a){var u=n.pendingProps,f=!1,y=(n.flags&128)!==0,w;if((w=y)||(w=r!==null&&r.memoizedState===null?!1:(ce.current&2)!==0),w&&(f=!0,n.flags&=-129),w=(n.flags&32)!==0,n.flags&=-33,r===null){if(Dt){if(f?Ei(n):Ri(),Dt){var k=ee,E;if(E=k){t:{for(E=k,k=Nr;E.nodeType!==8;){if(!k){k=null;break t}if(E=Tr(E.nextSibling),E===null){k=null;break t}}k=E}k!==null?(n.memoizedState={dehydrated:k,treeContext:hn!==null?{id:$r,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},E=Xe(18,null,null,0),E.stateNode=k,E.return=n,n.child=E,Pe=n,ee=null,E=!0):E=!1}E||pn(n)}if(k=n.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return wd(k)?n.lanes=32:n.lanes=536870912,null;ri(n)}return k=u.children,u=u.fallback,f?(Ri(),f=n.mode,k=Il({mode:"hidden",children:k},f),u=un(u,f,a,null),k.return=n,u.return=n,k.sibling=u,n.child=k,f=n.child,f.memoizedState=Bc(a),f.childLanes=Dc(r,w,a),n.memoizedState=Lc,u):(Ei(n),Fc(n,k))}if(E=r.memoizedState,E!==null&&(k=E.dehydrated,k!==null)){if(y)n.flags&256?(Ei(n),n.flags&=-257,n=Vc(r,n,a)):n.memoizedState!==null?(Ri(),n.child=r.child,n.flags|=128,n=null):(Ri(),f=u.fallback,k=n.mode,u=Il({mode:"visible",children:u.children},k),f=un(f,k,a,null),f.flags|=2,u.return=n,f.return=n,u.sibling=f,n.child=u,fs(n,r.child,null,a),u=n.child,u.memoizedState=Bc(a),u.childLanes=Dc(r,w,a),n.memoizedState=Lc,n=f);else if(Ei(n),wd(k)){if(w=k.nextSibling&&k.nextSibling.dataset,w)var L=w.dgst;w=L,u=Error(i(419)),u.stack="",u.digest=w,Aa({value:u,source:null,stack:null}),n=Vc(r,n,a)}else if(fe||Ca(r,n,a,!1),w=(a&r.childLanes)!==0,fe||w){if(w=Gt,w!==null&&(u=a&-a,u=(u&42)!==0?1:Sh(u),u=(u&(w.suspendedLanes|a))!==0?0:u,u!==0&&u!==E.retryLane))throw E.retryLane=u,is(r,u),rr(w,r,u),Ny;k.data==="$?"||nd(),n=Vc(r,n,a)}else k.data==="$?"?(n.flags|=192,n.child=r.child,n=null):(r=E.treeContext,ee=Tr(k.nextSibling),Pe=n,Dt=!0,dn=null,Nr=!1,r!==null&&(pr[fr++]=$r,pr[fr++]=Xr,pr[fr++]=hn,$r=r.id,Xr=r.overflow,hn=n),n=Fc(n,u.children),n.flags|=4096);return n}return f?(Ri(),f=u.fallback,k=n.mode,E=r.child,L=E.sibling,u=Zr(E,{mode:"hidden",children:u.children}),u.subtreeFlags=E.subtreeFlags&65011712,L!==null?f=Zr(L,f):(f=un(f,k,a,null),f.flags|=2),f.return=n,u.return=n,u.sibling=f,n.child=u,u=f,f=n.child,k=r.child.memoizedState,k===null?k=Bc(a):(E=k.cachePool,E!==null?(L=he._currentValue,E=E.parent!==L?{parent:L,pool:L}:E):E=Cm(),k={baseLanes:k.baseLanes|a,cachePool:E}),f.memoizedState=k,f.childLanes=Dc(r,w,a),n.memoizedState=Lc,u):(Ei(n),a=r.child,r=a.sibling,a=Zr(a,{mode:"visible",children:u.children}),a.return=n,a.sibling=null,r!==null&&(w=n.deletions,w===null?(n.deletions=[r],n.flags|=16):w.push(r)),n.child=a,n.memoizedState=null,a)}function Fc(r,n){return n=Il({mode:"visible",children:n},r.mode),n.return=r,r.child=n}function Il(r,n){return r=Xe(22,r,null,n),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Vc(r,n,a){return fs(n,r.child,null,a),r=Fc(n,n.pendingProps.children),r.flags|=2,n.memoizedState=null,r}function Wy(r,n,a){r.lanes|=n;var u=r.alternate;u!==null&&(u.lanes|=n),nc(r.return,n,a)}function Uc(r,n,a,u,f){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=a,y.tailMode=f)}function Hy(r,n,a){var u=n.pendingProps,f=u.revealOrder,y=u.tail;if(be(r,n,u.children,a),u=ce.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=n.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Wy(r,a,n);else if(r.tag===19)Wy(r,a,n);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break t;for(;r.sibling===null;){if(r.return===null||r.return===n)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(K(ce,u),f){case"forwards":for(a=n.child,f=null;a!==null;)r=a.alternate,r!==null&&Cl(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),Uc(n,!1,f,a,y);break;case"backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(r=f.alternate,r!==null&&Cl(r)===null){n.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}Uc(n,!0,a,null,y);break;case"together":Uc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ii(r,n,a){if(r!==null&&(n.dependencies=r.dependencies),Li|=n.lanes,(a&n.childLanes)===0)if(r!==null){if(Ca(r,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(r!==null&&n.child!==r.child)throw Error(i(153));if(n.child!==null){for(r=n.child,a=Zr(r,r.pendingProps),n.child=a,a.return=n;r.sibling!==null;)r=r.sibling,a=a.sibling=Zr(r,r.pendingProps),a.return=n;a.sibling=null}return n.child}function jc(r,n){return(r.lanes&n)!==0?!0:(r=r.dependencies,!!(r!==null&&dl(r)))}function f1(r,n,a){switch(n.tag){case 3:Nt(n,n.stateNode.containerInfo),ki(n,he,r.memoizedState.cache),Ta();break;case 27:case 5:ca(n);break;case 4:Nt(n,n.stateNode.containerInfo);break;case 10:ki(n,n.type,n.memoizedProps.value);break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(Ei(n),n.flags|=128,null):(a&n.child.childLanes)!==0?jy(r,n,a):(Ei(n),r=ii(r,n,a),r!==null?r.sibling:null);Ei(n);break;case 19:var f=(r.flags&128)!==0;if(u=(a&n.childLanes)!==0,u||(Ca(r,n,a,!1),u=(a&n.childLanes)!==0),f){if(u)return Hy(r,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),K(ce,ce.current),u)break;return null;case 22:case 23:return n.lanes=0,By(r,n,a);case 24:ki(n,he,r.memoizedState.cache)}return ii(r,n,a)}function qy(r,n,a){if(r!==null)if(r.memoizedProps!==n.pendingProps)fe=!0;else{if(!jc(r,a)&&(n.flags&128)===0)return fe=!1,f1(r,n,a);fe=(r.flags&131072)!==0}else fe=!1,Dt&&(n.flags&1048576)!==0&&wm(n,cl,n.index);switch(n.lanes=0,n.tag){case 16:t:{r=n.pendingProps;var u=n.elementType,f=u._init;if(u=f(u._payload),n.type=u,typeof u=="function")Xh(u)?(r=vn(u,r),n.tag=1,n=Vy(null,n,u,r,a)):(n.tag=0,n=Oc(null,n,u,r,a));else{if(u!=null){if(f=u.$$typeof,f===C){n.tag=11,n=Py(null,n,u,r,a);break t}else if(f===j){n.tag=14,n=Oy(null,n,u,r,a);break t}}throw n=xt(u)||u,Error(i(306,n,""))}}return n;case 0:return Oc(r,n,n.type,n.pendingProps,a);case 1:return u=n.type,f=vn(u,n.pendingProps),Vy(r,n,u,f,a);case 3:t:{if(Nt(n,n.stateNode.containerInfo),r===null)throw Error(i(387));u=n.pendingProps;var y=n.memoizedState;f=y.element,cc(r,n),Oa(n,u,null,a);var w=n.memoizedState;if(u=w.cache,ki(n,he,u),u!==y.cache&&sc(n,[he],a,!0),Pa(),u=w.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:w.cache},n.updateQueue.baseState=y,n.memoizedState=y,n.flags&256){n=Uy(r,n,u,a);break t}else if(u!==f){f=cr(Error(i(424)),n),Aa(f),n=Uy(r,n,u,a);break t}else{switch(r=n.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ee=Tr(r.firstChild),Pe=n,Dt=!0,dn=null,Nr=!0,a=My(n,null,u,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ta(),u===f){n=ii(r,n,a);break t}be(r,n,u,a)}n=n.child}return n;case 26:return Rl(r,n),r===null?(a=Zg(n.type,null,n.pendingProps,null))?n.memoizedState=a:Dt||(a=n.type,r=n.pendingProps,u=Jl(gt.current).createElement(a),u[_e]=n,u[Ve]=r,we(u,a,r),pe(u),n.stateNode=u):n.memoizedState=Zg(n.type,r.memoizedProps,n.pendingProps,r.memoizedState),null;case 27:return ca(n),r===null&&Dt&&(u=n.stateNode=Jg(n.type,n.pendingProps,gt.current),Pe=n,Nr=!0,f=ee,Vi(n.type)?(Sd=f,ee=Tr(u.firstChild)):ee=f),be(r,n,n.pendingProps.children,a),Rl(r,n),r===null&&(n.flags|=4194304),n.child;case 5:return r===null&&Dt&&((f=u=ee)&&(u=j1(u,n.type,n.pendingProps,Nr),u!==null?(n.stateNode=u,Pe=n,ee=Tr(u.firstChild),Nr=!1,f=!0):f=!1),f||pn(n)),ca(n),f=n.type,y=n.pendingProps,w=r!==null?r.memoizedProps:null,u=y.children,vd(f,y)?u=null:w!==null&&vd(f,w)&&(n.flags|=32),n.memoizedState!==null&&(f=gc(r,n,a1,null,null,a),io._currentValue=f),Rl(r,n),be(r,n,u,a),n.child;case 6:return r===null&&Dt&&((r=a=ee)&&(a=W1(a,n.pendingProps,Nr),a!==null?(n.stateNode=a,Pe=n,ee=null,r=!0):r=!1),r||pn(n)),null;case 13:return jy(r,n,a);case 4:return Nt(n,n.stateNode.containerInfo),u=n.pendingProps,r===null?n.child=fs(n,null,u,a):be(r,n,u,a),n.child;case 11:return Py(r,n,n.type,n.pendingProps,a);case 7:return be(r,n,n.pendingProps,a),n.child;case 8:return be(r,n,n.pendingProps.children,a),n.child;case 12:return be(r,n,n.pendingProps.children,a),n.child;case 10:return u=n.pendingProps,ki(n,n.type,u.value),be(r,n,u.children,a),n.child;case 9:return f=n.type._context,u=n.pendingProps.children,mn(n),f=ke(f),u=u(f),n.flags|=1,be(r,n,u,a),n.child;case 14:return Oy(r,n,n.type,n.pendingProps,a);case 15:return Ly(r,n,n.type,n.pendingProps,a);case 19:return Hy(r,n,a);case 31:return u=n.pendingProps,a=n.mode,u={mode:u.mode,children:u.children},r===null?(a=Il(u,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Zr(r.child,u),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return By(r,n,a);case 24:return mn(n),u=ke(he),r===null?(f=lc(),f===null&&(f=Gt,y=ac(),f.pooledCache=y,y.refCount++,y!==null&&(f.pooledCacheLanes|=a),f=y),n.memoizedState={parent:u,cache:f},hc(n),ki(n,he,f)):((r.lanes&a)!==0&&(cc(r,n),Oa(n,null,null,a),Pa()),f=r.memoizedState,y=n.memoizedState,f.parent!==u?(f={parent:u,cache:u},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),ki(n,he,u)):(u=y.cache,ki(n,he,u),u!==f.cache&&sc(n,[he],a,!0))),be(r,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function ni(r){r.flags|=4}function Jy(r,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!t0(n)){if(n=mr.current,n!==null&&((Pt&4194048)===Pt?ei!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||n!==ei))throw Ia=uc,zm;r.flags|=8192}}function Nl(r,n){n!==null&&(r.flags|=4),r.flags&16384&&(n=r.tag!==22?_f():536870912,r.lanes|=n,vs|=n)}function ja(r,n){if(!Dt)switch(r.tailMode){case"hidden":n=r.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?n||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function $t(r){var n=r.alternate!==null&&r.alternate.child===r.child,a=0,u=0;if(n)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=a,n}function m1(r,n,a){var u=n.pendingProps;switch(ec(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(n),null;case 1:return $t(n),null;case 3:return a=n.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),Kr(he),Ye(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(ka(n)?ni(n):r===null||r.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,_m())),$t(n),null;case 26:return a=n.memoizedState,r===null?(ni(n),a!==null?($t(n),Jy(n,a)):($t(n),n.flags&=-16777217)):a?a!==r.memoizedState?(ni(n),$t(n),Jy(n,a)):($t(n),n.flags&=-16777217):(r.memoizedProps!==u&&ni(n),$t(n),n.flags&=-16777217),null;case 27:Fe(n),a=gt.current;var f=n.type;if(r!==null&&n.stateNode!=null)r.memoizedProps!==u&&ni(n);else{if(!u){if(n.stateNode===null)throw Error(i(166));return $t(n),null}r=ht.current,ka(n)?Sm(n):(r=Jg(f,u,a),n.stateNode=r,ni(n))}return $t(n),null;case 5:if(Fe(n),a=n.type,r!==null&&n.stateNode!=null)r.memoizedProps!==u&&ni(n);else{if(!u){if(n.stateNode===null)throw Error(i(166));return $t(n),null}if(r=ht.current,ka(n))Sm(n);else{switch(f=Jl(gt.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}r[_e]=n,r[Ve]=u;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=r;t:switch(we(r,a,u),a){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&ni(n)}}return $t(n),n.flags&=-16777217,null;case 6:if(r&&n.stateNode!=null)r.memoizedProps!==u&&ni(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(i(166));if(r=gt.current,ka(n)){if(r=n.stateNode,a=n.memoizedProps,u=null,f=Pe,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[_e]=n,r=!!(r.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Fg(r.nodeValue,a)),r||pn(n)}else r=Jl(r).createTextNode(u),r[_e]=n,n.stateNode=r}return $t(n),null;case 13:if(u=n.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=ka(n),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[_e]=n}else Ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;$t(n),f=!1}else f=_m(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(ri(n),n):(ri(n),null)}if(ri(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=u!==null,r=r!==null&&r.memoizedState!==null,a){u=n.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==f&&(u.flags|=2048)}return a!==r&&a&&(n.child.flags|=8192),Nl(n,n.updateQueue),$t(n),null;case 4:return Ye(),r===null&&pd(n.stateNode.containerInfo),$t(n),null;case 10:return Kr(n.type),$t(n),null;case 19:if(Q(ce),f=n.memoizedState,f===null)return $t(n),null;if(u=(n.flags&128)!==0,y=f.rendering,y===null)if(u)ja(f,!1);else{if(re!==0||r!==null&&(r.flags&128)!==0)for(r=n.child;r!==null;){if(y=Cl(r),y!==null){for(n.flags|=128,ja(f,!1),r=y.updateQueue,n.updateQueue=r,Nl(n,r),n.subtreeFlags=0,r=a,a=n.child;a!==null;)xm(a,r),a=a.sibling;return K(ce,ce.current&1|2),n.child}r=r.sibling}f.tail!==null&&nt()>Ll&&(n.flags|=128,u=!0,ja(f,!1),n.lanes=4194304)}else{if(!u)if(r=Cl(y),r!==null){if(n.flags|=128,u=!0,r=r.updateQueue,n.updateQueue=r,Nl(n,r),ja(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!Dt)return $t(n),null}else 2*nt()-f.renderingStartTime>Ll&&a!==536870912&&(n.flags|=128,u=!0,ja(f,!1),n.lanes=4194304);f.isBackwards?(y.sibling=n.child,n.child=y):(r=f.last,r!==null?r.sibling=y:n.child=y,f.last=y)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=nt(),n.sibling=null,r=ce.current,K(ce,u?r&1|2:r&1),n):($t(n),null);case 22:case 23:return ri(n),mc(),u=n.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(a&536870912)!==0&&(n.flags&128)===0&&($t(n),n.subtreeFlags&6&&(n.flags|=8192)):$t(n),a=n.updateQueue,a!==null&&Nl(n,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==a&&(n.flags|=2048),r!==null&&Q(yn),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Kr(he),$t(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function y1(r,n){switch(ec(n),n.tag){case 1:return r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 3:return Kr(he),Ye(),r=n.flags,(r&65536)!==0&&(r&128)===0?(n.flags=r&-65537|128,n):null;case 26:case 27:case 5:return Fe(n),null;case 13:if(ri(n),r=n.memoizedState,r!==null&&r.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Ta()}return r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 19:return Q(ce),null;case 4:return Ye(),null;case 10:return Kr(n.type),null;case 22:case 23:return ri(n),mc(),r!==null&&Q(yn),r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 24:return Kr(he),null;case 25:return null;default:return null}}function Gy(r,n){switch(ec(n),n.tag){case 3:Kr(he),Ye();break;case 26:case 27:case 5:Fe(n);break;case 4:Ye();break;case 13:ri(n);break;case 19:Q(ce);break;case 10:Kr(n.type);break;case 22:case 23:ri(n),mc(),r!==null&&Q(yn);break;case 24:Kr(he)}}function Wa(r,n){try{var a=n.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&r)===r){u=void 0;var y=a.create,w=a.inst;u=y(),w.destroy=u}a=a.next}while(a!==f)}}catch(k){Jt(n,n.return,k)}}function Ii(r,n,a){try{var u=n.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var y=f.next;u=y;do{if((u.tag&r)===r){var w=u.inst,k=w.destroy;if(k!==void 0){w.destroy=void 0,f=n;var E=a,L=k;try{L()}catch(H){Jt(f,E,H)}}}u=u.next}while(u!==y)}}catch(H){Jt(n,n.return,H)}}function Yy(r){var n=r.updateQueue;if(n!==null){var a=r.stateNode;try{Om(n,a)}catch(u){Jt(r,r.return,u)}}}function Zy(r,n,a){a.props=vn(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(u){Jt(r,n,u)}}function Ha(r,n){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof a=="function"?r.refCleanup=a(u):a.current=u}}catch(f){Jt(r,n,f)}}function Pr(r,n){var a=r.ref,u=r.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){Jt(r,n,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Jt(r,n,f)}else a.current=null}function $y(r){var n=r.type,a=r.memoizedProps,u=r.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){Jt(r,r.return,f)}}function Wc(r,n,a){try{var u=r.stateNode;B1(u,r.type,a,n),u[Ve]=n}catch(f){Jt(r,r.return,f)}}function Xy(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Vi(r.type)||r.tag===4}function Hc(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||Xy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Vi(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function qc(r,n,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(r),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ql));else if(u!==4&&(u===27&&Vi(r.type)&&(a=r.stateNode,n=null),r=r.child,r!==null))for(qc(r,n,a),r=r.sibling;r!==null;)qc(r,n,a),r=r.sibling}function Pl(r,n,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,n?a.insertBefore(r,n):a.appendChild(r);else if(u!==4&&(u===27&&Vi(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(Pl(r,n,a),r=r.sibling;r!==null;)Pl(r,n,a),r=r.sibling}function Qy(r){var n=r.stateNode,a=r.memoizedProps;try{for(var u=r.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);we(n,u,a),n[_e]=r,n[Ve]=a}catch(y){Jt(r,r.return,y)}}var si=!1,se=!1,Jc=!1,Ky=typeof WeakSet=="function"?WeakSet:Set,me=null;function g1(r,n){if(r=r.containerInfo,yd=Ql,r=hm(r),Hh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else t:{a=(a=r.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break t}var w=0,k=-1,E=-1,L=0,H=0,Y=r,F=null;e:for(;;){for(var V;Y!==a||f!==0&&Y.nodeType!==3||(k=w+f),Y!==y||u!==0&&Y.nodeType!==3||(E=w+u),Y.nodeType===3&&(w+=Y.nodeValue.length),(V=Y.firstChild)!==null;)F=Y,Y=V;for(;;){if(Y===r)break e;if(F===a&&++L===f&&(k=w),F===y&&++H===u&&(E=w),(V=Y.nextSibling)!==null)break;Y=F,F=Y.parentNode}Y=V}a=k===-1||E===-1?null:{start:k,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(gd={focusedElem:r,selectionRange:a},Ql=!1,me=n;me!==null;)if(n=me,r=n.child,(n.subtreeFlags&1024)!==0&&r!==null)r.return=n,me=r;else for(;me!==null;){switch(n=me,y=n.alternate,r=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,a=n,f=y.memoizedProps,y=y.memoizedState,u=a.stateNode;try{var yt=vn(a.type,f,a.elementType===a.type);r=u.getSnapshotBeforeUpdate(yt,y),u.__reactInternalSnapshotBeforeUpdate=r}catch(dt){Jt(a,a.return,dt)}}break;case 3:if((r&1024)!==0){if(r=n.stateNode.containerInfo,a=r.nodeType,a===9)xd(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":xd(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=n.sibling,r!==null){r.return=n.return,me=r;break}me=n.return}}function tg(r,n,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Ni(r,a),u&4&&Wa(5,a);break;case 1:if(Ni(r,a),u&4)if(r=a.stateNode,n===null)try{r.componentDidMount()}catch(w){Jt(a,a.return,w)}else{var f=vn(a.type,n.memoizedProps);n=n.memoizedState;try{r.componentDidUpdate(f,n,r.__reactInternalSnapshotBeforeUpdate)}catch(w){Jt(a,a.return,w)}}u&64&&Yy(a),u&512&&Ha(a,a.return);break;case 3:if(Ni(r,a),u&64&&(r=a.updateQueue,r!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Om(r,n)}catch(w){Jt(a,a.return,w)}}break;case 27:n===null&&u&4&&Qy(a);case 26:case 5:Ni(r,a),n===null&&u&4&&$y(a),u&512&&Ha(a,a.return);break;case 12:Ni(r,a);break;case 13:Ni(r,a),u&4&&ig(r,a),u&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=T1.bind(null,a),H1(r,a))));break;case 22:if(u=a.memoizedState!==null||si,!u){n=n!==null&&n.memoizedState!==null||se,f=si;var y=se;si=u,(se=n)&&!y?Pi(r,a,(a.subtreeFlags&8772)!==0):Ni(r,a),si=f,se=y}break;case 30:break;default:Ni(r,a)}}function eg(r){var n=r.alternate;n!==null&&(r.alternate=null,eg(n)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(n=r.stateNode,n!==null&&kh(n)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Zt=null,We=!1;function ai(r,n,a){for(a=a.child;a!==null;)rg(r,n,a),a=a.sibling}function rg(r,n,a){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(Si,a)}catch{}switch(a.tag){case 26:se||Pr(a,n),ai(r,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:se||Pr(a,n);var u=Zt,f=We;Vi(a.type)&&(Zt=a.stateNode,We=!1),ai(r,n,a),Ka(a.stateNode),Zt=u,We=f;break;case 5:se||Pr(a,n);case 6:if(u=Zt,f=We,Zt=null,ai(r,n,a),Zt=u,We=f,Zt!==null)if(We)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(a.stateNode)}catch(y){Jt(a,n,y)}else try{Zt.removeChild(a.stateNode)}catch(y){Jt(a,n,y)}break;case 18:Zt!==null&&(We?(r=Zt,Hg(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),oo(r)):Hg(Zt,a.stateNode));break;case 4:u=Zt,f=We,Zt=a.stateNode.containerInfo,We=!0,ai(r,n,a),Zt=u,We=f;break;case 0:case 11:case 14:case 15:se||Ii(2,a,n),se||Ii(4,a,n),ai(r,n,a);break;case 1:se||(Pr(a,n),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Zy(a,n,u)),ai(r,n,a);break;case 21:ai(r,n,a);break;case 22:se=(u=se)||a.memoizedState!==null,ai(r,n,a),se=u;break;default:ai(r,n,a)}}function ig(r,n){if(n.memoizedState===null&&(r=n.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{oo(r)}catch(a){Jt(n,n.return,a)}}function v1(r){switch(r.tag){case 13:case 19:var n=r.stateNode;return n===null&&(n=r.stateNode=new Ky),n;case 22:return r=r.stateNode,n=r._retryCache,n===null&&(n=r._retryCache=new Ky),n;default:throw Error(i(435,r.tag))}}function Gc(r,n){var a=v1(r);n.forEach(function(u){var f=A1.bind(null,r,u);a.has(u)||(a.add(u),u.then(f,f))})}function Qe(r,n){var a=n.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],y=r,w=n,k=w;t:for(;k!==null;){switch(k.tag){case 27:if(Vi(k.type)){Zt=k.stateNode,We=!1;break t}break;case 5:Zt=k.stateNode,We=!1;break t;case 3:case 4:Zt=k.stateNode.containerInfo,We=!0;break t}k=k.return}if(Zt===null)throw Error(i(160));rg(y,w,f),Zt=null,We=!1,y=f.alternate,y!==null&&(y.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ng(n,r),n=n.sibling}var kr=null;function ng(r,n){var a=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Qe(n,r),Ke(r),u&4&&(Ii(3,r,r.return),Wa(3,r),Ii(5,r,r.return));break;case 1:Qe(n,r),Ke(r),u&512&&(se||a===null||Pr(a,a.return)),u&64&&si&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=kr;if(Qe(n,r),Ke(r),u&512&&(se||a===null||Pr(a,a.return)),u&4){var y=a!==null?a.memoizedState:null;if(u=r.memoizedState,a===null)if(u===null)if(r.stateNode===null){t:{u=r.type,a=r.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":y=f.getElementsByTagName("title")[0],(!y||y[fa]||y[_e]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=f.createElement(u),f.head.insertBefore(y,f.querySelector("head > title"))),we(y,u,a),y[_e]=r,pe(y),u=y;break t;case"link":var w=Qg("link","href",f).get(u+(a.href||""));if(w){for(var k=0;k<w.length;k++)if(y=w[k],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(k,1);break e}}y=f.createElement(u),we(y,u,a),f.head.appendChild(y);break;case"meta":if(w=Qg("meta","content",f).get(u+(a.content||""))){for(k=0;k<w.length;k++)if(y=w[k],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(k,1);break e}}y=f.createElement(u),we(y,u,a),f.head.appendChild(y);break;default:throw Error(i(468,u))}y[_e]=r,pe(y),u=y}r.stateNode=u}else Kg(f,r.type,r.stateNode);else r.stateNode=Xg(f,u,r.memoizedProps);else y!==u?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,u===null?Kg(f,r.type,r.stateNode):Xg(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Wc(r,r.memoizedProps,a.memoizedProps)}break;case 27:Qe(n,r),Ke(r),u&512&&(se||a===null||Pr(a,a.return)),a!==null&&u&4&&Wc(r,r.memoizedProps,a.memoizedProps);break;case 5:if(Qe(n,r),Ke(r),u&512&&(se||a===null||Pr(a,a.return)),r.flags&32){f=r.stateNode;try{$n(f,"")}catch(V){Jt(r,r.return,V)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,Wc(r,f,a!==null?a.memoizedProps:f)),u&1024&&(Jc=!0);break;case 6:if(Qe(n,r),Ke(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,a=r.stateNode;try{a.nodeValue=u}catch(V){Jt(r,r.return,V)}}break;case 3:if(Zl=null,f=kr,kr=Gl(n.containerInfo),Qe(n,r),kr=f,Ke(r),u&4&&a!==null&&a.memoizedState.isDehydrated)try{oo(n.containerInfo)}catch(V){Jt(r,r.return,V)}Jc&&(Jc=!1,sg(r));break;case 4:u=kr,kr=Gl(r.stateNode.containerInfo),Qe(n,r),Ke(r),kr=u;break;case 12:Qe(n,r),Ke(r);break;case 13:Qe(n,r),Ke(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kc=nt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Gc(r,u)));break;case 22:f=r.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,L=si,H=se;if(si=L||f,se=H||E,Qe(n,r),se=H,si=L,Ke(r),u&8192)t:for(n=r.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(a===null||E||si||se||bn(r)),a=null,n=r;;){if(n.tag===5||n.tag===26){if(a===null){E=a=n;try{if(y=E.stateNode,f)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{k=E.stateNode;var Y=E.memoizedProps.style,F=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;k.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(V){Jt(E,E.return,V)}}}else if(n.tag===6){if(a===null){E=n;try{E.stateNode.nodeValue=f?"":E.memoizedProps}catch(V){Jt(E,E.return,V)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===r)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=r.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Gc(r,a))));break;case 19:Qe(n,r),Ke(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Gc(r,u)));break;case 30:break;case 21:break;default:Qe(n,r),Ke(r)}}function Ke(r){var n=r.flags;if(n&2){try{for(var a,u=r.return;u!==null;){if(Xy(u)){a=u;break}u=u.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,y=Hc(r);Pl(r,y,f);break;case 5:var w=a.stateNode;a.flags&32&&($n(w,""),a.flags&=-33);var k=Hc(r);Pl(r,k,w);break;case 3:case 4:var E=a.stateNode.containerInfo,L=Hc(r);qc(r,L,E);break;default:throw Error(i(161))}}catch(H){Jt(r,r.return,H)}r.flags&=-3}n&4096&&(r.flags&=-4097)}function sg(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var n=r;sg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),r=r.sibling}}function Ni(r,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)tg(r,n.alternate,n),n=n.sibling}function bn(r){for(r=r.child;r!==null;){var n=r;switch(n.tag){case 0:case 11:case 14:case 15:Ii(4,n,n.return),bn(n);break;case 1:Pr(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Zy(n,n.return,a),bn(n);break;case 27:Ka(n.stateNode);case 26:case 5:Pr(n,n.return),bn(n);break;case 22:n.memoizedState===null&&bn(n);break;case 30:bn(n);break;default:bn(n)}r=r.sibling}}function Pi(r,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,f=r,y=n,w=y.flags;switch(y.tag){case 0:case 11:case 15:Pi(f,y,a),Wa(4,y);break;case 1:if(Pi(f,y,a),u=y,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(L){Jt(u,u.return,L)}if(u=y,f=u.updateQueue,f!==null){var k=u.stateNode;try{var E=f.shared.hiddenCallbacks;if(E!==null)for(f.shared.hiddenCallbacks=null,f=0;f<E.length;f++)Pm(E[f],k)}catch(L){Jt(u,u.return,L)}}a&&w&64&&Yy(y),Ha(y,y.return);break;case 27:Qy(y);case 26:case 5:Pi(f,y,a),a&&u===null&&w&4&&$y(y),Ha(y,y.return);break;case 12:Pi(f,y,a);break;case 13:Pi(f,y,a),a&&w&4&&ig(f,y);break;case 22:y.memoizedState===null&&Pi(f,y,a),Ha(y,y.return);break;case 30:break;default:Pi(f,y,a)}n=n.sibling}}function Yc(r,n){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&za(a))}function Zc(r,n){r=null,n.alternate!==null&&(r=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==r&&(n.refCount++,r!=null&&za(r))}function Or(r,n,a,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ag(r,n,a,u),n=n.sibling}function ag(r,n,a,u){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Or(r,n,a,u),f&2048&&Wa(9,n);break;case 1:Or(r,n,a,u);break;case 3:Or(r,n,a,u),f&2048&&(r=null,n.alternate!==null&&(r=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==r&&(n.refCount++,r!=null&&za(r)));break;case 12:if(f&2048){Or(r,n,a,u),r=n.stateNode;try{var y=n.memoizedProps,w=y.id,k=y.onPostCommit;typeof k=="function"&&k(w,n.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(E){Jt(n,n.return,E)}}else Or(r,n,a,u);break;case 13:Or(r,n,a,u);break;case 23:break;case 22:y=n.stateNode,w=n.alternate,n.memoizedState!==null?y._visibility&2?Or(r,n,a,u):qa(r,n):y._visibility&2?Or(r,n,a,u):(y._visibility|=2,ms(r,n,a,u,(n.subtreeFlags&10256)!==0)),f&2048&&Yc(w,n);break;case 24:Or(r,n,a,u),f&2048&&Zc(n.alternate,n);break;default:Or(r,n,a,u)}}function ms(r,n,a,u,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var y=r,w=n,k=a,E=u,L=w.flags;switch(w.tag){case 0:case 11:case 15:ms(y,w,k,E,f),Wa(8,w);break;case 23:break;case 22:var H=w.stateNode;w.memoizedState!==null?H._visibility&2?ms(y,w,k,E,f):qa(y,w):(H._visibility|=2,ms(y,w,k,E,f)),f&&L&2048&&Yc(w.alternate,w);break;case 24:ms(y,w,k,E,f),f&&L&2048&&Zc(w.alternate,w);break;default:ms(y,w,k,E,f)}n=n.sibling}}function qa(r,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=r,u=n,f=u.flags;switch(u.tag){case 22:qa(a,u),f&2048&&Yc(u.alternate,u);break;case 24:qa(a,u),f&2048&&Zc(u.alternate,u);break;default:qa(a,u)}n=n.sibling}}var Ja=8192;function ys(r){if(r.subtreeFlags&Ja)for(r=r.child;r!==null;)og(r),r=r.sibling}function og(r){switch(r.tag){case 26:ys(r),r.flags&Ja&&r.memoizedState!==null&&iw(kr,r.memoizedState,r.memoizedProps);break;case 5:ys(r);break;case 3:case 4:var n=kr;kr=Gl(r.stateNode.containerInfo),ys(r),kr=n;break;case 22:r.memoizedState===null&&(n=r.alternate,n!==null&&n.memoizedState!==null?(n=Ja,Ja=16777216,ys(r),Ja=n):ys(r));break;default:ys(r)}}function lg(r){var n=r.alternate;if(n!==null&&(r=n.child,r!==null)){n.child=null;do n=r.sibling,r.sibling=null,r=n;while(r!==null)}}function Ga(r){var n=r.deletions;if((r.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var u=n[a];me=u,hg(u,r)}lg(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ug(r),r=r.sibling}function ug(r){switch(r.tag){case 0:case 11:case 15:Ga(r),r.flags&2048&&Ii(9,r,r.return);break;case 3:Ga(r);break;case 12:Ga(r);break;case 22:var n=r.stateNode;r.memoizedState!==null&&n._visibility&2&&(r.return===null||r.return.tag!==13)?(n._visibility&=-3,Ol(r)):Ga(r);break;default:Ga(r)}}function Ol(r){var n=r.deletions;if((r.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var u=n[a];me=u,hg(u,r)}lg(r)}for(r=r.child;r!==null;){switch(n=r,n.tag){case 0:case 11:case 15:Ii(8,n,n.return),Ol(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Ol(n));break;default:Ol(n)}r=r.sibling}}function hg(r,n){for(;me!==null;){var a=me;switch(a.tag){case 0:case 11:case 15:Ii(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:za(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,me=u;else t:for(a=r;me!==null;){u=me;var f=u.sibling,y=u.return;if(eg(u),u===a){me=null;break t}if(f!==null){f.return=y,me=f;break t}me=y}}}var b1={getCacheForType:function(r){var n=ke(he),a=n.data.get(r);return a===void 0&&(a=r(),n.data.set(r,a)),a}},x1=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Gt=null,Rt=null,Pt=0,Vt=0,tr=null,Oi=!1,gs=!1,$c=!1,oi=0,re=0,Li=0,xn=0,Xc=0,yr=0,vs=0,Ya=null,He=null,Qc=!1,Kc=0,Ll=1/0,Bl=null,Bi=null,xe=0,Di=null,bs=null,xs=0,td=0,ed=null,cg=null,Za=0,rd=null;function er(){if((Ft&2)!==0&&Pt!==0)return Pt&-Pt;if(U.T!==null){var r=os;return r!==0?r:ud()}return Af()}function dg(){yr===0&&(yr=(Pt&536870912)===0||Dt?Mf():536870912);var r=mr.current;return r!==null&&(r.flags|=32),yr}function rr(r,n,a){(r===Gt&&(Vt===2||Vt===9)||r.cancelPendingCommit!==null)&&(ws(r,0),Fi(r,Pt,yr,!1)),pa(r,a),((Ft&2)===0||r!==Gt)&&(r===Gt&&((Ft&2)===0&&(xn|=a),re===4&&Fi(r,Pt,yr,!1)),Lr(r))}function pg(r,n,a){if((Ft&6)!==0)throw Error(i(327));var u=!a&&(n&124)===0&&(n&r.expiredLanes)===0||da(r,n),f=u?M1(r,n):sd(r,n,!0),y=u;do{if(f===0){gs&&!u&&Fi(r,n,0,!1);break}else{if(a=r.current.alternate,y&&!w1(a)){f=sd(r,n,!1),y=!1;continue}if(f===2){if(y=n,r.errorRecoveryDisabledLanes&y)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){n=w;t:{var k=r;f=Ya;var E=k.current.memoizedState.isDehydrated;if(E&&(ws(k,w).flags|=256),w=sd(k,w,!1),w!==2){if($c&&!E){k.errorRecoveryDisabledLanes|=y,xn|=y,f=4;break t}y=He,He=f,y!==null&&(He===null?He=y:He.push.apply(He,y))}f=w}if(y=!1,f!==2)continue}}if(f===1){ws(r,0),Fi(r,n,0,!0);break}t:{switch(u=r,y=f,y){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:Fi(u,n,yr,!Oi);break t;case 2:He=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(f=Kc+300-nt(),10<f)){if(Fi(u,n,yr,!Oi),Yo(u,0,!0)!==0)break t;u.timeoutHandle=jg(fg.bind(null,u,a,He,Bl,Qc,n,yr,xn,vs,Oi,y,2,-0,0),f);break t}fg(u,a,He,Bl,Qc,n,yr,xn,vs,Oi,y,0,-0,0)}}break}while(!0);Lr(r)}function fg(r,n,a,u,f,y,w,k,E,L,H,Y,F,V){if(r.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(ro={stylesheets:null,count:0,unsuspend:rw},og(n),Y=nw(),Y!==null)){r.cancelPendingCommit=Y(wg.bind(null,r,n,y,a,u,f,w,k,E,H,1,F,V)),Fi(r,y,w,!L);return}wg(r,n,y,a,u,f,w,k,E)}function w1(r){for(var n=r;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],y=f.getSnapshot;f=f.value;try{if(!$e(y(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fi(r,n,a,u){n&=~Xc,n&=~xn,r.suspendedLanes|=n,r.pingedLanes&=~n,u&&(r.warmLanes|=n),u=r.expirationTimes;for(var f=n;0<f;){var y=31-Ne(f),w=1<<y;u[y]=-1,f&=~w}a!==0&&kf(r,a,n)}function Dl(){return(Ft&6)===0?($a(0),!1):!0}function id(){if(Rt!==null){if(Vt===0)var r=Rt.return;else r=Rt,Qr=fn=null,xc(r),ps=null,Va=0,r=Rt;for(;r!==null;)Gy(r.alternate,r),r=r.return;Rt=null}}function ws(r,n){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,F1(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),id(),Gt=r,Rt=a=Zr(r.current,null),Pt=n,Vt=0,tr=null,Oi=!1,gs=da(r,n),$c=!1,vs=yr=Xc=xn=Li=re=0,He=Ya=null,Qc=!1,(n&8)!==0&&(n|=n&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=n;0<u;){var f=31-Ne(u),y=1<<f;n|=r[f],u&=~y}return oi=n,al(),a}function mg(r,n){Tt=null,U.H=kl,n===Ra||n===ml?(n=Im(),Vt=3):n===zm?(n=Im(),Vt=4):Vt=n===Ny?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,tr=n,Rt===null&&(re=1,El(r,cr(n,r.current)))}function yg(){var r=U.H;return U.H=kl,r===null?kl:r}function gg(){var r=U.A;return U.A=b1,r}function nd(){re=4,Oi||(Pt&4194048)!==Pt&&mr.current!==null||(gs=!0),(Li&134217727)===0&&(xn&134217727)===0||Gt===null||Fi(Gt,Pt,yr,!1)}function sd(r,n,a){var u=Ft;Ft|=2;var f=yg(),y=gg();(Gt!==r||Pt!==n)&&(Bl=null,ws(r,n)),n=!1;var w=re;t:do try{if(Vt!==0&&Rt!==null){var k=Rt,E=tr;switch(Vt){case 8:id(),w=6;break t;case 3:case 2:case 9:case 6:mr.current===null&&(n=!0);var L=Vt;if(Vt=0,tr=null,Ss(r,k,E,L),a&&gs){w=0;break t}break;default:L=Vt,Vt=0,tr=null,Ss(r,k,E,L)}}S1(),w=re;break}catch(H){mg(r,H)}while(!0);return n&&r.shellSuspendCounter++,Qr=fn=null,Ft=u,U.H=f,U.A=y,Rt===null&&(Gt=null,Pt=0,al()),w}function S1(){for(;Rt!==null;)vg(Rt)}function M1(r,n){var a=Ft;Ft|=2;var u=yg(),f=gg();Gt!==r||Pt!==n?(Bl=null,Ll=nt()+500,ws(r,n)):gs=da(r,n);t:do try{if(Vt!==0&&Rt!==null){n=Rt;var y=tr;e:switch(Vt){case 1:Vt=0,tr=null,Ss(r,n,y,1);break;case 2:case 9:if(Em(y)){Vt=0,tr=null,bg(n);break}n=function(){Vt!==2&&Vt!==9||Gt!==r||(Vt=7),Lr(r)},y.then(n,n);break t;case 3:Vt=7;break t;case 4:Vt=5;break t;case 7:Em(y)?(Vt=0,tr=null,bg(n)):(Vt=0,tr=null,Ss(r,n,y,7));break;case 5:var w=null;switch(Rt.tag){case 26:w=Rt.memoizedState;case 5:case 27:var k=Rt;if(!w||t0(w)){Vt=0,tr=null;var E=k.sibling;if(E!==null)Rt=E;else{var L=k.return;L!==null?(Rt=L,Fl(L)):Rt=null}break e}}Vt=0,tr=null,Ss(r,n,y,5);break;case 6:Vt=0,tr=null,Ss(r,n,y,6);break;case 8:id(),re=6;break t;default:throw Error(i(462))}}_1();break}catch(H){mg(r,H)}while(!0);return Qr=fn=null,U.H=u,U.A=f,Ft=a,Rt!==null?0:(Gt=null,Pt=0,al(),re)}function _1(){for(;Rt!==null&&!rt();)vg(Rt)}function vg(r){var n=qy(r.alternate,r,oi);r.memoizedProps=r.pendingProps,n===null?Fl(r):Rt=n}function bg(r){var n=r,a=n.alternate;switch(n.tag){case 15:case 0:n=Fy(a,n,n.pendingProps,n.type,void 0,Pt);break;case 11:n=Fy(a,n,n.pendingProps,n.type.render,n.ref,Pt);break;case 5:xc(n);default:Gy(a,n),n=Rt=xm(n,oi),n=qy(a,n,oi)}r.memoizedProps=r.pendingProps,n===null?Fl(r):Rt=n}function Ss(r,n,a,u){Qr=fn=null,xc(n),ps=null,Va=0;var f=n.return;try{if(p1(r,f,n,a,Pt)){re=1,El(r,cr(a,r.current)),Rt=null;return}}catch(y){if(f!==null)throw Rt=f,y;re=1,El(r,cr(a,r.current)),Rt=null;return}n.flags&32768?(Dt||u===1?r=!0:gs||(Pt&536870912)!==0?r=!1:(Oi=r=!0,(u===2||u===9||u===3||u===6)&&(u=mr.current,u!==null&&u.tag===13&&(u.flags|=16384))),xg(n,r)):Fl(n)}function Fl(r){var n=r;do{if((n.flags&32768)!==0){xg(n,Oi);return}r=n.return;var a=m1(n.alternate,n,oi);if(a!==null){Rt=a;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=r}while(n!==null);re===0&&(re=5)}function xg(r,n){do{var a=y1(r.alternate,r);if(a!==null){a.flags&=32767,Rt=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(r=r.sibling,r!==null)){Rt=r;return}Rt=r=a}while(r!==null);re=6,Rt=null}function wg(r,n,a,u,f,y,w,k,E){r.cancelPendingCommit=null;do Vl();while(xe!==0);if((Ft&6)!==0)throw Error(i(327));if(n!==null){if(n===r.current)throw Error(i(177));if(y=n.lanes|n.childLanes,y|=Zh,rx(r,a,y,w,k,E),r===Gt&&(Rt=Gt=null,Pt=0),bs=n,Di=r,xs=a,td=y,ed=f,cg=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,C1(qt,function(){return Tg(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=U.T,U.T=null,f=X.p,X.p=2,w=Ft,Ft|=4;try{g1(r,n,a)}finally{Ft=w,X.p=f,U.T=u}}xe=1,Sg(),Mg(),_g()}}function Sg(){if(xe===1){xe=0;var r=Di,n=bs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var u=X.p;X.p=2;var f=Ft;Ft|=4;try{ng(n,r);var y=gd,w=hm(r.containerInfo),k=y.focusedElem,E=y.selectionRange;if(w!==k&&k&&k.ownerDocument&&um(k.ownerDocument.documentElement,k)){if(E!==null&&Hh(k)){var L=E.start,H=E.end;if(H===void 0&&(H=L),"selectionStart"in k)k.selectionStart=L,k.selectionEnd=Math.min(H,k.value.length);else{var Y=k.ownerDocument||document,F=Y&&Y.defaultView||window;if(F.getSelection){var V=F.getSelection(),yt=k.textContent.length,dt=Math.min(E.start,yt),Wt=E.end===void 0?dt:Math.min(E.end,yt);!V.extend&&dt>Wt&&(w=Wt,Wt=dt,dt=w);var P=lm(k,dt),I=lm(k,Wt);if(P&&I&&(V.rangeCount!==1||V.anchorNode!==P.node||V.anchorOffset!==P.offset||V.focusNode!==I.node||V.focusOffset!==I.offset)){var O=Y.createRange();O.setStart(P.node,P.offset),V.removeAllRanges(),dt>Wt?(V.addRange(O),V.extend(I.node,I.offset)):(O.setEnd(I.node,I.offset),V.addRange(O))}}}}for(Y=[],V=k;V=V.parentNode;)V.nodeType===1&&Y.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<Y.length;k++){var J=Y[k];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Ql=!!yd,gd=yd=null}finally{Ft=f,X.p=u,U.T=a}}r.current=n,xe=2}}function Mg(){if(xe===2){xe=0;var r=Di,n=bs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var u=X.p;X.p=2;var f=Ft;Ft|=4;try{tg(r,n.alternate,n)}finally{Ft=f,X.p=u,U.T=a}}xe=3}}function _g(){if(xe===4||xe===3){xe=0,ct();var r=Di,n=bs,a=xs,u=cg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xe=5:(xe=0,bs=Di=null,kg(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(Bi=null),Mh(a),n=n.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(Si,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=U.T,f=X.p,X.p=2,U.T=null;try{for(var y=r.onRecoverableError,w=0;w<u.length;w++){var k=u[w];y(k.value,{componentStack:k.stack})}}finally{U.T=n,X.p=f}}(xs&3)!==0&&Vl(),Lr(r),f=r.pendingLanes,(a&4194090)!==0&&(f&42)!==0?r===rd?Za++:(Za=0,rd=r):Za=0,$a(0)}}function kg(r,n){(r.pooledCacheLanes&=n)===0&&(n=r.pooledCache,n!=null&&(r.pooledCache=null,za(n)))}function Vl(r){return Sg(),Mg(),_g(),Tg()}function Tg(){if(xe!==5)return!1;var r=Di,n=td;td=0;var a=Mh(xs),u=U.T,f=X.p;try{X.p=32>a?32:a,U.T=null,a=ed,ed=null;var y=Di,w=xs;if(xe=0,bs=Di=null,xs=0,(Ft&6)!==0)throw Error(i(331));var k=Ft;if(Ft|=4,ug(y.current),ag(y,y.current,w,a),Ft=k,$a(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(Si,y)}catch{}return!0}finally{X.p=f,U.T=u,kg(r,n)}}function Ag(r,n,a){n=cr(a,n),n=Pc(r.stateNode,n,2),r=Ci(r,n,2),r!==null&&(pa(r,2),Lr(r))}function Jt(r,n,a){if(r.tag===3)Ag(r,r,a);else for(;n!==null;){if(n.tag===3){Ag(n,r,a);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Bi===null||!Bi.has(u))){r=cr(a,r),a=Ry(2),u=Ci(n,a,2),u!==null&&(Iy(a,u,n,r),pa(u,2),Lr(u));break}}n=n.return}}function ad(r,n,a){var u=r.pingCache;if(u===null){u=r.pingCache=new x1;var f=new Set;u.set(n,f)}else f=u.get(n),f===void 0&&(f=new Set,u.set(n,f));f.has(a)||($c=!0,f.add(a),r=k1.bind(null,r,n,a),n.then(r,r))}function k1(r,n,a){var u=r.pingCache;u!==null&&u.delete(n),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,Gt===r&&(Pt&a)===a&&(re===4||re===3&&(Pt&62914560)===Pt&&300>nt()-Kc?(Ft&2)===0&&ws(r,0):Xc|=a,vs===Pt&&(vs=0)),Lr(r)}function Cg(r,n){n===0&&(n=_f()),r=is(r,n),r!==null&&(pa(r,n),Lr(r))}function T1(r){var n=r.memoizedState,a=0;n!==null&&(a=n.retryLane),Cg(r,a)}function A1(r,n){var a=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(n),Cg(r,a)}function C1(r,n){return tt(r,n)}var Ul=null,Ms=null,od=!1,jl=!1,ld=!1,wn=0;function Lr(r){r!==Ms&&r.next===null&&(Ms===null?Ul=Ms=r:Ms=Ms.next=r),jl=!0,od||(od=!0,E1())}function $a(r,n){if(!ld&&jl){ld=!0;do for(var a=!1,u=Ul;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var y=0;else{var w=u.suspendedLanes,k=u.pingedLanes;y=(1<<31-Ne(42|r)+1)-1,y&=f&~(w&~k),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,Ig(u,y))}else y=Pt,y=Yo(u,u===Gt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||da(u,y)||(a=!0,Ig(u,y));u=u.next}while(a);ld=!1}}function z1(){zg()}function zg(){jl=od=!1;var r=0;wn!==0&&(D1()&&(r=wn),wn=0);for(var n=nt(),a=null,u=Ul;u!==null;){var f=u.next,y=Eg(u,n);y===0?(u.next=null,a===null?Ul=f:a.next=f,f===null&&(Ms=a)):(a=u,(r!==0||(y&3)!==0)&&(jl=!0)),u=f}$a(r)}function Eg(r,n){for(var a=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var w=31-Ne(y),k=1<<w,E=f[w];E===-1?((k&a)===0||(k&u)!==0)&&(f[w]=ex(k,n)):E<=n&&(r.expiredLanes|=k),y&=~k}if(n=Gt,a=Pt,a=Yo(r,r===n?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,a===0||r===n&&(Vt===2||Vt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&et(u),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||da(r,a)){if(n=a&-a,n===r.callbackPriority)return n;switch(u!==null&&et(u),Mh(a)){case 2:case 8:a=Ht;break;case 32:a=qt;break;case 268435456:a=Re;break;default:a=qt}return u=Rg.bind(null,r),a=tt(a,u),r.callbackPriority=n,r.callbackNode=a,n}return u!==null&&u!==null&&et(u),r.callbackPriority=2,r.callbackNode=null,2}function Rg(r,n){if(xe!==0&&xe!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(Vl()&&r.callbackNode!==a)return null;var u=Pt;return u=Yo(r,r===Gt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(pg(r,u,n),Eg(r,nt()),r.callbackNode!=null&&r.callbackNode===a?Rg.bind(null,r):null)}function Ig(r,n){if(Vl())return null;pg(r,n,!0)}function E1(){V1(function(){(Ft&6)!==0?tt(kt,z1):zg()})}function ud(){return wn===0&&(wn=Mf()),wn}function Ng(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ko(""+r)}function Pg(r,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,r.id&&a.setAttribute("form",r.id),n.parentNode.insertBefore(a,n),r=new FormData(r),a.parentNode.removeChild(a),r}function R1(r,n,a,u,f){if(n==="submit"&&a&&a.stateNode===f){var y=Ng((f[Ve]||null).action),w=u.submitter;w&&(n=(n=w[Ve]||null)?Ng(n.formAction):w.getAttribute("formAction"),n!==null&&(y=n,w=null));var k=new il("action","action",null,u,f);r.push({event:k,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(wn!==0){var E=w?Pg(f,w):new FormData(f);zc(a,{pending:!0,data:E,method:f.method,action:y},null,E)}}else typeof y=="function"&&(k.preventDefault(),E=w?Pg(f,w):new FormData(f),zc(a,{pending:!0,data:E,method:f.method,action:y},y,E))},currentTarget:f}]})}}for(var hd=0;hd<Yh.length;hd++){var cd=Yh[hd],I1=cd.toLowerCase(),N1=cd[0].toUpperCase()+cd.slice(1);_r(I1,"on"+N1)}_r(pm,"onAnimationEnd"),_r(fm,"onAnimationIteration"),_r(mm,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r($x,"onTransitionRun"),_r(Xx,"onTransitionStart"),_r(Qx,"onTransitionCancel"),_r(ym,"onTransitionEnd"),Gn("onMouseEnter",["mouseout","mouseover"]),Gn("onMouseLeave",["mouseout","mouseover"]),Gn("onPointerEnter",["pointerout","pointerover"]),Gn("onPointerLeave",["pointerout","pointerover"]),sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xa));function Og(r,n){n=(n&4)!==0;for(var a=0;a<r.length;a++){var u=r[a],f=u.event;u=u.listeners;t:{var y=void 0;if(n)for(var w=u.length-1;0<=w;w--){var k=u[w],E=k.instance,L=k.currentTarget;if(k=k.listener,E!==y&&f.isPropagationStopped())break t;y=k,f.currentTarget=L;try{y(f)}catch(H){zl(H)}f.currentTarget=null,y=E}else for(w=0;w<u.length;w++){if(k=u[w],E=k.instance,L=k.currentTarget,k=k.listener,E!==y&&f.isPropagationStopped())break t;y=k,f.currentTarget=L;try{y(f)}catch(H){zl(H)}f.currentTarget=null,y=E}}}}function It(r,n){var a=n[_h];a===void 0&&(a=n[_h]=new Set);var u=r+"__bubble";a.has(u)||(Lg(n,r,2,!1),a.add(u))}function dd(r,n,a){var u=0;n&&(u|=4),Lg(a,r,u,n)}var Wl="_reactListening"+Math.random().toString(36).slice(2);function pd(r){if(!r[Wl]){r[Wl]=!0,zf.forEach(function(a){a!=="selectionchange"&&(P1.has(a)||dd(a,!1,r),dd(a,!0,r))});var n=r.nodeType===9?r:r.ownerDocument;n===null||n[Wl]||(n[Wl]=!0,dd("selectionchange",!1,n))}}function Lg(r,n,a,u){switch(a0(n)){case 2:var f=ow;break;case 8:f=lw;break;default:f=Ad}a=f.bind(null,n,a,r),f=void 0,!Oh||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(n,a,{capture:!0,passive:f}):r.addEventListener(n,a,!0):f!==void 0?r.addEventListener(n,a,{passive:f}):r.addEventListener(n,a,!1)}function fd(r,n,a,u,f){var y=u;if((n&1)===0&&(n&2)===0&&u!==null)t:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var k=u.stateNode.containerInfo;if(k===f)break;if(w===4)for(w=u.return;w!==null;){var E=w.tag;if((E===3||E===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;k!==null;){if(w=Hn(k),w===null)return;if(E=w.tag,E===5||E===6||E===26||E===27){u=y=w;continue t}k=k.parentNode}}u=u.return}Wf(function(){var L=y,H=Nh(a),Y=[];t:{var F=gm.get(r);if(F!==void 0){var V=il,yt=r;switch(r){case"keypress":if(el(a)===0)break t;case"keydown":case"keyup":V=Cx;break;case"focusin":yt="focus",V=Fh;break;case"focusout":yt="blur",V=Fh;break;case"beforeblur":case"afterblur":V=Fh;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Jf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=yx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Rx;break;case pm:case fm:case mm:V=bx;break;case ym:V=Nx;break;case"scroll":case"scrollend":V=fx;break;case"wheel":V=Ox;break;case"copy":case"cut":case"paste":V=wx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Yf;break;case"toggle":case"beforetoggle":V=Bx}var dt=(n&4)!==0,Wt=!dt&&(r==="scroll"||r==="scrollend"),P=dt?F!==null?F+"Capture":null:F;dt=[];for(var I=L,O;I!==null;){var J=I;if(O=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||O===null||P===null||(J=ya(I,P),J!=null&&dt.push(Qa(I,J,O))),Wt)break;I=I.return}0<dt.length&&(F=new V(F,yt,null,a,H),Y.push({event:F,listeners:dt}))}}if((n&7)===0){t:{if(F=r==="mouseover"||r==="pointerover",V=r==="mouseout"||r==="pointerout",F&&a!==Ih&&(yt=a.relatedTarget||a.fromElement)&&(Hn(yt)||yt[Wn]))break t;if((V||F)&&(F=H.window===H?H:(F=H.ownerDocument)?F.defaultView||F.parentWindow:window,V?(yt=a.relatedTarget||a.toElement,V=L,yt=yt?Hn(yt):null,yt!==null&&(Wt=o(yt),dt=yt.tag,yt!==Wt||dt!==5&&dt!==27&&dt!==6)&&(yt=null)):(V=null,yt=L),V!==yt)){if(dt=Jf,J="onMouseLeave",P="onMouseEnter",I="mouse",(r==="pointerout"||r==="pointerover")&&(dt=Yf,J="onPointerLeave",P="onPointerEnter",I="pointer"),Wt=V==null?F:ma(V),O=yt==null?F:ma(yt),F=new dt(J,I+"leave",V,a,H),F.target=Wt,F.relatedTarget=O,J=null,Hn(H)===L&&(dt=new dt(P,I+"enter",yt,a,H),dt.target=O,dt.relatedTarget=Wt,J=dt),Wt=J,V&&yt)e:{for(dt=V,P=yt,I=0,O=dt;O;O=_s(O))I++;for(O=0,J=P;J;J=_s(J))O++;for(;0<I-O;)dt=_s(dt),I--;for(;0<O-I;)P=_s(P),O--;for(;I--;){if(dt===P||P!==null&&dt===P.alternate)break e;dt=_s(dt),P=_s(P)}dt=null}else dt=null;V!==null&&Bg(Y,F,V,dt,!1),yt!==null&&Wt!==null&&Bg(Y,Wt,yt,dt,!0)}}t:{if(F=L?ma(L):window,V=F.nodeName&&F.nodeName.toLowerCase(),V==="select"||V==="input"&&F.type==="file")var st=rm;else if(tm(F))if(im)st=Gx;else{st=qx;var Ct=Hx}else V=F.nodeName,!V||V.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?L&&Rh(L.elementType)&&(st=rm):st=Jx;if(st&&(st=st(r,L))){em(Y,st,a,H);break t}Ct&&Ct(r,F,L),r==="focusout"&&L&&F.type==="number"&&L.memoizedProps.value!=null&&Eh(F,"number",F.value)}switch(Ct=L?ma(L):window,r){case"focusin":(tm(Ct)||Ct.contentEditable==="true")&&(ts=Ct,qh=L,_a=null);break;case"focusout":_a=qh=ts=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,cm(Y,a,H);break;case"selectionchange":if(Zx)break;case"keydown":case"keyup":cm(Y,a,H)}var ut;if(Uh)t:{switch(r){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Kn?Qf(r,a)&&(pt="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(pt="onCompositionStart");pt&&(Zf&&a.locale!=="ko"&&(Kn||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Kn&&(ut=Hf()):(_i=H,Lh="value"in _i?_i.value:_i.textContent,Kn=!0)),Ct=Hl(L,pt),0<Ct.length&&(pt=new Gf(pt,r,null,a,H),Y.push({event:pt,listeners:Ct}),ut?pt.data=ut:(ut=Kf(a),ut!==null&&(pt.data=ut)))),(ut=Fx?Vx(r,a):Ux(r,a))&&(pt=Hl(L,"onBeforeInput"),0<pt.length&&(Ct=new Gf("onBeforeInput","beforeinput",null,a,H),Y.push({event:Ct,listeners:pt}),Ct.data=ut)),R1(Y,r,L,a,H)}Og(Y,n)})}function Qa(r,n,a){return{instance:r,listener:n,currentTarget:a}}function Hl(r,n){for(var a=n+"Capture",u=[];r!==null;){var f=r,y=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||y===null||(f=ya(r,a),f!=null&&u.unshift(Qa(r,f,y)),f=ya(r,n),f!=null&&u.push(Qa(r,f,y))),r.tag===3)return u;r=r.return}return[]}function _s(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Bg(r,n,a,u,f){for(var y=n._reactName,w=[];a!==null&&a!==u;){var k=a,E=k.alternate,L=k.stateNode;if(k=k.tag,E!==null&&E===u)break;k!==5&&k!==26&&k!==27||L===null||(E=L,f?(L=ya(a,y),L!=null&&w.unshift(Qa(a,L,E))):f||(L=ya(a,y),L!=null&&w.push(Qa(a,L,E)))),a=a.return}w.length!==0&&r.push({event:n,listeners:w})}var O1=/\r\n?/g,L1=/\u0000|\uFFFD/g;function Dg(r){return(typeof r=="string"?r:""+r).replace(O1,`
`).replace(L1,"")}function Fg(r,n){return n=Dg(n),Dg(r)===n}function ql(){}function jt(r,n,a,u,f,y){switch(a){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||$n(r,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&$n(r,""+u);break;case"className":$o(r,"class",u);break;case"tabIndex":$o(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":$o(r,a,u);break;case"style":Uf(r,u,y);break;case"data":if(n!=="object"){$o(r,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||a!=="href")){r.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(a);break}u=Ko(""+u),r.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(n!=="input"&&jt(r,n,"name",f.name,f,null),jt(r,n,"formEncType",f.formEncType,f,null),jt(r,n,"formMethod",f.formMethod,f,null),jt(r,n,"formTarget",f.formTarget,f,null)):(jt(r,n,"encType",f.encType,f,null),jt(r,n,"method",f.method,f,null),jt(r,n,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(a);break}u=Ko(""+u),r.setAttribute(a,u);break;case"onClick":u!=null&&(r.onclick=ql);break;case"onScroll":u!=null&&It("scroll",r);break;case"onScrollEnd":u!=null&&It("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}a=Ko(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(a,""+u):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":u===!0?r.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(a,u):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(a,u):r.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(a):r.setAttribute(a,u);break;case"popover":It("beforetoggle",r),It("toggle",r),Zo(r,"popover",u);break;case"xlinkActuate":Gr(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Gr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Gr(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Gr(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Gr(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Gr(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Gr(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Gr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Gr(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Zo(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=dx.get(a)||a,Zo(r,a,u))}}function md(r,n,a,u,f,y){switch(a){case"style":Uf(r,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"children":typeof u=="string"?$n(r,u):(typeof u=="number"||typeof u=="bigint")&&$n(r,""+u);break;case"onScroll":u!=null&&It("scroll",r);break;case"onScrollEnd":u!=null&&It("scrollend",r);break;case"onClick":u!=null&&(r.onclick=ql);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ef.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),y=r[Ve]||null,y=y!=null?y[a]:null,typeof y=="function"&&r.removeEventListener(n,y,f),typeof u=="function")){typeof y!="function"&&y!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(n,u,f);break t}a in r?r[a]=u:u===!0?r.setAttribute(a,""):Zo(r,a,u)}}}function we(r,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",r),It("load",r);var u=!1,f=!1,y;for(y in a)if(a.hasOwnProperty(y)){var w=a[y];if(w!=null)switch(y){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:jt(r,n,y,w,a,null)}}f&&jt(r,n,"srcSet",a.srcSet,a,null),u&&jt(r,n,"src",a.src,a,null);return;case"input":It("invalid",r);var k=y=w=f=null,E=null,L=null;for(u in a)if(a.hasOwnProperty(u)){var H=a[u];if(H!=null)switch(u){case"name":f=H;break;case"type":w=H;break;case"checked":E=H;break;case"defaultChecked":L=H;break;case"value":y=H;break;case"defaultValue":k=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,n));break;default:jt(r,n,u,H,a,null)}}Bf(r,y,k,E,L,w,f,!1),Xo(r);return;case"select":It("invalid",r),u=w=y=null;for(f in a)if(a.hasOwnProperty(f)&&(k=a[f],k!=null))switch(f){case"value":y=k;break;case"defaultValue":w=k;break;case"multiple":u=k;default:jt(r,n,f,k,a,null)}n=y,a=w,r.multiple=!!u,n!=null?Zn(r,!!u,n,!1):a!=null&&Zn(r,!!u,a,!0);return;case"textarea":It("invalid",r),y=f=u=null;for(w in a)if(a.hasOwnProperty(w)&&(k=a[w],k!=null))switch(w){case"value":u=k;break;case"defaultValue":f=k;break;case"children":y=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:jt(r,n,w,k,a,null)}Ff(r,u,f,y),Xo(r);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(u=a[E],u!=null))switch(E){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:jt(r,n,E,u,a,null)}return;case"dialog":It("beforetoggle",r),It("toggle",r),It("cancel",r),It("close",r);break;case"iframe":case"object":It("load",r);break;case"video":case"audio":for(u=0;u<Xa.length;u++)It(Xa[u],r);break;case"image":It("error",r),It("load",r);break;case"details":It("toggle",r);break;case"embed":case"source":case"link":It("error",r),It("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(u=a[L],u!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:jt(r,n,L,u,a,null)}return;default:if(Rh(n)){for(H in a)a.hasOwnProperty(H)&&(u=a[H],u!==void 0&&md(r,n,H,u,a,void 0));return}}for(k in a)a.hasOwnProperty(k)&&(u=a[k],u!=null&&jt(r,n,k,u,a,null))}function B1(r,n,a,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,y=null,w=null,k=null,E=null,L=null,H=null;for(V in a){var Y=a[V];if(a.hasOwnProperty(V)&&Y!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":E=Y;default:u.hasOwnProperty(V)||jt(r,n,V,null,u,Y)}}for(var F in u){var V=u[F];if(Y=a[F],u.hasOwnProperty(F)&&(V!=null||Y!=null))switch(F){case"type":y=V;break;case"name":f=V;break;case"checked":L=V;break;case"defaultChecked":H=V;break;case"value":w=V;break;case"defaultValue":k=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,n));break;default:V!==Y&&jt(r,n,F,V,u,Y)}}zh(r,w,k,E,L,H,y,f);return;case"select":V=w=k=F=null;for(y in a)if(E=a[y],a.hasOwnProperty(y)&&E!=null)switch(y){case"value":break;case"multiple":V=E;default:u.hasOwnProperty(y)||jt(r,n,y,null,u,E)}for(f in u)if(y=u[f],E=a[f],u.hasOwnProperty(f)&&(y!=null||E!=null))switch(f){case"value":F=y;break;case"defaultValue":k=y;break;case"multiple":w=y;default:y!==E&&jt(r,n,f,y,u,E)}n=k,a=w,u=V,F!=null?Zn(r,!!a,F,!1):!!u!=!!a&&(n!=null?Zn(r,!!a,n,!0):Zn(r,!!a,a?[]:"",!1));return;case"textarea":V=F=null;for(k in a)if(f=a[k],a.hasOwnProperty(k)&&f!=null&&!u.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:jt(r,n,k,null,u,f)}for(w in u)if(f=u[w],y=a[w],u.hasOwnProperty(w)&&(f!=null||y!=null))switch(w){case"value":F=f;break;case"defaultValue":V=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==y&&jt(r,n,w,f,u,y)}Df(r,F,V);return;case"option":for(var yt in a)if(F=a[yt],a.hasOwnProperty(yt)&&F!=null&&!u.hasOwnProperty(yt))switch(yt){case"selected":r.selected=!1;break;default:jt(r,n,yt,null,u,F)}for(E in u)if(F=u[E],V=a[E],u.hasOwnProperty(E)&&F!==V&&(F!=null||V!=null))switch(E){case"selected":r.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:jt(r,n,E,F,u,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)F=a[dt],a.hasOwnProperty(dt)&&F!=null&&!u.hasOwnProperty(dt)&&jt(r,n,dt,null,u,F);for(L in u)if(F=u[L],V=a[L],u.hasOwnProperty(L)&&F!==V&&(F!=null||V!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,n));break;default:jt(r,n,L,F,u,V)}return;default:if(Rh(n)){for(var Wt in a)F=a[Wt],a.hasOwnProperty(Wt)&&F!==void 0&&!u.hasOwnProperty(Wt)&&md(r,n,Wt,void 0,u,F);for(H in u)F=u[H],V=a[H],!u.hasOwnProperty(H)||F===V||F===void 0&&V===void 0||md(r,n,H,F,u,V);return}}for(var P in a)F=a[P],a.hasOwnProperty(P)&&F!=null&&!u.hasOwnProperty(P)&&jt(r,n,P,null,u,F);for(Y in u)F=u[Y],V=a[Y],!u.hasOwnProperty(Y)||F===V||F==null&&V==null||jt(r,n,Y,F,u,V)}var yd=null,gd=null;function Jl(r){return r.nodeType===9?r:r.ownerDocument}function Vg(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ug(r,n){if(r===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&n==="foreignObject"?0:r}function vd(r,n){return r==="textarea"||r==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bd=null;function D1(){var r=window.event;return r&&r.type==="popstate"?r===bd?!1:(bd=r,!0):(bd=null,!1)}var jg=typeof setTimeout=="function"?setTimeout:void 0,F1=typeof clearTimeout=="function"?clearTimeout:void 0,Wg=typeof Promise=="function"?Promise:void 0,V1=typeof queueMicrotask=="function"?queueMicrotask:typeof Wg<"u"?function(r){return Wg.resolve(null).then(r).catch(U1)}:jg;function U1(r){setTimeout(function(){throw r})}function Vi(r){return r==="head"}function Hg(r,n){var a=n,u=0,f=0;do{var y=a.nextSibling;if(r.removeChild(a),y&&y.nodeType===8)if(a=y.data,a==="/$"){if(0<u&&8>u){a=u;var w=r.ownerDocument;if(a&1&&Ka(w.documentElement),a&2&&Ka(w.body),a&4)for(a=w.head,Ka(a),w=a.firstChild;w;){var k=w.nextSibling,E=w.nodeName;w[fa]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&w.rel.toLowerCase()==="stylesheet"||a.removeChild(w),w=k}}if(f===0){r.removeChild(y),oo(n);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:u=a.charCodeAt(0)-48;else u=0;a=y}while(a);oo(n)}function xd(r){var n=r.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xd(a),kh(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function j1(r,n,a,u){for(;r.nodeType===1;){var f=a;if(r.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[fa])switch(n){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence")||y!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(n==="input"&&r.type==="hidden"){var y=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Tr(r.nextSibling),r===null)break}return null}function W1(r,n,a){if(n==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Tr(r.nextSibling),r===null))return null;return r}function wd(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function H1(r,n){var a=r.ownerDocument;if(r.data!=="$?"||a.readyState==="complete")n();else{var u=function(){n(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Tr(r){for(;r!=null;r=r.nextSibling){var n=r.nodeType;if(n===1||n===3)break;if(n===8){if(n=r.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return r}var Sd=null;function qg(r){r=r.previousSibling;for(var n=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return r;n--}else a==="/$"&&n++}r=r.previousSibling}return null}function Jg(r,n,a){switch(n=Jl(a),r){case"html":if(r=n.documentElement,!r)throw Error(i(452));return r;case"head":if(r=n.head,!r)throw Error(i(453));return r;case"body":if(r=n.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Ka(r){for(var n=r.attributes;n.length;)r.removeAttributeNode(n[0]);kh(r)}var gr=new Map,Gg=new Set;function Gl(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var li=X.d;X.d={f:q1,r:J1,D:G1,C:Y1,L:Z1,m:$1,X:Q1,S:X1,M:K1};function q1(){var r=li.f(),n=Dl();return r||n}function J1(r){var n=qn(r);n!==null&&n.tag===5&&n.type==="form"?py(n):li.r(r)}var ks=typeof document>"u"?null:document;function Yg(r,n,a){var u=ks;if(u&&typeof n=="string"&&n){var f=Mr(n);f='link[rel="'+r+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Gg.has(f)||(Gg.add(f),r={rel:r,crossOrigin:a,href:n},u.querySelector(f)===null&&(n=u.createElement("link"),we(n,"link",r),pe(n),u.head.appendChild(n)))}}function G1(r){li.D(r),Yg("dns-prefetch",r,null)}function Y1(r,n){li.C(r,n),Yg("preconnect",r,n)}function Z1(r,n,a){li.L(r,n,a);var u=ks;if(u&&r&&n){var f='link[rel="preload"][as="'+Mr(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Mr(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Mr(a.imageSizes)+'"]')):f+='[href="'+Mr(r)+'"]';var y=f;switch(n){case"style":y=Ts(r);break;case"script":y=As(r)}gr.has(y)||(r=m({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:r,as:n},a),gr.set(y,r),u.querySelector(f)!==null||n==="style"&&u.querySelector(to(y))||n==="script"&&u.querySelector(eo(y))||(n=u.createElement("link"),we(n,"link",r),pe(n),u.head.appendChild(n)))}}function $1(r,n){li.m(r,n);var a=ks;if(a&&r){var u=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Mr(u)+'"][href="'+Mr(r)+'"]',y=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=As(r)}if(!gr.has(y)&&(r=m({rel:"modulepreload",href:r},n),gr.set(y,r),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(eo(y)))return}u=a.createElement("link"),we(u,"link",r),pe(u),a.head.appendChild(u)}}}function X1(r,n,a){li.S(r,n,a);var u=ks;if(u&&r){var f=Jn(u).hoistableStyles,y=Ts(r);n=n||"default";var w=f.get(y);if(!w){var k={loading:0,preload:null};if(w=u.querySelector(to(y)))k.loading=5;else{r=m({rel:"stylesheet",href:r,"data-precedence":n},a),(a=gr.get(y))&&Md(r,a);var E=w=u.createElement("link");pe(E),we(E,"link",r),E._p=new Promise(function(L,H){E.onload=L,E.onerror=H}),E.addEventListener("load",function(){k.loading|=1}),E.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Yl(w,n,u)}w={type:"stylesheet",instance:w,count:1,state:k},f.set(y,w)}}}function Q1(r,n){li.X(r,n);var a=ks;if(a&&r){var u=Jn(a).hoistableScripts,f=As(r),y=u.get(f);y||(y=a.querySelector(eo(f)),y||(r=m({src:r,async:!0},n),(n=gr.get(f))&&_d(r,n),y=a.createElement("script"),pe(y),we(y,"link",r),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(f,y))}}function K1(r,n){li.M(r,n);var a=ks;if(a&&r){var u=Jn(a).hoistableScripts,f=As(r),y=u.get(f);y||(y=a.querySelector(eo(f)),y||(r=m({src:r,async:!0,type:"module"},n),(n=gr.get(f))&&_d(r,n),y=a.createElement("script"),pe(y),we(y,"link",r),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(f,y))}}function Zg(r,n,a,u){var f=(f=gt.current)?Gl(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ts(a.href),a=Jn(f).hoistableStyles,u=a.get(n),u||(u={type:"style",instance:null,count:0,state:null},a.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=Ts(a.href);var y=Jn(f).hoistableStyles,w=y.get(r);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,w),(y=f.querySelector(to(r)))&&!y._p&&(w.instance=y,w.state.loading=5),gr.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},gr.set(r,a),y||tw(f,r,a,w.state))),n&&u===null)throw Error(i(528,""));return w}if(n&&u!==null)throw Error(i(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=As(a),a=Jn(f).hoistableScripts,u=a.get(n),u||(u={type:"script",instance:null,count:0,state:null},a.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ts(r){return'href="'+Mr(r)+'"'}function to(r){return'link[rel="stylesheet"]['+r+"]"}function $g(r){return m({},r,{"data-precedence":r.precedence,precedence:null})}function tw(r,n,a,u){r.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=r.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),we(n,"link",a),pe(n),r.head.appendChild(n))}function As(r){return'[src="'+Mr(r)+'"]'}function eo(r){return"script[async]"+r}function Xg(r,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var u=r.querySelector('style[data-href~="'+Mr(a.href)+'"]');if(u)return n.instance=u,pe(u),u;var f=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),pe(u),we(u,"style",f),Yl(u,a.precedence,r),n.instance=u;case"stylesheet":f=Ts(a.href);var y=r.querySelector(to(f));if(y)return n.state.loading|=4,n.instance=y,pe(y),y;u=$g(a),(f=gr.get(f))&&Md(u,f),y=(r.ownerDocument||r).createElement("link"),pe(y);var w=y;return w._p=new Promise(function(k,E){w.onload=k,w.onerror=E}),we(y,"link",u),n.state.loading|=4,Yl(y,a.precedence,r),n.instance=y;case"script":return y=As(a.src),(f=r.querySelector(eo(y)))?(n.instance=f,pe(f),f):(u=a,(f=gr.get(y))&&(u=m({},a),_d(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),pe(f),we(f,"link",u),r.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,Yl(u,a.precedence,r));return n.instance}function Yl(r,n,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,y=f,w=0;w<u.length;w++){var k=u[w];if(k.dataset.precedence===n)y=k;else if(y!==f)break}y?y.parentNode.insertBefore(r,y.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(r,n.firstChild))}function Md(r,n){r.crossOrigin==null&&(r.crossOrigin=n.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=n.referrerPolicy),r.title==null&&(r.title=n.title)}function _d(r,n){r.crossOrigin==null&&(r.crossOrigin=n.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=n.referrerPolicy),r.integrity==null&&(r.integrity=n.integrity)}var Zl=null;function Qg(r,n,a){if(Zl===null){var u=new Map,f=Zl=new Map;f.set(a,u)}else f=Zl,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(r))return u;for(u.set(r,null),a=a.getElementsByTagName(r),f=0;f<a.length;f++){var y=a[f];if(!(y[fa]||y[_e]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(n)||"";w=r+w;var k=u.get(w);k?k.push(y):u.set(w,[y])}}return u}function Kg(r,n,a){r=r.ownerDocument||r,r.head.insertBefore(a,n==="title"?r.querySelector("head > title"):null)}function ew(r,n,a){if(a===1||n.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return r=n.disabled,typeof n.precedence=="string"&&r==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function t0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ro=null;function rw(){}function iw(r,n,a){if(ro===null)throw Error(i(475));var u=ro;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=Ts(a.href),y=r.querySelector(to(f));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=$l.bind(u),r.then(u,u)),n.state.loading|=4,n.instance=y,pe(y);return}y=r.ownerDocument||r,a=$g(a),(f=gr.get(f))&&Md(a,f),y=y.createElement("link"),pe(y);var w=y;w._p=new Promise(function(k,E){w.onload=k,w.onerror=E}),we(y,"link",a),n.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(n,r),(r=n.state.preload)&&(n.state.loading&3)===0&&(u.count++,n=$l.bind(u),r.addEventListener("load",n),r.addEventListener("error",n))}}function nw(){if(ro===null)throw Error(i(475));var r=ro;return r.stylesheets&&r.count===0&&kd(r,r.stylesheets),0<r.count?function(n){var a=setTimeout(function(){if(r.stylesheets&&kd(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=n,function(){r.unsuspend=null,clearTimeout(a)}}:null}function $l(){if(this.count--,this.count===0){if(this.stylesheets)kd(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Xl=null;function kd(r,n){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Xl=new Map,n.forEach(sw,r),Xl=null,$l.call(r))}function sw(r,n){if(!(n.state.loading&4)){var a=Xl.get(r);if(a)var u=a.get(null);else{a=new Map,Xl.set(r,a);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<f.length;y++){var w=f[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),u=w)}u&&a.set(null,u)}f=n.instance,w=f.getAttribute("data-precedence"),y=a.get(w)||u,y===u&&a.set(null,f),a.set(w,f),this.count++,u=$l.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),y?y.parentNode.insertBefore(f,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),n.state.loading|=4}}var io={$$typeof:A,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function aw(r,n,a,u,f,y,w,k){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wh(0),this.hiddenUpdates=wh(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function e0(r,n,a,u,f,y,w,k,E,L,H,Y){return r=new aw(r,n,a,w,k,E,L,Y),n=1,y===!0&&(n|=24),y=Xe(3,null,null,n),r.current=y,y.stateNode=r,n=ac(),n.refCount++,r.pooledCache=n,n.refCount++,y.memoizedState={element:u,isDehydrated:a,cache:n},hc(y),r}function r0(r){return r?(r=ns,r):ns}function i0(r,n,a,u,f,y){f=r0(f),u.context===null?u.context=f:u.pendingContext=f,u=Ai(n),u.payload={element:a},y=y===void 0?null:y,y!==null&&(u.callback=y),a=Ci(r,u,n),a!==null&&(rr(a,r,n),Na(a,r,n))}function n0(r,n){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<n?a:n}}function Td(r,n){n0(r,n),(r=r.alternate)&&n0(r,n)}function s0(r){if(r.tag===13){var n=is(r,67108864);n!==null&&rr(n,r,67108864),Td(r,67108864)}}var Ql=!0;function ow(r,n,a,u){var f=U.T;U.T=null;var y=X.p;try{X.p=2,Ad(r,n,a,u)}finally{X.p=y,U.T=f}}function lw(r,n,a,u){var f=U.T;U.T=null;var y=X.p;try{X.p=8,Ad(r,n,a,u)}finally{X.p=y,U.T=f}}function Ad(r,n,a,u){if(Ql){var f=Cd(u);if(f===null)fd(r,n,u,Kl,a),o0(r,u);else if(hw(f,r,n,a,u))u.stopPropagation();else if(o0(r,u),n&4&&-1<uw.indexOf(r)){for(;f!==null;){var y=qn(f);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=nn(y.pendingLanes);if(w!==0){var k=y;for(k.pendingLanes|=2,k.entangledLanes|=2;w;){var E=1<<31-Ne(w);k.entanglements[1]|=E,w&=~E}Lr(y),(Ft&6)===0&&(Ll=nt()+500,$a(0))}}break;case 13:k=is(y,2),k!==null&&rr(k,y,2),Dl(),Td(y,2)}if(y=Cd(u),y===null&&fd(r,n,u,Kl,a),y===f)break;f=y}f!==null&&u.stopPropagation()}else fd(r,n,u,null,a)}}function Cd(r){return r=Nh(r),zd(r)}var Kl=null;function zd(r){if(Kl=null,r=Hn(r),r!==null){var n=o(r);if(n===null)r=null;else{var a=n.tag;if(a===13){if(r=l(n),r!==null)return r;r=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;r=null}else n!==r&&(r=null)}}return Kl=r,null}function a0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Et()){case kt:return 2;case Ht:return 8;case qt:case te:return 32;case Re:return 268435456;default:return 32}default:return 32}}var Ed=!1,Ui=null,ji=null,Wi=null,no=new Map,so=new Map,Hi=[],uw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o0(r,n){switch(r){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":no.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":so.delete(n.pointerId)}}function ao(r,n,a,u,f,y){return r===null||r.nativeEvent!==y?(r={blockedOn:n,domEventName:a,eventSystemFlags:u,nativeEvent:y,targetContainers:[f]},n!==null&&(n=qn(n),n!==null&&s0(n)),r):(r.eventSystemFlags|=u,n=r.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),r)}function hw(r,n,a,u,f){switch(n){case"focusin":return Ui=ao(Ui,r,n,a,u,f),!0;case"dragenter":return ji=ao(ji,r,n,a,u,f),!0;case"mouseover":return Wi=ao(Wi,r,n,a,u,f),!0;case"pointerover":var y=f.pointerId;return no.set(y,ao(no.get(y)||null,r,n,a,u,f)),!0;case"gotpointercapture":return y=f.pointerId,so.set(y,ao(so.get(y)||null,r,n,a,u,f)),!0}return!1}function l0(r){var n=Hn(r.target);if(n!==null){var a=o(n);if(a!==null){if(n=a.tag,n===13){if(n=l(a),n!==null){r.blockedOn=n,ix(r.priority,function(){if(a.tag===13){var u=er();u=Sh(u);var f=is(a,u);f!==null&&rr(f,a,u),Td(a,u)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function tu(r){if(r.blockedOn!==null)return!1;for(var n=r.targetContainers;0<n.length;){var a=Cd(r.nativeEvent);if(a===null){a=r.nativeEvent;var u=new a.constructor(a.type,a);Ih=u,a.target.dispatchEvent(u),Ih=null}else return n=qn(a),n!==null&&s0(n),r.blockedOn=a,!1;n.shift()}return!0}function u0(r,n,a){tu(r)&&a.delete(n)}function cw(){Ed=!1,Ui!==null&&tu(Ui)&&(Ui=null),ji!==null&&tu(ji)&&(ji=null),Wi!==null&&tu(Wi)&&(Wi=null),no.forEach(u0),so.forEach(u0)}function eu(r,n){r.blockedOn===n&&(r.blockedOn=null,Ed||(Ed=!0,h.unstable_scheduleCallback(h.unstable_NormalPriority,cw)))}var ru=null;function h0(r){ru!==r&&(ru=r,h.unstable_scheduleCallback(h.unstable_NormalPriority,function(){ru===r&&(ru=null);for(var n=0;n<r.length;n+=3){var a=r[n],u=r[n+1],f=r[n+2];if(typeof u!="function"){if(zd(u||a)===null)continue;break}var y=qn(a);y!==null&&(r.splice(n,3),n-=3,zc(y,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function oo(r){function n(E){return eu(E,r)}Ui!==null&&eu(Ui,r),ji!==null&&eu(ji,r),Wi!==null&&eu(Wi,r),no.forEach(n),so.forEach(n);for(var a=0;a<Hi.length;a++){var u=Hi[a];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Hi.length&&(a=Hi[0],a.blockedOn===null);)l0(a),a.blockedOn===null&&Hi.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],y=a[u+1],w=f[Ve]||null;if(typeof y=="function")w||h0(a);else if(w){var k=null;if(y&&y.hasAttribute("formAction")){if(f=y,w=y[Ve]||null)k=w.formAction;else if(zd(f)!==null)continue}else k=w.action;typeof k=="function"?a[u+1]=k:(a.splice(u,3),u-=3),h0(a)}}}function Rd(r){this._internalRoot=r}iu.prototype.render=Rd.prototype.render=function(r){var n=this._internalRoot;if(n===null)throw Error(i(409));var a=n.current,u=er();i0(a,u,r,n,null,null)},iu.prototype.unmount=Rd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var n=r.containerInfo;i0(r.current,2,null,r,null,null),Dl(),n[Wn]=null}};function iu(r){this._internalRoot=r}iu.prototype.unstable_scheduleHydration=function(r){if(r){var n=Af();r={blockedOn:null,target:r,priority:n};for(var a=0;a<Hi.length&&n!==0&&n<Hi[a].priority;a++);Hi.splice(a,0,r),a===0&&l0(r)}};var c0=t.version;if(c0!=="19.1.0")throw Error(i(527,c0,"19.1.0"));X.findDOMNode=function(r){var n=r._reactInternals;if(n===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(n),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var dw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{Si=nu.inject(dw),Me=nu}catch{}}return uo.createRoot=function(r,n){if(!s(r))throw Error(i(299));var a=!1,u="",f=Ay,y=Cy,w=zy,k=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(w=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(k=n.unstable_transitionCallbacks)),n=e0(r,1,!1,null,null,a,u,f,y,w,k,null),r[Wn]=n.current,pd(r),new Rd(n)},uo.hydrateRoot=function(r,n,a){if(!s(r))throw Error(i(299));var u=!1,f="",y=Ay,w=Cy,k=zy,E=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(k=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(E=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),n=e0(r,1,!0,n,a??null,u,f,y,w,k,E,L),n.context=r0(null),a=n.current,u=er(),u=Sh(u),f=Ai(u),f.callback=null,Ci(a,f,u),a=u,n.current.lanes=a,pa(n,a),Lr(n),r[Wn]=n.current,pd(r),new iu(n)},uo.version="19.1.0",uo}var A0;function Cw(){if(A0)return Id.exports;A0=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(t){console.error(t)}}return h(),Id.exports=Aw(),Id.exports}var zw=Cw();const Ew="modulepreload",Rw=function(h){return"/"+h},C0={},na=function(h,t,e){let i=Promise.resolve();if(t&&t.length>0){let o=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=o(t.map(d=>{if(d=Rw(d),d in C0)return;C0[d]=!0;const p=d.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=p?"stylesheet":Ew,p||(g.as="script"),g.crossOrigin="",g.href=d,c&&g.setAttribute("nonce",c),document.head.appendChild(g),p)return new Promise((v,b)=>{g.addEventListener("load",v),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return h().catch(s)})};/**
* @license
* Copyright 2010-2025 Three.js Authors
* SPDX-License-Identifier: MIT
*/const ib="176",gT={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},vT={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},bT=0,xT=1,wT=2,ST=3,MT=0,_T=1,kT=2,TT=3,bp=0,nb=1,AT=2,Iw=0,z0=1,CT=2,zT=3,ET=4,RT=5,E0=100,IT=101,NT=102,PT=103,OT=104,LT=200,BT=201,DT=202,FT=203,R0=204,I0=205,VT=206,UT=207,jT=208,WT=209,HT=210,qT=211,JT=212,GT=213,YT=214,ZT=0,$T=1,XT=2,N0=3,QT=4,KT=5,tA=6,eA=7,Ip=0,rA=1,iA=2,nA=0,sA=1,aA=2,oA=3,lA=4,uA=5,hA=6,cA=7,P0="attached",Nw="detached",Np=300,Pp=301,Pw=302,Ow=303,Lw=304,Bw=306,xp=1e3,Fr=1001,wp=1002,Er=1003,Dw=1004,dA=1004,Fw=1005,pA=1005,wr=1006,Vw=1007,fA=1007,uh=1008,mA=1008,Op=1009,Uw=1010,jw=1011,Ww=1012,Hw=1013,Lp=1014,Qs=1015,qw=1016,Jw=1017,Gw=1018,yA=1020,Yw=35902,Zw=1021,$w=1022,No=1023,O0=1026,Xw=1027,sb=1028,ab=1029,Qw=1030,Kw=1031,gA=1032,tS=1033,eS=33776,rS=33777,iS=33778,nS=33779,sS=35840,aS=35841,oS=35842,lS=35843,uS=36196,hS=37492,cS=37496,dS=37808,pS=37809,fS=37810,mS=37811,yS=37812,gS=37813,vS=37814,bS=37815,xS=37816,wS=37817,SS=37818,MS=37819,_S=37820,kS=37821,TS=36492,AS=36494,CS=36495,zS=36283,ES=36284,RS=36285,IS=36286,NS=2200,PS=2201,OS=2202,$u=2300,Sp=2301,Pd=2302,Gs=2400,Ys=2401,Xu=2402,Bp=2500,ob=2501,vA=0,bA=1,xA=2,LS=3200,wA=3201,SA=3202,MA=3203,sa=0,_A=1,lb="",br="srgb",L0="srgb-linear",B0="linear",Od="srgb",kA=0,Cs=7680,TA=7681,AA=7682,CA=7683,zA=34055,EA=34056,RA=5386,IA=512,NA=513,PA=514,OA=515,LA=516,BA=517,DA=518,D0=519,FA=512,VA=513,UA=514,jA=515,WA=516,HA=517,qA=518,JA=519,Qu=35044,GA=35048,YA=35040,ZA=35045,$A=35049,XA=35041,QA=35046,KA=35050,tC=35042,eC="100",rC="300 es",Vr=2e3,Ku=2001,iC={COMPUTE:"compute",RENDER:"render"},nC={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},sC={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FLAT_FIRST:"flat first",FLAT_EITHER:"flat either"};class en{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)}hasEventListener(t,e){const i=this._listeners;return i===void 0?!1:i[t]!==void 0&&i[t].indexOf(e)!==-1}removeEventListener(t,e){const i=this._listeners;if(i===void 0)return;const s=i[t];if(s!==void 0){const o=s.indexOf(e);o!==-1&&s.splice(o,1)}}dispatchEvent(t){const e=this._listeners;if(e===void 0)return;const i=e[t.type];if(i!==void 0){t.target=this;const s=i.slice(0);for(let o=0,l=s.length;o<l;o++)s[o].call(this,t);t.target=null}}}const Ae=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let F0=1234567;const Ln=Math.PI/180,Po=180/Math.PI;function or(){const h=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Ae[h&255]+Ae[h>>8&255]+Ae[h>>16&255]+Ae[h>>24&255]+"-"+Ae[t&255]+Ae[t>>8&255]+"-"+Ae[t>>16&15|64]+Ae[t>>24&255]+"-"+Ae[e&63|128]+Ae[e>>8&255]+"-"+Ae[e>>16&255]+Ae[e>>24&255]+Ae[i&255]+Ae[i>>8&255]+Ae[i>>16&255]+Ae[i>>24&255]).toLowerCase()}function vt(h,t,e){return Math.max(t,Math.min(e,h))}function Dp(h,t){return(h%t+t)%t}function BS(h,t,e,i,s){return i+(h-t)*(s-i)/(e-t)}function DS(h,t,e){return h!==t?(e-h)/(t-h):0}function Eo(h,t,e){return(1-e)*h+e*t}function FS(h,t,e,i){return Eo(h,t,1-Math.exp(-e*i))}function VS(h,t=1){return t-Math.abs(Dp(h,t*2)-t)}function US(h,t,e){return h<=t?0:h>=e?1:(h=(h-t)/(e-t),h*h*(3-2*h))}function jS(h,t,e){return h<=t?0:h>=e?1:(h=(h-t)/(e-t),h*h*h*(h*(h*6-15)+10))}function WS(h,t){return h+Math.floor(Math.random()*(t-h+1))}function HS(h,t){return h+Math.random()*(t-h)}function qS(h){return h*(.5-Math.random())}function JS(h){h!==void 0&&(F0=h);let t=F0+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function GS(h){return h*Ln}function YS(h){return h*Po}function ZS(h){return(h&h-1)===0&&h!==0}function $S(h){return Math.pow(2,Math.ceil(Math.log(h)/Math.LN2))}function XS(h){return Math.pow(2,Math.floor(Math.log(h)/Math.LN2))}function QS(h,t,e,i,s){const o=Math.cos,l=Math.sin,c=o(e/2),d=l(e/2),p=o((t+i)/2),m=l((t+i)/2),g=o((t-i)/2),v=l((t-i)/2),b=o((i-t)/2),x=l((i-t)/2);switch(s){case"XYX":h.set(c*m,d*g,d*v,c*p);break;case"YZY":h.set(d*v,c*m,d*g,c*p);break;case"ZXZ":h.set(d*g,d*v,c*m,c*p);break;case"XZX":h.set(c*m,d*x,d*b,c*p);break;case"YXY":h.set(d*b,c*m,d*x,c*p);break;case"ZYZ":h.set(d*x,d*b,c*m,c*p);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function Le(h,t){switch(t.constructor){case Float32Array:return h;case Uint32Array:return h/4294967295;case Uint16Array:return h/65535;case Uint8Array:return h/255;case Int32Array:return Math.max(h/2147483647,-1);case Int16Array:return Math.max(h/32767,-1);case Int8Array:return Math.max(h/127,-1);default:throw new Error("Invalid component type.")}}function wt(h,t){switch(t.constructor){case Float32Array:return h;case Uint32Array:return Math.round(h*4294967295);case Uint16Array:return Math.round(h*65535);case Uint8Array:return Math.round(h*255);case Int32Array:return Math.round(h*2147483647);case Int16Array:return Math.round(h*32767);case Int8Array:return Math.round(h*127);default:throw new Error("Invalid component type.")}}const aC={DEG2RAD:Ln,RAD2DEG:Po,generateUUID:or,clamp:vt,euclideanModulo:Dp,mapLinear:BS,inverseLerp:DS,lerp:Eo,damp:FS,pingpong:VS,smoothstep:US,smootherstep:jS,randInt:WS,randFloat:HS,randFloatSpread:qS,seededRandom:JS,degToRad:GS,radToDeg:YS,isPowerOfTwo:ZS,ceilPowerOfTwo:$S,floorPowerOfTwo:XS,setQuaternionFromProperEuler:QS,normalize:wt,denormalize:Le};class ${constructor(t=0,e=0){$.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,s=t.elements;return this.x=s[0]*e+s[3]*i+s[6],this.y=s[1]*e+s[4]*i+s[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=vt(this.x,t.x,e.x),this.y=vt(this.y,t.y,e.y),this}clampScalar(t,e){return this.x=vt(this.x,t,e),this.y=vt(this.y,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(vt(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(vt(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),s=Math.sin(e),o=this.x-t.x,l=this.y-t.y;return this.x=o*i-l*s+t.x,this.y=o*s+l*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Hr{constructor(t,e,i,s,o,l,c,d,p){Hr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,e,i,s,o,l,c,d,p)}set(t,e,i,s,o,l,c,d,p){const m=this.elements;return m[0]=t,m[1]=s,m[2]=c,m[3]=e,m[4]=o,m[5]=d,m[6]=i,m[7]=l,m[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,o=this.elements,l=i[0],c=i[3],d=i[6],p=i[1],m=i[4],g=i[7],v=i[2],b=i[5],x=i[8],S=s[0],_=s[3],M=s[6],T=s[1],A=s[4],C=s[7],N=s[2],B=s[5],j=s[8];return o[0]=l*S+c*T+d*N,o[3]=l*_+c*A+d*B,o[6]=l*M+c*C+d*j,o[1]=p*S+m*T+g*N,o[4]=p*_+m*A+g*B,o[7]=p*M+m*C+g*j,o[2]=v*S+b*T+x*N,o[5]=v*_+b*A+x*B,o[8]=v*M+b*C+x*j,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],s=t[2],o=t[3],l=t[4],c=t[5],d=t[6],p=t[7],m=t[8];return e*l*m-e*c*p-i*o*m+i*c*d+s*o*p-s*l*d}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],o=t[3],l=t[4],c=t[5],d=t[6],p=t[7],m=t[8],g=m*l-c*p,v=c*d-m*o,b=p*o-l*d,x=e*g+i*v+s*b;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/x;return t[0]=g*S,t[1]=(s*p-m*i)*S,t[2]=(c*i-s*l)*S,t[3]=v*S,t[4]=(m*e-s*d)*S,t[5]=(s*o-c*e)*S,t[6]=b*S,t[7]=(i*d-p*e)*S,t[8]=(l*e-i*o)*S,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,s,o,l,c){const d=Math.cos(o),p=Math.sin(o);return this.set(i*d,i*p,-i*(d*l+p*c)+l+t,-s*p,s*d,-s*(-p*l+d*c)+c+e,0,0,1),this}scale(t,e){return this.premultiply(Ld.makeScale(t,e)),this}rotate(t){return this.premultiply(Ld.makeRotation(-t)),this}translate(t,e){return this.premultiply(Ld.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,i,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,i=t.elements;for(let s=0;s<9;s++)if(e[s]!==i[s])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const Ld=new Hr;function KS(h){for(let t=h.length-1;t>=0;--t)if(h[t]>=65535)return!0;return!1}const tM={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Zs(h,t){return new tM[h](t)}function th(h){return document.createElementNS("http://www.w3.org/1999/xhtml",h)}function oC(){const h=th("canvas");return h.style.display="block",h}const V0={};function lC(h){h in V0||(V0[h]=!0,console.warn(h))}function uC(h,t,e){return new Promise(function(i,s){function o(){switch(h.clientWaitSync(t,h.SYNC_FLUSH_COMMANDS_BIT,0)){case h.WAIT_FAILED:s();break;case h.TIMEOUT_EXPIRED:setTimeout(o,e);break;default:i()}}setTimeout(o,e)})}function hC(h){const t=h.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}function cC(h){const t=h.elements;t[11]===-1?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=-t[14]+1)}const U0=new Hr().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),j0=new Hr().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function eM(){const h={enabled:!0,workingColorSpace:L0,spaces:{},convert:function(s,o,l){return this.enabled===!1||o===l||!o||!l||(this.spaces[o].transfer===Od&&(s.r=yi(s.r),s.g=yi(s.g),s.b=yi(s.b)),this.spaces[o].primaries!==this.spaces[l].primaries&&(s.applyMatrix3(this.spaces[o].toXYZ),s.applyMatrix3(this.spaces[l].fromXYZ)),this.spaces[l].transfer===Od&&(s.r=$s(s.r),s.g=$s(s.g),s.b=$s(s.b))),s},fromWorkingColorSpace:function(s,o){return this.convert(s,this.workingColorSpace,o)},toWorkingColorSpace:function(s,o){return this.convert(s,o,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return s===lb?B0:this.spaces[s].transfer},getLuminanceCoefficients:function(s,o=this.workingColorSpace){return s.fromArray(this.spaces[o].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,o,l){return s.copy(this.spaces[o].toXYZ).multiply(this.spaces[l].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace}},t=[.64,.33,.3,.6,.15,.06],e=[.2126,.7152,.0722],i=[.3127,.329];return h.define({[L0]:{primaries:t,whitePoint:i,transfer:B0,toXYZ:U0,fromXYZ:j0,luminanceCoefficients:e,workingColorSpaceConfig:{unpackColorSpace:br},outputColorSpaceConfig:{drawingBufferColorSpace:br}},[br]:{primaries:t,whitePoint:i,transfer:Od,toXYZ:U0,fromXYZ:j0,luminanceCoefficients:e,outputColorSpaceConfig:{drawingBufferColorSpace:br}}}),h}const sr=eM();function yi(h){return h<.04045?h*.0773993808:Math.pow(h*.9478672986+.0521327014,2.4)}function $s(h){return h<.0031308?h*12.92:1.055*Math.pow(h,.41666)-.055}let zs;class rM{static getDataURL(t,e="image/png"){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let i;if(t instanceof HTMLCanvasElement)i=t;else{zs===void 0&&(zs=th("canvas")),zs.width=t.width,zs.height=t.height;const s=zs.getContext("2d");t instanceof ImageData?s.putImageData(t,0,0):s.drawImage(t,0,0,t.width,t.height),i=zs}return i.toDataURL(e)}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=th("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const s=i.getImageData(0,0,t.width,t.height),o=s.data;for(let l=0;l<o.length;l++)o[l]=yi(o[l]/255)*255;return i.putImageData(s,0,0),e}else if(t.data){const e=t.data.slice(0);for(let i=0;i<e.length;i++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[i]=Math.floor(yi(e[i]/255)*255):e[i]=yi(e[i]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let iM=0;class Pn{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:iM++}),this.uuid=or(),this.data=t,this.dataReady=!0,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const i={uuid:this.uuid,url:""},s=this.data;if(s!==null){let o;if(Array.isArray(s)){o=[];for(let l=0,c=s.length;l<c;l++)s[l].isDataTexture?o.push(Bd(s[l].image)):o.push(Bd(s[l]))}else o=Bd(s);i.url=o}return e||(t.images[this.uuid]=i),i}}function Bd(h){return typeof HTMLImageElement<"u"&&h instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&h instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&h instanceof ImageBitmap?rM.getDataURL(h):h.data?{data:Array.from(h.data),width:h.width,height:h.height,type:h.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let nM=0;class de extends en{constructor(t=de.DEFAULT_IMAGE,e=de.DEFAULT_MAPPING,i=Fr,s=Fr,o=wr,l=uh,c=No,d=Op,p=de.DEFAULT_ANISOTROPY,m=lb){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:nM++}),this.uuid=or(),this.name="",this.source=new Pn(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=o,this.minFilter=l,this.anisotropy=p,this.format=c,this.internalFormat=null,this.type=d,this.offset=new $(0,0),this.repeat=new $(1,1),this.center=new $(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Hr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isTextureArray=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.renderTarget=t.renderTarget,this.isRenderTargetTexture=t.isRenderTargetTexture,this.isTextureArray=t.isTextureArray,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),e||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==Np)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case xp:t.x=t.x-Math.floor(t.x);break;case Fr:t.x=t.x<0?0:1;break;case wp:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case xp:t.y=t.y-Math.floor(t.y);break;case Fr:t.y=t.y<0?0:1;break;case wp:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){t===!0&&this.pmremVersion++}}de.DEFAULT_IMAGE=null;de.DEFAULT_MAPPING=Np;de.DEFAULT_ANISOTROPY=1;class ve{constructor(t=0,e=0,i=0,s=1){ve.prototype.isVector4=!0,this.x=t,this.y=e,this.z=i,this.w=s}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,s){return this.x=t,this.y=e,this.z=i,this.w=s,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,s=this.z,o=this.w,l=t.elements;return this.x=l[0]*e+l[4]*i+l[8]*s+l[12]*o,this.y=l[1]*e+l[5]*i+l[9]*s+l[13]*o,this.z=l[2]*e+l[6]*i+l[10]*s+l[14]*o,this.w=l[3]*e+l[7]*i+l[11]*s+l[15]*o,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,s,o;const l=t.elements,c=l[0],d=l[4],p=l[8],m=l[1],g=l[5],v=l[9],b=l[2],x=l[6],S=l[10];if(Math.abs(d-m)<.01&&Math.abs(p-b)<.01&&Math.abs(v-x)<.01){if(Math.abs(d+m)<.1&&Math.abs(p+b)<.1&&Math.abs(v+x)<.1&&Math.abs(c+g+S-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const M=(c+1)/2,T=(g+1)/2,A=(S+1)/2,C=(d+m)/4,N=(p+b)/4,B=(v+x)/4;return M>T&&M>A?M<.01?(i=0,s=.707106781,o=.707106781):(i=Math.sqrt(M),s=C/i,o=N/i):T>A?T<.01?(i=.707106781,s=0,o=.707106781):(s=Math.sqrt(T),i=C/s,o=B/s):A<.01?(i=.707106781,s=.707106781,o=0):(o=Math.sqrt(A),i=N/o,s=B/o),this.set(i,s,o,e),this}let _=Math.sqrt((x-v)*(x-v)+(p-b)*(p-b)+(m-d)*(m-d));return Math.abs(_)<.001&&(_=1),this.x=(x-v)/_,this.y=(p-b)/_,this.z=(m-d)/_,this.w=Math.acos((c+g+S-1)/2),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=vt(this.x,t.x,e.x),this.y=vt(this.y,t.y,e.y),this.z=vt(this.z,t.z,e.z),this.w=vt(this.w,t.w,e.w),this}clampScalar(t,e){return this.x=vt(this.x,t,e),this.y=vt(this.y,t,e),this.z=vt(this.z,t,e),this.w=vt(this.w,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(vt(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Fp extends en{constructor(t=1,e=1,i={}){super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=i.depth?i.depth:1,this.scissor=new ve(0,0,t,e),this.scissorTest=!1,this.viewport=new ve(0,0,t,e);const s={width:t,height:e,depth:this.depth};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:wr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,multiview:!1},i);const o=new de(s,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);o.flipY=!1,o.generateMipmaps=i.generateMipmaps,o.internalFormat=i.internalFormat,this.textures=[];const l=i.count;for(let c=0;c<l;c++)this.textures[c]=o.clone(),this.textures[c].isRenderTargetTexture=!0,this.textures[c].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}set depthTexture(t){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),t!==null&&(t.renderTarget=this),this._depthTexture=t}get depthTexture(){return this._depthTexture}setSize(t,e,i=1){if(this.width!==t||this.height!==e||this.depth!==i){this.width=t,this.height=e,this.depth=i;for(let s=0,o=this.textures.length;s<o;s++)this.textures[s].image.width=t,this.textures[s].image.height=e,this.textures[s].image.depth=i;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let e=0,i=t.textures.length;e<i;e++){this.textures[e]=t.textures[e].clone(),this.textures[e].isRenderTargetTexture=!0,this.textures[e].renderTarget=this;const s=Object.assign({},t.textures[e].image);this.textures[e].source=new Pn(s)}return this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Vp extends Fp{constructor(t=1,e=1,i={}){super(t,e,i),this.isWebGLRenderTarget=!0}}class ub extends de{constructor(t=null,e=1,i=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:i,depth:s},this.magFilter=Er,this.minFilter=Er,this.wrapR=Fr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class dC extends Vp{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new ub(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class hb extends de{constructor(t=null,e=1,i=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:i,depth:s},this.magFilter=Er,this.minFilter=Er,this.wrapR=Fr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class pC extends Vp{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new hb(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class lr{constructor(t=0,e=0,i=0,s=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=s}static slerpFlat(t,e,i,s,o,l,c){let d=i[s+0],p=i[s+1],m=i[s+2],g=i[s+3];const v=o[l+0],b=o[l+1],x=o[l+2],S=o[l+3];if(c===0){t[e+0]=d,t[e+1]=p,t[e+2]=m,t[e+3]=g;return}if(c===1){t[e+0]=v,t[e+1]=b,t[e+2]=x,t[e+3]=S;return}if(g!==S||d!==v||p!==b||m!==x){let _=1-c;const M=d*v+p*b+m*x+g*S,T=M>=0?1:-1,A=1-M*M;if(A>Number.EPSILON){const N=Math.sqrt(A),B=Math.atan2(N,M*T);_=Math.sin(_*B)/N,c=Math.sin(c*B)/N}const C=c*T;if(d=d*_+v*C,p=p*_+b*C,m=m*_+x*C,g=g*_+S*C,_===1-c){const N=1/Math.sqrt(d*d+p*p+m*m+g*g);d*=N,p*=N,m*=N,g*=N}}t[e]=d,t[e+1]=p,t[e+2]=m,t[e+3]=g}static multiplyQuaternionsFlat(t,e,i,s,o,l){const c=i[s],d=i[s+1],p=i[s+2],m=i[s+3],g=o[l],v=o[l+1],b=o[l+2],x=o[l+3];return t[e]=c*x+m*g+d*b-p*v,t[e+1]=d*x+m*v+p*g-c*b,t[e+2]=p*x+m*b+c*v-d*g,t[e+3]=m*x-c*g-d*v-p*b,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,s){return this._x=t,this._y=e,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const i=t._x,s=t._y,o=t._z,l=t._order,c=Math.cos,d=Math.sin,p=c(i/2),m=c(s/2),g=c(o/2),v=d(i/2),b=d(s/2),x=d(o/2);switch(l){case"XYZ":this._x=v*m*g+p*b*x,this._y=p*b*g-v*m*x,this._z=p*m*x+v*b*g,this._w=p*m*g-v*b*x;break;case"YXZ":this._x=v*m*g+p*b*x,this._y=p*b*g-v*m*x,this._z=p*m*x-v*b*g,this._w=p*m*g+v*b*x;break;case"ZXY":this._x=v*m*g-p*b*x,this._y=p*b*g+v*m*x,this._z=p*m*x+v*b*g,this._w=p*m*g-v*b*x;break;case"ZYX":this._x=v*m*g-p*b*x,this._y=p*b*g+v*m*x,this._z=p*m*x-v*b*g,this._w=p*m*g+v*b*x;break;case"YZX":this._x=v*m*g+p*b*x,this._y=p*b*g+v*m*x,this._z=p*m*x-v*b*g,this._w=p*m*g-v*b*x;break;case"XZY":this._x=v*m*g-p*b*x,this._y=p*b*g-v*m*x,this._z=p*m*x+v*b*g,this._w=p*m*g+v*b*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return e===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,s=Math.sin(i);return this._x=t.x*s,this._y=t.y*s,this._z=t.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],s=e[4],o=e[8],l=e[1],c=e[5],d=e[9],p=e[2],m=e[6],g=e[10],v=i+c+g;if(v>0){const b=.5/Math.sqrt(v+1);this._w=.25/b,this._x=(m-d)*b,this._y=(o-p)*b,this._z=(l-s)*b}else if(i>c&&i>g){const b=2*Math.sqrt(1+i-c-g);this._w=(m-d)/b,this._x=.25*b,this._y=(s+l)/b,this._z=(o+p)/b}else if(c>g){const b=2*Math.sqrt(1+c-i-g);this._w=(o-p)/b,this._x=(s+l)/b,this._y=.25*b,this._z=(d+m)/b}else{const b=2*Math.sqrt(1+g-i-c);this._w=(l-s)/b,this._x=(o+p)/b,this._y=(d+m)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(vt(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(i===0)return this;const s=Math.min(1,e/i);return this.slerp(t,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,s=t._y,o=t._z,l=t._w,c=e._x,d=e._y,p=e._z,m=e._w;return this._x=i*m+l*c+s*p-o*d,this._y=s*m+l*d+o*c-i*p,this._z=o*m+l*p+i*d-s*c,this._w=l*m-i*c-s*d-o*p,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const i=this._x,s=this._y,o=this._z,l=this._w;let c=l*t._w+i*t._x+s*t._y+o*t._z;if(c<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,c=-c):this.copy(t),c>=1)return this._w=l,this._x=i,this._y=s,this._z=o,this;const d=1-c*c;if(d<=Number.EPSILON){const b=1-e;return this._w=b*l+e*this._w,this._x=b*i+e*this._x,this._y=b*s+e*this._y,this._z=b*o+e*this._z,this.normalize(),this}const p=Math.sqrt(d),m=Math.atan2(p,c),g=Math.sin((1-e)*m)/p,v=Math.sin(e*m)/p;return this._w=l*g+this._w*v,this._x=i*g+this._x*v,this._y=s*g+this._y*v,this._z=o*g+this._z*v,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),i=Math.random(),s=Math.sqrt(1-i),o=Math.sqrt(i);return this.set(s*Math.sin(t),s*Math.cos(t),o*Math.sin(e),o*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class z{constructor(t=0,e=0,i=0){z.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return i===void 0&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(W0.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(W0.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,s=this.z,o=t.elements;return this.x=o[0]*e+o[3]*i+o[6]*s,this.y=o[1]*e+o[4]*i+o[7]*s,this.z=o[2]*e+o[5]*i+o[8]*s,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,s=this.z,o=t.elements,l=1/(o[3]*e+o[7]*i+o[11]*s+o[15]);return this.x=(o[0]*e+o[4]*i+o[8]*s+o[12])*l,this.y=(o[1]*e+o[5]*i+o[9]*s+o[13])*l,this.z=(o[2]*e+o[6]*i+o[10]*s+o[14])*l,this}applyQuaternion(t){const e=this.x,i=this.y,s=this.z,o=t.x,l=t.y,c=t.z,d=t.w,p=2*(l*s-c*i),m=2*(c*e-o*s),g=2*(o*i-l*e);return this.x=e+d*p+l*g-c*m,this.y=i+d*m+c*p-o*g,this.z=s+d*g+o*m-l*p,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,s=this.z,o=t.elements;return this.x=o[0]*e+o[4]*i+o[8]*s,this.y=o[1]*e+o[5]*i+o[9]*s,this.z=o[2]*e+o[6]*i+o[10]*s,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=vt(this.x,t.x,e.x),this.y=vt(this.y,t.y,e.y),this.z=vt(this.z,t.z,e.z),this}clampScalar(t,e){return this.x=vt(this.x,t,e),this.y=vt(this.y,t,e),this.z=vt(this.z,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(vt(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,s=t.y,o=t.z,l=e.x,c=e.y,d=e.z;return this.x=s*d-o*c,this.y=o*l-i*d,this.z=i*c-s*l,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return Dd.copy(this).projectOnVector(t),this.sub(Dd)}reflect(t){return this.sub(Dd.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(vt(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,s=this.z-t.z;return e*e+i*i+s*s}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const s=Math.sin(e)*t;return this.x=s*Math.sin(i),this.y=Math.cos(e)*t,this.z=s*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),s=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=s,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=Math.random()*2-1,i=Math.sqrt(1-e*e);return this.x=i*Math.cos(t),this.y=e,this.z=i*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Dd=new z,W0=new lr;class Be{constructor(t=new z(1/0,1/0,1/0),e=new z(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e+=3)this.expandByPoint(Ar.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,i=t.count;e<i;e++)this.expandByPoint(Ar.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=Ar.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const i=t.geometry;if(i!==void 0){const o=i.getAttribute("position");if(e===!0&&o!==void 0&&t.isInstancedMesh!==!0)for(let l=0,c=o.count;l<c;l++)t.isMesh===!0?t.getVertexPosition(l,Ar):Ar.fromBufferAttribute(o,l),Ar.applyMatrix4(t.matrixWorld),this.expandByPoint(Ar);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),su.copy(t.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),su.copy(i.boundingBox)),su.applyMatrix4(t.matrixWorld),this.union(su)}const s=t.children;for(let o=0,l=s.length;o<l;o++)this.expandByObject(s[o],e);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,Ar),Ar.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(ho),au.subVectors(this.max,ho),Es.subVectors(t.a,ho),Rs.subVectors(t.b,ho),Is.subVectors(t.c,ho),Ji.subVectors(Rs,Es),Gi.subVectors(Is,Rs),Sn.subVectors(Es,Is);let e=[0,-Ji.z,Ji.y,0,-Gi.z,Gi.y,0,-Sn.z,Sn.y,Ji.z,0,-Ji.x,Gi.z,0,-Gi.x,Sn.z,0,-Sn.x,-Ji.y,Ji.x,0,-Gi.y,Gi.x,0,-Sn.y,Sn.x,0];return!Fd(e,Es,Rs,Is,au)||(e=[1,0,0,0,1,0,0,0,1],!Fd(e,Es,Rs,Is,au))?!1:(ou.crossVectors(Ji,Gi),e=[ou.x,ou.y,ou.z],Fd(e,Es,Rs,Is,au))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Ar).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(Ar).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(ui[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),ui[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),ui[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),ui[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),ui[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),ui[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),ui[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),ui[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(ui),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const ui=[new z,new z,new z,new z,new z,new z,new z,new z],Ar=new z,su=new Be,Es=new z,Rs=new z,Is=new z,Ji=new z,Gi=new z,Sn=new z,ho=new z,au=new z,ou=new z,Mn=new z;function Fd(h,t,e,i,s){for(let o=0,l=h.length-3;o<=l;o+=3){Mn.fromArray(h,o);const c=s.x*Math.abs(Mn.x)+s.y*Math.abs(Mn.y)+s.z*Math.abs(Mn.z),d=t.dot(Mn),p=e.dot(Mn),m=i.dot(Mn);if(Math.max(-Math.max(d,p,m),Math.min(d,p,m))>c)return!1}return!0}const sM=new Be,co=new z,Vd=new z;class Ee{constructor(t=new z,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;e!==void 0?i.copy(e):sM.setFromPoints(t).getCenter(i);let s=0;for(let o=0,l=t.length;o<l;o++)s=Math.max(s,i.distanceToSquared(t[o]));return this.radius=Math.sqrt(s),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;co.subVectors(t,this.center);const e=co.lengthSq();if(e>this.radius*this.radius){const i=Math.sqrt(e),s=(i-this.radius)*.5;this.center.addScaledVector(co,s/i),this.radius+=s}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(Vd.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(co.copy(t.center).add(Vd)),this.expandByPoint(co.copy(t.center).sub(Vd))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const hi=new z,Ud=new z,lu=new z,Yi=new z,jd=new z,uu=new z,Wd=new z;class Vo{constructor(t=new z,e=new z(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,hi)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=hi.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(hi.copy(this.origin).addScaledVector(this.direction,e),hi.distanceToSquared(t))}distanceSqToSegment(t,e,i,s){Ud.copy(t).add(e).multiplyScalar(.5),lu.copy(e).sub(t).normalize(),Yi.copy(this.origin).sub(Ud);const o=t.distanceTo(e)*.5,l=-this.direction.dot(lu),c=Yi.dot(this.direction),d=-Yi.dot(lu),p=Yi.lengthSq(),m=Math.abs(1-l*l);let g,v,b,x;if(m>0)if(g=l*d-c,v=l*c-d,x=o*m,g>=0)if(v>=-x)if(v<=x){const S=1/m;g*=S,v*=S,b=g*(g+l*v+2*c)+v*(l*g+v+2*d)+p}else v=o,g=Math.max(0,-(l*v+c)),b=-g*g+v*(v+2*d)+p;else v=-o,g=Math.max(0,-(l*v+c)),b=-g*g+v*(v+2*d)+p;else v<=-x?(g=Math.max(0,-(-l*o+c)),v=g>0?-o:Math.min(Math.max(-o,-d),o),b=-g*g+v*(v+2*d)+p):v<=x?(g=0,v=Math.min(Math.max(-o,-d),o),b=v*(v+2*d)+p):(g=Math.max(0,-(l*o+c)),v=g>0?o:Math.min(Math.max(-o,-d),o),b=-g*g+v*(v+2*d)+p);else v=l>0?-o:o,g=Math.max(0,-(l*v+c)),b=-g*g+v*(v+2*d)+p;return i&&i.copy(this.origin).addScaledVector(this.direction,g),s&&s.copy(Ud).addScaledVector(lu,v),b}intersectSphere(t,e){hi.subVectors(t.center,this.origin);const i=hi.dot(this.direction),s=hi.dot(hi)-i*i,o=t.radius*t.radius;if(s>o)return null;const l=Math.sqrt(o-s),c=i-l,d=i+l;return d<0?null:c<0?this.at(d,e):this.at(c,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return i===null?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,s,o,l,c,d;const p=1/this.direction.x,m=1/this.direction.y,g=1/this.direction.z,v=this.origin;return p>=0?(i=(t.min.x-v.x)*p,s=(t.max.x-v.x)*p):(i=(t.max.x-v.x)*p,s=(t.min.x-v.x)*p),m>=0?(o=(t.min.y-v.y)*m,l=(t.max.y-v.y)*m):(o=(t.max.y-v.y)*m,l=(t.min.y-v.y)*m),i>l||o>s||((o>i||isNaN(i))&&(i=o),(l<s||isNaN(s))&&(s=l),g>=0?(c=(t.min.z-v.z)*g,d=(t.max.z-v.z)*g):(c=(t.max.z-v.z)*g,d=(t.min.z-v.z)*g),i>d||c>s)||((c>i||i!==i)&&(i=c),(d<s||s!==s)&&(s=d),s<0)?null:this.at(i>=0?i:s,e)}intersectsBox(t){return this.intersectBox(t,hi)!==null}intersectTriangle(t,e,i,s,o){jd.subVectors(e,t),uu.subVectors(i,t),Wd.crossVectors(jd,uu);let l=this.direction.dot(Wd),c;if(l>0){if(s)return null;c=1}else if(l<0)c=-1,l=-l;else return null;Yi.subVectors(this.origin,t);const d=c*this.direction.dot(uu.crossVectors(Yi,uu));if(d<0)return null;const p=c*this.direction.dot(jd.cross(Yi));if(p<0||d+p>l)return null;const m=-c*Yi.dot(Wd);return m<0?null:this.at(m/l,o)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class St{constructor(t,e,i,s,o,l,c,d,p,m,g,v,b,x,S,_){St.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,e,i,s,o,l,c,d,p,m,g,v,b,x,S,_)}set(t,e,i,s,o,l,c,d,p,m,g,v,b,x,S,_){const M=this.elements;return M[0]=t,M[4]=e,M[8]=i,M[12]=s,M[1]=o,M[5]=l,M[9]=c,M[13]=d,M[2]=p,M[6]=m,M[10]=g,M[14]=v,M[3]=b,M[7]=x,M[11]=S,M[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new St().fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,s=1/Ns.setFromMatrixColumn(t,0).length(),o=1/Ns.setFromMatrixColumn(t,1).length(),l=1/Ns.setFromMatrixColumn(t,2).length();return e[0]=i[0]*s,e[1]=i[1]*s,e[2]=i[2]*s,e[3]=0,e[4]=i[4]*o,e[5]=i[5]*o,e[6]=i[6]*o,e[7]=0,e[8]=i[8]*l,e[9]=i[9]*l,e[10]=i[10]*l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,i=t.x,s=t.y,o=t.z,l=Math.cos(i),c=Math.sin(i),d=Math.cos(s),p=Math.sin(s),m=Math.cos(o),g=Math.sin(o);if(t.order==="XYZ"){const v=l*m,b=l*g,x=c*m,S=c*g;e[0]=d*m,e[4]=-d*g,e[8]=p,e[1]=b+x*p,e[5]=v-S*p,e[9]=-c*d,e[2]=S-v*p,e[6]=x+b*p,e[10]=l*d}else if(t.order==="YXZ"){const v=d*m,b=d*g,x=p*m,S=p*g;e[0]=v+S*c,e[4]=x*c-b,e[8]=l*p,e[1]=l*g,e[5]=l*m,e[9]=-c,e[2]=b*c-x,e[6]=S+v*c,e[10]=l*d}else if(t.order==="ZXY"){const v=d*m,b=d*g,x=p*m,S=p*g;e[0]=v-S*c,e[4]=-l*g,e[8]=x+b*c,e[1]=b+x*c,e[5]=l*m,e[9]=S-v*c,e[2]=-l*p,e[6]=c,e[10]=l*d}else if(t.order==="ZYX"){const v=l*m,b=l*g,x=c*m,S=c*g;e[0]=d*m,e[4]=x*p-b,e[8]=v*p+S,e[1]=d*g,e[5]=S*p+v,e[9]=b*p-x,e[2]=-p,e[6]=c*d,e[10]=l*d}else if(t.order==="YZX"){const v=l*d,b=l*p,x=c*d,S=c*p;e[0]=d*m,e[4]=S-v*g,e[8]=x*g+b,e[1]=g,e[5]=l*m,e[9]=-c*m,e[2]=-p*m,e[6]=b*g+x,e[10]=v-S*g}else if(t.order==="XZY"){const v=l*d,b=l*p,x=c*d,S=c*p;e[0]=d*m,e[4]=-g,e[8]=p*m,e[1]=v*g+S,e[5]=l*m,e[9]=b*g-x,e[2]=x*g-b,e[6]=c*m,e[10]=S*g+v}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(aM,t,oM)}lookAt(t,e,i){const s=this.elements;return ir.subVectors(t,e),ir.lengthSq()===0&&(ir.z=1),ir.normalize(),Zi.crossVectors(i,ir),Zi.lengthSq()===0&&(Math.abs(i.z)===1?ir.x+=1e-4:ir.z+=1e-4,ir.normalize(),Zi.crossVectors(i,ir)),Zi.normalize(),hu.crossVectors(ir,Zi),s[0]=Zi.x,s[4]=hu.x,s[8]=ir.x,s[1]=Zi.y,s[5]=hu.y,s[9]=ir.y,s[2]=Zi.z,s[6]=hu.z,s[10]=ir.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,o=this.elements,l=i[0],c=i[4],d=i[8],p=i[12],m=i[1],g=i[5],v=i[9],b=i[13],x=i[2],S=i[6],_=i[10],M=i[14],T=i[3],A=i[7],C=i[11],N=i[15],B=s[0],j=s[4],D=s[8],G=s[12],Z=s[1],it=s[5],lt=s[9],mt=s[13],xt=s[2],_t=s[6],U=s[10],X=s[14],at=s[3],ft=s[7],R=s[11],q=s[15];return o[0]=l*B+c*Z+d*xt+p*at,o[4]=l*j+c*it+d*_t+p*ft,o[8]=l*D+c*lt+d*U+p*R,o[12]=l*G+c*mt+d*X+p*q,o[1]=m*B+g*Z+v*xt+b*at,o[5]=m*j+g*it+v*_t+b*ft,o[9]=m*D+g*lt+v*U+b*R,o[13]=m*G+g*mt+v*X+b*q,o[2]=x*B+S*Z+_*xt+M*at,o[6]=x*j+S*it+_*_t+M*ft,o[10]=x*D+S*lt+_*U+M*R,o[14]=x*G+S*mt+_*X+M*q,o[3]=T*B+A*Z+C*xt+N*at,o[7]=T*j+A*it+C*_t+N*ft,o[11]=T*D+A*lt+C*U+N*R,o[15]=T*G+A*mt+C*X+N*q,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],s=t[8],o=t[12],l=t[1],c=t[5],d=t[9],p=t[13],m=t[2],g=t[6],v=t[10],b=t[14],x=t[3],S=t[7],_=t[11],M=t[15];return x*(+o*d*g-s*p*g-o*c*v+i*p*v+s*c*b-i*d*b)+S*(+e*d*b-e*p*v+o*l*v-s*l*b+s*p*m-o*d*m)+_*(+e*p*g-e*c*b-o*l*g+i*l*b+o*c*m-i*p*m)+M*(-s*c*m-e*d*g+e*c*v+s*l*g-i*l*v+i*d*m)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const s=this.elements;return t.isVector3?(s[12]=t.x,s[13]=t.y,s[14]=t.z):(s[12]=t,s[13]=e,s[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],o=t[3],l=t[4],c=t[5],d=t[6],p=t[7],m=t[8],g=t[9],v=t[10],b=t[11],x=t[12],S=t[13],_=t[14],M=t[15],T=g*_*p-S*v*p+S*d*b-c*_*b-g*d*M+c*v*M,A=x*v*p-m*_*p-x*d*b+l*_*b+m*d*M-l*v*M,C=m*S*p-x*g*p+x*c*b-l*S*b-m*c*M+l*g*M,N=x*g*d-m*S*d-x*c*v+l*S*v+m*c*_-l*g*_,B=e*T+i*A+s*C+o*N;if(B===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const j=1/B;return t[0]=T*j,t[1]=(S*v*o-g*_*o-S*s*b+i*_*b+g*s*M-i*v*M)*j,t[2]=(c*_*o-S*d*o+S*s*p-i*_*p-c*s*M+i*d*M)*j,t[3]=(g*d*o-c*v*o-g*s*p+i*v*p+c*s*b-i*d*b)*j,t[4]=A*j,t[5]=(m*_*o-x*v*o+x*s*b-e*_*b-m*s*M+e*v*M)*j,t[6]=(x*d*o-l*_*o-x*s*p+e*_*p+l*s*M-e*d*M)*j,t[7]=(l*v*o-m*d*o+m*s*p-e*v*p-l*s*b+e*d*b)*j,t[8]=C*j,t[9]=(x*g*o-m*S*o-x*i*b+e*S*b+m*i*M-e*g*M)*j,t[10]=(l*S*o-x*c*o+x*i*p-e*S*p-l*i*M+e*c*M)*j,t[11]=(m*c*o-l*g*o-m*i*p+e*g*p+l*i*b-e*c*b)*j,t[12]=N*j,t[13]=(m*S*s-x*g*s+x*i*v-e*S*v-m*i*_+e*g*_)*j,t[14]=(x*c*s-l*S*s-x*i*d+e*S*d+l*i*_-e*c*_)*j,t[15]=(l*g*s-m*c*s+m*i*d-e*g*d-l*i*v+e*c*v)*j,this}scale(t){const e=this.elements,i=t.x,s=t.y,o=t.z;return e[0]*=i,e[4]*=s,e[8]*=o,e[1]*=i,e[5]*=s,e[9]*=o,e[2]*=i,e[6]*=s,e[10]*=o,e[3]*=i,e[7]*=s,e[11]*=o,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],s=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,s))}makeTranslation(t,e,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),s=Math.sin(e),o=1-i,l=t.x,c=t.y,d=t.z,p=o*l,m=o*c;return this.set(p*l+i,p*c-s*d,p*d+s*c,0,p*c+s*d,m*c+i,m*d-s*l,0,p*d-s*c,m*d+s*l,o*d*d+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,s,o,l){return this.set(1,i,o,0,t,1,l,0,e,s,1,0,0,0,0,1),this}compose(t,e,i){const s=this.elements,o=e._x,l=e._y,c=e._z,d=e._w,p=o+o,m=l+l,g=c+c,v=o*p,b=o*m,x=o*g,S=l*m,_=l*g,M=c*g,T=d*p,A=d*m,C=d*g,N=i.x,B=i.y,j=i.z;return s[0]=(1-(S+M))*N,s[1]=(b+C)*N,s[2]=(x-A)*N,s[3]=0,s[4]=(b-C)*B,s[5]=(1-(v+M))*B,s[6]=(_+T)*B,s[7]=0,s[8]=(x+A)*j,s[9]=(_-T)*j,s[10]=(1-(v+S))*j,s[11]=0,s[12]=t.x,s[13]=t.y,s[14]=t.z,s[15]=1,this}decompose(t,e,i){const s=this.elements;let o=Ns.set(s[0],s[1],s[2]).length();const l=Ns.set(s[4],s[5],s[6]).length(),c=Ns.set(s[8],s[9],s[10]).length();this.determinant()<0&&(o=-o),t.x=s[12],t.y=s[13],t.z=s[14],Cr.copy(this);const d=1/o,p=1/l,m=1/c;return Cr.elements[0]*=d,Cr.elements[1]*=d,Cr.elements[2]*=d,Cr.elements[4]*=p,Cr.elements[5]*=p,Cr.elements[6]*=p,Cr.elements[8]*=m,Cr.elements[9]*=m,Cr.elements[10]*=m,e.setFromRotationMatrix(Cr),i.x=o,i.y=l,i.z=c,this}makePerspective(t,e,i,s,o,l,c=Vr){const d=this.elements,p=2*o/(e-t),m=2*o/(i-s),g=(e+t)/(e-t),v=(i+s)/(i-s);let b,x;if(c===Vr)b=-(l+o)/(l-o),x=-2*l*o/(l-o);else if(c===Ku)b=-l/(l-o),x=-l*o/(l-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+c);return d[0]=p,d[4]=0,d[8]=g,d[12]=0,d[1]=0,d[5]=m,d[9]=v,d[13]=0,d[2]=0,d[6]=0,d[10]=b,d[14]=x,d[3]=0,d[7]=0,d[11]=-1,d[15]=0,this}makeOrthographic(t,e,i,s,o,l,c=Vr){const d=this.elements,p=1/(e-t),m=1/(i-s),g=1/(l-o),v=(e+t)*p,b=(i+s)*m;let x,S;if(c===Vr)x=(l+o)*g,S=-2*g;else if(c===Ku)x=o*g,S=-1*g;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+c);return d[0]=2*p,d[4]=0,d[8]=0,d[12]=-v,d[1]=0,d[5]=2*m,d[9]=0,d[13]=-b,d[2]=0,d[6]=0,d[10]=S,d[14]=-x,d[3]=0,d[7]=0,d[11]=0,d[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let s=0;s<16;s++)if(e[s]!==i[s])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}const Ns=new z,Cr=new St,aM=new z(0,0,0),oM=new z(1,1,1),Zi=new z,hu=new z,ir=new z,H0=new St,q0=new lr;class jr{constructor(t=0,e=0,i=0,s=jr.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=i,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,s=this._order){return this._x=t,this._y=e,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,i=!0){const s=t.elements,o=s[0],l=s[4],c=s[8],d=s[1],p=s[5],m=s[9],g=s[2],v=s[6],b=s[10];switch(e){case"XYZ":this._y=Math.asin(vt(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-m,b),this._z=Math.atan2(-l,o)):(this._x=Math.atan2(v,p),this._z=0);break;case"YXZ":this._x=Math.asin(-vt(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(c,b),this._z=Math.atan2(d,p)):(this._y=Math.atan2(-g,o),this._z=0);break;case"ZXY":this._x=Math.asin(vt(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-g,b),this._z=Math.atan2(-l,p)):(this._y=0,this._z=Math.atan2(d,o));break;case"ZYX":this._y=Math.asin(-vt(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(v,b),this._z=Math.atan2(d,o)):(this._x=0,this._z=Math.atan2(-l,p));break;case"YZX":this._z=Math.asin(vt(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-m,p),this._y=Math.atan2(-g,o)):(this._x=0,this._y=Math.atan2(c,b));break;case"XZY":this._z=Math.asin(-vt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(v,p),this._y=Math.atan2(c,o)):(this._x=Math.atan2(-m,b),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,i===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,i){return H0.makeRotationFromQuaternion(t),this.setFromRotationMatrix(H0,e,i)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return q0.setFromEuler(this),this.setFromQuaternion(q0,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}jr.DEFAULT_ORDER="XYZ";class cb{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let lM=0;const J0=new z,Ps=new lr,ci=new St,cu=new z,po=new z,uM=new z,hM=new lr,G0=new z(1,0,0),Y0=new z(0,1,0),Z0=new z(0,0,1),$0={type:"added"},cM={type:"removed"},Os={type:"childadded",child:null},Hd={type:"childremoved",child:null};class Bt extends en{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:lM++}),this.uuid=or(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Bt.DEFAULT_UP.clone();const t=new z,e=new jr,i=new lr,s=new z(1,1,1);function o(){i.setFromEuler(e,!1)}function l(){e.setFromQuaternion(i,void 0,!1)}e._onChange(o),i._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new St},normalMatrix:{value:new Hr}}),this.matrix=new St,this.matrixWorld=new St,this.matrixAutoUpdate=Bt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Bt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new cb,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return Ps.setFromAxisAngle(t,e),this.quaternion.multiply(Ps),this}rotateOnWorldAxis(t,e){return Ps.setFromAxisAngle(t,e),this.quaternion.premultiply(Ps),this}rotateX(t){return this.rotateOnAxis(G0,t)}rotateY(t){return this.rotateOnAxis(Y0,t)}rotateZ(t){return this.rotateOnAxis(Z0,t)}translateOnAxis(t,e){return J0.copy(t).applyQuaternion(this.quaternion),this.position.add(J0.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(G0,t)}translateY(t){return this.translateOnAxis(Y0,t)}translateZ(t){return this.translateOnAxis(Z0,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(ci.copy(this.matrixWorld).invert())}lookAt(t,e,i){t.isVector3?cu.copy(t):cu.set(t,e,i);const s=this.parent;this.updateWorldMatrix(!0,!1),po.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ci.lookAt(po,cu,this.up):ci.lookAt(cu,po,this.up),this.quaternion.setFromRotationMatrix(ci),s&&(ci.extractRotation(s.matrixWorld),Ps.setFromRotationMatrix(ci),this.quaternion.premultiply(Ps.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent($0),Os.child=t,this.dispatchEvent(Os),Os.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(cM),Hd.child=t,this.dispatchEvent(Hd),Hd.child=null),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),ci.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),ci.multiply(t.parent.matrixWorld)),t.applyMatrix4(ci),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent($0),Os.child=t,this.dispatchEvent(Os),Os.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectByProperty(t,e);if(o!==void 0)return o}}getObjectsByProperty(t,e,i=[]){this[t]===e&&i.push(this);const s=this.children;for(let o=0,l=s.length;o<l;o++)s[o].getObjectsByProperty(t,e,i);return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(po,t,uM),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(po,hM,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].updateMatrixWorld(t)}updateWorldMatrix(t,e){const i=this.parent;if(t===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),e===!0){const s=this.children;for(let o=0,l=s.length;o<l;o++)s[o].updateWorldMatrix(!1,!0)}}toJSON(t){const e=t===void 0||typeof t=="string",i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.geometryInfo=this._geometryInfo.map(c=>({...c,boundingBox:c.boundingBox?{min:c.boundingBox.min.toArray(),max:c.boundingBox.max.toArray()}:void 0,boundingSphere:c.boundingSphere?{radius:c.boundingSphere.radius,center:c.boundingSphere.center.toArray()}:void 0})),s.instanceInfo=this._instanceInfo.map(c=>({...c})),s.availableInstanceIds=this._availableInstanceIds.slice(),s.availableGeometryIds=this._availableGeometryIds.slice(),s.nextIndexStart=this._nextIndexStart,s.nextVertexStart=this._nextVertexStart,s.geometryCount=this._geometryCount,s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.matricesTexture=this._matricesTexture.toJSON(t),s.indirectTexture=this._indirectTexture.toJSON(t),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(t)),this.boundingSphere!==null&&(s.boundingSphere={center:this.boundingSphere.center.toArray(),radius:this.boundingSphere.radius}),this.boundingBox!==null&&(s.boundingBox={min:this.boundingBox.min.toArray(),max:this.boundingBox.max.toArray()}));function o(c,d){return c[d.uuid]===void 0&&(c[d.uuid]=d.toJSON(t)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=o(t.geometries,this.geometry);const c=this.geometry.parameters;if(c!==void 0&&c.shapes!==void 0){const d=c.shapes;if(Array.isArray(d))for(let p=0,m=d.length;p<m;p++){const g=d[p];o(t.shapes,g)}else o(t.shapes,d)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const c=[];for(let d=0,p=this.material.length;d<p;d++)c.push(o(t.materials,this.material[d]));s.material=c}else s.material=o(t.materials,this.material);if(this.children.length>0){s.children=[];for(let c=0;c<this.children.length;c++)s.children.push(this.children[c].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let c=0;c<this.animations.length;c++){const d=this.animations[c];s.animations.push(o(t.animations,d))}}if(e){const c=l(t.geometries),d=l(t.materials),p=l(t.textures),m=l(t.images),g=l(t.shapes),v=l(t.skeletons),b=l(t.animations),x=l(t.nodes);c.length>0&&(i.geometries=c),d.length>0&&(i.materials=d),p.length>0&&(i.textures=p),m.length>0&&(i.images=m),g.length>0&&(i.shapes=g),v.length>0&&(i.skeletons=v),b.length>0&&(i.animations=b),x.length>0&&(i.nodes=x)}return i.object=s,i;function l(c){const d=[];for(const p in c){const m=c[p];delete m.metadata,d.push(m)}return d}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let i=0;i<t.children.length;i++){const s=t.children[i];this.add(s.clone())}return this}}Bt.DEFAULT_UP=new z(0,1,0);Bt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Bt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const zr=new z,di=new z,qd=new z,pi=new z,Ls=new z,Bs=new z,X0=new z,Jd=new z,Gd=new z,Yd=new z,Zd=new ve,$d=new ve,Xd=new ve;class ar{constructor(t=new z,e=new z,i=new z){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,s){s.subVectors(i,e),zr.subVectors(t,e),s.cross(zr);const o=s.lengthSq();return o>0?s.multiplyScalar(1/Math.sqrt(o)):s.set(0,0,0)}static getBarycoord(t,e,i,s,o){zr.subVectors(s,e),di.subVectors(i,e),qd.subVectors(t,e);const l=zr.dot(zr),c=zr.dot(di),d=zr.dot(qd),p=di.dot(di),m=di.dot(qd),g=l*p-c*c;if(g===0)return o.set(0,0,0),null;const v=1/g,b=(p*d-c*m)*v,x=(l*m-c*d)*v;return o.set(1-b-x,x,b)}static containsPoint(t,e,i,s){return this.getBarycoord(t,e,i,s,pi)===null?!1:pi.x>=0&&pi.y>=0&&pi.x+pi.y<=1}static getInterpolation(t,e,i,s,o,l,c,d){return this.getBarycoord(t,e,i,s,pi)===null?(d.x=0,d.y=0,"z"in d&&(d.z=0),"w"in d&&(d.w=0),null):(d.setScalar(0),d.addScaledVector(o,pi.x),d.addScaledVector(l,pi.y),d.addScaledVector(c,pi.z),d)}static getInterpolatedAttribute(t,e,i,s,o,l){return Zd.setScalar(0),$d.setScalar(0),Xd.setScalar(0),Zd.fromBufferAttribute(t,e),$d.fromBufferAttribute(t,i),Xd.fromBufferAttribute(t,s),l.setScalar(0),l.addScaledVector(Zd,o.x),l.addScaledVector($d,o.y),l.addScaledVector(Xd,o.z),l}static isFrontFacing(t,e,i,s){return zr.subVectors(i,e),di.subVectors(t,e),zr.cross(di).dot(s)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,s){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[s]),this}setFromAttributeAndIndices(t,e,i,s){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,s),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return zr.subVectors(this.c,this.b),di.subVectors(this.a,this.b),zr.cross(di).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return ar.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return ar.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,i,s,o){return ar.getInterpolation(t,this.a,this.b,this.c,e,i,s,o)}containsPoint(t){return ar.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return ar.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,s=this.b,o=this.c;let l,c;Ls.subVectors(s,i),Bs.subVectors(o,i),Jd.subVectors(t,i);const d=Ls.dot(Jd),p=Bs.dot(Jd);if(d<=0&&p<=0)return e.copy(i);Gd.subVectors(t,s);const m=Ls.dot(Gd),g=Bs.dot(Gd);if(m>=0&&g<=m)return e.copy(s);const v=d*g-m*p;if(v<=0&&d>=0&&m<=0)return l=d/(d-m),e.copy(i).addScaledVector(Ls,l);Yd.subVectors(t,o);const b=Ls.dot(Yd),x=Bs.dot(Yd);if(x>=0&&b<=x)return e.copy(o);const S=b*p-d*x;if(S<=0&&p>=0&&x<=0)return c=p/(p-x),e.copy(i).addScaledVector(Bs,c);const _=m*x-b*g;if(_<=0&&g-m>=0&&b-x>=0)return X0.subVectors(o,s),c=(g-m)/(g-m+(b-x)),e.copy(s).addScaledVector(X0,c);const M=1/(_+S+v);return l=S*M,c=v*M,e.copy(i).addScaledVector(Ls,l).addScaledVector(Bs,c)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const db={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},$i={h:0,s:0,l:0},du={h:0,s:0,l:0};function Qd(h,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?h+(t-h)*6*e:e<1/2?t:e<2/3?h+(t-h)*6*(2/3-e):h}class bt{constructor(t,e,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,i)}set(t,e,i){if(e===void 0&&i===void 0){const s=t;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(t,e,i);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=br){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,sr.toWorkingColorSpace(this,e),this}setRGB(t,e,i,s=sr.workingColorSpace){return this.r=t,this.g=e,this.b=i,sr.toWorkingColorSpace(this,s),this}setHSL(t,e,i,s=sr.workingColorSpace){if(t=Dp(t,1),e=vt(e,0,1),i=vt(i,0,1),e===0)this.r=this.g=this.b=i;else{const o=i<=.5?i*(1+e):i+e-i*e,l=2*i-o;this.r=Qd(l,o,t+1/3),this.g=Qd(l,o,t),this.b=Qd(l,o,t-1/3)}return sr.toWorkingColorSpace(this,s),this}setStyle(t,e=br){function i(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(t)){let o;const l=s[1],c=s[2];switch(l){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,e);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,e);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(t)){const o=s[1],l=o.length;if(l===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,e);if(l===6)return this.setHex(parseInt(o,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=br){const i=db[t.toLowerCase()];return i!==void 0?this.setHex(i,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=yi(t.r),this.g=yi(t.g),this.b=yi(t.b),this}copyLinearToSRGB(t){return this.r=$s(t.r),this.g=$s(t.g),this.b=$s(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=br){return sr.fromWorkingColorSpace(Ce.copy(this),t),Math.round(vt(Ce.r*255,0,255))*65536+Math.round(vt(Ce.g*255,0,255))*256+Math.round(vt(Ce.b*255,0,255))}getHexString(t=br){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=sr.workingColorSpace){sr.fromWorkingColorSpace(Ce.copy(this),e);const i=Ce.r,s=Ce.g,o=Ce.b,l=Math.max(i,s,o),c=Math.min(i,s,o);let d,p;const m=(c+l)/2;if(c===l)d=0,p=0;else{const g=l-c;switch(p=m<=.5?g/(l+c):g/(2-l-c),l){case i:d=(s-o)/g+(s<o?6:0);break;case s:d=(o-i)/g+2;break;case o:d=(i-s)/g+4;break}d/=6}return t.h=d,t.s=p,t.l=m,t}getRGB(t,e=sr.workingColorSpace){return sr.fromWorkingColorSpace(Ce.copy(this),e),t.r=Ce.r,t.g=Ce.g,t.b=Ce.b,t}getStyle(t=br){sr.fromWorkingColorSpace(Ce.copy(this),t);const e=Ce.r,i=Ce.g,s=Ce.b;return t!==br?`color(${t} ${e.toFixed(3)} ${i.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(e*255)},${Math.round(i*255)},${Math.round(s*255)})`}offsetHSL(t,e,i){return this.getHSL($i),this.setHSL($i.h+t,$i.s+e,$i.l+i)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL($i),t.getHSL(du);const i=Eo($i.h,du.h,e),s=Eo($i.s,du.s,e),o=Eo($i.l,du.l,e);return this.setHSL(i,s,o),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,i=this.g,s=this.b,o=t.elements;return this.r=o[0]*e+o[3]*i+o[6]*s,this.g=o[1]*e+o[4]*i+o[7]*s,this.b=o[2]*e+o[5]*i+o[8]*s,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ce=new bt;bt.NAMES=db;let dM=0;class De extends en{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:dM++}),this.uuid=or(),this.name="",this.type="Material",this.blending=z0,this.side=bp,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=R0,this.blendDst=I0,this.blendEquation=E0,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new bt(0,0,0),this.blendAlpha=0,this.depthFunc=N0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=D0,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Cs,this.stencilZFail=Cs,this.stencilZPass=Cs,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const i=t[e];if(i===void 0){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const s=this[e];if(s===void 0){console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[e]=i}}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==z0&&(i.blending=this.blending),this.side!==bp&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==R0&&(i.blendSrc=this.blendSrc),this.blendDst!==I0&&(i.blendDst=this.blendDst),this.blendEquation!==E0&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==N0&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==D0&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Cs&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Cs&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Cs&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function s(o){const l=[];for(const c in o){const d=o[c];delete d.metadata,l.push(d)}return l}if(e){const o=s(t.textures),l=s(t.images);o.length>0&&(i.textures=o),l.length>0&&(i.images=l)}return i}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(e!==null){const s=e.length;i=new Array(s);for(let o=0;o!==s;++o)i[o]=e[o].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}}class aa extends De{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new bt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new jr,this.combine=Ip,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const mi=pM();function pM(){const h=new ArrayBuffer(4),t=new Float32Array(h),e=new Uint32Array(h),i=new Uint32Array(512),s=new Uint32Array(512);for(let d=0;d<256;++d){const p=d-127;p<-27?(i[d]=0,i[d|256]=32768,s[d]=24,s[d|256]=24):p<-14?(i[d]=1024>>-p-14,i[d|256]=1024>>-p-14|32768,s[d]=-p-1,s[d|256]=-p-1):p<=15?(i[d]=p+15<<10,i[d|256]=p+15<<10|32768,s[d]=13,s[d|256]=13):p<128?(i[d]=31744,i[d|256]=64512,s[d]=24,s[d|256]=24):(i[d]=31744,i[d|256]=64512,s[d]=13,s[d|256]=13)}const o=new Uint32Array(2048),l=new Uint32Array(64),c=new Uint32Array(64);for(let d=1;d<1024;++d){let p=d<<13,m=0;for(;(p&8388608)===0;)p<<=1,m-=8388608;p&=-8388609,m+=947912704,o[d]=p|m}for(let d=1024;d<2048;++d)o[d]=939524096+(d-1024<<13);for(let d=1;d<31;++d)l[d]=d<<23;l[31]=1199570944,l[32]=2147483648;for(let d=33;d<63;++d)l[d]=2147483648+(d-32<<23);l[63]=3347054592;for(let d=1;d<64;++d)d!==32&&(c[d]=1024);return{floatView:t,uint32View:e,baseTable:i,shiftTable:s,mantissaTable:o,exponentTable:l,offsetTable:c}}function Je(h){Math.abs(h)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),h=vt(h,-65504,65504),mi.floatView[0]=h;const t=mi.uint32View[0],e=t>>23&511;return mi.baseTable[e]+((t&8388607)>>mi.shiftTable[e])}function To(h){const t=h>>10;return mi.uint32View[0]=mi.mantissaTable[mi.offsetTable[t]+(h&1023)]+mi.exponentTable[t],mi.floatView[0]}class fC{static toHalfFloat(t){return Je(t)}static fromHalfFloat(t){return To(t)}}const ue=new z,pu=new $;let fM=0;class Qt{constructor(t,e,i=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:fM++}),this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=i,this.usage=Qu,this.updateRanges=[],this.gpuType=Qs,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let s=0,o=this.itemSize;s<o;s++)this.array[t+s]=e.array[i+s];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,i=this.count;e<i;e++)pu.fromBufferAttribute(this,e),pu.applyMatrix3(t),this.setXY(e,pu.x,pu.y);else if(this.itemSize===3)for(let e=0,i=this.count;e<i;e++)ue.fromBufferAttribute(this,e),ue.applyMatrix3(t),this.setXYZ(e,ue.x,ue.y,ue.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)ue.fromBufferAttribute(this,e),ue.applyMatrix4(t),this.setXYZ(e,ue.x,ue.y,ue.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)ue.fromBufferAttribute(this,e),ue.applyNormalMatrix(t),this.setXYZ(e,ue.x,ue.y,ue.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)ue.fromBufferAttribute(this,e),ue.transformDirection(t),this.setXYZ(e,ue.x,ue.y,ue.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let i=this.array[t*this.itemSize+e];return this.normalized&&(i=Le(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=wt(i,this.array)),this.array[t*this.itemSize+e]=i,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=Le(e,this.array)),e}setX(t,e){return this.normalized&&(e=wt(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=Le(e,this.array)),e}setY(t,e){return this.normalized&&(e=wt(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=Le(e,this.array)),e}setZ(t,e){return this.normalized&&(e=wt(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=Le(e,this.array)),e}setW(t,e){return this.normalized&&(e=wt(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=wt(e,this.array),i=wt(i,this.array)),this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,s){return t*=this.itemSize,this.normalized&&(e=wt(e,this.array),i=wt(i,this.array),s=wt(s,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=s,this}setXYZW(t,e,i,s,o){return t*=this.itemSize,this.normalized&&(e=wt(e,this.array),i=wt(i,this.array),s=wt(s,this.array),o=wt(o,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=s,this.array[t+3]=o,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==Qu&&(t.usage=this.usage),t}}class mC extends Qt{constructor(t,e,i){super(new Int8Array(t),e,i)}}class yC extends Qt{constructor(t,e,i){super(new Uint8Array(t),e,i)}}class gC extends Qt{constructor(t,e,i){super(new Uint8ClampedArray(t),e,i)}}class vC extends Qt{constructor(t,e,i){super(new Int16Array(t),e,i)}}class mM extends Qt{constructor(t,e,i){super(new Uint16Array(t),e,i)}}class bC extends Qt{constructor(t,e,i){super(new Int32Array(t),e,i)}}class yM extends Qt{constructor(t,e,i){super(new Uint32Array(t),e,i)}}class xC extends Qt{constructor(t,e,i){super(new Uint16Array(t),e,i),this.isFloat16BufferAttribute=!0}getX(t){let e=To(this.array[t*this.itemSize]);return this.normalized&&(e=Le(e,this.array)),e}setX(t,e){return this.normalized&&(e=wt(e,this.array)),this.array[t*this.itemSize]=Je(e),this}getY(t){let e=To(this.array[t*this.itemSize+1]);return this.normalized&&(e=Le(e,this.array)),e}setY(t,e){return this.normalized&&(e=wt(e,this.array)),this.array[t*this.itemSize+1]=Je(e),this}getZ(t){let e=To(this.array[t*this.itemSize+2]);return this.normalized&&(e=Le(e,this.array)),e}setZ(t,e){return this.normalized&&(e=wt(e,this.array)),this.array[t*this.itemSize+2]=Je(e),this}getW(t){let e=To(this.array[t*this.itemSize+3]);return this.normalized&&(e=Le(e,this.array)),e}setW(t,e){return this.normalized&&(e=wt(e,this.array)),this.array[t*this.itemSize+3]=Je(e),this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=wt(e,this.array),i=wt(i,this.array)),this.array[t+0]=Je(e),this.array[t+1]=Je(i),this}setXYZ(t,e,i,s){return t*=this.itemSize,this.normalized&&(e=wt(e,this.array),i=wt(i,this.array),s=wt(s,this.array)),this.array[t+0]=Je(e),this.array[t+1]=Je(i),this.array[t+2]=Je(s),this}setXYZW(t,e,i,s,o){return t*=this.itemSize,this.normalized&&(e=wt(e,this.array),i=wt(i,this.array),s=wt(s,this.array),o=wt(o,this.array)),this.array[t+0]=Je(e),this.array[t+1]=Je(i),this.array[t+2]=Je(s),this.array[t+3]=Je(o),this}}class ot extends Qt{constructor(t,e,i){super(new Float32Array(t),e,i)}}let gM=0;const vr=new St,Kd=new Bt,Ds=new z,nr=new Be,fo=new Be,ge=new z;class At extends en{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:gM++}),this.uuid=or(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(KS(t)?yM:mM)(t,1):this.index=t,this}setIndirect(t){return this.indirect=t,this}getIndirect(){return this.indirect}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const o=new Hr().getNormalMatrix(t);i.applyNormalMatrix(o),i.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(t),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return vr.makeRotationFromQuaternion(t),this.applyMatrix4(vr),this}rotateX(t){return vr.makeRotationX(t),this.applyMatrix4(vr),this}rotateY(t){return vr.makeRotationY(t),this.applyMatrix4(vr),this}rotateZ(t){return vr.makeRotationZ(t),this.applyMatrix4(vr),this}translate(t,e,i){return vr.makeTranslation(t,e,i),this.applyMatrix4(vr),this}scale(t,e,i){return vr.makeScale(t,e,i),this.applyMatrix4(vr),this}lookAt(t){return Kd.lookAt(t),Kd.updateMatrix(),this.applyMatrix4(Kd.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ds).negate(),this.translate(Ds.x,Ds.y,Ds.z),this}setFromPoints(t){const e=this.getAttribute("position");if(e===void 0){const i=[];for(let s=0,o=t.length;s<o;s++){const l=t[s];i.push(l.x,l.y,l.z||0)}this.setAttribute("position",new ot(i,3))}else{const i=Math.min(t.length,e.count);for(let s=0;s<i;s++){const o=t[s];e.setXYZ(s,o.x,o.y,o.z||0)}t.length>e.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),e.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Be);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new z(-1/0,-1/0,-1/0),new z(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,s=e.length;i<s;i++){const o=e[i];nr.setFromBufferAttribute(o),this.morphTargetsRelative?(ge.addVectors(this.boundingBox.min,nr.min),this.boundingBox.expandByPoint(ge),ge.addVectors(this.boundingBox.max,nr.max),this.boundingBox.expandByPoint(ge)):(this.boundingBox.expandByPoint(nr.min),this.boundingBox.expandByPoint(nr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ee);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new z,1/0);return}if(t){const i=this.boundingSphere.center;if(nr.setFromBufferAttribute(t),e)for(let o=0,l=e.length;o<l;o++){const c=e[o];fo.setFromBufferAttribute(c),this.morphTargetsRelative?(ge.addVectors(nr.min,fo.min),nr.expandByPoint(ge),ge.addVectors(nr.max,fo.max),nr.expandByPoint(ge)):(nr.expandByPoint(fo.min),nr.expandByPoint(fo.max))}nr.getCenter(i);let s=0;for(let o=0,l=t.count;o<l;o++)ge.fromBufferAttribute(t,o),s=Math.max(s,i.distanceToSquared(ge));if(e)for(let o=0,l=e.length;o<l;o++){const c=e[o],d=this.morphTargetsRelative;for(let p=0,m=c.count;p<m;p++)ge.fromBufferAttribute(c,p),d&&(Ds.fromBufferAttribute(t,p),ge.add(Ds)),s=Math.max(s,i.distanceToSquared(ge))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.position,s=e.normal,o=e.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Qt(new Float32Array(4*i.count),4));const l=this.getAttribute("tangent"),c=[],d=[];for(let D=0;D<i.count;D++)c[D]=new z,d[D]=new z;const p=new z,m=new z,g=new z,v=new $,b=new $,x=new $,S=new z,_=new z;function M(D,G,Z){p.fromBufferAttribute(i,D),m.fromBufferAttribute(i,G),g.fromBufferAttribute(i,Z),v.fromBufferAttribute(o,D),b.fromBufferAttribute(o,G),x.fromBufferAttribute(o,Z),m.sub(p),g.sub(p),b.sub(v),x.sub(v);const it=1/(b.x*x.y-x.x*b.y);isFinite(it)&&(S.copy(m).multiplyScalar(x.y).addScaledVector(g,-b.y).multiplyScalar(it),_.copy(g).multiplyScalar(b.x).addScaledVector(m,-x.x).multiplyScalar(it),c[D].add(S),c[G].add(S),c[Z].add(S),d[D].add(_),d[G].add(_),d[Z].add(_))}let T=this.groups;T.length===0&&(T=[{start:0,count:t.count}]);for(let D=0,G=T.length;D<G;++D){const Z=T[D],it=Z.start,lt=Z.count;for(let mt=it,xt=it+lt;mt<xt;mt+=3)M(t.getX(mt+0),t.getX(mt+1),t.getX(mt+2))}const A=new z,C=new z,N=new z,B=new z;function j(D){N.fromBufferAttribute(s,D),B.copy(N);const G=c[D];A.copy(G),A.sub(N.multiplyScalar(N.dot(G))).normalize(),C.crossVectors(B,G);const Z=C.dot(d[D])<0?-1:1;l.setXYZW(D,A.x,A.y,A.z,Z)}for(let D=0,G=T.length;D<G;++D){const Z=T[D],it=Z.start,lt=Z.count;for(let mt=it,xt=it+lt;mt<xt;mt+=3)j(t.getX(mt+0)),j(t.getX(mt+1)),j(t.getX(mt+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Qt(new Float32Array(e.count*3),3),this.setAttribute("normal",i);else for(let v=0,b=i.count;v<b;v++)i.setXYZ(v,0,0,0);const s=new z,o=new z,l=new z,c=new z,d=new z,p=new z,m=new z,g=new z;if(t)for(let v=0,b=t.count;v<b;v+=3){const x=t.getX(v+0),S=t.getX(v+1),_=t.getX(v+2);s.fromBufferAttribute(e,x),o.fromBufferAttribute(e,S),l.fromBufferAttribute(e,_),m.subVectors(l,o),g.subVectors(s,o),m.cross(g),c.fromBufferAttribute(i,x),d.fromBufferAttribute(i,S),p.fromBufferAttribute(i,_),c.add(m),d.add(m),p.add(m),i.setXYZ(x,c.x,c.y,c.z),i.setXYZ(S,d.x,d.y,d.z),i.setXYZ(_,p.x,p.y,p.z)}else for(let v=0,b=e.count;v<b;v+=3)s.fromBufferAttribute(e,v+0),o.fromBufferAttribute(e,v+1),l.fromBufferAttribute(e,v+2),m.subVectors(l,o),g.subVectors(s,o),m.cross(g),i.setXYZ(v+0,m.x,m.y,m.z),i.setXYZ(v+1,m.x,m.y,m.z),i.setXYZ(v+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)ge.fromBufferAttribute(t,e),ge.normalize(),t.setXYZ(e,ge.x,ge.y,ge.z)}toNonIndexed(){function t(c,d){const p=c.array,m=c.itemSize,g=c.normalized,v=new p.constructor(d.length*m);let b=0,x=0;for(let S=0,_=d.length;S<_;S++){c.isInterleavedBufferAttribute?b=d[S]*c.data.stride+c.offset:b=d[S]*m;for(let M=0;M<m;M++)v[x++]=p[b++]}return new Qt(v,m,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new At,i=this.index.array,s=this.attributes;for(const c in s){const d=s[c],p=t(d,i);e.setAttribute(c,p)}const o=this.morphAttributes;for(const c in o){const d=[],p=o[c];for(let m=0,g=p.length;m<g;m++){const v=p[m],b=t(v,i);d.push(b)}e.morphAttributes[c]=d}e.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let c=0,d=l.length;c<d;c++){const p=l[c];e.addGroup(p.start,p.count,p.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const p in d)d[p]!==void 0&&(t[p]=d[p]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const d in i){const p=i[d];t.data.attributes[d]=p.toJSON(t.data)}const s={};let o=!1;for(const d in this.morphAttributes){const p=this.morphAttributes[d],m=[];for(let g=0,v=p.length;g<v;g++){const b=p[g];m.push(b.toJSON(t.data))}m.length>0&&(s[d]=m,o=!0)}o&&(t.data.morphAttributes=s,t.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(t.data.groups=JSON.parse(JSON.stringify(l)));const c=this.boundingSphere;return c!==null&&(t.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;i!==null&&this.setIndex(i.clone());const s=t.attributes;for(const p in s){const m=s[p];this.setAttribute(p,m.clone(e))}const o=t.morphAttributes;for(const p in o){const m=[],g=o[p];for(let v=0,b=g.length;v<b;v++)m.push(g[v].clone(e));this.morphAttributes[p]=m}this.morphTargetsRelative=t.morphTargetsRelative;const l=t.groups;for(let p=0,m=l.length;p<m;p++){const g=l[p];this.addGroup(g.start,g.count,g.materialIndex)}const c=t.boundingBox;c!==null&&(this.boundingBox=c.clone());const d=t.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Q0=new St,_n=new Vo,fu=new Ee,K0=new z,mu=new z,yu=new z,gu=new z,tp=new z,vu=new z,tv=new z,bu=new z;class Rr extends Bt{constructor(t=new At,e=new aa){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const i=t[e[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}getVertexPosition(t,e){const i=this.geometry,s=i.attributes.position,o=i.morphAttributes.position,l=i.morphTargetsRelative;e.fromBufferAttribute(s,t);const c=this.morphTargetInfluences;if(o&&c){vu.set(0,0,0);for(let d=0,p=o.length;d<p;d++){const m=c[d],g=o[d];m!==0&&(tp.fromBufferAttribute(g,t),l?vu.addScaledVector(tp,m):vu.addScaledVector(tp.sub(e),m))}e.add(vu)}return e}raycast(t,e){const i=this.geometry,s=this.material,o=this.matrixWorld;s!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),fu.copy(i.boundingSphere),fu.applyMatrix4(o),_n.copy(t.ray).recast(t.near),!(fu.containsPoint(_n.origin)===!1&&(_n.intersectSphere(fu,K0)===null||_n.origin.distanceToSquared(K0)>(t.far-t.near)**2))&&(Q0.copy(o).invert(),_n.copy(t.ray).applyMatrix4(Q0),!(i.boundingBox!==null&&_n.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(t,e,_n)))}_computeIntersections(t,e,i){let s;const o=this.geometry,l=this.material,c=o.index,d=o.attributes.position,p=o.attributes.uv,m=o.attributes.uv1,g=o.attributes.normal,v=o.groups,b=o.drawRange;if(c!==null)if(Array.isArray(l))for(let x=0,S=v.length;x<S;x++){const _=v[x],M=l[_.materialIndex],T=Math.max(_.start,b.start),A=Math.min(c.count,Math.min(_.start+_.count,b.start+b.count));for(let C=T,N=A;C<N;C+=3){const B=c.getX(C),j=c.getX(C+1),D=c.getX(C+2);s=xu(this,M,t,i,p,m,g,B,j,D),s&&(s.faceIndex=Math.floor(C/3),s.face.materialIndex=_.materialIndex,e.push(s))}}else{const x=Math.max(0,b.start),S=Math.min(c.count,b.start+b.count);for(let _=x,M=S;_<M;_+=3){const T=c.getX(_),A=c.getX(_+1),C=c.getX(_+2);s=xu(this,l,t,i,p,m,g,T,A,C),s&&(s.faceIndex=Math.floor(_/3),e.push(s))}}else if(d!==void 0)if(Array.isArray(l))for(let x=0,S=v.length;x<S;x++){const _=v[x],M=l[_.materialIndex],T=Math.max(_.start,b.start),A=Math.min(d.count,Math.min(_.start+_.count,b.start+b.count));for(let C=T,N=A;C<N;C+=3){const B=C,j=C+1,D=C+2;s=xu(this,M,t,i,p,m,g,B,j,D),s&&(s.faceIndex=Math.floor(C/3),s.face.materialIndex=_.materialIndex,e.push(s))}}else{const x=Math.max(0,b.start),S=Math.min(d.count,b.start+b.count);for(let _=x,M=S;_<M;_+=3){const T=_,A=_+1,C=_+2;s=xu(this,l,t,i,p,m,g,T,A,C),s&&(s.faceIndex=Math.floor(_/3),e.push(s))}}}}function vM(h,t,e,i,s,o,l,c){let d;if(t.side===nb?d=i.intersectTriangle(l,o,s,!0,c):d=i.intersectTriangle(s,o,l,t.side===bp,c),d===null)return null;bu.copy(c),bu.applyMatrix4(h.matrixWorld);const p=e.ray.origin.distanceTo(bu);return p<e.near||p>e.far?null:{distance:p,point:bu.clone(),object:h}}function xu(h,t,e,i,s,o,l,c,d,p){h.getVertexPosition(c,mu),h.getVertexPosition(d,yu),h.getVertexPosition(p,gu);const m=vM(h,t,e,i,mu,yu,gu,tv);if(m){const g=new z;ar.getBarycoord(tv,mu,yu,gu,g),s&&(m.uv=ar.getInterpolatedAttribute(s,c,d,p,g,new $)),o&&(m.uv1=ar.getInterpolatedAttribute(o,c,d,p,g,new $)),l&&(m.normal=ar.getInterpolatedAttribute(l,c,d,p,g,new z),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const v={a:c,b:d,c:p,normal:new z,materialIndex:0};ar.getNormal(mu,yu,gu,v.normal),m.face=v,m.barycoord=g}return m}class hh extends At{constructor(t=1,e=1,i=1,s=1,o=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:s,heightSegments:o,depthSegments:l};const c=this;s=Math.floor(s),o=Math.floor(o),l=Math.floor(l);const d=[],p=[],m=[],g=[];let v=0,b=0;x("z","y","x",-1,-1,i,e,t,l,o,0),x("z","y","x",1,-1,i,e,-t,l,o,1),x("x","z","y",1,1,t,i,e,s,l,2),x("x","z","y",1,-1,t,i,-e,s,l,3),x("x","y","z",1,-1,t,e,i,s,o,4),x("x","y","z",-1,-1,t,e,-i,s,o,5),this.setIndex(d),this.setAttribute("position",new ot(p,3)),this.setAttribute("normal",new ot(m,3)),this.setAttribute("uv",new ot(g,2));function x(S,_,M,T,A,C,N,B,j,D,G){const Z=C/j,it=N/D,lt=C/2,mt=N/2,xt=B/2,_t=j+1,U=D+1;let X=0,at=0;const ft=new z;for(let R=0;R<U;R++){const q=R*it-mt;for(let Q=0;Q<_t;Q++){const K=Q*Z-lt;ft[S]=K*T,ft[_]=q*A,ft[M]=xt,p.push(ft.x,ft.y,ft.z),ft[S]=0,ft[_]=0,ft[M]=B>0?1:-1,m.push(ft.x,ft.y,ft.z),g.push(Q/j),g.push(1-R/D),X+=1}}for(let R=0;R<D;R++)for(let q=0;q<j;q++){const Q=v+q+_t*R,K=v+q+_t*(R+1),ht=v+(q+1)+_t*(R+1),zt=v+(q+1)+_t*R;d.push(Q,K,zt),d.push(K,ht,zt),at+=6}c.addGroup(b,at,G),b+=at,v+=X}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new hh(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function ch(h){const t={};for(const e in h){t[e]={};for(const i in h[e]){const s=h[e][i];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][i]=null):t[e][i]=s.clone():Array.isArray(s)?t[e][i]=s.slice():t[e][i]=s}}return t}function bM(h){const t={};for(let e=0;e<h.length;e++){const i=ch(h[e]);for(const s in i)t[s]=i[s]}return t}function xM(h){const t=[];for(let e=0;e<h.length;e++)t.push(h[e].clone());return t}function wC(h){const t=h.getRenderTarget();return t===null?h.outputColorSpace:t.isXRRenderTarget===!0?t.texture.colorSpace:sr.workingColorSpace}const SC={clone:ch,merge:bM};var wM=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,SM=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Up extends De{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=wM,this.fragmentShader=SM,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=ch(t.uniforms),this.uniformsGroups=xM(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const s in this.uniforms){const o=this.uniforms[s].value;o&&o.isTexture?e.uniforms[s]={type:"t",value:o.toJSON(t).uuid}:o&&o.isColor?e.uniforms[s]={type:"c",value:o.getHex()}:o&&o.isVector2?e.uniforms[s]={type:"v2",value:o.toArray()}:o&&o.isVector3?e.uniforms[s]={type:"v3",value:o.toArray()}:o&&o.isVector4?e.uniforms[s]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?e.uniforms[s]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?e.uniforms[s]={type:"m4",value:o.toArray()}:e.uniforms[s]={value:o}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const i={};for(const s in this.extensions)this.extensions[s]===!0&&(i[s]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}}class jp extends Bt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new St,this.projectionMatrix=new St,this.projectionMatrixInverse=new St,this.coordinateSystem=Vr}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Xi=new z,ev=new $,rv=new $;class xr extends jp{constructor(t=50,e=1,i=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=Po*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(Ln*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return Po*2*Math.atan(Math.tan(Ln*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,i){Xi.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(Xi.x,Xi.y).multiplyScalar(-t/Xi.z),Xi.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Xi.x,Xi.y).multiplyScalar(-t/Xi.z)}getViewSize(t,e){return this.getViewBounds(t,ev,rv),e.subVectors(rv,ev)}setViewOffset(t,e,i,s,o,l){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=s,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(Ln*.5*this.fov)/this.zoom,i=2*e,s=this.aspect*i,o=-.5*s;const l=this.view;if(this.view!==null&&this.view.enabled){const d=l.fullWidth,p=l.fullHeight;o+=l.offsetX*s/d,e-=l.offsetY*i/p,s*=l.width/d,i*=l.height/p}const c=this.filmOffset;c!==0&&(o+=t*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+s,e,e-i,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const Fs=-90,Vs=1;class MM extends Bt{constructor(t,e,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new xr(Fs,Vs,t,e);s.layers=this.layers,this.add(s);const o=new xr(Fs,Vs,t,e);o.layers=this.layers,this.add(o);const l=new xr(Fs,Vs,t,e);l.layers=this.layers,this.add(l);const c=new xr(Fs,Vs,t,e);c.layers=this.layers,this.add(c);const d=new xr(Fs,Vs,t,e);d.layers=this.layers,this.add(d);const p=new xr(Fs,Vs,t,e);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[i,s,o,l,c,d]=e;for(const p of e)this.remove(p);if(t===Vr)i.up.set(0,1,0),i.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),c.up.set(0,1,0),c.lookAt(0,0,1),d.up.set(0,1,0),d.lookAt(0,0,-1);else if(t===Ku)i.up.set(0,-1,0),i.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),c.up.set(0,-1,0),c.lookAt(0,0,1),d.up.set(0,-1,0),d.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(const p of e)this.add(p),p.updateMatrixWorld()}update(t,e){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:s}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[o,l,c,d,p,m]=this.children,g=t.getRenderTarget(),v=t.getActiveCubeFace(),b=t.getActiveMipmapLevel(),x=t.xr.enabled;t.xr.enabled=!1;const S=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0,s),t.render(e,o),t.setRenderTarget(i,1,s),t.render(e,l),t.setRenderTarget(i,2,s),t.render(e,c),t.setRenderTarget(i,3,s),t.render(e,d),t.setRenderTarget(i,4,s),t.render(e,p),i.texture.generateMipmaps=S,t.setRenderTarget(i,5,s),t.render(e,m),t.setRenderTarget(g,v,b),t.xr.enabled=x,i.texture.needsPMREMUpdate=!0}}class Wp extends de{constructor(t=[],e=Pp,i,s,o,l,c,d,p,m){super(t,e,i,s,o,l,c,d,p,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class MC extends Vp{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const i={width:t,height:t,depth:1},s=[i,i,i,i,i,i];this.texture=new Wp(s,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=e.generateMipmaps!==void 0?e.generateMipmaps:!1,this.texture.minFilter=e.minFilter!==void 0?e.minFilter:wr}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new hh(5,5,5),o=new Up({name:"CubemapFromEquirect",uniforms:ch(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:nb,blending:Iw});o.uniforms.tEquirect.value=e;const l=new Rr(s,o),c=e.minFilter;return e.minFilter===uh&&(e.minFilter=wr),new MM(1,10,this).update(t,l),e.minFilter=c,l.geometry.dispose(),l.material.dispose(),this}clear(t,e=!0,i=!0,s=!0){const o=t.getRenderTarget();for(let l=0;l<6;l++)t.setRenderTarget(this,l),t.clear(e,i,s);t.setRenderTarget(o)}}class Ao extends Bt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _M={type:"move"};class _C{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ao,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ao,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ao,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new z),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const i of t.hand.values())this._getHandJoint(e,i)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,e,i){let s=null,o=null,l=null;const c=this._targetRay,d=this._grip,p=this._hand;if(t&&e.session.visibilityState!=="visible-blurred"){if(p&&t.hand){l=!0;for(const S of t.hand.values()){const _=e.getJointPose(S,i),M=this._getHandJoint(p,S);_!==null&&(M.matrix.fromArray(_.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.matrixWorldNeedsUpdate=!0,M.jointRadius=_.radius),M.visible=_!==null}const m=p.joints["index-finger-tip"],g=p.joints["thumb-tip"],v=m.position.distanceTo(g.position),b=.02,x=.005;p.inputState.pinching&&v>b+x?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!p.inputState.pinching&&v<=b-x&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else d!==null&&t.gripSpace&&(o=e.getPose(t.gripSpace,i),o!==null&&(d.matrix.fromArray(o.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,o.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(o.linearVelocity)):d.hasLinearVelocity=!1,o.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(o.angularVelocity)):d.hasAngularVelocity=!1));c!==null&&(s=e.getPose(t.targetRaySpace,i),s===null&&o!==null&&(s=o),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1,this.dispatchEvent(_M)))}return c!==null&&(c.visible=s!==null),d!==null&&(d.visible=o!==null),p!==null&&(p.visible=l!==null),this}_getHandJoint(t,e){if(t.joints[e.jointName]===void 0){const i=new Ao;i.matrixAutoUpdate=!1,i.visible=!1,t.joints[e.jointName]=i,t.add(i)}return t.joints[e.jointName]}}class Hp{constructor(t,e=25e-5){this.isFogExp2=!0,this.name="",this.color=new bt(t),this.density=e}clone(){return new Hp(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class qp{constructor(t,e=1,i=1e3){this.isFog=!0,this.name="",this.color=new bt(t),this.near=e,this.far=i}clone(){return new qp(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class kM extends Bt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new jr,this.environmentIntensity=1,this.environmentRotation=new jr,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return this.fog!==null&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}class Jp{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=Qu,this.updateRanges=[],this.version=0,this.uuid=or()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,i){t*=this.stride,i*=e.stride;for(let s=0,o=this.stride;s<o;s++)this.array[t+s]=e.array[i+s];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=or()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(e,this.stride);return i.setUsage(this.usage),i}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=or()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Oe=new z;class Ks{constructor(t,e,i,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=i,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,i=this.data.count;e<i;e++)Oe.fromBufferAttribute(this,e),Oe.applyMatrix4(t),this.setXYZ(e,Oe.x,Oe.y,Oe.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)Oe.fromBufferAttribute(this,e),Oe.applyNormalMatrix(t),this.setXYZ(e,Oe.x,Oe.y,Oe.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)Oe.fromBufferAttribute(this,e),Oe.transformDirection(t),this.setXYZ(e,Oe.x,Oe.y,Oe.z);return this}getComponent(t,e){let i=this.array[t*this.data.stride+this.offset+e];return this.normalized&&(i=Le(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=wt(i,this.array)),this.data.array[t*this.data.stride+this.offset+e]=i,this}setX(t,e){return this.normalized&&(e=wt(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=wt(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=wt(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=wt(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=Le(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=Le(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=Le(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=Le(e,this.array)),e}setXY(t,e,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=wt(e,this.array),i=wt(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this}setXYZ(t,e,i,s){return t=t*this.data.stride+this.offset,this.normalized&&(e=wt(e,this.array),i=wt(i,this.array),s=wt(s,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=s,this}setXYZW(t,e,i,s,o){return t=t*this.data.stride+this.offset,this.normalized&&(e=wt(e,this.array),i=wt(i,this.array),s=wt(s,this.array),o=wt(o,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=s,this.data.array[t+3]=o,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)e.push(this.data.array[s+o])}return new Qt(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Ks(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)e.push(this.data.array[s+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class pb extends De{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new bt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let Us;const mo=new z,js=new z,Ws=new z,Hs=new $,yo=new $,fb=new St,wu=new z,go=new z,Su=new z,iv=new $,ep=new $,nv=new $;class TM extends Bt{constructor(t=new pb){if(super(),this.isSprite=!0,this.type="Sprite",Us===void 0){Us=new At;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Jp(e,5);Us.setIndex([0,1,2,0,2,3]),Us.setAttribute("position",new Ks(i,3,0,!1)),Us.setAttribute("uv",new Ks(i,2,3,!1))}this.geometry=Us,this.material=t,this.center=new $(.5,.5)}raycast(t,e){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),js.setFromMatrixScale(this.matrixWorld),fb.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Ws.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&js.multiplyScalar(-Ws.z);const i=this.material.rotation;let s,o;i!==0&&(o=Math.cos(i),s=Math.sin(i));const l=this.center;Mu(wu.set(-.5,-.5,0),Ws,l,js,s,o),Mu(go.set(.5,-.5,0),Ws,l,js,s,o),Mu(Su.set(.5,.5,0),Ws,l,js,s,o),iv.set(0,0),ep.set(1,0),nv.set(1,1);let c=t.ray.intersectTriangle(wu,go,Su,!1,mo);if(c===null&&(Mu(go.set(-.5,.5,0),Ws,l,js,s,o),ep.set(0,1),c=t.ray.intersectTriangle(wu,Su,go,!1,mo),c===null))return;const d=t.ray.origin.distanceTo(mo);d<t.near||d>t.far||e.push({distance:d,point:mo.clone(),uv:ar.getInterpolation(mo,wu,go,Su,iv,ep,nv,new $),face:null,object:this})}copy(t,e){return super.copy(t,e),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}function Mu(h,t,e,i,s,o){Hs.subVectors(h,e).addScalar(.5).multiply(i),s!==void 0?(yo.x=o*Hs.x-s*Hs.y,yo.y=s*Hs.x+o*Hs.y):yo.copy(Hs),h.copy(t),h.x+=yo.x,h.y+=yo.y,h.applyMatrix4(fb)}const _u=new z,sv=new z;class AM extends Bt{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const e=t.levels;for(let i=0,s=e.length;i<s;i++){const o=e[i];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,e=0,i=0){e=Math.abs(e);const s=this.levels;let o;for(o=0;o<s.length&&!(e<s[o].distance);o++);return s.splice(o,0,{distance:e,hysteresis:i,object:t}),this.add(t),this}removeLevel(t){const e=this.levels;for(let i=0;i<e.length;i++)if(e[i].distance===t){const s=e.splice(i,1);return this.remove(s[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const e=this.levels;if(e.length>0){let i,s;for(i=1,s=e.length;i<s;i++){let o=e[i].distance;if(e[i].object.visible&&(o-=o*e[i].hysteresis),t<o)break}return e[i-1].object}return null}raycast(t,e){if(this.levels.length>0){_u.setFromMatrixPosition(this.matrixWorld);const i=t.ray.origin.distanceTo(_u);this.getObjectForDistance(i).raycast(t,e)}}update(t){const e=this.levels;if(e.length>1){_u.setFromMatrixPosition(t.matrixWorld),sv.setFromMatrixPosition(this.matrixWorld);const i=_u.distanceTo(sv)/t.zoom;e[0].object.visible=!0;let s,o;for(s=1,o=e.length;s<o;s++){let l=e[s].distance;if(e[s].object.visible&&(l-=l*e[s].hysteresis),i>=l)e[s-1].object.visible=!1,e[s].object.visible=!0;else break}for(this._currentLevel=s-1;s<o;s++)e[s].object.visible=!1}}toJSON(t){const e=super.toJSON(t);this.autoUpdate===!1&&(e.object.autoUpdate=!1),e.object.levels=[];const i=this.levels;for(let s=0,o=i.length;s<o;s++){const l=i[s];e.object.levels.push({object:l.object.uuid,distance:l.distance,hysteresis:l.hysteresis})}return e}}const av=new z,ov=new ve,lv=new ve,CM=new z,uv=new St,ku=new z,rp=new Ee,hv=new St,ip=new Vo;class zM extends Rr{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=P0,this.bindMatrix=new St,this.bindMatrixInverse=new St,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;this.boundingBox===null&&(this.boundingBox=new Be),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)this.getVertexPosition(i,ku),this.boundingBox.expandByPoint(ku)}computeBoundingSphere(){const t=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ee),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)this.getVertexPosition(i,ku),this.boundingSphere.expandByPoint(ku)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const i=this.material,s=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),rp.copy(this.boundingSphere),rp.applyMatrix4(s),t.ray.intersectsSphere(rp)!==!1&&(hv.copy(s).invert(),ip.copy(t.ray).applyMatrix4(hv),!(this.boundingBox!==null&&ip.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(t,e,ip)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new ve,e=this.geometry.attributes.skinWeight;for(let i=0,s=e.count;i<s;i++){t.fromBufferAttribute(e,i);const o=1/t.manhattanLength();o!==1/0?t.multiplyScalar(o):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===P0?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Nw?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,e){const i=this.skeleton,s=this.geometry;ov.fromBufferAttribute(s.attributes.skinIndex,t),lv.fromBufferAttribute(s.attributes.skinWeight,t),av.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let o=0;o<4;o++){const l=lv.getComponent(o);if(l!==0){const c=ov.getComponent(o);uv.multiplyMatrices(i.bones[c].matrixWorld,i.boneInverses[c]),e.addScaledVector(CM.copy(av).applyMatrix4(uv),l)}}return e.applyMatrix4(this.bindMatrixInverse)}}class mb extends Bt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class gi extends de{constructor(t=null,e=1,i=1,s,o,l,c,d,p=Er,m=Er,g,v){super(null,l,c,d,p,m,s,o,g,v),this.isDataTexture=!0,this.image={data:t,width:e,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const cv=new St,EM=new St;class Gp{constructor(t=[],e=[]){this.uuid=or(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),e.length===0)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,s=this.bones.length;i<s;i++)this.boneInverses.push(new St)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const i=new St;this.bones[t]&&i.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&i.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const t=this.bones,e=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let o=0,l=t.length;o<l;o++){const c=t[o]?t[o].matrixWorld:EM;cv.multiplyMatrices(c,e[o]),cv.toArray(i,o*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new Gp(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(this.bones.length*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const i=new gi(e,t,t,No,Qs);return i.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=i,this}getBoneByName(t){for(let e=0,i=this.bones.length;e<i;e++){const s=this.bones[e];if(s.name===t)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let i=0,s=t.bones.length;i<s;i++){const o=t.bones[i];let l=e[o];l===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),l=new mb),this.bones.push(l),this.boneInverses.push(new St().fromArray(t.boneInverses[i]))}return this.init(),this}toJSON(){const t={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,i=this.boneInverses;for(let s=0,o=e.length;s<o;s++){const l=e[s];t.bones.push(l.uuid);const c=i[s];t.boneInverses.push(c.toArray())}return t}}class Oo extends Qt{constructor(t,e,i,s=1){super(t,e,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const qs=new St,dv=new St,Tu=[],pv=new Be,RM=new St,vo=new Rr,bo=new Ee;class IM extends Rr{constructor(t,e,i){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new Oo(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<i;s++)this.setMatrixAt(s,RM)}computeBoundingBox(){const t=this.geometry,e=this.count;this.boundingBox===null&&(this.boundingBox=new Be),t.boundingBox===null&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,qs),pv.copy(t.boundingBox).applyMatrix4(qs),this.boundingBox.union(pv)}computeBoundingSphere(){const t=this.geometry,e=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ee),t.boundingSphere===null&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,qs),bo.copy(t.boundingSphere).applyMatrix4(qs),this.boundingSphere.union(bo)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),t.morphTexture!==null&&(this.morphTexture=t.morphTexture.clone()),t.instanceColor!==null&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,t*3)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,t*16)}getMorphAt(t,e){const i=e.morphTargetInfluences,s=this.morphTexture.source.data.data,o=i.length+1,l=t*o+1;for(let c=0;c<i.length;c++)i[c]=s[l+c]}raycast(t,e){const i=this.matrixWorld,s=this.count;if(vo.geometry=this.geometry,vo.material=this.material,vo.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),bo.copy(this.boundingSphere),bo.applyMatrix4(i),t.ray.intersectsSphere(bo)!==!1))for(let o=0;o<s;o++){this.getMatrixAt(o,qs),dv.multiplyMatrices(i,qs),vo.matrixWorld=dv,vo.raycast(t,Tu);for(let l=0,c=Tu.length;l<c;l++){const d=Tu[l];d.instanceId=o,d.object=this,e.push(d)}Tu.length=0}}setColorAt(t,e){this.instanceColor===null&&(this.instanceColor=new Oo(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),e.toArray(this.instanceColor.array,t*3)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,t*16)}setMorphAt(t,e){const i=e.morphTargetInfluences,s=i.length+1;this.morphTexture===null&&(this.morphTexture=new gi(new Float32Array(s*this.count),s,this.count,sb,Qs));const o=this.morphTexture.source.data.data;let l=0;for(let p=0;p<i.length;p++)l+=i[p];const c=this.geometry.morphTargetsRelative?1:1-l,d=s*t;o[d]=c,o.set(i,d+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const np=new z,NM=new z,PM=new Hr;class Js{constructor(t=new z(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,s){return this.normal.set(t,e,i),this.constant=s,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const s=np.subVectors(i,e).cross(NM.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(s,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const i=t.delta(np),s=this.normal.dot(i);if(s===0)return this.distanceToPoint(t.start)===0?e.copy(t.start):null;const o=-(t.start.dot(this.normal)+this.constant)/s;return o<0||o>1?null:e.copy(t.start).addScaledVector(i,o)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||PM.getNormalMatrix(t),s=this.coplanarPoint(np).applyMatrix4(t),o=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(o),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const kn=new Ee,Au=new z;class Yp{constructor(t=new Js,e=new Js,i=new Js,s=new Js,o=new Js,l=new Js){this.planes=[t,e,i,s,o,l]}set(t,e,i,s,o,l){const c=this.planes;return c[0].copy(t),c[1].copy(e),c[2].copy(i),c[3].copy(s),c[4].copy(o),c[5].copy(l),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t,e=Vr){const i=this.planes,s=t.elements,o=s[0],l=s[1],c=s[2],d=s[3],p=s[4],m=s[5],g=s[6],v=s[7],b=s[8],x=s[9],S=s[10],_=s[11],M=s[12],T=s[13],A=s[14],C=s[15];if(i[0].setComponents(d-o,v-p,_-b,C-M).normalize(),i[1].setComponents(d+o,v+p,_+b,C+M).normalize(),i[2].setComponents(d+l,v+m,_+x,C+T).normalize(),i[3].setComponents(d-l,v-m,_-x,C-T).normalize(),i[4].setComponents(d-c,v-g,_-S,C-A).normalize(),e===Vr)i[5].setComponents(d+c,v+g,_+S,C+A).normalize();else if(e===Ku)i[5].setComponents(c,g,S,A).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),kn.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;e.boundingSphere===null&&e.computeBoundingSphere(),kn.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(kn)}intersectsSprite(t){return kn.center.set(0,0,0),kn.radius=.7071067811865476,kn.applyMatrix4(t.matrixWorld),this.intersectsSphere(kn)}intersectsSphere(t){const e=this.planes,i=t.center,s=-t.radius;for(let o=0;o<6;o++)if(e[o].distanceToPoint(i)<s)return!1;return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const s=e[i];if(Au.x=s.normal.x>0?t.max.x:t.min.x,Au.y=s.normal.y>0?t.max.y:t.min.y,Au.z=s.normal.z>0?t.max.z:t.min.z,s.distanceToPoint(Au)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Br=new St,Dr=new Yp;class Zp{constructor(){this.coordinateSystem=Vr}intersectsObject(t,e){if(!e.isArrayCamera||e.cameras.length===0)return!1;for(let i=0;i<e.cameras.length;i++){const s=e.cameras[i];if(Br.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),Dr.setFromProjectionMatrix(Br,this.coordinateSystem),Dr.intersectsObject(t))return!0}return!1}intersectsSprite(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let i=0;i<e.cameras.length;i++){const s=e.cameras[i];if(Br.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),Dr.setFromProjectionMatrix(Br,this.coordinateSystem),Dr.intersectsSprite(t))return!0}return!1}intersectsSphere(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let i=0;i<e.cameras.length;i++){const s=e.cameras[i];if(Br.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),Dr.setFromProjectionMatrix(Br,this.coordinateSystem),Dr.intersectsSphere(t))return!0}return!1}intersectsBox(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let i=0;i<e.cameras.length;i++){const s=e.cameras[i];if(Br.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),Dr.setFromProjectionMatrix(Br,this.coordinateSystem),Dr.intersectsBox(t))return!0}return!1}containsPoint(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let i=0;i<e.cameras.length;i++){const s=e.cameras[i];if(Br.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),Dr.setFromProjectionMatrix(Br,this.coordinateSystem),Dr.containsPoint(t))return!0}return!1}clone(){return new Zp}}function sp(h,t){return h-t}function OM(h,t){return h.z-t.z}function LM(h,t){return t.z-h.z}class BM{constructor(){this.index=0,this.pool=[],this.list=[]}push(t,e,i,s){const o=this.pool,l=this.list;this.index>=o.length&&o.push({start:-1,count:-1,z:-1,index:-1});const c=o[this.index];l.push(c),this.index++,c.start=t,c.count=e,c.z=i,c.index=s}reset(){this.list.length=0,this.index=0}}const qe=new St,DM=new bt(1,1,1),fv=new Yp,FM=new Zp,Cu=new Be,Tn=new Ee,xo=new z,mv=new z,VM=new z,ap=new BM,ze=new Rr,zu=[];function UM(h,t,e=0){const i=t.itemSize;if(h.isInterleavedBufferAttribute||h.array.constructor!==t.array.constructor){const s=h.count;for(let o=0;o<s;o++)for(let l=0;l<i;l++)t.setComponent(o+e,l,h.getComponent(o,l))}else t.array.set(h.array,e*i);t.needsUpdate=!0}function An(h,t){if(h.constructor!==t.constructor){const e=Math.min(h.length,t.length);for(let i=0;i<e;i++)t[i]=h[i]}else{const e=Math.min(h.length,t.length);t.set(new h.constructor(h.buffer,0,e))}}class jM extends Rr{constructor(t,e,i=e*2,s){super(new At,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=t,this._maxVertexCount=e,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(t),this._multiDrawStarts=new Int32Array(t),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let t=Math.sqrt(this._maxInstanceCount*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4),i=new gi(e,t,t,No,Qs);this._matricesTexture=i}_initIndirectTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Uint32Array(t*t),i=new gi(e,t,t,ab,Lp);this._indirectTexture=i}_initColorsTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Float32Array(t*t*4).fill(1),i=new gi(e,t,t,No,Qs);i.colorSpace=sr.workingColorSpace,this._colorsTexture=i}_initializeGeometry(t){const e=this.geometry,i=this._maxVertexCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in t.attributes){const l=t.getAttribute(o),{array:c,itemSize:d,normalized:p}=l,m=new c.constructor(i*d),g=new Qt(m,d,p);e.setAttribute(o,g)}if(t.getIndex()!==null){const o=i>65535?new Uint32Array(s):new Uint16Array(s);e.setIndex(new Qt(o,1))}this._geometryInitialized=!0}}_validateGeometry(t){const e=this.geometry;if(!!t.getIndex()!=!!e.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in e.attributes){if(!t.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const s=t.getAttribute(i),o=e.getAttribute(i);if(s.itemSize!==o.itemSize||s.normalized!==o.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(t){const e=this._instanceInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${t}. Instance is either out of range or has been deleted.`)}validateGeometryId(t){const e=this._geometryInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${t}. Geometry is either out of range or has been deleted.`)}setCustomSort(t){return this.customSort=t,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Be);const t=this.boundingBox,e=this._instanceInfo;t.makeEmpty();for(let i=0,s=e.length;i<s;i++){if(e[i].active===!1)continue;const o=e[i].geometryIndex;this.getMatrixAt(i,qe),this.getBoundingBoxAt(o,Cu).applyMatrix4(qe),t.union(Cu)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ee);const t=this.boundingSphere,e=this._instanceInfo;t.makeEmpty();for(let i=0,s=e.length;i<s;i++){if(e[i].active===!1)continue;const o=e[i].geometryIndex;this.getMatrixAt(i,qe),this.getBoundingSphereAt(o,Tn).applyMatrix4(qe),t.union(Tn)}}addInstance(t){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const e={visible:!0,active:!0,geometryIndex:t};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(sp),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=e):(i=this._instanceInfo.length,this._instanceInfo.push(e));const s=this._matricesTexture;qe.identity().toArray(s.image.data,i*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&(DM.toArray(o.image.data,i*4),o.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(t,e=-1,i=-1){this._initializeGeometry(t),this._validateGeometry(t);const s={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},o=this._geometryInfo;s.vertexStart=this._nextVertexStart,s.reservedVertexCount=e===-1?t.getAttribute("position").count:e;const l=t.getIndex();if(l!==null&&(s.indexStart=this._nextIndexStart,s.reservedIndexCount=i===-1?l.count:i),s.indexStart!==-1&&s.indexStart+s.reservedIndexCount>this._maxIndexCount||s.vertexStart+s.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let c;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(sp),c=this._availableGeometryIds.shift(),o[c]=s):(c=this._geometryCount,this._geometryCount++,o.push(s)),this.setGeometryAt(c,t),this._nextIndexStart=s.indexStart+s.reservedIndexCount,this._nextVertexStart=s.vertexStart+s.reservedVertexCount,c}setGeometryAt(t,e){if(t>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(e);const i=this.geometry,s=i.getIndex()!==null,o=i.getIndex(),l=e.getIndex(),c=this._geometryInfo[t];if(s&&l.count>c.reservedIndexCount||e.attributes.position.count>c.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const d=c.vertexStart,p=c.reservedVertexCount;c.vertexCount=e.getAttribute("position").count;for(const m in i.attributes){const g=e.getAttribute(m),v=i.getAttribute(m);UM(g,v,d);const b=g.itemSize;for(let x=g.count,S=p;x<S;x++){const _=d+x;for(let M=0;M<b;M++)v.setComponent(_,M,0)}v.needsUpdate=!0,v.addUpdateRange(d*b,p*b)}if(s){const m=c.indexStart,g=c.reservedIndexCount;c.indexCount=e.getIndex().count;for(let v=0;v<l.count;v++)o.setX(m+v,d+l.getX(v));for(let v=l.count,b=g;v<b;v++)o.setX(m+v,d);o.needsUpdate=!0,o.addUpdateRange(m,c.reservedIndexCount)}return c.start=s?c.indexStart:c.vertexStart,c.count=s?c.indexCount:c.vertexCount,c.boundingBox=null,e.boundingBox!==null&&(c.boundingBox=e.boundingBox.clone()),c.boundingSphere=null,e.boundingSphere!==null&&(c.boundingSphere=e.boundingSphere.clone()),this._visibilityChanged=!0,t}deleteGeometry(t){const e=this._geometryInfo;if(t>=e.length||e[t].active===!1)return this;const i=this._instanceInfo;for(let s=0,o=i.length;s<o;s++)i[s].active&&i[s].geometryIndex===t&&this.deleteInstance(s);return e[t].active=!1,this._availableGeometryIds.push(t),this._visibilityChanged=!0,this}deleteInstance(t){return this.validateInstanceId(t),this._instanceInfo[t].active=!1,this._availableInstanceIds.push(t),this._visibilityChanged=!0,this}optimize(){let t=0,e=0;const i=this._geometryInfo,s=i.map((l,c)=>c).sort((l,c)=>i[l].vertexStart-i[c].vertexStart),o=this.geometry;for(let l=0,c=i.length;l<c;l++){const d=s[l],p=i[d];if(p.active!==!1){if(o.index!==null){if(p.indexStart!==e){const{indexStart:m,vertexStart:g,reservedIndexCount:v}=p,b=o.index,x=b.array,S=t-g;for(let _=m;_<m+v;_++)x[_]=x[_]+S;b.array.copyWithin(e,m,m+v),b.addUpdateRange(e,v),p.indexStart=e}e+=p.reservedIndexCount}if(p.vertexStart!==t){const{vertexStart:m,reservedVertexCount:g}=p,v=o.attributes;for(const b in v){const x=v[b],{array:S,itemSize:_}=x;S.copyWithin(t*_,m*_,(m+g)*_),x.addUpdateRange(t*_,g*_)}p.vertexStart=t}t+=p.reservedVertexCount,p.start=o.index?p.indexStart:p.vertexStart,this._nextIndexStart=o.index?p.indexStart+p.reservedIndexCount:0,this._nextVertexStart=p.vertexStart+p.reservedVertexCount}}return this}getBoundingBoxAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[t];if(s.boundingBox===null){const o=new Be,l=i.index,c=i.attributes.position;for(let d=s.start,p=s.start+s.count;d<p;d++){let m=d;l&&(m=l.getX(m)),o.expandByPoint(xo.fromBufferAttribute(c,m))}s.boundingBox=o}return e.copy(s.boundingBox),e}getBoundingSphereAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[t];if(s.boundingSphere===null){const o=new Ee;this.getBoundingBoxAt(t,Cu),Cu.getCenter(o.center);const l=i.index,c=i.attributes.position;let d=0;for(let p=s.start,m=s.start+s.count;p<m;p++){let g=p;l&&(g=l.getX(g)),xo.fromBufferAttribute(c,g),d=Math.max(d,o.center.distanceToSquared(xo))}o.radius=Math.sqrt(d),s.boundingSphere=o}return e.copy(s.boundingSphere),e}setMatrixAt(t,e){this.validateInstanceId(t);const i=this._matricesTexture,s=this._matricesTexture.image.data;return e.toArray(s,t*16),i.needsUpdate=!0,this}getMatrixAt(t,e){return this.validateInstanceId(t),e.fromArray(this._matricesTexture.image.data,t*16)}setColorAt(t,e){return this.validateInstanceId(t),this._colorsTexture===null&&this._initColorsTexture(),e.toArray(this._colorsTexture.image.data,t*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(t,e){return this.validateInstanceId(t),e.fromArray(this._colorsTexture.image.data,t*4)}setVisibleAt(t,e){return this.validateInstanceId(t),this._instanceInfo[t].visible===e?this:(this._instanceInfo[t].visible=e,this._visibilityChanged=!0,this)}getVisibleAt(t){return this.validateInstanceId(t),this._instanceInfo[t].visible}setGeometryIdAt(t,e){return this.validateInstanceId(t),this.validateGeometryId(e),this._instanceInfo[t].geometryIndex=e,this}getGeometryIdAt(t){return this.validateInstanceId(t),this._instanceInfo[t].geometryIndex}getGeometryRangeAt(t,e={}){this.validateGeometryId(t);const i=this._geometryInfo[t];return e.vertexStart=i.vertexStart,e.vertexCount=i.vertexCount,e.reservedVertexCount=i.reservedVertexCount,e.indexStart=i.indexStart,e.indexCount=i.indexCount,e.reservedIndexCount=i.reservedIndexCount,e.start=i.start,e.count=i.count,e}setInstanceCount(t){const e=this._availableInstanceIds,i=this._instanceInfo;for(e.sort(sp);e[e.length-1]===i.length;)i.pop(),e.pop();if(t<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${t} are being used. Cannot shrink instance count.`);const s=new Int32Array(t),o=new Int32Array(t);An(this._multiDrawCounts,s),An(this._multiDrawStarts,o),this._multiDrawCounts=s,this._multiDrawStarts=o,this._maxInstanceCount=t;const l=this._indirectTexture,c=this._matricesTexture,d=this._colorsTexture;l.dispose(),this._initIndirectTexture(),An(l.image.data,this._indirectTexture.image.data),c.dispose(),this._initMatricesTexture(),An(c.image.data,this._matricesTexture.image.data),d&&(d.dispose(),this._initColorsTexture(),An(d.image.data,this._colorsTexture.image.data))}setGeometrySize(t,e){const i=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...i.map(l=>l.vertexStart+l.reservedVertexCount))>t)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${e}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(l=>l.indexStart+l.reservedIndexCount))>e)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${e}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=t,this._maxIndexCount=e,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new At,this._initializeGeometry(s));const o=this.geometry;s.index&&An(s.index.array,o.index.array);for(const l in s.attributes)An(s.attributes[l].array,o.attributes[l].array)}raycast(t,e){const i=this._instanceInfo,s=this._geometryInfo,o=this.matrixWorld,l=this.geometry;ze.material=this.material,ze.geometry.index=l.index,ze.geometry.attributes=l.attributes,ze.geometry.boundingBox===null&&(ze.geometry.boundingBox=new Be),ze.geometry.boundingSphere===null&&(ze.geometry.boundingSphere=new Ee);for(let c=0,d=i.length;c<d;c++){if(!i[c].visible||!i[c].active)continue;const p=i[c].geometryIndex,m=s[p];ze.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(c,ze.matrixWorld).premultiply(o),this.getBoundingBoxAt(p,ze.geometry.boundingBox),this.getBoundingSphereAt(p,ze.geometry.boundingSphere),ze.raycast(t,zu);for(let g=0,v=zu.length;g<v;g++){const b=zu[g];b.object=this,b.batchId=c,e.push(b)}zu.length=0}ze.material=null,ze.geometry.index=null,ze.geometry.attributes={},ze.geometry.setDrawRange(0,1/0)}copy(t){return super.copy(t),this.geometry=t.geometry.clone(),this.perObjectFrustumCulled=t.perObjectFrustumCulled,this.sortObjects=t.sortObjects,this.boundingBox=t.boundingBox!==null?t.boundingBox.clone():null,this.boundingSphere=t.boundingSphere!==null?t.boundingSphere.clone():null,this._geometryInfo=t._geometryInfo.map(e=>({...e,boundingBox:e.boundingBox!==null?e.boundingBox.clone():null,boundingSphere:e.boundingSphere!==null?e.boundingSphere.clone():null})),this._instanceInfo=t._instanceInfo.map(e=>({...e})),this._availableInstanceIds=t._availableInstanceIds.slice(),this._availableGeometryIds=t._availableGeometryIds.slice(),this._nextIndexStart=t._nextIndexStart,this._nextVertexStart=t._nextVertexStart,this._geometryCount=t._geometryCount,this._maxInstanceCount=t._maxInstanceCount,this._maxVertexCount=t._maxVertexCount,this._maxIndexCount=t._maxIndexCount,this._geometryInitialized=t._geometryInitialized,this._multiDrawCounts=t._multiDrawCounts.slice(),this._multiDrawStarts=t._multiDrawStarts.slice(),this._indirectTexture=t._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=t._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=t._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(t,e,i,s,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const l=s.getIndex(),c=l===null?1:l.array.BYTES_PER_ELEMENT,d=this._instanceInfo,p=this._multiDrawStarts,m=this._multiDrawCounts,g=this._geometryInfo,v=this.perObjectFrustumCulled,b=this._indirectTexture,x=b.image.data,S=i.isArrayCamera?FM:fv;v&&!i.isArrayCamera&&(qe.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),fv.setFromProjectionMatrix(qe,t.coordinateSystem));let _=0;if(this.sortObjects){qe.copy(this.matrixWorld).invert(),xo.setFromMatrixPosition(i.matrixWorld).applyMatrix4(qe),mv.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(qe);for(let A=0,C=d.length;A<C;A++)if(d[A].visible&&d[A].active){const N=d[A].geometryIndex;this.getMatrixAt(A,qe),this.getBoundingSphereAt(N,Tn).applyMatrix4(qe);let B=!1;if(v&&(B=!S.intersectsSphere(Tn,i)),!B){const j=g[N],D=VM.subVectors(Tn.center,xo).dot(mv);ap.push(j.start,j.count,D,A)}}const M=ap.list,T=this.customSort;T===null?M.sort(o.transparent?LM:OM):T.call(this,M,i);for(let A=0,C=M.length;A<C;A++){const N=M[A];p[_]=N.start*c,m[_]=N.count,x[_]=N.index,_++}ap.reset()}else for(let M=0,T=d.length;M<T;M++)if(d[M].visible&&d[M].active){const A=d[M].geometryIndex;let C=!1;if(v&&(this.getMatrixAt(M,qe),this.getBoundingSphereAt(A,Tn).applyMatrix4(qe),C=!S.intersectsSphere(Tn,i)),!C){const N=g[A];p[_]=N.start*c,m[_]=N.count,x[_]=M,_++}}b.needsUpdate=!0,this._multiDrawCount=_,this._visibilityChanged=!1}onBeforeShadow(t,e,i,s,o,l){this.onBeforeRender(t,null,s,o,l)}}class Ge extends De{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new bt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const eh=new z,rh=new z,yv=new St,wo=new Vo,Eu=new Ee,op=new z,gv=new z;class Bn extends Bt{constructor(t=new At,e=new Ge){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[0];for(let s=1,o=e.count;s<o;s++)eh.fromBufferAttribute(e,s-1),rh.fromBufferAttribute(e,s),i[s]=i[s-1],i[s]+=eh.distanceTo(rh);t.setAttribute("lineDistance",new ot(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const i=this.geometry,s=this.matrixWorld,o=t.params.Line.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Eu.copy(i.boundingSphere),Eu.applyMatrix4(s),Eu.radius+=o,t.ray.intersectsSphere(Eu)===!1)return;yv.copy(s).invert(),wo.copy(t.ray).applyMatrix4(yv);const c=o/((this.scale.x+this.scale.y+this.scale.z)/3),d=c*c,p=this.isLineSegments?2:1,m=i.index,g=i.attributes.position;if(m!==null){const v=Math.max(0,l.start),b=Math.min(m.count,l.start+l.count);for(let x=v,S=b-1;x<S;x+=p){const _=m.getX(x),M=m.getX(x+1),T=Ru(this,t,wo,d,_,M,x);T&&e.push(T)}if(this.isLineLoop){const x=m.getX(b-1),S=m.getX(v),_=Ru(this,t,wo,d,x,S,b-1);_&&e.push(_)}}else{const v=Math.max(0,l.start),b=Math.min(g.count,l.start+l.count);for(let x=v,S=b-1;x<S;x+=p){const _=Ru(this,t,wo,d,x,x+1,x);_&&e.push(_)}if(this.isLineLoop){const x=Ru(this,t,wo,d,b-1,v,b-1);x&&e.push(x)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const i=t[e[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}function Ru(h,t,e,i,s,o,l){const c=h.geometry.attributes.position;if(eh.fromBufferAttribute(c,s),rh.fromBufferAttribute(c,o),e.distanceSqToSegment(eh,rh,op,gv)>i)return;op.applyMatrix4(h.matrixWorld);const d=t.ray.origin.distanceTo(op);if(!(d<t.near||d>t.far))return{distance:d,point:gv.clone().applyMatrix4(h.matrixWorld),index:l,face:null,faceIndex:null,barycoord:null,object:h}}const vv=new z,bv=new z;class xi extends Bn{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[];for(let s=0,o=e.count;s<o;s+=2)vv.fromBufferAttribute(e,s),bv.fromBufferAttribute(e,s+1),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+vv.distanceTo(bv);t.setAttribute("lineDistance",new ot(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class WM extends Bn{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class yb extends De{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new bt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const xv=new St,Mp=new Vo,Iu=new Ee,Nu=new z;class HM extends Bt{constructor(t=new At,e=new yb){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const i=this.geometry,s=this.matrixWorld,o=t.params.Points.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Iu.copy(i.boundingSphere),Iu.applyMatrix4(s),Iu.radius+=o,t.ray.intersectsSphere(Iu)===!1)return;xv.copy(s).invert(),Mp.copy(t.ray).applyMatrix4(xv);const c=o/((this.scale.x+this.scale.y+this.scale.z)/3),d=c*c,p=i.index,m=i.attributes.position;if(p!==null){const g=Math.max(0,l.start),v=Math.min(p.count,l.start+l.count);for(let b=g,x=v;b<x;b++){const S=p.getX(b);Nu.fromBufferAttribute(m,S),wv(Nu,S,d,s,t,e,this)}}else{const g=Math.max(0,l.start),v=Math.min(m.count,l.start+l.count);for(let b=g,x=v;b<x;b++)Nu.fromBufferAttribute(m,b),wv(Nu,b,d,s,t,e,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const i=t[e[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}function wv(h,t,e,i,s,o,l){const c=Mp.distanceSqToPoint(h);if(c<e){const d=new z;Mp.closestPointToPoint(h,d),d.applyMatrix4(i);const p=s.ray.origin.distanceTo(d);if(p<s.near||p>s.far)return;o.push({distance:p,distanceToRay:Math.sqrt(c),point:d,index:t,face:null,faceIndex:null,barycoord:null,object:l})}}class qM extends de{constructor(t,e,i,s,o=wr,l=wr,c,d,p){super(t,e,i,s,o,l,c,d,p),this.isVideoTexture=!0,this.generateMipmaps=!1;const m=this;function g(){m.needsUpdate=!0,t.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(g)}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;!("requestVideoFrameCallback"in t)&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class kC extends qM{constructor(t,e,i,s,o,l,c,d){super({},t,e,i,s,o,l,c,d),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(t){this.image=t,this.needsUpdate=!0}}class TC extends de{constructor(t,e){super({width:t,height:e}),this.isFramebufferTexture=!0,this.magFilter=Er,this.minFilter=Er,this.generateMipmaps=!1,this.needsUpdate=!0}}class $p extends de{constructor(t,e,i,s,o,l,c,d,p,m,g,v){super(null,l,c,d,p,m,s,o,g,v),this.isCompressedTexture=!0,this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class AC extends $p{constructor(t,e,i,s,o,l){super(t,e,i,o,l),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=Fr,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class CC extends $p{constructor(t,e,i){super(void 0,t[0].width,t[0].height,e,i,Pp),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=t}}class zC extends de{constructor(t,e,i,s,o,l,c,d,p){super(t,e,i,s,o,l,c,d,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class JM extends de{constructor(t,e,i=Lp,s,o,l,c=Er,d=Er,p,m=O0){if(m!==O0&&m!==Xw)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,s,o,l,c,d,m,i,p),this.isDepthTexture=!0,this.image={width:t,height:e},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.source=new Pn(Object.assign({},t.image)),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return this.compareFunction!==null&&(e.compareFunction=this.compareFunction),e}}class EC extends JM{constructor(t=1,e=1,i=1){super(t,e),this.isDepthArrayTexture=!0,this.image={width:t,height:e,depth:i},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class Xp extends At{constructor(t=1,e=1,i=4,s=8,o=1){super(),this.type="CapsuleGeometry",this.parameters={radius:t,height:e,capSegments:i,radialSegments:s,heightSegments:o},e=Math.max(0,e),i=Math.max(1,Math.floor(i)),s=Math.max(3,Math.floor(s)),o=Math.max(1,Math.floor(o));const l=[],c=[],d=[],p=[],m=e/2,g=Math.PI/2*t,v=e,b=2*g+v,x=i*2+o,S=s+1,_=new z,M=new z;for(let T=0;T<=x;T++){let A=0,C=0,N=0,B=0;if(T<=i){const G=T/i,Z=G*Math.PI/2;C=-m-t*Math.cos(Z),N=t*Math.sin(Z),B=-t*Math.cos(Z),A=G*g}else if(T<=i+o){const G=(T-i)/o;C=-m+G*e,N=t,B=0,A=g+G*v}else{const G=(T-i-o)/i,Z=G*Math.PI/2;C=m+t*Math.sin(Z),N=t*Math.cos(Z),B=t*Math.sin(Z),A=g+v+G*g}const j=Math.max(0,Math.min(1,A/b));let D=0;T===0?D=.5/s:T===x&&(D=-.5/s);for(let G=0;G<=s;G++){const Z=G/s,it=Z*Math.PI*2,lt=Math.sin(it),mt=Math.cos(it);M.x=-N*mt,M.y=C,M.z=N*lt,c.push(M.x,M.y,M.z),_.set(-N*mt,B,N*lt),_.normalize(),d.push(_.x,_.y,_.z),p.push(Z+D,j)}if(T>0){const G=(T-1)*S;for(let Z=0;Z<s;Z++){const it=G+Z,lt=G+Z+1,mt=T*S+Z,xt=T*S+Z+1;l.push(it,lt,mt),l.push(lt,xt,mt)}}}this.setIndex(l),this.setAttribute("position",new ot(c,3)),this.setAttribute("normal",new ot(d,3)),this.setAttribute("uv",new ot(p,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Xp(t.radius,t.height,t.capSegments,t.radialSegments,t.heightSegments)}}class Qp extends At{constructor(t=1,e=32,i=0,s=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:s},e=Math.max(3,e);const o=[],l=[],c=[],d=[],p=new z,m=new $;l.push(0,0,0),c.push(0,0,1),d.push(.5,.5);for(let g=0,v=3;g<=e;g++,v+=3){const b=i+g/e*s;p.x=t*Math.cos(b),p.y=t*Math.sin(b),l.push(p.x,p.y,p.z),c.push(0,0,1),m.x=(l[v]/t+1)/2,m.y=(l[v+1]/t+1)/2,d.push(m.x,m.y)}for(let g=1;g<=e;g++)o.push(g,g+1,0);this.setIndex(o),this.setAttribute("position",new ot(l,3)),this.setAttribute("normal",new ot(c,3)),this.setAttribute("uv",new ot(d,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Qp(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class dh extends At{constructor(t=1,e=1,i=1,s=32,o=1,l=!1,c=0,d=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:s,heightSegments:o,openEnded:l,thetaStart:c,thetaLength:d};const p=this;s=Math.floor(s),o=Math.floor(o);const m=[],g=[],v=[],b=[];let x=0;const S=[],_=i/2;let M=0;T(),l===!1&&(t>0&&A(!0),e>0&&A(!1)),this.setIndex(m),this.setAttribute("position",new ot(g,3)),this.setAttribute("normal",new ot(v,3)),this.setAttribute("uv",new ot(b,2));function T(){const C=new z,N=new z;let B=0;const j=(e-t)/i;for(let D=0;D<=o;D++){const G=[],Z=D/o,it=Z*(e-t)+t;for(let lt=0;lt<=s;lt++){const mt=lt/s,xt=mt*d+c,_t=Math.sin(xt),U=Math.cos(xt);N.x=it*_t,N.y=-Z*i+_,N.z=it*U,g.push(N.x,N.y,N.z),C.set(_t,j,U).normalize(),v.push(C.x,C.y,C.z),b.push(mt,1-Z),G.push(x++)}S.push(G)}for(let D=0;D<s;D++)for(let G=0;G<o;G++){const Z=S[G][D],it=S[G+1][D],lt=S[G+1][D+1],mt=S[G][D+1];(t>0||G!==0)&&(m.push(Z,it,mt),B+=3),(e>0||G!==o-1)&&(m.push(it,lt,mt),B+=3)}p.addGroup(M,B,0),M+=B}function A(C){const N=x,B=new $,j=new z;let D=0;const G=C===!0?t:e,Z=C===!0?1:-1;for(let lt=1;lt<=s;lt++)g.push(0,_*Z,0),v.push(0,Z,0),b.push(.5,.5),x++;const it=x;for(let lt=0;lt<=s;lt++){const mt=lt/s*d+c,xt=Math.cos(mt),_t=Math.sin(mt);j.x=G*_t,j.y=_*Z,j.z=G*xt,g.push(j.x,j.y,j.z),v.push(0,Z,0),B.x=xt*.5+.5,B.y=_t*.5*Z+.5,b.push(B.x,B.y),x++}for(let lt=0;lt<s;lt++){const mt=N+lt,xt=it+lt;C===!0?m.push(xt,xt+1,mt):m.push(xt+1,xt,mt),D+=3}p.addGroup(M,D,C===!0?1:2),M+=D}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new dh(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class ph extends dh{constructor(t=1,e=1,i=32,s=1,o=!1,l=0,c=Math.PI*2){super(0,t,e,i,s,o,l,c),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:l,thetaLength:c}}static fromJSON(t){return new ph(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class Vn extends At{constructor(t=[],e=[],i=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:s};const o=[],l=[];c(s),p(i),m(),this.setAttribute("position",new ot(o,3)),this.setAttribute("normal",new ot(o.slice(),3)),this.setAttribute("uv",new ot(l,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function c(T){const A=new z,C=new z,N=new z;for(let B=0;B<e.length;B+=3)b(e[B+0],A),b(e[B+1],C),b(e[B+2],N),d(A,C,N,T)}function d(T,A,C,N){const B=N+1,j=[];for(let D=0;D<=B;D++){j[D]=[];const G=T.clone().lerp(C,D/B),Z=A.clone().lerp(C,D/B),it=B-D;for(let lt=0;lt<=it;lt++)lt===0&&D===B?j[D][lt]=G:j[D][lt]=G.clone().lerp(Z,lt/it)}for(let D=0;D<B;D++)for(let G=0;G<2*(B-D)-1;G++){const Z=Math.floor(G/2);G%2===0?(v(j[D][Z+1]),v(j[D+1][Z]),v(j[D][Z])):(v(j[D][Z+1]),v(j[D+1][Z+1]),v(j[D+1][Z]))}}function p(T){const A=new z;for(let C=0;C<o.length;C+=3)A.x=o[C+0],A.y=o[C+1],A.z=o[C+2],A.normalize().multiplyScalar(T),o[C+0]=A.x,o[C+1]=A.y,o[C+2]=A.z}function m(){const T=new z;for(let A=0;A<o.length;A+=3){T.x=o[A+0],T.y=o[A+1],T.z=o[A+2];const C=_(T)/2/Math.PI+.5,N=M(T)/Math.PI+.5;l.push(C,1-N)}x(),g()}function g(){for(let T=0;T<l.length;T+=6){const A=l[T+0],C=l[T+2],N=l[T+4],B=Math.max(A,C,N),j=Math.min(A,C,N);B>.9&&j<.1&&(A<.2&&(l[T+0]+=1),C<.2&&(l[T+2]+=1),N<.2&&(l[T+4]+=1))}}function v(T){o.push(T.x,T.y,T.z)}function b(T,A){const C=T*3;A.x=t[C+0],A.y=t[C+1],A.z=t[C+2]}function x(){const T=new z,A=new z,C=new z,N=new z,B=new $,j=new $,D=new $;for(let G=0,Z=0;G<o.length;G+=9,Z+=6){T.set(o[G+0],o[G+1],o[G+2]),A.set(o[G+3],o[G+4],o[G+5]),C.set(o[G+6],o[G+7],o[G+8]),B.set(l[Z+0],l[Z+1]),j.set(l[Z+2],l[Z+3]),D.set(l[Z+4],l[Z+5]),N.copy(T).add(A).add(C).divideScalar(3);const it=_(N);S(B,Z+0,T,it),S(j,Z+2,A,it),S(D,Z+4,C,it)}}function S(T,A,C,N){N<0&&T.x===1&&(l[A]=T.x-1),C.x===0&&C.z===0&&(l[A]=N/2/Math.PI+.5)}function _(T){return Math.atan2(T.z,-T.x)}function M(T){return Math.atan2(-T.y,Math.sqrt(T.x*T.x+T.z*T.z))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Vn(t.vertices,t.indices,t.radius,t.details)}}class Kp extends Vn{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,s=1/i,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-i,0,-s,i,0,s,-i,0,s,i,-s,-i,0,-s,i,0,s,-i,0,s,i,0,-i,0,-s,i,0,-s,-i,0,s,i,0,s],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,l,t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new Kp(t.radius,t.detail)}}const Pu=new z,Ou=new z,lp=new z,Lu=new ar;class GM extends At{constructor(t=null,e=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:e},t!==null){const i=Math.pow(10,4),s=Math.cos(Ln*e),o=t.getIndex(),l=t.getAttribute("position"),c=o?o.count:l.count,d=[0,0,0],p=["a","b","c"],m=new Array(3),g={},v=[];for(let b=0;b<c;b+=3){o?(d[0]=o.getX(b),d[1]=o.getX(b+1),d[2]=o.getX(b+2)):(d[0]=b,d[1]=b+1,d[2]=b+2);const{a:x,b:S,c:_}=Lu;if(x.fromBufferAttribute(l,d[0]),S.fromBufferAttribute(l,d[1]),_.fromBufferAttribute(l,d[2]),Lu.getNormal(lp),m[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,m[1]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,m[2]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,!(m[0]===m[1]||m[1]===m[2]||m[2]===m[0]))for(let M=0;M<3;M++){const T=(M+1)%3,A=m[M],C=m[T],N=Lu[p[M]],B=Lu[p[T]],j=`${A}_${C}`,D=`${C}_${A}`;D in g&&g[D]?(lp.dot(g[D].normal)<=s&&(v.push(N.x,N.y,N.z),v.push(B.x,B.y,B.z)),g[D]=null):j in g||(g[j]={index0:d[M],index1:d[T],normal:lp.clone()})}}for(const b in g)if(g[b]){const{index0:x,index1:S}=g[b];Pu.fromBufferAttribute(l,x),Ou.fromBufferAttribute(l,S),v.push(Pu.x,Pu.y,Pu.z),v.push(Ou.x,Ou.y,Ou.z)}this.setAttribute("position",new ot(v,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}class qr{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(t,e){const i=this.getUtoTmapping(t);return this.getPoint(i,e)}getPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return e}getSpacedPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let i,s=this.getPoint(0),o=0;e.push(0);for(let l=1;l<=t;l++)i=this.getPoint(l/t),o+=i.distanceTo(s),e.push(o),s=i;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e=null){const i=this.getLengths();let s=0;const o=i.length;let l;e?l=e:l=t*i[o-1];let c=0,d=o-1,p;for(;c<=d;)if(s=Math.floor(c+(d-c)/2),p=i[s]-l,p<0)c=s+1;else if(p>0)d=s-1;else{d=s;break}if(s=d,i[s]===l)return s/(o-1);const m=i[s],g=i[s+1]-m,v=(l-m)/g;return(s+v)/(o-1)}getTangent(t,e){let i=t-1e-4,s=t+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),l=this.getPoint(s),c=e||(o.isVector2?new $:new z);return c.copy(l).sub(o).normalize(),c}getTangentAt(t,e){const i=this.getUtoTmapping(t);return this.getTangent(i,e)}computeFrenetFrames(t,e=!1){const i=new z,s=[],o=[],l=[],c=new z,d=new St;for(let b=0;b<=t;b++){const x=b/t;s[b]=this.getTangentAt(x,new z)}o[0]=new z,l[0]=new z;let p=Number.MAX_VALUE;const m=Math.abs(s[0].x),g=Math.abs(s[0].y),v=Math.abs(s[0].z);m<=p&&(p=m,i.set(1,0,0)),g<=p&&(p=g,i.set(0,1,0)),v<=p&&i.set(0,0,1),c.crossVectors(s[0],i).normalize(),o[0].crossVectors(s[0],c),l[0].crossVectors(s[0],o[0]);for(let b=1;b<=t;b++){if(o[b]=o[b-1].clone(),l[b]=l[b-1].clone(),c.crossVectors(s[b-1],s[b]),c.length()>Number.EPSILON){c.normalize();const x=Math.acos(vt(s[b-1].dot(s[b]),-1,1));o[b].applyMatrix4(d.makeRotationAxis(c,x))}l[b].crossVectors(s[b],o[b])}if(e===!0){let b=Math.acos(vt(o[0].dot(o[t]),-1,1));b/=t,s[0].dot(c.crossVectors(o[0],o[t]))>0&&(b=-b);for(let x=1;x<=t;x++)o[x].applyMatrix4(d.makeRotationAxis(s[x],b*x)),l[x].crossVectors(s[x],o[x])}return{tangents:s,normals:o,binormals:l}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class tf extends qr{constructor(t=0,e=0,i=1,s=1,o=0,l=Math.PI*2,c=!1,d=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=s,this.aStartAngle=o,this.aEndAngle=l,this.aClockwise=c,this.aRotation=d}getPoint(t,e=new $){const i=e,s=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const l=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=s;for(;o>s;)o-=s;o<Number.EPSILON&&(l?o=0:o=s),this.aClockwise===!0&&!l&&(o===s?o=-s:o=o-s);const c=this.aStartAngle+t*o;let d=this.aX+this.xRadius*Math.cos(c),p=this.aY+this.yRadius*Math.sin(c);if(this.aRotation!==0){const m=Math.cos(this.aRotation),g=Math.sin(this.aRotation),v=d-this.aX,b=p-this.aY;d=v*m-b*g+this.aX,p=v*g+b*m+this.aY}return i.set(d,p)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class YM extends tf{constructor(t,e,i,s,o,l){super(t,e,i,i,s,o,l),this.isArcCurve=!0,this.type="ArcCurve"}}function ef(){let h=0,t=0,e=0,i=0;function s(o,l,c,d){h=o,t=c,e=-3*o+3*l-2*c-d,i=2*o-2*l+c+d}return{initCatmullRom:function(o,l,c,d,p){s(l,c,p*(c-o),p*(d-l))},initNonuniformCatmullRom:function(o,l,c,d,p,m,g){let v=(l-o)/p-(c-o)/(p+m)+(c-l)/m,b=(c-l)/m-(d-l)/(m+g)+(d-c)/g;v*=m,b*=m,s(l,c,v,b)},calc:function(o){const l=o*o,c=l*o;return h+t*o+e*l+i*c}}}const Bu=new z,up=new ef,hp=new ef,cp=new ef;class ZM extends qr{constructor(t=[],e=!1,i="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=i,this.tension=s}getPoint(t,e=new z){const i=e,s=this.points,o=s.length,l=(o-(this.closed?0:1))*t;let c=Math.floor(l),d=l-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/o)+1)*o:d===0&&c===o-1&&(c=o-2,d=1);let p,m;this.closed||c>0?p=s[(c-1)%o]:(Bu.subVectors(s[0],s[1]).add(s[0]),p=Bu);const g=s[c%o],v=s[(c+1)%o];if(this.closed||c+2<o?m=s[(c+2)%o]:(Bu.subVectors(s[o-1],s[o-2]).add(s[o-1]),m=Bu),this.curveType==="centripetal"||this.curveType==="chordal"){const b=this.curveType==="chordal"?.5:.25;let x=Math.pow(p.distanceToSquared(g),b),S=Math.pow(g.distanceToSquared(v),b),_=Math.pow(v.distanceToSquared(m),b);S<1e-4&&(S=1),x<1e-4&&(x=S),_<1e-4&&(_=S),up.initNonuniformCatmullRom(p.x,g.x,v.x,m.x,x,S,_),hp.initNonuniformCatmullRom(p.y,g.y,v.y,m.y,x,S,_),cp.initNonuniformCatmullRom(p.z,g.z,v.z,m.z,x,S,_)}else this.curveType==="catmullrom"&&(up.initCatmullRom(p.x,g.x,v.x,m.x,this.tension),hp.initCatmullRom(p.y,g.y,v.y,m.y,this.tension),cp.initCatmullRom(p.z,g.z,v.z,m.z,this.tension));return i.set(up.calc(d),hp.calc(d),cp.calc(d)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(s.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const s=this.points[e];t.points.push(s.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(new z().fromArray(s))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function Sv(h,t,e,i,s){const o=(i-t)*.5,l=(s-e)*.5,c=h*h,d=h*c;return(2*e-2*i+o+l)*d+(-3*e+3*i-2*o-l)*c+o*h+e}function $M(h,t){const e=1-h;return e*e*t}function XM(h,t){return 2*(1-h)*h*t}function QM(h,t){return h*h*t}function Ro(h,t,e,i){return $M(h,t)+XM(h,e)+QM(h,i)}function KM(h,t){const e=1-h;return e*e*e*t}function t2(h,t){const e=1-h;return 3*e*e*h*t}function e2(h,t){return 3*(1-h)*h*h*t}function r2(h,t){return h*h*h*t}function Io(h,t,e,i,s){return KM(h,t)+t2(h,e)+e2(h,i)+r2(h,s)}class gb extends qr{constructor(t=new $,e=new $,i=new $,s=new $){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=i,this.v3=s}getPoint(t,e=new $){const i=e,s=this.v0,o=this.v1,l=this.v2,c=this.v3;return i.set(Io(t,s.x,o.x,l.x,c.x),Io(t,s.y,o.y,l.y,c.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class i2 extends qr{constructor(t=new z,e=new z,i=new z,s=new z){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=i,this.v3=s}getPoint(t,e=new z){const i=e,s=this.v0,o=this.v1,l=this.v2,c=this.v3;return i.set(Io(t,s.x,o.x,l.x,c.x),Io(t,s.y,o.y,l.y,c.y),Io(t,s.z,o.z,l.z,c.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class vb extends qr{constructor(t=new $,e=new $){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new $){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new $){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class n2 extends qr{constructor(t=new z,e=new z){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=e}getPoint(t,e=new z){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new z){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class bb extends qr{constructor(t=new $,e=new $,i=new $){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new $){const i=e,s=this.v0,o=this.v1,l=this.v2;return i.set(Ro(t,s.x,o.x,l.x),Ro(t,s.y,o.y,l.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class xb extends qr{constructor(t=new z,e=new z,i=new z){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new z){const i=e,s=this.v0,o=this.v1,l=this.v2;return i.set(Ro(t,s.x,o.x,l.x),Ro(t,s.y,o.y,l.y),Ro(t,s.z,o.z,l.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class wb extends qr{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,e=new $){const i=e,s=this.points,o=(s.length-1)*t,l=Math.floor(o),c=o-l,d=s[l===0?l:l-1],p=s[l],m=s[l>s.length-2?s.length-1:l+1],g=s[l>s.length-3?s.length-1:l+2];return i.set(Sv(c,d.x,p.x,m.x,g.x),Sv(c,d.y,p.y,m.y,g.y)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(s.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const s=this.points[e];t.points.push(s.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(new $().fromArray(s))}return this}}var ih=Object.freeze({__proto__:null,ArcCurve:YM,CatmullRomCurve3:ZM,CubicBezierCurve:gb,CubicBezierCurve3:i2,EllipseCurve:tf,LineCurve:vb,LineCurve3:n2,QuadraticBezierCurve:bb,QuadraticBezierCurve3:xb,SplineCurve:wb});class s2 extends qr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);if(!t.equals(e)){const i=t.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new ih[i](e,t))}return this}getPoint(t,e){const i=t*this.getLength(),s=this.getCurveLengths();let o=0;for(;o<s.length;){if(s[o]>=i){const l=s[o]-i,c=this.curves[o],d=c.getLength(),p=d===0?0:1-l/d;return c.getPointAt(p,e)}o++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,s=this.curves.length;i<s;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let i;for(let s=0,o=this.curves;s<o.length;s++){const l=o[s],c=l.isEllipseCurve?t*2:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?t*l.points.length:t,d=l.getPoints(c);for(let p=0;p<d.length;p++){const m=d[p];i&&i.equals(m)||(e.push(m),i=m)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const s=t.curves[e];this.curves.push(s.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,i=this.curves.length;e<i;e++){const s=this.curves[e];t.curves.push(s.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const s=t.curves[e];this.curves.push(new ih[s.type]().fromJSON(s))}return this}}class _p extends s2{constructor(t){super(),this.type="Path",this.currentPoint=new $,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const i=new vb(this.currentPoint.clone(),new $(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,i,s){const o=new bb(this.currentPoint.clone(),new $(t,e),new $(i,s));return this.curves.push(o),this.currentPoint.set(i,s),this}bezierCurveTo(t,e,i,s,o,l){const c=new gb(this.currentPoint.clone(),new $(t,e),new $(i,s),new $(o,l));return this.curves.push(c),this.currentPoint.set(o,l),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),i=new wb(e);return this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,i,s,o,l){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absarc(t+c,e+d,i,s,o,l),this}absarc(t,e,i,s,o,l){return this.absellipse(t,e,i,i,s,o,l),this}ellipse(t,e,i,s,o,l,c,d){const p=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(t+p,e+m,i,s,o,l,c,d),this}absellipse(t,e,i,s,o,l,c,d){const p=new tf(t,e,i,s,o,l,c,d);if(this.curves.length>0){const g=p.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(p);const m=p.getPoint(1);return this.currentPoint.copy(m),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class Xs extends _p{constructor(t){super(t),this.uuid=or(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let i=0,s=this.holes.length;i<s;i++)e[i]=this.holes[i].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const s=t.holes[e];this.holes.push(s.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,i=this.holes.length;e<i;e++){const s=this.holes[e];t.holes.push(s.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const s=t.holes[e];this.holes.push(new _p().fromJSON(s))}return this}}function a2(h,t,e=2){const i=t&&t.length,s=i?t[0]*e:h.length;let o=Sb(h,0,s,e,!0);const l=[];if(!o||o.next===o.prev)return l;let c,d,p;if(i&&(o=c2(h,t,o,e)),h.length>80*e){c=1/0,d=1/0;let m=-1/0,g=-1/0;for(let v=e;v<s;v+=e){const b=h[v],x=h[v+1];b<c&&(c=b),x<d&&(d=x),b>m&&(m=b),x>g&&(g=x)}p=Math.max(m-c,g-d),p=p!==0?32767/p:0}return Lo(o,l,e,c,d,p,0),l}function Sb(h,t,e,i,s){let o;if(s===S2(h,t,e,i)>0)for(let l=t;l<e;l+=i)o=Mv(l/i|0,h[l],h[l+1],o);else for(let l=e-i;l>=t;l-=i)o=Mv(l/i|0,h[l],h[l+1],o);return o&&ta(o,o.next)&&(Do(o),o=o.next),o}function Dn(h,t){if(!h)return h;t||(t=h);let e=h,i;do if(i=!1,!e.steiner&&(ta(e,e.next)||Xt(e.prev,e,e.next)===0)){if(Do(e),e=t=e.prev,e===e.next)break;i=!0}else e=e.next;while(i||e!==t);return t}function Lo(h,t,e,i,s,o,l){if(!h)return;!l&&o&&y2(h,i,s,o);let c=h;for(;h.prev!==h.next;){const d=h.prev,p=h.next;if(o?l2(h,i,s,o):o2(h)){t.push(d.i,h.i,p.i),Do(h),h=p.next,c=p.next;continue}if(h=p,h===c){l?l===1?(h=u2(Dn(h),t),Lo(h,t,e,i,s,o,2)):l===2&&h2(h,t,e,i,s,o):Lo(Dn(h),t,e,i,s,o,1);break}}}function o2(h){const t=h.prev,e=h,i=h.next;if(Xt(t,e,i)>=0)return!1;const s=t.x,o=e.x,l=i.x,c=t.y,d=e.y,p=i.y,m=Math.min(s,o,l),g=Math.min(c,d,p),v=Math.max(s,o,l),b=Math.max(c,d,p);let x=i.next;for(;x!==t;){if(x.x>=m&&x.x<=v&&x.y>=g&&x.y<=b&&Co(s,c,o,d,l,p,x.x,x.y)&&Xt(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function l2(h,t,e,i){const s=h.prev,o=h,l=h.next;if(Xt(s,o,l)>=0)return!1;const c=s.x,d=o.x,p=l.x,m=s.y,g=o.y,v=l.y,b=Math.min(c,d,p),x=Math.min(m,g,v),S=Math.max(c,d,p),_=Math.max(m,g,v),M=kp(b,x,t,e,i),T=kp(S,_,t,e,i);let A=h.prevZ,C=h.nextZ;for(;A&&A.z>=M&&C&&C.z<=T;){if(A.x>=b&&A.x<=S&&A.y>=x&&A.y<=_&&A!==s&&A!==l&&Co(c,m,d,g,p,v,A.x,A.y)&&Xt(A.prev,A,A.next)>=0||(A=A.prevZ,C.x>=b&&C.x<=S&&C.y>=x&&C.y<=_&&C!==s&&C!==l&&Co(c,m,d,g,p,v,C.x,C.y)&&Xt(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;A&&A.z>=M;){if(A.x>=b&&A.x<=S&&A.y>=x&&A.y<=_&&A!==s&&A!==l&&Co(c,m,d,g,p,v,A.x,A.y)&&Xt(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;C&&C.z<=T;){if(C.x>=b&&C.x<=S&&C.y>=x&&C.y<=_&&C!==s&&C!==l&&Co(c,m,d,g,p,v,C.x,C.y)&&Xt(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function u2(h,t){let e=h;do{const i=e.prev,s=e.next.next;!ta(i,s)&&_b(i,e,e.next,s)&&Bo(i,s)&&Bo(s,i)&&(t.push(i.i,e.i,s.i),Do(e),Do(e.next),e=h=s),e=e.next}while(e!==h);return Dn(e)}function h2(h,t,e,i,s,o){let l=h;do{let c=l.next.next;for(;c!==l.prev;){if(l.i!==c.i&&b2(l,c)){let d=kb(l,c);l=Dn(l,l.next),d=Dn(d,d.next),Lo(l,t,e,i,s,o,0),Lo(d,t,e,i,s,o,0);return}c=c.next}l=l.next}while(l!==h)}function c2(h,t,e,i){const s=[];for(let o=0,l=t.length;o<l;o++){const c=t[o]*i,d=o<l-1?t[o+1]*i:h.length,p=Sb(h,c,d,i,!1);p===p.next&&(p.steiner=!0),s.push(v2(p))}s.sort(d2);for(let o=0;o<s.length;o++)e=p2(s[o],e);return e}function d2(h,t){let e=h.x-t.x;if(e===0&&(e=h.y-t.y,e===0)){const i=(h.next.y-h.y)/(h.next.x-h.x),s=(t.next.y-t.y)/(t.next.x-t.x);e=i-s}return e}function p2(h,t){const e=f2(h,t);if(!e)return t;const i=kb(e,h);return Dn(i,i.next),Dn(e,e.next)}function f2(h,t){let e=t;const i=h.x,s=h.y;let o=-1/0,l;if(ta(h,e))return e;do{if(ta(h,e.next))return e.next;if(s<=e.y&&s>=e.next.y&&e.next.y!==e.y){const g=e.x+(s-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(g<=i&&g>o&&(o=g,l=e.x<e.next.x?e:e.next,g===i))return l}e=e.next}while(e!==t);if(!l)return null;const c=l,d=l.x,p=l.y;let m=1/0;e=l;do{if(i>=e.x&&e.x>=d&&i!==e.x&&Mb(s<p?i:o,s,d,p,s<p?o:i,s,e.x,e.y)){const g=Math.abs(s-e.y)/(i-e.x);Bo(e,h)&&(g<m||g===m&&(e.x>l.x||e.x===l.x&&m2(l,e)))&&(l=e,m=g)}e=e.next}while(e!==c);return l}function m2(h,t){return Xt(h.prev,h,t.prev)<0&&Xt(t.next,h,h.next)<0}function y2(h,t,e,i){let s=h;do s.z===0&&(s.z=kp(s.x,s.y,t,e,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==h);s.prevZ.nextZ=null,s.prevZ=null,g2(s)}function g2(h){let t,e=1;do{let i=h,s;h=null;let o=null;for(t=0;i;){t++;let l=i,c=0;for(let p=0;p<e&&(c++,l=l.nextZ,!!l);p++);let d=e;for(;c>0||d>0&&l;)c!==0&&(d===0||!l||i.z<=l.z)?(s=i,i=i.nextZ,c--):(s=l,l=l.nextZ,d--),o?o.nextZ=s:h=s,s.prevZ=o,o=s;i=l}o.nextZ=null,e*=2}while(t>1);return h}function kp(h,t,e,i,s){return h=(h-e)*s|0,t=(t-i)*s|0,h=(h|h<<8)&16711935,h=(h|h<<4)&252645135,h=(h|h<<2)&858993459,h=(h|h<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,h|t<<1}function v2(h){let t=h,e=h;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==h);return e}function Mb(h,t,e,i,s,o,l,c){return(s-l)*(t-c)>=(h-l)*(o-c)&&(h-l)*(i-c)>=(e-l)*(t-c)&&(e-l)*(o-c)>=(s-l)*(i-c)}function Co(h,t,e,i,s,o,l,c){return!(h===l&&t===c)&&Mb(h,t,e,i,s,o,l,c)}function b2(h,t){return h.next.i!==t.i&&h.prev.i!==t.i&&!x2(h,t)&&(Bo(h,t)&&Bo(t,h)&&w2(h,t)&&(Xt(h.prev,h,t.prev)||Xt(h,t.prev,t))||ta(h,t)&&Xt(h.prev,h,h.next)>0&&Xt(t.prev,t,t.next)>0)}function Xt(h,t,e){return(t.y-h.y)*(e.x-t.x)-(t.x-h.x)*(e.y-t.y)}function ta(h,t){return h.x===t.x&&h.y===t.y}function _b(h,t,e,i){const s=Fu(Xt(h,t,e)),o=Fu(Xt(h,t,i)),l=Fu(Xt(e,i,h)),c=Fu(Xt(e,i,t));return!!(s!==o&&l!==c||s===0&&Du(h,e,t)||o===0&&Du(h,i,t)||l===0&&Du(e,h,i)||c===0&&Du(e,t,i))}function Du(h,t,e){return t.x<=Math.max(h.x,e.x)&&t.x>=Math.min(h.x,e.x)&&t.y<=Math.max(h.y,e.y)&&t.y>=Math.min(h.y,e.y)}function Fu(h){return h>0?1:h<0?-1:0}function x2(h,t){let e=h;do{if(e.i!==h.i&&e.next.i!==h.i&&e.i!==t.i&&e.next.i!==t.i&&_b(e,e.next,h,t))return!0;e=e.next}while(e!==h);return!1}function Bo(h,t){return Xt(h.prev,h,h.next)<0?Xt(h,t,h.next)>=0&&Xt(h,h.prev,t)>=0:Xt(h,t,h.prev)<0||Xt(h,h.next,t)<0}function w2(h,t){let e=h,i=!1;const s=(h.x+t.x)/2,o=(h.y+t.y)/2;do e.y>o!=e.next.y>o&&e.next.y!==e.y&&s<(e.next.x-e.x)*(o-e.y)/(e.next.y-e.y)+e.x&&(i=!i),e=e.next;while(e!==h);return i}function kb(h,t){const e=Tp(h.i,h.x,h.y),i=Tp(t.i,t.x,t.y),s=h.next,o=t.prev;return h.next=t,t.prev=h,e.next=s,s.prev=e,i.next=e,e.prev=i,o.next=i,i.prev=o,i}function Mv(h,t,e,i){const s=Tp(h,t,e);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function Do(h){h.next.prev=h.prev,h.prev.next=h.next,h.prevZ&&(h.prevZ.nextZ=h.nextZ),h.nextZ&&(h.nextZ.prevZ=h.prevZ)}function Tp(h,t,e){return{i:h,x:t,y:e,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function S2(h,t,e,i){let s=0;for(let o=t,l=e-i;o<e;o+=i)s+=(h[l]-h[o])*(h[o+1]+h[l+1]),l=o;return s}class M2{static triangulate(t,e,i=2){return a2(t,e,i)}}class Ur{static area(t){const e=t.length;let i=0;for(let s=e-1,o=0;o<e;s=o++)i+=t[s].x*t[o].y-t[o].x*t[s].y;return i*.5}static isClockWise(t){return Ur.area(t)<0}static triangulateShape(t,e){const i=[],s=[],o=[];_v(t),kv(i,t);let l=t.length;e.forEach(_v);for(let d=0;d<e.length;d++)s.push(l),l+=e[d].length,kv(i,e[d]);const c=M2.triangulate(i,s);for(let d=0;d<c.length;d+=3)o.push(c.slice(d,d+3));return o}}function _v(h){const t=h.length;t>2&&h[t-1].equals(h[0])&&h.pop()}function kv(h,t){for(let e=0;e<t.length;e++)h.push(t[e].x),h.push(t[e].y)}class rf extends At{constructor(t=new Xs([new $(.5,.5),new $(-.5,.5),new $(-.5,-.5),new $(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const i=this,s=[],o=[];for(let c=0,d=t.length;c<d;c++){const p=t[c];l(p)}this.setAttribute("position",new ot(s,3)),this.setAttribute("uv",new ot(o,2)),this.computeVertexNormals();function l(c){const d=[],p=e.curveSegments!==void 0?e.curveSegments:12,m=e.steps!==void 0?e.steps:1,g=e.depth!==void 0?e.depth:1;let v=e.bevelEnabled!==void 0?e.bevelEnabled:!0,b=e.bevelThickness!==void 0?e.bevelThickness:.2,x=e.bevelSize!==void 0?e.bevelSize:b-.1,S=e.bevelOffset!==void 0?e.bevelOffset:0,_=e.bevelSegments!==void 0?e.bevelSegments:3;const M=e.extrudePath,T=e.UVGenerator!==void 0?e.UVGenerator:_2;let A,C=!1,N,B,j,D;M&&(A=M.getSpacedPoints(m),C=!0,v=!1,N=M.computeFrenetFrames(m,!1),B=new z,j=new z,D=new z),v||(_=0,b=0,x=0,S=0);const G=c.extractPoints(p);let Z=G.shape;const it=G.holes;if(!Ur.isClockWise(Z)){Z=Z.reverse();for(let tt=0,et=it.length;tt<et;tt++){const rt=it[tt];Ur.isClockWise(rt)&&(it[tt]=rt.reverse())}}function lt(tt){const et=10000000000000001e-36;let rt=tt[0];for(let ct=1;ct<=tt.length;ct++){const nt=ct%tt.length,Et=tt[nt],kt=Et.x-rt.x,Ht=Et.y-rt.y,qt=kt*kt+Ht*Ht,te=Math.max(Math.abs(Et.x),Math.abs(Et.y),Math.abs(rt.x),Math.abs(rt.y)),Re=et*te*te;if(qt<=Re){tt.splice(nt,1),ct--;continue}rt=Et}}lt(Z),it.forEach(lt);const mt=it.length,xt=Z;for(let tt=0;tt<mt;tt++){const et=it[tt];Z=Z.concat(et)}function _t(tt,et,rt){return et||console.error("THREE.ExtrudeGeometry: vec does not exist"),tt.clone().addScaledVector(et,rt)}const U=Z.length;function X(tt,et,rt){let ct,nt,Et;const kt=tt.x-et.x,Ht=tt.y-et.y,qt=rt.x-tt.x,te=rt.y-tt.y,Re=kt*kt+Ht*Ht,rn=kt*te-Ht*qt;if(Math.abs(rn)>Number.EPSILON){const Ie=Math.sqrt(Re),Si=Math.sqrt(qt*qt+te*te),Me=et.x-Ht/Ie,Sr=et.y+kt/Ie,Ne=rt.x-te/Si,xh=rt.y+qt/Si,Ho=((Ne-Me)*te-(xh-Sr)*qt)/(kt*te-Ht*qt);ct=Me+kt*Ho-tt.x,nt=Sr+Ht*Ho-tt.y;const qo=ct*ct+nt*nt;if(qo<=2)return new $(ct,nt);Et=Math.sqrt(qo/2)}else{let Ie=!1;kt>Number.EPSILON?qt>Number.EPSILON&&(Ie=!0):kt<-Number.EPSILON?qt<-Number.EPSILON&&(Ie=!0):Math.sign(Ht)===Math.sign(te)&&(Ie=!0),Ie?(ct=-Ht,nt=kt,Et=Math.sqrt(Re)):(ct=kt,nt=Ht,Et=Math.sqrt(Re/2))}return new $(ct/Et,nt/Et)}const at=[];for(let tt=0,et=xt.length,rt=et-1,ct=tt+1;tt<et;tt++,rt++,ct++)rt===et&&(rt=0),ct===et&&(ct=0),at[tt]=X(xt[tt],xt[rt],xt[ct]);const ft=[];let R,q=at.concat();for(let tt=0,et=mt;tt<et;tt++){const rt=it[tt];R=[];for(let ct=0,nt=rt.length,Et=nt-1,kt=ct+1;ct<nt;ct++,Et++,kt++)Et===nt&&(Et=0),kt===nt&&(kt=0),R[ct]=X(rt[ct],rt[Et],rt[kt]);ft.push(R),q=q.concat(R)}let Q;if(_===0)Q=Ur.triangulateShape(xt,it);else{const tt=[],et=[];for(let rt=0;rt<_;rt++){const ct=rt/_,nt=b*Math.cos(ct*Math.PI/2),Et=x*Math.sin(ct*Math.PI/2)+S;for(let kt=0,Ht=xt.length;kt<Ht;kt++){const qt=_t(xt[kt],at[kt],Et);Nt(qt.x,qt.y,-nt),ct===0&&tt.push(qt)}for(let kt=0,Ht=mt;kt<Ht;kt++){const qt=it[kt];R=ft[kt];const te=[];for(let Re=0,rn=qt.length;Re<rn;Re++){const Ie=_t(qt[Re],R[Re],Et);Nt(Ie.x,Ie.y,-nt),ct===0&&te.push(Ie)}ct===0&&et.push(te)}}Q=Ur.triangulateShape(tt,et)}const K=Q.length,ht=x+S;for(let tt=0;tt<U;tt++){const et=v?_t(Z[tt],q[tt],ht):Z[tt];C?(j.copy(N.normals[0]).multiplyScalar(et.x),B.copy(N.binormals[0]).multiplyScalar(et.y),D.copy(A[0]).add(j).add(B),Nt(D.x,D.y,D.z)):Nt(et.x,et.y,0)}for(let tt=1;tt<=m;tt++)for(let et=0;et<U;et++){const rt=v?_t(Z[et],q[et],ht):Z[et];C?(j.copy(N.normals[tt]).multiplyScalar(rt.x),B.copy(N.binormals[tt]).multiplyScalar(rt.y),D.copy(A[tt]).add(j).add(B),Nt(D.x,D.y,D.z)):Nt(rt.x,rt.y,g/m*tt)}for(let tt=_-1;tt>=0;tt--){const et=tt/_,rt=b*Math.cos(et*Math.PI/2),ct=x*Math.sin(et*Math.PI/2)+S;for(let nt=0,Et=xt.length;nt<Et;nt++){const kt=_t(xt[nt],at[nt],ct);Nt(kt.x,kt.y,g+rt)}for(let nt=0,Et=it.length;nt<Et;nt++){const kt=it[nt];R=ft[nt];for(let Ht=0,qt=kt.length;Ht<qt;Ht++){const te=_t(kt[Ht],R[Ht],ct);C?Nt(te.x,te.y+A[m-1].y,A[m-1].x+rt):Nt(te.x,te.y,g+rt)}}}zt(),gt();function zt(){const tt=s.length/3;if(v){let et=0,rt=U*et;for(let ct=0;ct<K;ct++){const nt=Q[ct];Ye(nt[2]+rt,nt[1]+rt,nt[0]+rt)}et=m+_*2,rt=U*et;for(let ct=0;ct<K;ct++){const nt=Q[ct];Ye(nt[0]+rt,nt[1]+rt,nt[2]+rt)}}else{for(let et=0;et<K;et++){const rt=Q[et];Ye(rt[2],rt[1],rt[0])}for(let et=0;et<K;et++){const rt=Q[et];Ye(rt[0]+U*m,rt[1]+U*m,rt[2]+U*m)}}i.addGroup(tt,s.length/3-tt,0)}function gt(){const tt=s.length/3;let et=0;Se(xt,et),et+=xt.length;for(let rt=0,ct=it.length;rt<ct;rt++){const nt=it[rt];Se(nt,et),et+=nt.length}i.addGroup(tt,s.length/3-tt,1)}function Se(tt,et){let rt=tt.length;for(;--rt>=0;){const ct=rt;let nt=rt-1;nt<0&&(nt=tt.length-1);for(let Et=0,kt=m+_*2;Et<kt;Et++){const Ht=U*Et,qt=U*(Et+1),te=et+ct+Ht,Re=et+nt+Ht,rn=et+nt+qt,Ie=et+ct+qt;ca(te,Re,rn,Ie)}}}function Nt(tt,et,rt){d.push(tt),d.push(et),d.push(rt)}function Ye(tt,et,rt){Fe(tt),Fe(et),Fe(rt);const ct=s.length/3,nt=T.generateTopUV(i,s,ct-3,ct-2,ct-1);Ze(nt[0]),Ze(nt[1]),Ze(nt[2])}function ca(tt,et,rt,ct){Fe(tt),Fe(et),Fe(ct),Fe(et),Fe(rt),Fe(ct);const nt=s.length/3,Et=T.generateSideWallUV(i,s,nt-6,nt-3,nt-2,nt-1);Ze(Et[0]),Ze(Et[1]),Ze(Et[3]),Ze(Et[1]),Ze(Et[2]),Ze(Et[3])}function Fe(tt){s.push(d[tt*3+0]),s.push(d[tt*3+1]),s.push(d[tt*3+2])}function Ze(tt){o.push(tt.x),o.push(tt.y)}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes,i=this.parameters.options;return k2(e,i,t)}static fromJSON(t,e){const i=[];for(let o=0,l=t.shapes.length;o<l;o++){const c=e[t.shapes[o]];i.push(c)}const s=t.options.extrudePath;return s!==void 0&&(t.options.extrudePath=new ih[s.type]().fromJSON(s)),new rf(i,t.options)}}const _2={generateTopUV:function(h,t,e,i,s){const o=t[e*3],l=t[e*3+1],c=t[i*3],d=t[i*3+1],p=t[s*3],m=t[s*3+1];return[new $(o,l),new $(c,d),new $(p,m)]},generateSideWallUV:function(h,t,e,i,s,o){const l=t[e*3],c=t[e*3+1],d=t[e*3+2],p=t[i*3],m=t[i*3+1],g=t[i*3+2],v=t[s*3],b=t[s*3+1],x=t[s*3+2],S=t[o*3],_=t[o*3+1],M=t[o*3+2];return Math.abs(c-m)<Math.abs(l-p)?[new $(l,1-d),new $(p,1-g),new $(v,1-x),new $(S,1-M)]:[new $(c,1-d),new $(m,1-g),new $(b,1-x),new $(_,1-M)]}};function k2(h,t,e){if(e.shapes=[],Array.isArray(h))for(let i=0,s=h.length;i<s;i++){const o=h[i];e.shapes.push(o.uuid)}else e.shapes.push(h.uuid);return e.options=Object.assign({},t),t.extrudePath!==void 0&&(e.options.extrudePath=t.extrudePath.toJSON()),e}class nf extends Vn{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,s=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,o,t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new nf(t.radius,t.detail)}}class sf extends At{constructor(t=[new $(0,-.5),new $(.5,0),new $(0,.5)],e=12,i=0,s=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:s},e=Math.floor(e),s=vt(s,0,Math.PI*2);const o=[],l=[],c=[],d=[],p=[],m=1/e,g=new z,v=new $,b=new z,x=new z,S=new z;let _=0,M=0;for(let T=0;T<=t.length-1;T++)switch(T){case 0:_=t[T+1].x-t[T].x,M=t[T+1].y-t[T].y,b.x=M*1,b.y=-_,b.z=M*0,S.copy(b),b.normalize(),d.push(b.x,b.y,b.z);break;case t.length-1:d.push(S.x,S.y,S.z);break;default:_=t[T+1].x-t[T].x,M=t[T+1].y-t[T].y,b.x=M*1,b.y=-_,b.z=M*0,x.copy(b),b.x+=S.x,b.y+=S.y,b.z+=S.z,b.normalize(),d.push(b.x,b.y,b.z),S.copy(x)}for(let T=0;T<=e;T++){const A=i+T*m*s,C=Math.sin(A),N=Math.cos(A);for(let B=0;B<=t.length-1;B++){g.x=t[B].x*C,g.y=t[B].y,g.z=t[B].x*N,l.push(g.x,g.y,g.z),v.x=T/e,v.y=B/(t.length-1),c.push(v.x,v.y);const j=d[3*B+0]*C,D=d[3*B+1],G=d[3*B+0]*N;p.push(j,D,G)}}for(let T=0;T<e;T++)for(let A=0;A<t.length-1;A++){const C=A+T*t.length,N=C,B=C+t.length,j=C+t.length+1,D=C+1;o.push(N,B,D),o.push(j,D,B)}this.setIndex(o),this.setAttribute("position",new ot(l,3)),this.setAttribute("uv",new ot(c,2)),this.setAttribute("normal",new ot(p,3))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new sf(t.points,t.segments,t.phiStart,t.phiLength)}}class fh extends Vn{constructor(t=1,e=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,s,t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new fh(t.radius,t.detail)}}class af extends At{constructor(t=1,e=1,i=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:s};const o=t/2,l=e/2,c=Math.floor(i),d=Math.floor(s),p=c+1,m=d+1,g=t/c,v=e/d,b=[],x=[],S=[],_=[];for(let M=0;M<m;M++){const T=M*v-l;for(let A=0;A<p;A++){const C=A*g-o;x.push(C,-T,0),S.push(0,0,1),_.push(A/c),_.push(1-M/d)}}for(let M=0;M<d;M++)for(let T=0;T<c;T++){const A=T+p*M,C=T+p*(M+1),N=T+1+p*(M+1),B=T+1+p*M;b.push(A,C,B),b.push(C,N,B)}this.setIndex(b),this.setAttribute("position",new ot(x,3)),this.setAttribute("normal",new ot(S,3)),this.setAttribute("uv",new ot(_,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new af(t.width,t.height,t.widthSegments,t.heightSegments)}}class of extends At{constructor(t=.5,e=1,i=32,s=1,o=0,l=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:s,thetaStart:o,thetaLength:l},i=Math.max(3,i),s=Math.max(1,s);const c=[],d=[],p=[],m=[];let g=t;const v=(e-t)/s,b=new z,x=new $;for(let S=0;S<=s;S++){for(let _=0;_<=i;_++){const M=o+_/i*l;b.x=g*Math.cos(M),b.y=g*Math.sin(M),d.push(b.x,b.y,b.z),p.push(0,0,1),x.x=(b.x/e+1)/2,x.y=(b.y/e+1)/2,m.push(x.x,x.y)}g+=v}for(let S=0;S<s;S++){const _=S*(i+1);for(let M=0;M<i;M++){const T=M+_,A=T,C=T+i+1,N=T+i+2,B=T+1;c.push(A,C,B),c.push(C,N,B)}}this.setIndex(c),this.setAttribute("position",new ot(d,3)),this.setAttribute("normal",new ot(p,3)),this.setAttribute("uv",new ot(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new of(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class lf extends At{constructor(t=new Xs([new $(0,.5),new $(-.5,-.5),new $(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const i=[],s=[],o=[],l=[];let c=0,d=0;if(Array.isArray(t)===!1)p(t);else for(let m=0;m<t.length;m++)p(t[m]),this.addGroup(c,d,m),c+=d,d=0;this.setIndex(i),this.setAttribute("position",new ot(s,3)),this.setAttribute("normal",new ot(o,3)),this.setAttribute("uv",new ot(l,2));function p(m){const g=s.length/3,v=m.extractPoints(e);let b=v.shape;const x=v.holes;Ur.isClockWise(b)===!1&&(b=b.reverse());for(let _=0,M=x.length;_<M;_++){const T=x[_];Ur.isClockWise(T)===!0&&(x[_]=T.reverse())}const S=Ur.triangulateShape(b,x);for(let _=0,M=x.length;_<M;_++){const T=x[_];b=b.concat(T)}for(let _=0,M=b.length;_<M;_++){const T=b[_];s.push(T.x,T.y,0),o.push(0,0,1),l.push(T.x,T.y)}for(let _=0,M=S.length;_<M;_++){const T=S[_],A=T[0]+g,C=T[1]+g,N=T[2]+g;i.push(A,C,N),d+=3}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes;return T2(e,t)}static fromJSON(t,e){const i=[];for(let s=0,o=t.shapes.length;s<o;s++){const l=e[t.shapes[s]];i.push(l)}return new lf(i,t.curveSegments)}}function T2(h,t){if(t.shapes=[],Array.isArray(h))for(let e=0,i=h.length;e<i;e++){const s=h[e];t.shapes.push(s.uuid)}else t.shapes.push(h.uuid);return t}class mh extends At{constructor(t=1,e=32,i=16,s=0,o=Math.PI*2,l=0,c=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:s,phiLength:o,thetaStart:l,thetaLength:c},e=Math.max(3,Math.floor(e)),i=Math.max(2,Math.floor(i));const d=Math.min(l+c,Math.PI);let p=0;const m=[],g=new z,v=new z,b=[],x=[],S=[],_=[];for(let M=0;M<=i;M++){const T=[],A=M/i;let C=0;M===0&&l===0?C=.5/e:M===i&&d===Math.PI&&(C=-.5/e);for(let N=0;N<=e;N++){const B=N/e;g.x=-t*Math.cos(s+B*o)*Math.sin(l+A*c),g.y=t*Math.cos(l+A*c),g.z=t*Math.sin(s+B*o)*Math.sin(l+A*c),x.push(g.x,g.y,g.z),v.copy(g).normalize(),S.push(v.x,v.y,v.z),_.push(B+C,1-A),T.push(p++)}m.push(T)}for(let M=0;M<i;M++)for(let T=0;T<e;T++){const A=m[M][T+1],C=m[M][T],N=m[M+1][T],B=m[M+1][T+1];(M!==0||l>0)&&b.push(A,C,B),(M!==i-1||d<Math.PI)&&b.push(C,N,B)}this.setIndex(b),this.setAttribute("position",new ot(x,3)),this.setAttribute("normal",new ot(S,3)),this.setAttribute("uv",new ot(_,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new mh(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class uf extends Vn{constructor(t=1,e=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,s,t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new uf(t.radius,t.detail)}}class hf extends At{constructor(t=1,e=.4,i=12,s=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:s,arc:o},i=Math.floor(i),s=Math.floor(s);const l=[],c=[],d=[],p=[],m=new z,g=new z,v=new z;for(let b=0;b<=i;b++)for(let x=0;x<=s;x++){const S=x/s*o,_=b/i*Math.PI*2;g.x=(t+e*Math.cos(_))*Math.cos(S),g.y=(t+e*Math.cos(_))*Math.sin(S),g.z=e*Math.sin(_),c.push(g.x,g.y,g.z),m.x=t*Math.cos(S),m.y=t*Math.sin(S),v.subVectors(g,m).normalize(),d.push(v.x,v.y,v.z),p.push(x/s),p.push(b/i)}for(let b=1;b<=i;b++)for(let x=1;x<=s;x++){const S=(s+1)*b+x-1,_=(s+1)*(b-1)+x-1,M=(s+1)*(b-1)+x,T=(s+1)*b+x;l.push(S,_,T),l.push(_,M,T)}this.setIndex(l),this.setAttribute("position",new ot(c,3)),this.setAttribute("normal",new ot(d,3)),this.setAttribute("uv",new ot(p,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new hf(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class cf extends At{constructor(t=1,e=.4,i=64,s=8,o=2,l=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:s,p:o,q:l},i=Math.floor(i),s=Math.floor(s);const c=[],d=[],p=[],m=[],g=new z,v=new z,b=new z,x=new z,S=new z,_=new z,M=new z;for(let A=0;A<=i;++A){const C=A/i*o*Math.PI*2;T(C,o,l,t,b),T(C+.01,o,l,t,x),_.subVectors(x,b),M.addVectors(x,b),S.crossVectors(_,M),M.crossVectors(S,_),S.normalize(),M.normalize();for(let N=0;N<=s;++N){const B=N/s*Math.PI*2,j=-e*Math.cos(B),D=e*Math.sin(B);g.x=b.x+(j*M.x+D*S.x),g.y=b.y+(j*M.y+D*S.y),g.z=b.z+(j*M.z+D*S.z),d.push(g.x,g.y,g.z),v.subVectors(g,b).normalize(),p.push(v.x,v.y,v.z),m.push(A/i),m.push(N/s)}}for(let A=1;A<=i;A++)for(let C=1;C<=s;C++){const N=(s+1)*(A-1)+(C-1),B=(s+1)*A+(C-1),j=(s+1)*A+C,D=(s+1)*(A-1)+C;c.push(N,B,D),c.push(B,j,D)}this.setIndex(c),this.setAttribute("position",new ot(d,3)),this.setAttribute("normal",new ot(p,3)),this.setAttribute("uv",new ot(m,2));function T(A,C,N,B,j){const D=Math.cos(A),G=Math.sin(A),Z=N/C*A,it=Math.cos(Z);j.x=B*(2+it)*.5*D,j.y=B*(2+it)*G*.5,j.z=B*Math.sin(Z)*.5}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new cf(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class df extends At{constructor(t=new xb(new z(-1,-1,0),new z(-1,1,0),new z(1,1,0)),e=64,i=1,s=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:s,closed:o};const l=t.computeFrenetFrames(e,o);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const c=new z,d=new z,p=new $;let m=new z;const g=[],v=[],b=[],x=[];S(),this.setIndex(x),this.setAttribute("position",new ot(g,3)),this.setAttribute("normal",new ot(v,3)),this.setAttribute("uv",new ot(b,2));function S(){for(let A=0;A<e;A++)_(A);_(o===!1?e:0),T(),M()}function _(A){m=t.getPointAt(A/e,m);const C=l.normals[A],N=l.binormals[A];for(let B=0;B<=s;B++){const j=B/s*Math.PI*2,D=Math.sin(j),G=-Math.cos(j);d.x=G*C.x+D*N.x,d.y=G*C.y+D*N.y,d.z=G*C.z+D*N.z,d.normalize(),v.push(d.x,d.y,d.z),c.x=m.x+i*d.x,c.y=m.y+i*d.y,c.z=m.z+i*d.z,g.push(c.x,c.y,c.z)}}function M(){for(let A=1;A<=e;A++)for(let C=1;C<=s;C++){const N=(s+1)*(A-1)+(C-1),B=(s+1)*A+(C-1),j=(s+1)*A+C,D=(s+1)*(A-1)+C;x.push(N,B,D),x.push(B,j,D)}}function T(){for(let A=0;A<=e;A++)for(let C=0;C<=s;C++)p.x=A/e,p.y=C/s,b.push(p.x,p.y)}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new df(new ih[t.path.type]().fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class A2 extends At{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},t!==null){const e=[],i=new Set,s=new z,o=new z;if(t.index!==null){const l=t.attributes.position,c=t.index;let d=t.groups;d.length===0&&(d=[{start:0,count:c.count,materialIndex:0}]);for(let p=0,m=d.length;p<m;++p){const g=d[p],v=g.start,b=g.count;for(let x=v,S=v+b;x<S;x+=3)for(let _=0;_<3;_++){const M=c.getX(x+_),T=c.getX(x+(_+1)%3);s.fromBufferAttribute(l,M),o.fromBufferAttribute(l,T),Tv(s,o,i)===!0&&(e.push(s.x,s.y,s.z),e.push(o.x,o.y,o.z))}}}else{const l=t.attributes.position;for(let c=0,d=l.count/3;c<d;c++)for(let p=0;p<3;p++){const m=3*c+p,g=3*c+(p+1)%3;s.fromBufferAttribute(l,m),o.fromBufferAttribute(l,g),Tv(s,o,i)===!0&&(e.push(s.x,s.y,s.z),e.push(o.x,o.y,o.z))}}this.setAttribute("position",new ot(e,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function Tv(h,t,e){const i=`${h.x},${h.y},${h.z}-${t.x},${t.y},${t.z}`,s=`${t.x},${t.y},${t.z}-${h.x},${h.y},${h.z}`;return e.has(i)===!0||e.has(s)===!0?!1:(e.add(i),e.add(s),!0)}var Av=Object.freeze({__proto__:null,BoxGeometry:hh,CapsuleGeometry:Xp,CircleGeometry:Qp,ConeGeometry:ph,CylinderGeometry:dh,DodecahedronGeometry:Kp,EdgesGeometry:GM,ExtrudeGeometry:rf,IcosahedronGeometry:nf,LatheGeometry:sf,OctahedronGeometry:fh,PlaneGeometry:af,PolyhedronGeometry:Vn,RingGeometry:of,ShapeGeometry:lf,SphereGeometry:mh,TetrahedronGeometry:uf,TorusGeometry:hf,TorusKnotGeometry:cf,TubeGeometry:df,WireframeGeometry:A2});class C2 extends De{constructor(t){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new bt(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}class z2 extends Up{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Tb extends De{constructor(t){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new bt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sa,this.normalScale=new $(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new jr,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class E2 extends Tb{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new $(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return vt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new bt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new bt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new bt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get dispersion(){return this._dispersion}set dispersion(t){this._dispersion>0!=t>0&&this.version++,this._dispersion=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.dispersion=t.dispersion,this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class R2 extends De{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new bt(16777215),this.specular=new bt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sa,this.normalScale=new $(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new jr,this.combine=Ip,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class I2 extends De{constructor(t){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new bt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sa,this.normalScale=new $(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}class N2 extends De{constructor(t){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sa,this.normalScale=new $(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}class P2 extends De{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new bt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sa,this.normalScale=new $(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new jr,this.combine=Ip,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class O2 extends De{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=LS,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class L2 extends De{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}class B2 extends De{constructor(t){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new bt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sa,this.normalScale=new $(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}class D2 extends Ge{constructor(t){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}function On(h,t){return!h||h.constructor===t?h:typeof t.BYTES_PER_ELEMENT=="number"?new t(h):Array.prototype.slice.call(h)}function Ab(h){return ArrayBuffer.isView(h)&&!(h instanceof DataView)}function Cb(h){function t(s,o){return h[s]-h[o]}const e=h.length,i=new Array(e);for(let s=0;s!==e;++s)i[s]=s;return i.sort(t),i}function Ap(h,t,e){const i=h.length,s=new h.constructor(i);for(let o=0,l=0;l!==i;++o){const c=e[o]*t;for(let d=0;d!==t;++d)s[l++]=h[c+d]}return s}function pf(h,t,e,i){let s=1,o=h[0];for(;o!==void 0&&o[i]===void 0;)o=h[s++];if(o===void 0)return;let l=o[i];if(l!==void 0)if(Array.isArray(l))do l=o[i],l!==void 0&&(t.push(o.time),e.push(...l)),o=h[s++];while(o!==void 0);else if(l.toArray!==void 0)do l=o[i],l!==void 0&&(t.push(o.time),l.toArray(e,e.length)),o=h[s++];while(o!==void 0);else do l=o[i],l!==void 0&&(t.push(o.time),e.push(l)),o=h[s++];while(o!==void 0)}function F2(h,t,e,i,s=30){const o=h.clone();o.name=t;const l=[];for(let d=0;d<o.tracks.length;++d){const p=o.tracks[d],m=p.getValueSize(),g=[],v=[];for(let b=0;b<p.times.length;++b){const x=p.times[b]*s;if(!(x<e||x>=i)){g.push(p.times[b]);for(let S=0;S<m;++S)v.push(p.values[b*m+S])}}g.length!==0&&(p.times=On(g,p.times.constructor),p.values=On(v,p.values.constructor),l.push(p))}o.tracks=l;let c=1/0;for(let d=0;d<o.tracks.length;++d)c>o.tracks[d].times[0]&&(c=o.tracks[d].times[0]);for(let d=0;d<o.tracks.length;++d)o.tracks[d].shift(-1*c);return o.resetDuration(),o}function V2(h,t=0,e=h,i=30){i<=0&&(i=30);const s=e.tracks.length,o=t/i;for(let l=0;l<s;++l){const c=e.tracks[l],d=c.ValueTypeName;if(d==="bool"||d==="string")continue;const p=h.tracks.find(function(M){return M.name===c.name&&M.ValueTypeName===d});if(p===void 0)continue;let m=0;const g=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);let v=0;const b=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=b/3);const x=c.times.length-1;let S;if(o<=c.times[0]){const M=m,T=g-m;S=c.values.slice(M,T)}else if(o>=c.times[x]){const M=x*g+m,T=M+g-m;S=c.values.slice(M,T)}else{const M=c.createInterpolant(),T=m,A=g-m;M.evaluate(o),S=M.resultBuffer.slice(T,A)}d==="quaternion"&&new lr().fromArray(S).normalize().conjugate().toArray(S);const _=p.times.length;for(let M=0;M<_;++M){const T=M*b+v;if(d==="quaternion")lr.multiplyQuaternionsFlat(p.values,T,S,0,p.values,T);else{const A=b-v*2;for(let C=0;C<A;++C)p.values[T+C]-=S[C]}}}return h.blendMode=ob,h}class RC{static convertArray(t,e){return On(t,e)}static isTypedArray(t){return Ab(t)}static getKeyframeOrder(t){return Cb(t)}static sortedArray(t,e,i){return Ap(t,e,i)}static flattenJSON(t,e,i,s){pf(t,e,i,s)}static subclip(t,e,i,s,o=30){return F2(t,e,i,s,o)}static makeClipAdditive(t,e=0,i=t,s=30){return V2(t,e,i,s)}}class yh{constructor(t,e,i,s){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,s=e[i],o=e[i-1];t:{e:{let l;r:{i:if(!(t<s)){for(let c=i+2;;){if(s===void 0){if(t<o)break i;return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===c)break;if(o=s,s=e[++i],t<s)break e}l=e.length;break r}if(!(t>=o)){const c=e[1];t<c&&(i=2,o=c);for(let d=i-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===d)break;if(s=o,o=e[--i-1],t>=o)break e}l=i,i=0;break r}break t}for(;i<l;){const c=i+l>>>1;t<e[c]?l=c:i=c+1}if(s=e[i],o=e[i-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,o,s)}return this.interpolate_(i,o,t,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,s=this.valueSize,o=t*s;for(let l=0;l!==s;++l)e[l]=i[o+l];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class U2 extends yh{constructor(t,e,i,s){super(t,e,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Gs,endingEnd:Gs}}intervalChanged_(t,e,i){const s=this.parameterPositions;let o=t-2,l=t+1,c=s[o],d=s[l];if(c===void 0)switch(this.getSettings_().endingStart){case Ys:o=t,c=2*e-i;break;case Xu:o=s.length-2,c=e+s[o]-s[o+1];break;default:o=t,c=i}if(d===void 0)switch(this.getSettings_().endingEnd){case Ys:l=t,d=2*i-e;break;case Xu:l=1,d=i+s[1]-s[0];break;default:l=t-1,d=e}const p=(i-e)*.5,m=this.valueSize;this._weightPrev=p/(e-c),this._weightNext=p/(d-i),this._offsetPrev=o*m,this._offsetNext=l*m}interpolate_(t,e,i,s){const o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,d=t*c,p=d-c,m=this._offsetPrev,g=this._offsetNext,v=this._weightPrev,b=this._weightNext,x=(i-e)/(s-e),S=x*x,_=S*x,M=-v*_+2*v*S-v*x,T=(1+v)*_+(-1.5-2*v)*S+(-.5+v)*x+1,A=(-1-b)*_+(1.5+b)*S+.5*x,C=b*_-b*S;for(let N=0;N!==c;++N)o[N]=M*l[m+N]+T*l[p+N]+A*l[d+N]+C*l[g+N];return o}}class zb extends yh{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,d=t*c,p=d-c,m=(i-e)/(s-e),g=1-m;for(let v=0;v!==c;++v)o[v]=l[p+v]*g+l[d+v]*m;return o}}class j2 extends yh{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t){return this.copySampleValue_(t-1)}}class Ir{constructor(t,e,i,s){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=On(e,this.TimeBufferType),this.values=On(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:On(t.times,Array),values:On(t.values,Array)};const s=t.getInterpolation();s!==t.DefaultInterpolation&&(i.interpolation=s)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new j2(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new zb(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new U2(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case $u:e=this.InterpolantFactoryMethodDiscrete;break;case Sp:e=this.InterpolantFactoryMethodLinear;break;case Pd:e=this.InterpolantFactoryMethodSmooth;break}if(e===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return $u;case this.InterpolantFactoryMethodLinear:return Sp;case this.InterpolantFactoryMethodSmooth:return Pd}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]+=t}return this}scale(t){if(t!==1){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]*=t}return this}trim(t,e){const i=this.times,s=i.length;let o=0,l=s-1;for(;o!==s&&i[o]<t;)++o;for(;l!==-1&&i[l]>e;)--l;if(++l,o!==0||l!==s){o>=l&&(l=Math.max(l,1),o=l-1);const c=this.getValueSize();this.times=i.slice(o,l),this.values=this.values.slice(o*c,l*c)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,s=this.values,o=i.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let l=null;for(let c=0;c!==o;c++){const d=i[c];if(typeof d=="number"&&isNaN(d)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,c,d),t=!1;break}if(l!==null&&l>d){console.error("THREE.KeyframeTrack: Out of order keys.",this,c,d,l),t=!1;break}l=d}if(s!==void 0&&Ab(s))for(let c=0,d=s.length;c!==d;++c){const p=s[c];if(isNaN(p)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,c,p),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),i=this.getValueSize(),s=this.getInterpolation()===Pd,o=t.length-1;let l=1;for(let c=1;c<o;++c){let d=!1;const p=t[c],m=t[c+1];if(p!==m&&(c!==1||p!==t[0]))if(s)d=!0;else{const g=c*i,v=g-i,b=g+i;for(let x=0;x!==i;++x){const S=e[g+x];if(S!==e[v+x]||S!==e[b+x]){d=!0;break}}}if(d){if(c!==l){t[l]=t[c];const g=c*i,v=l*i;for(let b=0;b!==i;++b)e[v+b]=e[g+b]}++l}}if(o>0){t[l]=t[o];for(let c=o*i,d=l*i,p=0;p!==i;++p)e[d+p]=e[c+p];++l}return l!==t.length?(this.times=t.slice(0,l),this.values=e.slice(0,l*i)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),i=this.constructor,s=new i(this.name,t,e);return s.createInterpolant=this.createInterpolant,s}}Ir.prototype.ValueTypeName="";Ir.prototype.TimeBufferType=Float32Array;Ir.prototype.ValueBufferType=Float32Array;Ir.prototype.DefaultInterpolation=Sp;class oa extends Ir{constructor(t,e,i){super(t,e,i)}}oa.prototype.ValueTypeName="bool";oa.prototype.ValueBufferType=Array;oa.prototype.DefaultInterpolation=$u;oa.prototype.InterpolantFactoryMethodLinear=void 0;oa.prototype.InterpolantFactoryMethodSmooth=void 0;class Eb extends Ir{constructor(t,e,i,s){super(t,e,i,s)}}Eb.prototype.ValueTypeName="color";class nh extends Ir{constructor(t,e,i,s){super(t,e,i,s)}}nh.prototype.ValueTypeName="number";class W2 extends yh{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,d=(i-e)/(s-e);let p=t*c;for(let m=p+c;p!==m;p+=4)lr.slerpFlat(o,0,l,p-c,l,p,d);return o}}class gh extends Ir{constructor(t,e,i,s){super(t,e,i,s)}InterpolantFactoryMethodLinear(t){return new W2(this.times,this.values,this.getValueSize(),t)}}gh.prototype.ValueTypeName="quaternion";gh.prototype.InterpolantFactoryMethodSmooth=void 0;class la extends Ir{constructor(t,e,i){super(t,e,i)}}la.prototype.ValueTypeName="string";la.prototype.ValueBufferType=Array;la.prototype.DefaultInterpolation=$u;la.prototype.InterpolantFactoryMethodLinear=void 0;la.prototype.InterpolantFactoryMethodSmooth=void 0;class sh extends Ir{constructor(t,e,i,s){super(t,e,i,s)}}sh.prototype.ValueTypeName="vector";class ah{constructor(t="",e=-1,i=[],s=Bp){this.name=t,this.tracks=i,this.duration=e,this.blendMode=s,this.uuid=or(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],i=t.tracks,s=1/(t.fps||1);for(let l=0,c=i.length;l!==c;++l)e.push(q2(i[l]).scale(s));const o=new this(t.name,t.duration,e,t.blendMode);return o.uuid=t.uuid,o}static toJSON(t){const e=[],i=t.tracks,s={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let o=0,l=i.length;o!==l;++o)e.push(Ir.toJSON(i[o]));return s}static CreateFromMorphTargetSequence(t,e,i,s){const o=e.length,l=[];for(let c=0;c<o;c++){let d=[],p=[];d.push((c+o-1)%o,c,(c+1)%o),p.push(0,1,0);const m=Cb(d);d=Ap(d,1,m),p=Ap(p,1,m),!s&&d[0]===0&&(d.push(o),p.push(p[0])),l.push(new nh(".morphTargetInfluences["+e[c].name+"]",d,p).scale(1/i))}return new this(t,-1,l)}static findByName(t,e){let i=t;if(!Array.isArray(t)){const s=t;i=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<i.length;s++)if(i[s].name===e)return i[s];return null}static CreateClipsFromMorphTargetSequences(t,e,i){const s={},o=/^([\w-]*?)([\d]+)$/;for(let c=0,d=t.length;c<d;c++){const p=t[c],m=p.name.match(o);if(m&&m.length>1){const g=m[1];let v=s[g];v||(s[g]=v=[]),v.push(p)}}const l=[];for(const c in s)l.push(this.CreateFromMorphTargetSequence(c,s[c],e,i));return l}static parseAnimation(t,e){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(m,g,v,b,x){if(v.length!==0){const S=[],_=[];pf(v,S,_,b),S.length!==0&&x.push(new m(g,S,_))}},s=[],o=t.name||"default",l=t.fps||30,c=t.blendMode;let d=t.length||-1;const p=t.hierarchy||[];for(let m=0;m<p.length;m++){const g=p[m].keys;if(!(!g||g.length===0))if(g[0].morphTargets){const v={};let b;for(b=0;b<g.length;b++)if(g[b].morphTargets)for(let x=0;x<g[b].morphTargets.length;x++)v[g[b].morphTargets[x]]=-1;for(const x in v){const S=[],_=[];for(let M=0;M!==g[b].morphTargets.length;++M){const T=g[b];S.push(T.time),_.push(T.morphTarget===x?1:0)}s.push(new nh(".morphTargetInfluence["+x+"]",S,_))}d=v.length*l}else{const v=".bones["+e[m].name+"]";i(sh,v+".position",g,"pos",s),i(gh,v+".quaternion",g,"rot",s),i(sh,v+".scale",g,"scl",s)}}return s.length===0?null:new this(o,d,s,c)}resetDuration(){const t=this.tracks;let e=0;for(let i=0,s=t.length;i!==s;++i){const o=this.tracks[i];e=Math.max(e,o.times[o.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function H2(h){switch(h.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return nh;case"vector":case"vector2":case"vector3":case"vector4":return sh;case"color":return Eb;case"quaternion":return gh;case"bool":case"boolean":return oa;case"string":return la}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+h)}function q2(h){if(h.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=H2(h.type);if(h.times===void 0){const e=[],i=[];pf(h.keys,e,i,"value"),h.times=e,h.values=i}return t.parse!==void 0?t.parse(h):new t(h.name,h.times,h.values,h.interpolation)}const Ki={enabled:!1,files:{},add:function(h,t){this.enabled!==!1&&(this.files[h]=t)},get:function(h){if(this.enabled!==!1)return this.files[h]},remove:function(h){delete this.files[h]},clear:function(){this.files={}}};class Rb{constructor(t,e,i){const s=this;let o=!1,l=0,c=0,d;const p=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(m){c++,o===!1&&s.onStart!==void 0&&s.onStart(m,l,c),o=!0},this.itemEnd=function(m){l++,s.onProgress!==void 0&&s.onProgress(m,l,c),l===c&&(o=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(m){s.onError!==void 0&&s.onError(m)},this.resolveURL=function(m){return d?d(m):m},this.setURLModifier=function(m){return d=m,this},this.addHandler=function(m,g){return p.push(m,g),this},this.removeHandler=function(m){const g=p.indexOf(m);return g!==-1&&p.splice(g,2),this},this.getHandler=function(m){for(let g=0,v=p.length;g<v;g+=2){const b=p[g],x=p[g+1];if(b.global&&(b.lastIndex=0),b.test(m))return x}return null}}}const zo=new Rb;class ur{constructor(t){this.manager=t!==void 0?t:zo,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const i=this;return new Promise(function(s,o){i.load(t,s,e,o)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}ur.DEFAULT_MATERIAL_NAME="__DEFAULT";const fi={};class J2 extends Error{constructor(t,e){super(t),this.response=e}}class tn extends ur{constructor(t){super(t),this.mimeType="",this.responseType=""}load(t,e,i,s){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const o=Ki.get(t);if(o!==void 0)return this.manager.itemStart(t),setTimeout(()=>{e&&e(o),this.manager.itemEnd(t)},0),o;if(fi[t]!==void 0){fi[t].push({onLoad:e,onProgress:i,onError:s});return}fi[t]=[],fi[t].push({onLoad:e,onProgress:i,onError:s});const l=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),c=this.mimeType,d=this.responseType;fetch(l).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const m=fi[t],g=p.body.getReader(),v=p.headers.get("X-File-Size")||p.headers.get("Content-Length"),b=v?parseInt(v):0,x=b!==0;let S=0;const _=new ReadableStream({start(M){T();function T(){g.read().then(({done:A,value:C})=>{if(A)M.close();else{S+=C.byteLength;const N=new ProgressEvent("progress",{lengthComputable:x,loaded:S,total:b});for(let B=0,j=m.length;B<j;B++){const D=m[B];D.onProgress&&D.onProgress(N)}M.enqueue(C),T()}},A=>{M.error(A)})}}});return new Response(_)}else throw new J2(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(d){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(m=>new DOMParser().parseFromString(m,c));case"json":return p.json();default:if(c==="")return p.text();{const m=/charset="?([^;"\s]*)"?/i.exec(c),g=m&&m[1]?m[1].toLowerCase():void 0,v=new TextDecoder(g);return p.arrayBuffer().then(b=>v.decode(b))}}}).then(p=>{Ki.add(t,p);const m=fi[t];delete fi[t];for(let g=0,v=m.length;g<v;g++){const b=m[g];b.onLoad&&b.onLoad(p)}}).catch(p=>{const m=fi[t];if(m===void 0)throw this.manager.itemError(t),p;delete fi[t];for(let g=0,v=m.length;g<v;g++){const b=m[g];b.onError&&b.onError(p)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class IC extends ur{constructor(t){super(t)}load(t,e,i,s){const o=this,l=new tn(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,function(c){try{e(o.parse(JSON.parse(c)))}catch(d){s?s(d):console.error(d),o.manager.itemError(t)}},i,s)}parse(t){const e=[];for(let i=0;i<t.length;i++){const s=ah.parse(t[i]);e.push(s)}return e}}class NC extends ur{constructor(t){super(t)}load(t,e,i,s){const o=this,l=[],c=new $p,d=new tn(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(o.withCredentials);let p=0;function m(g){d.load(t[g],function(v){const b=o.parse(v,!0);l[g]={width:b.width,height:b.height,format:b.format,mipmaps:b.mipmaps},p+=1,p===6&&(b.mipmapCount===1&&(c.minFilter=wr),c.image=l,c.format=b.format,c.needsUpdate=!0,e&&e(c))},i,s)}if(Array.isArray(t))for(let g=0,v=t.length;g<v;++g)m(g);else d.load(t,function(g){const v=o.parse(g,!0);if(v.isCubemap){const b=v.mipmaps.length/v.mipmapCount;for(let x=0;x<b;x++){l[x]={mipmaps:[]};for(let S=0;S<v.mipmapCount;S++)l[x].mipmaps.push(v.mipmaps[x*v.mipmapCount+S]),l[x].format=v.format,l[x].width=v.width,l[x].height=v.height}c.image=l}else c.image.width=v.width,c.image.height=v.height,c.mipmaps=v.mipmaps;v.mipmapCount===1&&(c.minFilter=wr),c.format=v.format,c.needsUpdate=!0,e&&e(c)},i,s);return c}}class oh extends ur{constructor(t){super(t)}load(t,e,i,s){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const o=this,l=Ki.get(t);if(l!==void 0)return o.manager.itemStart(t),setTimeout(function(){e&&e(l),o.manager.itemEnd(t)},0),l;const c=th("img");function d(){m(),Ki.add(t,this),e&&e(this),o.manager.itemEnd(t)}function p(g){m(),s&&s(g),o.manager.itemError(t),o.manager.itemEnd(t)}function m(){c.removeEventListener("load",d,!1),c.removeEventListener("error",p,!1)}return c.addEventListener("load",d,!1),c.addEventListener("error",p,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(c.crossOrigin=this.crossOrigin),o.manager.itemStart(t),c.src=t,c}}class PC extends ur{constructor(t){super(t)}load(t,e,i,s){const o=new Wp;o.colorSpace=br;const l=new oh(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let c=0;function d(p){l.load(t[p],function(m){o.images[p]=m,c++,c===6&&(o.needsUpdate=!0,e&&e(o))},void 0,s)}for(let p=0;p<t.length;++p)d(p);return o}}class OC extends ur{constructor(t){super(t)}load(t,e,i,s){const o=this,l=new gi,c=new tn(this.manager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(o.withCredentials),c.load(t,function(d){let p;try{p=o.parse(d)}catch(m){if(s!==void 0)s(m);else{console.error(m);return}}p.image!==void 0?l.image=p.image:p.data!==void 0&&(l.image.width=p.width,l.image.height=p.height,l.image.data=p.data),l.wrapS=p.wrapS!==void 0?p.wrapS:Fr,l.wrapT=p.wrapT!==void 0?p.wrapT:Fr,l.magFilter=p.magFilter!==void 0?p.magFilter:wr,l.minFilter=p.minFilter!==void 0?p.minFilter:wr,l.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(l.colorSpace=p.colorSpace),p.flipY!==void 0&&(l.flipY=p.flipY),p.format!==void 0&&(l.format=p.format),p.type!==void 0&&(l.type=p.type),p.mipmaps!==void 0&&(l.mipmaps=p.mipmaps,l.minFilter=uh),p.mipmapCount===1&&(l.minFilter=wr),p.generateMipmaps!==void 0&&(l.generateMipmaps=p.generateMipmaps),l.needsUpdate=!0,e&&e(l,p)},i,s),l}}class LC extends ur{constructor(t){super(t)}load(t,e,i,s){const o=new de,l=new oh(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(t,function(c){o.image=c,o.needsUpdate=!0,e!==void 0&&e(o)},i,s),o}}class Un extends Bt{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new bt(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(e.object.target=this.target.uuid),e}}class G2 extends Un{constructor(t,e,i){super(t,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new bt(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}}const dp=new St,Cv=new z,zv=new z;class ff{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new $(512,512),this.mapType=Op,this.map=null,this.mapPass=null,this.matrix=new St,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Yp,this._frameExtents=new $(1,1),this._viewportCount=1,this._viewports=[new ve(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,i=this.matrix;Cv.setFromMatrixPosition(t.matrixWorld),e.position.copy(Cv),zv.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(zv),e.updateMatrixWorld(),dp.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(dp),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(dp)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.autoUpdate=t.autoUpdate,this.needsUpdate=t.needsUpdate,this.normalBias=t.normalBias,this.blurSamples=t.blurSamples,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.intensity!==1&&(t.intensity=this.intensity),this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class Y2 extends ff{constructor(){super(new xr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const e=this.camera,i=Po*2*t.angle*this.focus,s=this.mapSize.width/this.mapSize.height,o=t.distance||e.far;(i!==e.fov||s!==e.aspect||o!==e.far)&&(e.fov=i,e.aspect=s,e.far=o,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class Z2 extends Un{constructor(t,e,i=0,s=Math.PI/3,o=0,l=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.target=new Bt,this.distance=i,this.angle=s,this.penumbra=o,this.decay=l,this.map=null,this.shadow=new Y2}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const Ev=new St,So=new z,pp=new z;class $2 extends ff{constructor(){super(new xr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new $(4,2),this._viewportCount=6,this._viewports=[new ve(2,1,1,1),new ve(0,1,1,1),new ve(3,1,1,1),new ve(1,1,1,1),new ve(3,0,1,1),new ve(1,0,1,1)],this._cubeDirections=[new z(1,0,0),new z(-1,0,0),new z(0,0,1),new z(0,0,-1),new z(0,1,0),new z(0,-1,0)],this._cubeUps=[new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,0,1),new z(0,0,-1)]}updateMatrices(t,e=0){const i=this.camera,s=this.matrix,o=t.distance||i.far;o!==i.far&&(i.far=o,i.updateProjectionMatrix()),So.setFromMatrixPosition(t.matrixWorld),i.position.copy(So),pp.copy(i.position),pp.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(pp),i.updateMatrixWorld(),s.makeTranslation(-So.x,-So.y,-So.z),Ev.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ev)}}class X2 extends Un{constructor(t,e,i=0,s=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=s,this.shadow=new $2}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class Ib extends jp{constructor(t=-1,e=1,i=1,s=-1,o=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=s,this.near=o,this.far=l,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,i,s,o,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=s,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let o=i-t,l=i+t,c=s+e,d=s-e;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=p*this.view.offsetX,l=o+p*this.view.width,c-=m*this.view.offsetY,d=c-m*this.view.height}this.projectionMatrix.makeOrthographic(o,l,c,d,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}class Q2 extends ff{constructor(){super(new Ib(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class K2 extends Un{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.target=new Bt,this.shadow=new Q2}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class t_ extends Un{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class e_ extends Un{constructor(t,e,i=10,s=10){super(t,e),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}class r_{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new z)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const i=t.x,s=t.y,o=t.z,l=this.coefficients;return e.copy(l[0]).multiplyScalar(.282095),e.addScaledVector(l[1],.488603*s),e.addScaledVector(l[2],.488603*o),e.addScaledVector(l[3],.488603*i),e.addScaledVector(l[4],1.092548*(i*s)),e.addScaledVector(l[5],1.092548*(s*o)),e.addScaledVector(l[6],.315392*(3*o*o-1)),e.addScaledVector(l[7],1.092548*(i*o)),e.addScaledVector(l[8],.546274*(i*i-s*s)),e}getIrradianceAt(t,e){const i=t.x,s=t.y,o=t.z,l=this.coefficients;return e.copy(l[0]).multiplyScalar(.886227),e.addScaledVector(l[1],2*.511664*s),e.addScaledVector(l[2],2*.511664*o),e.addScaledVector(l[3],2*.511664*i),e.addScaledVector(l[4],2*.429043*i*s),e.addScaledVector(l[5],2*.429043*s*o),e.addScaledVector(l[6],.743125*o*o-.247708),e.addScaledVector(l[7],2*.429043*i*o),e.addScaledVector(l[8],.429043*(i*i-s*s)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,e=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].fromArray(t,e+s*3);return this}toArray(t=[],e=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].toArray(t,e+s*3);return t}static getBasisAt(t,e){const i=t.x,s=t.y,o=t.z;e[0]=.282095,e[1]=.488603*s,e[2]=.488603*o,e[3]=.488603*i,e[4]=1.092548*i*s,e[5]=1.092548*s*o,e[6]=.315392*(3*o*o-1),e[7]=1.092548*i*o,e[8]=.546274*(i*i-s*s)}}class i_ extends Un{constructor(t=new r_,e=1){super(void 0,e),this.isLightProbe=!0,this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}class mf extends ur{constructor(t){super(t),this.textures={}}load(t,e,i,s){const o=this,l=new tn(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(t,function(c){try{e(o.parse(JSON.parse(c)))}catch(d){s?s(d):console.error(d),o.manager.itemError(t)}},i,s)}parse(t){const e=this.textures;function i(o){return e[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),e[o]}const s=this.createMaterialFromType(t.type);if(t.uuid!==void 0&&(s.uuid=t.uuid),t.name!==void 0&&(s.name=t.name),t.color!==void 0&&s.color!==void 0&&s.color.setHex(t.color),t.roughness!==void 0&&(s.roughness=t.roughness),t.metalness!==void 0&&(s.metalness=t.metalness),t.sheen!==void 0&&(s.sheen=t.sheen),t.sheenColor!==void 0&&(s.sheenColor=new bt().setHex(t.sheenColor)),t.sheenRoughness!==void 0&&(s.sheenRoughness=t.sheenRoughness),t.emissive!==void 0&&s.emissive!==void 0&&s.emissive.setHex(t.emissive),t.specular!==void 0&&s.specular!==void 0&&s.specular.setHex(t.specular),t.specularIntensity!==void 0&&(s.specularIntensity=t.specularIntensity),t.specularColor!==void 0&&s.specularColor!==void 0&&s.specularColor.setHex(t.specularColor),t.shininess!==void 0&&(s.shininess=t.shininess),t.clearcoat!==void 0&&(s.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=t.clearcoatRoughness),t.dispersion!==void 0&&(s.dispersion=t.dispersion),t.iridescence!==void 0&&(s.iridescence=t.iridescence),t.iridescenceIOR!==void 0&&(s.iridescenceIOR=t.iridescenceIOR),t.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=t.iridescenceThicknessRange),t.transmission!==void 0&&(s.transmission=t.transmission),t.thickness!==void 0&&(s.thickness=t.thickness),t.attenuationDistance!==void 0&&(s.attenuationDistance=t.attenuationDistance),t.attenuationColor!==void 0&&s.attenuationColor!==void 0&&s.attenuationColor.setHex(t.attenuationColor),t.anisotropy!==void 0&&(s.anisotropy=t.anisotropy),t.anisotropyRotation!==void 0&&(s.anisotropyRotation=t.anisotropyRotation),t.fog!==void 0&&(s.fog=t.fog),t.flatShading!==void 0&&(s.flatShading=t.flatShading),t.blending!==void 0&&(s.blending=t.blending),t.combine!==void 0&&(s.combine=t.combine),t.side!==void 0&&(s.side=t.side),t.shadowSide!==void 0&&(s.shadowSide=t.shadowSide),t.opacity!==void 0&&(s.opacity=t.opacity),t.transparent!==void 0&&(s.transparent=t.transparent),t.alphaTest!==void 0&&(s.alphaTest=t.alphaTest),t.alphaHash!==void 0&&(s.alphaHash=t.alphaHash),t.depthFunc!==void 0&&(s.depthFunc=t.depthFunc),t.depthTest!==void 0&&(s.depthTest=t.depthTest),t.depthWrite!==void 0&&(s.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(s.colorWrite=t.colorWrite),t.blendSrc!==void 0&&(s.blendSrc=t.blendSrc),t.blendDst!==void 0&&(s.blendDst=t.blendDst),t.blendEquation!==void 0&&(s.blendEquation=t.blendEquation),t.blendSrcAlpha!==void 0&&(s.blendSrcAlpha=t.blendSrcAlpha),t.blendDstAlpha!==void 0&&(s.blendDstAlpha=t.blendDstAlpha),t.blendEquationAlpha!==void 0&&(s.blendEquationAlpha=t.blendEquationAlpha),t.blendColor!==void 0&&s.blendColor!==void 0&&s.blendColor.setHex(t.blendColor),t.blendAlpha!==void 0&&(s.blendAlpha=t.blendAlpha),t.stencilWriteMask!==void 0&&(s.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(s.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(s.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(s.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(s.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(s.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(s.stencilZPass=t.stencilZPass),t.stencilWrite!==void 0&&(s.stencilWrite=t.stencilWrite),t.wireframe!==void 0&&(s.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(s.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(s.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(s.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(s.rotation=t.rotation),t.linewidth!==void 0&&(s.linewidth=t.linewidth),t.dashSize!==void 0&&(s.dashSize=t.dashSize),t.gapSize!==void 0&&(s.gapSize=t.gapSize),t.scale!==void 0&&(s.scale=t.scale),t.polygonOffset!==void 0&&(s.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(s.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(s.polygonOffsetUnits=t.polygonOffsetUnits),t.dithering!==void 0&&(s.dithering=t.dithering),t.alphaToCoverage!==void 0&&(s.alphaToCoverage=t.alphaToCoverage),t.premultipliedAlpha!==void 0&&(s.premultipliedAlpha=t.premultipliedAlpha),t.forceSinglePass!==void 0&&(s.forceSinglePass=t.forceSinglePass),t.visible!==void 0&&(s.visible=t.visible),t.toneMapped!==void 0&&(s.toneMapped=t.toneMapped),t.userData!==void 0&&(s.userData=t.userData),t.vertexColors!==void 0&&(typeof t.vertexColors=="number"?s.vertexColors=t.vertexColors>0:s.vertexColors=t.vertexColors),t.uniforms!==void 0)for(const o in t.uniforms){const l=t.uniforms[o];switch(s.uniforms[o]={},l.type){case"t":s.uniforms[o].value=i(l.value);break;case"c":s.uniforms[o].value=new bt().setHex(l.value);break;case"v2":s.uniforms[o].value=new $().fromArray(l.value);break;case"v3":s.uniforms[o].value=new z().fromArray(l.value);break;case"v4":s.uniforms[o].value=new ve().fromArray(l.value);break;case"m3":s.uniforms[o].value=new Hr().fromArray(l.value);break;case"m4":s.uniforms[o].value=new St().fromArray(l.value);break;default:s.uniforms[o].value=l.value}}if(t.defines!==void 0&&(s.defines=t.defines),t.vertexShader!==void 0&&(s.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(s.fragmentShader=t.fragmentShader),t.glslVersion!==void 0&&(s.glslVersion=t.glslVersion),t.extensions!==void 0)for(const o in t.extensions)s.extensions[o]=t.extensions[o];if(t.lights!==void 0&&(s.lights=t.lights),t.clipping!==void 0&&(s.clipping=t.clipping),t.size!==void 0&&(s.size=t.size),t.sizeAttenuation!==void 0&&(s.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(s.map=i(t.map)),t.matcap!==void 0&&(s.matcap=i(t.matcap)),t.alphaMap!==void 0&&(s.alphaMap=i(t.alphaMap)),t.bumpMap!==void 0&&(s.bumpMap=i(t.bumpMap)),t.bumpScale!==void 0&&(s.bumpScale=t.bumpScale),t.normalMap!==void 0&&(s.normalMap=i(t.normalMap)),t.normalMapType!==void 0&&(s.normalMapType=t.normalMapType),t.normalScale!==void 0){let o=t.normalScale;Array.isArray(o)===!1&&(o=[o,o]),s.normalScale=new $().fromArray(o)}return t.displacementMap!==void 0&&(s.displacementMap=i(t.displacementMap)),t.displacementScale!==void 0&&(s.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(s.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(s.roughnessMap=i(t.roughnessMap)),t.metalnessMap!==void 0&&(s.metalnessMap=i(t.metalnessMap)),t.emissiveMap!==void 0&&(s.emissiveMap=i(t.emissiveMap)),t.emissiveIntensity!==void 0&&(s.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(s.specularMap=i(t.specularMap)),t.specularIntensityMap!==void 0&&(s.specularIntensityMap=i(t.specularIntensityMap)),t.specularColorMap!==void 0&&(s.specularColorMap=i(t.specularColorMap)),t.envMap!==void 0&&(s.envMap=i(t.envMap)),t.envMapRotation!==void 0&&s.envMapRotation.fromArray(t.envMapRotation),t.envMapIntensity!==void 0&&(s.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(s.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(s.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(s.lightMap=i(t.lightMap)),t.lightMapIntensity!==void 0&&(s.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(s.aoMap=i(t.aoMap)),t.aoMapIntensity!==void 0&&(s.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(s.gradientMap=i(t.gradientMap)),t.clearcoatMap!==void 0&&(s.clearcoatMap=i(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(s.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(s.clearcoatNormalMap=i(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(s.clearcoatNormalScale=new $().fromArray(t.clearcoatNormalScale)),t.iridescenceMap!==void 0&&(s.iridescenceMap=i(t.iridescenceMap)),t.iridescenceThicknessMap!==void 0&&(s.iridescenceThicknessMap=i(t.iridescenceThicknessMap)),t.transmissionMap!==void 0&&(s.transmissionMap=i(t.transmissionMap)),t.thicknessMap!==void 0&&(s.thicknessMap=i(t.thicknessMap)),t.anisotropyMap!==void 0&&(s.anisotropyMap=i(t.anisotropyMap)),t.sheenColorMap!==void 0&&(s.sheenColorMap=i(t.sheenColorMap)),t.sheenRoughnessMap!==void 0&&(s.sheenRoughnessMap=i(t.sheenRoughnessMap)),s}setTextures(t){return this.textures=t,this}createMaterialFromType(t){return mf.createMaterialFromType(t)}static createMaterialFromType(t){const e={ShadowMaterial:C2,SpriteMaterial:pb,RawShaderMaterial:z2,ShaderMaterial:Up,PointsMaterial:yb,MeshPhysicalMaterial:E2,MeshStandardMaterial:Tb,MeshPhongMaterial:R2,MeshToonMaterial:I2,MeshNormalMaterial:N2,MeshLambertMaterial:P2,MeshDepthMaterial:O2,MeshDistanceMaterial:L2,MeshBasicMaterial:aa,MeshMatcapMaterial:B2,LineDashedMaterial:D2,LineBasicMaterial:Ge,Material:De};return new e[t]}}class Rv{static extractUrlBase(t){const e=t.lastIndexOf("/");return e===-1?"./":t.slice(0,e+1)}static resolveURL(t,e){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class n_ extends At{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class s_ extends ur{constructor(t){super(t)}load(t,e,i,s){const o=this,l=new tn(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(t,function(c){try{e(o.parse(JSON.parse(c)))}catch(d){s?s(d):console.error(d),o.manager.itemError(t)}},i,s)}parse(t){const e={},i={};function s(v,b){if(e[b]!==void 0)return e[b];const x=v.interleavedBuffers[b],S=o(v,x.buffer),_=Zs(x.type,S),M=new Jp(_,x.stride);return M.uuid=x.uuid,e[b]=M,M}function o(v,b){if(i[b]!==void 0)return i[b];const x=v.arrayBuffers[b],S=new Uint32Array(x).buffer;return i[b]=S,S}const l=t.isInstancedBufferGeometry?new n_:new At,c=t.data.index;if(c!==void 0){const v=Zs(c.type,c.array);l.setIndex(new Qt(v,1))}const d=t.data.attributes;for(const v in d){const b=d[v];let x;if(b.isInterleavedBufferAttribute){const S=s(t.data,b.data);x=new Ks(S,b.itemSize,b.offset,b.normalized)}else{const S=Zs(b.type,b.array),_=b.isInstancedBufferAttribute?Oo:Qt;x=new _(S,b.itemSize,b.normalized)}b.name!==void 0&&(x.name=b.name),b.usage!==void 0&&x.setUsage(b.usage),l.setAttribute(v,x)}const p=t.data.morphAttributes;if(p)for(const v in p){const b=p[v],x=[];for(let S=0,_=b.length;S<_;S++){const M=b[S];let T;if(M.isInterleavedBufferAttribute){const A=s(t.data,M.data);T=new Ks(A,M.itemSize,M.offset,M.normalized)}else{const A=Zs(M.type,M.array);T=new Qt(A,M.itemSize,M.normalized)}M.name!==void 0&&(T.name=M.name),x.push(T)}l.morphAttributes[v]=x}t.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const m=t.data.groups||t.data.drawcalls||t.data.offsets;if(m!==void 0)for(let v=0,b=m.length;v!==b;++v){const x=m[v];l.addGroup(x.start,x.count,x.materialIndex)}const g=t.data.boundingSphere;if(g!==void 0){const v=new z;g.center!==void 0&&v.fromArray(g.center),l.boundingSphere=new Ee(v,g.radius)}return t.name&&(l.name=t.name),t.userData&&(l.userData=t.userData),l}}class BC extends ur{constructor(t){super(t)}load(t,e,i,s){const o=this,l=this.path===""?Rv.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||l;const c=new tn(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(t,function(d){let p=null;try{p=JSON.parse(d)}catch(g){s!==void 0&&s(g),console.error("THREE:ObjectLoader: Can't parse "+t+".",g.message);return}const m=p.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){s!==void 0&&s(new Error("THREE.ObjectLoader: Can't load "+t)),console.error("THREE.ObjectLoader: Can't load "+t);return}o.parse(p,e)},i,s)}async loadAsync(t,e){const i=this,s=this.path===""?Rv.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||s;const o=new tn(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const l=await o.loadAsync(t,e),c=JSON.parse(l),d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+t);return await i.parseAsync(c)}parse(t,e){const i=this.parseAnimations(t.animations),s=this.parseShapes(t.shapes),o=this.parseGeometries(t.geometries,s),l=this.parseImages(t.images,function(){e!==void 0&&e(p)}),c=this.parseTextures(t.textures,l),d=this.parseMaterials(t.materials,c),p=this.parseObject(t.object,o,d,c,i),m=this.parseSkeletons(t.skeletons,p);if(this.bindSkeletons(p,m),this.bindLightTargets(p),e!==void 0){let g=!1;for(const v in l)if(l[v].data instanceof HTMLImageElement){g=!0;break}g===!1&&e(p)}return p}async parseAsync(t){const e=this.parseAnimations(t.animations),i=this.parseShapes(t.shapes),s=this.parseGeometries(t.geometries,i),o=await this.parseImagesAsync(t.images),l=this.parseTextures(t.textures,o),c=this.parseMaterials(t.materials,l),d=this.parseObject(t.object,s,c,l,e),p=this.parseSkeletons(t.skeletons,d);return this.bindSkeletons(d,p),this.bindLightTargets(d),d}parseShapes(t){const e={};if(t!==void 0)for(let i=0,s=t.length;i<s;i++){const o=new Xs().fromJSON(t[i]);e[o.uuid]=o}return e}parseSkeletons(t,e){const i={},s={};if(e.traverse(function(o){o.isBone&&(s[o.uuid]=o)}),t!==void 0)for(let o=0,l=t.length;o<l;o++){const c=new Gp().fromJSON(t[o],s);i[c.uuid]=c}return i}parseGeometries(t,e){const i={};if(t!==void 0){const s=new s_;for(let o=0,l=t.length;o<l;o++){let c;const d=t[o];switch(d.type){case"BufferGeometry":case"InstancedBufferGeometry":c=s.parse(d);break;default:d.type in Av?c=Av[d.type].fromJSON(d,e):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${d.type}"`)}c.uuid=d.uuid,d.name!==void 0&&(c.name=d.name),d.userData!==void 0&&(c.userData=d.userData),i[d.uuid]=c}}return i}parseMaterials(t,e){const i={},s={};if(t!==void 0){const o=new mf;o.setTextures(e);for(let l=0,c=t.length;l<c;l++){const d=t[l];i[d.uuid]===void 0&&(i[d.uuid]=o.parse(d)),s[d.uuid]=i[d.uuid]}}return s}parseAnimations(t){const e={};if(t!==void 0)for(let i=0;i<t.length;i++){const s=t[i],o=ah.parse(s);e[o.uuid]=o}return e}parseImages(t,e){const i=this,s={};let o;function l(d){return i.manager.itemStart(d),o.load(d,function(){i.manager.itemEnd(d)},void 0,function(){i.manager.itemError(d),i.manager.itemEnd(d)})}function c(d){if(typeof d=="string"){const p=d,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:i.resourcePath+p;return l(m)}else return d.data?{data:Zs(d.type,d.data),width:d.width,height:d.height}:null}if(t!==void 0&&t.length>0){const d=new Rb(e);o=new oh(d),o.setCrossOrigin(this.crossOrigin);for(let p=0,m=t.length;p<m;p++){const g=t[p],v=g.url;if(Array.isArray(v)){const b=[];for(let x=0,S=v.length;x<S;x++){const _=v[x],M=c(_);M!==null&&(M instanceof HTMLImageElement?b.push(M):b.push(new gi(M.data,M.width,M.height)))}s[g.uuid]=new Pn(b)}else{const b=c(g.url);s[g.uuid]=new Pn(b)}}}return s}async parseImagesAsync(t){const e=this,i={};let s;async function o(l){if(typeof l=="string"){const c=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:e.resourcePath+c;return await s.loadAsync(d)}else return l.data?{data:Zs(l.type,l.data),width:l.width,height:l.height}:null}if(t!==void 0&&t.length>0){s=new oh(this.manager),s.setCrossOrigin(this.crossOrigin);for(let l=0,c=t.length;l<c;l++){const d=t[l],p=d.url;if(Array.isArray(p)){const m=[];for(let g=0,v=p.length;g<v;g++){const b=p[g],x=await o(b);x!==null&&(x instanceof HTMLImageElement?m.push(x):m.push(new gi(x.data,x.width,x.height)))}i[d.uuid]=new Pn(m)}else{const m=await o(d.url);i[d.uuid]=new Pn(m)}}}return i}parseTextures(t,e){function i(o,l){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),l[o])}const s={};if(t!==void 0)for(let o=0,l=t.length;o<l;o++){const c=t[o];c.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',c.uuid),e[c.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",c.image);const d=e[c.image],p=d.data;let m;Array.isArray(p)?(m=new Wp,p.length===6&&(m.needsUpdate=!0)):(p&&p.data?m=new gi:m=new de,p&&(m.needsUpdate=!0)),m.source=d,m.uuid=c.uuid,c.name!==void 0&&(m.name=c.name),c.mapping!==void 0&&(m.mapping=i(c.mapping,a_)),c.channel!==void 0&&(m.channel=c.channel),c.offset!==void 0&&m.offset.fromArray(c.offset),c.repeat!==void 0&&m.repeat.fromArray(c.repeat),c.center!==void 0&&m.center.fromArray(c.center),c.rotation!==void 0&&(m.rotation=c.rotation),c.wrap!==void 0&&(m.wrapS=i(c.wrap[0],Iv),m.wrapT=i(c.wrap[1],Iv)),c.format!==void 0&&(m.format=c.format),c.internalFormat!==void 0&&(m.internalFormat=c.internalFormat),c.type!==void 0&&(m.type=c.type),c.colorSpace!==void 0&&(m.colorSpace=c.colorSpace),c.minFilter!==void 0&&(m.minFilter=i(c.minFilter,Nv)),c.magFilter!==void 0&&(m.magFilter=i(c.magFilter,Nv)),c.anisotropy!==void 0&&(m.anisotropy=c.anisotropy),c.flipY!==void 0&&(m.flipY=c.flipY),c.generateMipmaps!==void 0&&(m.generateMipmaps=c.generateMipmaps),c.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=c.premultiplyAlpha),c.unpackAlignment!==void 0&&(m.unpackAlignment=c.unpackAlignment),c.compareFunction!==void 0&&(m.compareFunction=c.compareFunction),c.userData!==void 0&&(m.userData=c.userData),s[c.uuid]=m}return s}parseObject(t,e,i,s,o){let l;function c(v){return e[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",v),e[v]}function d(v){if(v!==void 0){if(Array.isArray(v)){const b=[];for(let x=0,S=v.length;x<S;x++){const _=v[x];i[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),b.push(i[_])}return b}return i[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),i[v]}}function p(v){return s[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",v),s[v]}let m,g;switch(t.type){case"Scene":l=new kM,t.background!==void 0&&(Number.isInteger(t.background)?l.background=new bt(t.background):l.background=p(t.background)),t.environment!==void 0&&(l.environment=p(t.environment)),t.fog!==void 0&&(t.fog.type==="Fog"?l.fog=new qp(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&&(l.fog=new Hp(t.fog.color,t.fog.density)),t.fog.name!==""&&(l.fog.name=t.fog.name)),t.backgroundBlurriness!==void 0&&(l.backgroundBlurriness=t.backgroundBlurriness),t.backgroundIntensity!==void 0&&(l.backgroundIntensity=t.backgroundIntensity),t.backgroundRotation!==void 0&&l.backgroundRotation.fromArray(t.backgroundRotation),t.environmentIntensity!==void 0&&(l.environmentIntensity=t.environmentIntensity),t.environmentRotation!==void 0&&l.environmentRotation.fromArray(t.environmentRotation);break;case"PerspectiveCamera":l=new xr(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&&(l.focus=t.focus),t.zoom!==void 0&&(l.zoom=t.zoom),t.filmGauge!==void 0&&(l.filmGauge=t.filmGauge),t.filmOffset!==void 0&&(l.filmOffset=t.filmOffset),t.view!==void 0&&(l.view=Object.assign({},t.view));break;case"OrthographicCamera":l=new Ib(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&&(l.zoom=t.zoom),t.view!==void 0&&(l.view=Object.assign({},t.view));break;case"AmbientLight":l=new t_(t.color,t.intensity);break;case"DirectionalLight":l=new K2(t.color,t.intensity),l.target=t.target||"";break;case"PointLight":l=new X2(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":l=new e_(t.color,t.intensity,t.width,t.height);break;case"SpotLight":l=new Z2(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay),l.target=t.target||"";break;case"HemisphereLight":l=new G2(t.color,t.groundColor,t.intensity);break;case"LightProbe":l=new i_().fromJSON(t);break;case"SkinnedMesh":m=c(t.geometry),g=d(t.material),l=new zM(m,g),t.bindMode!==void 0&&(l.bindMode=t.bindMode),t.bindMatrix!==void 0&&l.bindMatrix.fromArray(t.bindMatrix),t.skeleton!==void 0&&(l.skeleton=t.skeleton);break;case"Mesh":m=c(t.geometry),g=d(t.material),l=new Rr(m,g);break;case"InstancedMesh":m=c(t.geometry),g=d(t.material);const v=t.count,b=t.instanceMatrix,x=t.instanceColor;l=new IM(m,g,v),l.instanceMatrix=new Oo(new Float32Array(b.array),16),x!==void 0&&(l.instanceColor=new Oo(new Float32Array(x.array),x.itemSize));break;case"BatchedMesh":m=c(t.geometry),g=d(t.material),l=new jM(t.maxInstanceCount,t.maxVertexCount,t.maxIndexCount,g),l.geometry=m,l.perObjectFrustumCulled=t.perObjectFrustumCulled,l.sortObjects=t.sortObjects,l._drawRanges=t.drawRanges,l._reservedRanges=t.reservedRanges,l._geometryInfo=t.geometryInfo.map(S=>{let _=null,M=null;return S.boundingBox!==void 0&&(_=new Be,_.min.fromArray(S.boundingBox.min),_.max.fromArray(S.boundingBox.max)),S.boundingSphere!==void 0&&(M=new Ee,M.radius=S.boundingSphere.radius,M.center.fromArray(S.boundingSphere.center)),{...S,boundingBox:_,boundingSphere:M}}),l._instanceInfo=t.instanceInfo,l._availableInstanceIds=t._availableInstanceIds,l._availableGeometryIds=t._availableGeometryIds,l._nextIndexStart=t.nextIndexStart,l._nextVertexStart=t.nextVertexStart,l._geometryCount=t.geometryCount,l._maxInstanceCount=t.maxInstanceCount,l._maxVertexCount=t.maxVertexCount,l._maxIndexCount=t.maxIndexCount,l._geometryInitialized=t.geometryInitialized,l._matricesTexture=p(t.matricesTexture.uuid),l._indirectTexture=p(t.indirectTexture.uuid),t.colorsTexture!==void 0&&(l._colorsTexture=p(t.colorsTexture.uuid)),t.boundingSphere!==void 0&&(l.boundingSphere=new Ee,l.boundingSphere.center.fromArray(t.boundingSphere.center),l.boundingSphere.radius=t.boundingSphere.radius),t.boundingBox!==void 0&&(l.boundingBox=new Be,l.boundingBox.min.fromArray(t.boundingBox.min),l.boundingBox.max.fromArray(t.boundingBox.max));break;case"LOD":l=new AM;break;case"Line":l=new Bn(c(t.geometry),d(t.material));break;case"LineLoop":l=new WM(c(t.geometry),d(t.material));break;case"LineSegments":l=new xi(c(t.geometry),d(t.material));break;case"PointCloud":case"Points":l=new HM(c(t.geometry),d(t.material));break;case"Sprite":l=new TM(d(t.material));break;case"Group":l=new Ao;break;case"Bone":l=new mb;break;default:l=new Bt}if(l.uuid=t.uuid,t.name!==void 0&&(l.name=t.name),t.matrix!==void 0?(l.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&&(l.matrixAutoUpdate=t.matrixAutoUpdate),l.matrixAutoUpdate&&l.matrix.decompose(l.position,l.quaternion,l.scale)):(t.position!==void 0&&l.position.fromArray(t.position),t.rotation!==void 0&&l.rotation.fromArray(t.rotation),t.quaternion!==void 0&&l.quaternion.fromArray(t.quaternion),t.scale!==void 0&&l.scale.fromArray(t.scale)),t.up!==void 0&&l.up.fromArray(t.up),t.castShadow!==void 0&&(l.castShadow=t.castShadow),t.receiveShadow!==void 0&&(l.receiveShadow=t.receiveShadow),t.shadow&&(t.shadow.intensity!==void 0&&(l.shadow.intensity=t.shadow.intensity),t.shadow.bias!==void 0&&(l.shadow.bias=t.shadow.bias),t.shadow.normalBias!==void 0&&(l.shadow.normalBias=t.shadow.normalBias),t.shadow.radius!==void 0&&(l.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&&l.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&&(l.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&&(l.visible=t.visible),t.frustumCulled!==void 0&&(l.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&&(l.renderOrder=t.renderOrder),t.userData!==void 0&&(l.userData=t.userData),t.layers!==void 0&&(l.layers.mask=t.layers),t.children!==void 0){const v=t.children;for(let b=0;b<v.length;b++)l.add(this.parseObject(v[b],e,i,s,o))}if(t.animations!==void 0){const v=t.animations;for(let b=0;b<v.length;b++){const x=v[b];l.animations.push(o[x])}}if(t.type==="LOD"){t.autoUpdate!==void 0&&(l.autoUpdate=t.autoUpdate);const v=t.levels;for(let b=0;b<v.length;b++){const x=v[b],S=l.getObjectByProperty("uuid",x.object);S!==void 0&&l.addLevel(S,x.distance,x.hysteresis)}}return l}bindSkeletons(t,e){Object.keys(e).length!==0&&t.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const s=e[i.skeleton];s===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(s,i.bindMatrix)}})}bindLightTargets(t){t.traverse(function(e){if(e.isDirectionalLight||e.isSpotLight){const i=e.target,s=t.getObjectByProperty("uuid",i);s!==void 0?e.target=s:e.target=new Bt}})}}const a_={UVMapping:Np,CubeReflectionMapping:Pp,CubeRefractionMapping:Pw,EquirectangularReflectionMapping:Ow,EquirectangularRefractionMapping:Lw,CubeUVReflectionMapping:Bw},Iv={RepeatWrapping:xp,ClampToEdgeWrapping:Fr,MirroredRepeatWrapping:wp},Nv={NearestFilter:Er,NearestMipmapNearestFilter:Dw,NearestMipmapLinearFilter:Fw,LinearFilter:wr,LinearMipmapNearestFilter:Vw,LinearMipmapLinearFilter:uh};class DC extends ur{constructor(t){super(t),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,i,s){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const o=this,l=Ki.get(t);if(l!==void 0){if(o.manager.itemStart(t),l.then){l.then(p=>{e&&e(p),o.manager.itemEnd(t)}).catch(p=>{s&&s(p)});return}return setTimeout(function(){e&&e(l),o.manager.itemEnd(t)},0),l}const c={};c.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",c.headers=this.requestHeader;const d=fetch(t,c).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(p){return Ki.add(t,p),e&&e(p),o.manager.itemEnd(t),p}).catch(function(p){s&&s(p),Ki.remove(t),o.manager.itemError(t),o.manager.itemEnd(t)});Ki.add(t,d),o.manager.itemStart(t)}}let Vu;class Nb{static getContext(){return Vu===void 0&&(Vu=new(window.AudioContext||window.webkitAudioContext)),Vu}static setContext(t){Vu=t}}class FC extends ur{constructor(t){super(t)}load(t,e,i,s){const o=this,l=new tn(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,function(d){try{const p=d.slice(0);Nb.getContext().decodeAudioData(p,function(m){e(m)}).catch(c)}catch(p){c(p)}},i,s);function c(d){s?s(d):console.error(d),o.manager.itemError(t)}}}const Pv=new St,Ov=new St,Cn=new St;class VC{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new xr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new xr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,Cn.copy(t.projectionMatrix);const i=e.eyeSep/2,s=i*e.near/e.focus,o=e.near*Math.tan(Ln*e.fov*.5)/e.zoom;let l,c;Ov.elements[12]=-i,Pv.elements[12]=i,l=-o*e.aspect+s,c=o*e.aspect+s,Cn.elements[0]=2*e.near/(c-l),Cn.elements[8]=(c+l)/(c-l),this.cameraL.projectionMatrix.copy(Cn),l=-o*e.aspect-s,c=o*e.aspect-s,Cn.elements[0]=2*e.near/(c-l),Cn.elements[8]=(c+l)/(c-l),this.cameraR.projectionMatrix.copy(Cn)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Ov),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Pv)}}class UC extends xr{constructor(t=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=t}}class o_{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Lv(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=Lv();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function Lv(){return performance.now()}const zn=new z,Bv=new lr,l_=new z,En=new z;class jC extends Bt{constructor(){super(),this.type="AudioListener",this.context=Nb.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new o_}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(zn,Bv,l_),En.set(0,0,-1).applyQuaternion(Bv),e.positionX){const s=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(zn.x,s),e.positionY.linearRampToValueAtTime(zn.y,s),e.positionZ.linearRampToValueAtTime(zn.z,s),e.forwardX.linearRampToValueAtTime(En.x,s),e.forwardY.linearRampToValueAtTime(En.y,s),e.forwardZ.linearRampToValueAtTime(En.z,s),e.upX.linearRampToValueAtTime(i.x,s),e.upY.linearRampToValueAtTime(i.y,s),e.upZ.linearRampToValueAtTime(i.z,s)}else e.setPosition(zn.x,zn.y,zn.z),e.setOrientation(En.x,En.y,En.z,i.x,i.y,i.z)}}class u_ extends Bt{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(t=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+t),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){return this.detune=t,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}copy(t,e){return super.copy(t,e),t.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=t.autoplay,this.buffer=t.buffer,this.detune=t.detune,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.offset=t.offset,this.duration=t.duration,this.playbackRate=t.playbackRate,this.hasPlaybackControl=t.hasPlaybackControl,this.sourceType=t.sourceType,this.filters=t.filters.slice(),this)}clone(t){return new this.constructor(this.listener).copy(this,t)}}const Rn=new z,Dv=new lr,h_=new z,In=new z;class WC extends u_{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=i,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Rn,Dv,h_),In.set(0,0,1).applyQuaternion(Dv);const e=this.panner;if(e.positionX){const i=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(Rn.x,i),e.positionY.linearRampToValueAtTime(Rn.y,i),e.positionZ.linearRampToValueAtTime(Rn.z,i),e.orientationX.linearRampToValueAtTime(In.x,i),e.orientationY.linearRampToValueAtTime(In.y,i),e.orientationZ.linearRampToValueAtTime(In.z,i)}else e.setPosition(Rn.x,Rn.y,Rn.z),e.setOrientation(In.x,In.y,In.z)}}class HC{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let i=0;i<e.length;i++)t+=e[i];return t/e.length}}class c_{constructor(t,e,i){this.binding=t,this.valueSize=i;let s,o,l;switch(e){case"quaternion":s=this._slerp,o=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":s=this._select,o=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:s=this._lerp,o=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=o,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const i=this.buffer,s=this.valueSize,o=t*s+s;let l=this.cumulativeWeight;if(l===0){for(let c=0;c!==s;++c)i[o+c]=i[c];l=e}else{l+=e;const c=e/l;this._mixBufferRegion(i,o,0,c,s)}this.cumulativeWeight=l}accumulateAdditive(t){const e=this.buffer,i=this.valueSize,s=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(e,s,0,t,i),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,i=this.buffer,s=t*e+e,o=this.cumulativeWeight,l=this.cumulativeWeightAdditive,c=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const d=e*this._origIndex;this._mixBufferRegion(i,s,d,1-o,e)}l>0&&this._mixBufferRegionAdditive(i,s,this._addIndex*e,1,e);for(let d=e,p=e+e;d!==p;++d)if(i[d]!==i[d+e]){c.setValue(i,s);break}}saveOriginalState(){const t=this.binding,e=this.buffer,i=this.valueSize,s=i*this._origIndex;t.getValue(e,s);for(let o=i,l=s;o!==l;++o)e[o]=e[s+o%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i<e;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]}_select(t,e,i,s,o){if(s>=.5)for(let l=0;l!==o;++l)t[e+l]=t[i+l]}_slerp(t,e,i,s){lr.slerpFlat(t,e,t,e,t,i,s)}_slerpAdditive(t,e,i,s,o){const l=this._workIndex*o;lr.multiplyQuaternionsFlat(t,l,t,e,t,i),lr.slerpFlat(t,e,t,e,t,l,s)}_lerp(t,e,i,s,o){const l=1-s;for(let c=0;c!==o;++c){const d=e+c;t[d]=t[d]*l+t[i+c]*s}}_lerpAdditive(t,e,i,s,o){for(let l=0;l!==o;++l){const c=e+l;t[c]=t[c]+t[i+l]*s}}}const yf="\\[\\]\\.:\\/",d_=new RegExp("["+yf+"]","g"),gf="[^"+yf+"]",p_="[^"+yf.replace("\\.","")+"]",f_=/((?:WC+[\/:])*)/.source.replace("WC",gf),m_=/(WCOD+)?/.source.replace("WCOD",p_),y_=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",gf),g_=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",gf),v_=new RegExp("^"+f_+m_+y_+g_+"$"),b_=["material","materials","bones","map"];class x_{constructor(t,e,i){const s=i||Lt.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,s)}getValue(t,e){this.bind();const i=this._targetGroup.nCachedObjects_,s=this._bindings[i];s!==void 0&&s.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,o=i.length;s!==o;++s)i[s].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}class Lt{constructor(t,e,i){this.path=e,this.parsedPath=i||Lt.parseTrackName(e),this.node=Lt.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,i){return t&&t.isAnimationObjectGroup?new Lt.Composite(t,e,i):new Lt(t,e,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(d_,"")}static parseTrackName(t){const e=v_.exec(t);if(e===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const o=i.nodeName.substring(s+1);b_.indexOf(o)!==-1&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=o)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,e){if(e===void 0||e===""||e==="."||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(e);if(i!==void 0)return i}if(t.children){const i=function(o){for(let l=0;l<o.length;l++){const c=o[l];if(c.name===e||c.uuid===e)return c;const d=i(c.children);if(d)return d}return null},s=i(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)t[e++]=i[s]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,i=e.objectName,s=e.propertyName;let o=e.propertyIndex;if(t||(t=Lt.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let p=e.objectIndex;switch(i){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let m=0;m<t.length;m++)if(t[m].name===p){p=m;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}t=t.material.map;break;default:if(t[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[i]}if(p!==void 0){if(t[p]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[p]}}const l=t[s];if(l===void 0){const p=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+p+"."+s+" but it wasn't found.",t);return}let c=this.Versioning.None;this.targetObject=t,t.isMaterial===!0?c=this.Versioning.NeedsUpdate:t.isObject3D===!0&&(c=this.Versioning.MatrixWorldNeedsUpdate);let d=this.BindingType.Direct;if(o!==void 0){if(s==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[o]!==void 0&&(o=t.morphTargetDictionary[o])}d=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=o}else l.fromArray!==void 0&&l.toArray!==void 0?(d=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(d=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=s;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Lt.Composite=x_;Lt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Lt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Lt.prototype.GetterByBindingType=[Lt.prototype._getValue_direct,Lt.prototype._getValue_array,Lt.prototype._getValue_arrayElement,Lt.prototype._getValue_toArray];Lt.prototype.SetterByBindingTypeAndVersioning=[[Lt.prototype._setValue_direct,Lt.prototype._setValue_direct_setNeedsUpdate,Lt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Lt.prototype._setValue_array,Lt.prototype._setValue_array_setNeedsUpdate,Lt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Lt.prototype._setValue_arrayElement,Lt.prototype._setValue_arrayElement_setNeedsUpdate,Lt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Lt.prototype._setValue_fromArray,Lt.prototype._setValue_fromArray_setNeedsUpdate,Lt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class qC{constructor(){this.isAnimationObjectGroup=!0,this.uuid=or(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let i=0,s=arguments.length;i!==s;++i)t[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const t=this._objects,e=this._indicesByUUID,i=this._paths,s=this._parsedPaths,o=this._bindings,l=o.length;let c,d=t.length,p=this.nCachedObjects_;for(let m=0,g=arguments.length;m!==g;++m){const v=arguments[m],b=v.uuid;let x=e[b];if(x===void 0){x=d++,e[b]=x,t.push(v);for(let S=0,_=l;S!==_;++S)o[S].push(new Lt(v,i[S],s[S]))}else if(x<p){c=t[x];const S=--p,_=t[S];e[_.uuid]=x,t[x]=_,e[b]=S,t[S]=v;for(let M=0,T=l;M!==T;++M){const A=o[M],C=A[S];let N=A[x];A[x]=C,N===void 0&&(N=new Lt(v,i[M],s[M])),A[S]=N}}else t[x]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,s=i.length;let o=this.nCachedObjects_;for(let l=0,c=arguments.length;l!==c;++l){const d=arguments[l],p=d.uuid,m=e[p];if(m!==void 0&&m>=o){const g=o++,v=t[g];e[v.uuid]=m,t[m]=v,e[p]=g,t[g]=d;for(let b=0,x=s;b!==x;++b){const S=i[b],_=S[g],M=S[m];S[m]=_,S[g]=M}}}this.nCachedObjects_=o}uncache(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,s=i.length;let o=this.nCachedObjects_,l=t.length;for(let c=0,d=arguments.length;c!==d;++c){const p=arguments[c],m=p.uuid,g=e[m];if(g!==void 0)if(delete e[m],g<o){const v=--o,b=t[v],x=--l,S=t[x];e[b.uuid]=g,t[g]=b,e[S.uuid]=v,t[v]=S,t.pop();for(let _=0,M=s;_!==M;++_){const T=i[_],A=T[v],C=T[x];T[g]=A,T[v]=C,T.pop()}}else{const v=--l,b=t[v];v>0&&(e[b.uuid]=g),t[g]=b,t.pop();for(let x=0,S=s;x!==S;++x){const _=i[x];_[g]=_[v],_.pop()}}}this.nCachedObjects_=o}subscribe_(t,e){const i=this._bindingsIndicesByPath;let s=i[t];const o=this._bindings;if(s!==void 0)return o[s];const l=this._paths,c=this._parsedPaths,d=this._objects,p=d.length,m=this.nCachedObjects_,g=new Array(p);s=o.length,i[t]=s,l.push(t),c.push(e),o.push(g);for(let v=m,b=d.length;v!==b;++v){const x=d[v];g[v]=new Lt(x,t,e)}return g}unsubscribe_(t){const e=this._bindingsIndicesByPath,i=e[t];if(i!==void 0){const s=this._paths,o=this._parsedPaths,l=this._bindings,c=l.length-1,d=l[c],p=t[c];e[p]=i,l[i]=d,l.pop(),o[i]=o[c],o.pop(),s[i]=s[c],s.pop()}}}class w_{constructor(t,e,i=null,s=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=i,this.blendMode=s;const o=e.tracks,l=o.length,c=new Array(l),d={endingStart:Gs,endingEnd:Gs};for(let p=0;p!==l;++p){const m=o[p].createInterpolant(null);c[p]=m,m.settings=d}this._interpolantSettings=d,this._interpolants=c,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=PS,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,i=!1){if(t.fadeOut(e),this.fadeIn(e),i===!0){const s=this._clip.duration,o=t._clip.duration,l=o/s,c=s/o;t.warp(1,l,e),this.warp(c,1,e)}return this}crossFadeTo(t,e,i=!1){return t.crossFadeFrom(this,e,i)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,i){const s=this._mixer,o=s.time,l=this.timeScale;let c=this._timeScaleInterpolant;c===null&&(c=s._lendControlInterpolant(),this._timeScaleInterpolant=c);const d=c.parameterPositions,p=c.sampleValues;return d[0]=o,d[1]=o+i,p[0]=t/l,p[1]=e/l,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,i,s){if(!this.enabled){this._updateWeight(t);return}const o=this._startTime;if(o!==null){const d=(t-o)*i;d<0||i===0?e=0:(this._startTime=null,e=i*d)}e*=this._updateTimeScale(t);const l=this._updateTime(e),c=this._updateWeight(t);if(c>0){const d=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case ob:for(let m=0,g=d.length;m!==g;++m)d[m].evaluate(l),p[m].accumulateAdditive(c);break;case Bp:default:for(let m=0,g=d.length;m!==g;++m)d[m].evaluate(l),p[m].accumulate(s,c)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const i=this._weightInterpolant;if(i!==null){const s=i.evaluate(t)[0];e*=s,t>i.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const s=i.evaluate(t)[0];e*=s,t>i.parameterPositions[1]&&(this.stopWarping(),e===0?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,i=this.loop;let s=this.time+t,o=this._loopCount;const l=i===OS;if(t===0)return o===-1?s:l&&(o&1)===1?e-s:s;if(i===NS){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(s>=e)s=e;else if(s<0)s=0;else{this.time=s;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(o===-1&&(t>=0?(o=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),s>=e||s<0){const c=Math.floor(s/e);s-=e*c,o+=Math.abs(c);const d=this.repetitions-o;if(d<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=t>0?e:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(d===1){const p=t<0;this._setEndings(p,!p,l)}else this._setEndings(!1,!1,l);this._loopCount=o,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c})}}else this.time=s;if(l&&(o&1)===1)return e-s}return s}_setEndings(t,e,i){const s=this._interpolantSettings;i?(s.endingStart=Ys,s.endingEnd=Ys):(t?s.endingStart=this.zeroSlopeAtStart?Ys:Gs:s.endingStart=Xu,e?s.endingEnd=this.zeroSlopeAtEnd?Ys:Gs:s.endingEnd=Xu)}_scheduleFading(t,e,i){const s=this._mixer,o=s.time;let l=this._weightInterpolant;l===null&&(l=s._lendControlInterpolant(),this._weightInterpolant=l);const c=l.parameterPositions,d=l.sampleValues;return c[0]=o,d[0]=e,c[1]=o+t,d[1]=i,this}}const S_=new Float32Array(1);class JC extends en{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const i=t._localRoot||this._root,s=t._clip.tracks,o=s.length,l=t._propertyBindings,c=t._interpolants,d=i.uuid,p=this._bindingsByRootAndName;let m=p[d];m===void 0&&(m={},p[d]=m);for(let g=0;g!==o;++g){const v=s[g],b=v.name;let x=m[b];if(x!==void 0)++x.referenceCount,l[g]=x;else{if(x=l[g],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,d,b));continue}const S=e&&e._propertyBindings[g].binding.parsedPath;x=new c_(Lt.create(i,b,S),v.ValueTypeName,v.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,d,b),l[g]=x}c[g].resultBuffer=x.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const i=(t._localRoot||this._root).uuid,s=t._clip.uuid,o=this._actionsByClip[s];this._bindAction(t,o&&o.knownActions[0]),this._addInactiveAction(t,s,i)}const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const o=e[i];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return e!==null&&e<this._nActiveActions}_addInactiveAction(t,e,i){const s=this._actions,o=this._actionsByClip;let l=o[e];if(l===void 0)l={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,o[e]=l;else{const c=l.knownActions;t._byClipCacheIndex=c.length,c.push(t)}t._cacheIndex=s.length,s.push(t),l.actionByRoot[i]=t}_removeInactiveAction(t){const e=this._actions,i=e[e.length-1],s=t._cacheIndex;i._cacheIndex=s,e[s]=i,e.pop(),t._cacheIndex=null;const o=t._clip.uuid,l=this._actionsByClip,c=l[o],d=c.knownActions,p=d[d.length-1],m=t._byClipCacheIndex;p._byClipCacheIndex=m,d[m]=p,d.pop(),t._byClipCacheIndex=null;const g=c.actionByRoot,v=(t._localRoot||this._root).uuid;delete g[v],d.length===0&&delete l[o],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const o=e[i];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(t){const e=this._actions,i=t._cacheIndex,s=this._nActiveActions++,o=e[s];t._cacheIndex=s,e[s]=t,o._cacheIndex=i,e[i]=o}_takeBackAction(t){const e=this._actions,i=t._cacheIndex,s=--this._nActiveActions,o=e[s];t._cacheIndex=s,e[s]=t,o._cacheIndex=i,e[i]=o}_addInactiveBinding(t,e,i){const s=this._bindingsByRootAndName,o=this._bindings;let l=s[e];l===void 0&&(l={},s[e]=l),l[i]=t,t._cacheIndex=o.length,o.push(t)}_removeInactiveBinding(t){const e=this._bindings,i=t.binding,s=i.rootNode.uuid,o=i.path,l=this._bindingsByRootAndName,c=l[s],d=e[e.length-1],p=t._cacheIndex;d._cacheIndex=p,e[p]=d,e.pop(),delete c[o],Object.keys(c).length===0&&delete l[s]}_lendBinding(t){const e=this._bindings,i=t._cacheIndex,s=this._nActiveBindings++,o=e[s];t._cacheIndex=s,e[s]=t,o._cacheIndex=i,e[i]=o}_takeBackBinding(t){const e=this._bindings,i=t._cacheIndex,s=--this._nActiveBindings,o=e[s];t._cacheIndex=s,e[s]=t,o._cacheIndex=i,e[i]=o}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let i=t[e];return i===void 0&&(i=new zb(new Float32Array(2),new Float32Array(2),1,S_),i.__cacheIndex=e,t[e]=i),i}_takeBackControlInterpolant(t){const e=this._controlInterpolants,i=t.__cacheIndex,s=--this._nActiveControlInterpolants,o=e[s];t.__cacheIndex=s,e[s]=t,o.__cacheIndex=i,e[i]=o}clipAction(t,e,i){const s=e||this._root,o=s.uuid;let l=typeof t=="string"?ah.findByName(s,t):t;const c=l!==null?l.uuid:t,d=this._actionsByClip[c];let p=null;if(i===void 0&&(l!==null?i=l.blendMode:i=Bp),d!==void 0){const g=d.actionByRoot[o];if(g!==void 0&&g.blendMode===i)return g;p=d.knownActions[0],l===null&&(l=p._clip)}if(l===null)return null;const m=new w_(this,l,e,i);return this._bindAction(m,p),this._addInactiveAction(m,c,o),m}existingAction(t,e){const i=e||this._root,s=i.uuid,o=typeof t=="string"?ah.findByName(i,t):t,l=o?o.uuid:t,c=this._actionsByClip[l];return c!==void 0&&c.actionByRoot[s]||null}stopAllAction(){const t=this._actions,e=this._nActiveActions;for(let i=e-1;i>=0;--i)t[i].stop();return this}update(t){t*=this.timeScale;const e=this._actions,i=this._nActiveActions,s=this.time+=t,o=Math.sign(t),l=this._accuIndex^=1;for(let p=0;p!==i;++p)e[p]._update(s,t,o,l);const c=this._bindings,d=this._nActiveBindings;for(let p=0;p!==d;++p)c[p].apply(l);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,i=t.uuid,s=this._actionsByClip,o=s[i];if(o!==void 0){const l=o.knownActions;for(let c=0,d=l.length;c!==d;++c){const p=l[c];this._deactivateAction(p);const m=p._cacheIndex,g=e[e.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,g._cacheIndex=m,e[m]=g,e.pop(),this._removeInactiveBindingsForAction(p)}delete s[i]}}uncacheRoot(t){const e=t.uuid,i=this._actionsByClip;for(const l in i){const c=i[l].actionByRoot,d=c[e];d!==void 0&&(this._deactivateAction(d),this._removeInactiveAction(d))}const s=this._bindingsByRootAndName,o=s[e];if(o!==void 0)for(const l in o){const c=o[l];c.restoreOriginalState(),this._removeInactiveBinding(c)}}uncacheAction(t,e){const i=this.existingAction(t,e);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class GC extends Fp{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isRenderTarget3D=!0,this.depth=i,this.texture=new hb(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class YC extends Fp{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isRenderTargetArray=!0,this.depth=i,this.texture=new ub(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class Pb{constructor(t){this.value=t}clone(){return new Pb(this.value.clone===void 0?this.value:this.value.clone())}}let M_=0;class ZC extends en{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:M_++}),this.name="",this.usage=Qu,this.uniforms=[]}add(t){return this.uniforms.push(t),this}remove(t){const e=this.uniforms.indexOf(t);return e!==-1&&this.uniforms.splice(e,1),this}setName(t){return this.name=t,this}setUsage(t){return this.usage=t,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(t){this.name=t.name,this.usage=t.usage;const e=t.uniforms;this.uniforms.length=0;for(let i=0,s=e.length;i<s;i++){const o=Array.isArray(e[i])?e[i]:[e[i]];for(let l=0;l<o.length;l++)this.uniforms.push(o[l].clone())}return this}clone(){return new this.constructor().copy(this)}}class $C extends Jp{constructor(t,e,i=1){super(t,e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}class XC{constructor(t,e,i,s,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=e,this.itemSize=i,this.elementSize=s,this.count=o,this.version=0}set needsUpdate(t){t===!0&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}const Fv=new St;class QC{constructor(t,e,i=0,s=1/0){this.ray=new Vo(t,e),this.near=i,this.far=s,this.camera=null,this.layers=new cb,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}setFromXRController(t){return Fv.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Fv),this}intersectObject(t,e=!0,i=[]){return Cp(t,this,i,e),i.sort(Vv),i}intersectObjects(t,e=!0,i=[]){for(let s=0,o=t.length;s<o;s++)Cp(t[s],this,i,e);return i.sort(Vv),i}}function Vv(h,t){return h.distance-t.distance}function Cp(h,t,e,i){let s=!0;if(h.layers.test(t.layers)&&h.raycast(t,e)===!1&&(s=!1),s===!0&&i===!0){const o=h.children;for(let l=0,c=o.length;l<c;l++)Cp(o[l],t,e,!0)}}class KC{constructor(t=1,e=0,i=0){this.radius=t,this.phi=e,this.theta=i}set(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=vt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(vt(e/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class tz{constructor(t=1,e=0,i=0){this.radius=t,this.theta=e,this.y=i}set(t,e,i){return this.radius=t,this.theta=e,this.y=i,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=e,this}clone(){return new this.constructor().copy(this)}}class Ob{constructor(t,e,i,s){Ob.prototype.isMatrix2=!0,this.elements=[1,0,0,1],t!==void 0&&this.set(t,e,i,s)}identity(){return this.set(1,0,0,1),this}fromArray(t,e=0){for(let i=0;i<4;i++)this.elements[i]=t[i+e];return this}set(t,e,i,s){const o=this.elements;return o[0]=t,o[2]=e,o[1]=i,o[3]=s,this}}const Uv=new $;class ez{constructor(t=new $(1/0,1/0),e=new $(-1/0,-1/0)){this.isBox2=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=Uv.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Uv).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const jv=new z,Uu=new z;class rz{constructor(t=new z,e=new z){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){jv.subVectors(t,this.start),Uu.subVectors(this.end,this.start);const i=Uu.dot(Uu);let s=Uu.dot(jv)/i;return e&&(s=vt(s,0,1)),s}closestPointToPoint(t,e,i){const s=this.closestPointToPointParameter(t,e);return this.delta(i).multiplyScalar(s).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Wv=new z;class iz extends Bt{constructor(t,e){super(),this.light=t,this.matrixAutoUpdate=!1,this.color=e,this.type="SpotLightHelper";const i=new At,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,c=1,d=32;l<d;l++,c++){const p=l/d*Math.PI*2,m=c/d*Math.PI*2;s.push(Math.cos(p),Math.sin(p),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new ot(s,3));const o=new Ge({fog:!1,toneMapped:!1});this.cone=new xi(i,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),Wv.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Wv),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Qi=new z,ju=new St,fp=new St;class nz extends xi{constructor(t){const e=Lb(t),i=new At,s=[],o=[],l=new bt(0,0,1),c=new bt(0,1,0);for(let p=0;p<e.length;p++){const m=e[p];m.parent&&m.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),o.push(l.r,l.g,l.b),o.push(c.r,c.g,c.b))}i.setAttribute("position",new ot(s,3)),i.setAttribute("color",new ot(o,3));const d=new Ge({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,d),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,i=this.geometry,s=i.getAttribute("position");fp.copy(this.root.matrixWorld).invert();for(let o=0,l=0;o<e.length;o++){const c=e[o];c.parent&&c.parent.isBone&&(ju.multiplyMatrices(fp,c.matrixWorld),Qi.setFromMatrixPosition(ju),s.setXYZ(l,Qi.x,Qi.y,Qi.z),ju.multiplyMatrices(fp,c.parent.matrixWorld),Qi.setFromMatrixPosition(ju),s.setXYZ(l+1,Qi.x,Qi.y,Qi.z),l+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Lb(h){const t=[];h.isBone===!0&&t.push(h);for(let e=0;e<h.children.length;e++)t.push(...Lb(h.children[e]));return t}class sz extends Rr{constructor(t,e,i){const s=new mh(e,4,2),o=new aa({wireframe:!0,fog:!1,toneMapped:!1});super(s,o),this.light=t,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const __=new z,Hv=new bt,qv=new bt;class az extends Bt{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const s=new fh(e);s.rotateY(Math.PI*.5),this.material=new aa({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=s.getAttribute("position"),l=new Float32Array(o.count*3);s.setAttribute("color",new Qt(l,3)),this.add(new Rr(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const e=t.geometry.getAttribute("color");Hv.copy(this.light.color),qv.copy(this.light.groundColor);for(let i=0,s=e.count;i<s;i++){const o=i<s/2?Hv:qv;e.setXYZ(i,o.r,o.g,o.b)}e.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),t.lookAt(__.setFromMatrixPosition(this.light.matrixWorld).negate())}}class oz extends xi{constructor(t=10,e=10,i=4473924,s=8947848){i=new bt(i),s=new bt(s);const o=e/2,l=t/e,c=t/2,d=[],p=[];for(let v=0,b=0,x=-c;v<=e;v++,x+=l){d.push(-c,0,x,c,0,x),d.push(x,0,-c,x,0,c);const S=v===o?i:s;S.toArray(p,b),b+=3,S.toArray(p,b),b+=3,S.toArray(p,b),b+=3,S.toArray(p,b),b+=3}const m=new At;m.setAttribute("position",new ot(d,3)),m.setAttribute("color",new ot(p,3));const g=new Ge({vertexColors:!0,toneMapped:!1});super(m,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class lz extends xi{constructor(t=10,e=16,i=8,s=64,o=4473924,l=8947848){o=new bt(o),l=new bt(l);const c=[],d=[];if(e>1)for(let g=0;g<e;g++){const v=g/e*(Math.PI*2),b=Math.sin(v)*t,x=Math.cos(v)*t;c.push(0,0,0),c.push(b,0,x);const S=g&1?o:l;d.push(S.r,S.g,S.b),d.push(S.r,S.g,S.b)}for(let g=0;g<i;g++){const v=g&1?o:l,b=t-t/i*g;for(let x=0;x<s;x++){let S=x/s*(Math.PI*2),_=Math.sin(S)*b,M=Math.cos(S)*b;c.push(_,0,M),d.push(v.r,v.g,v.b),S=(x+1)/s*(Math.PI*2),_=Math.sin(S)*b,M=Math.cos(S)*b,c.push(_,0,M),d.push(v.r,v.g,v.b)}}const p=new At;p.setAttribute("position",new ot(c,3)),p.setAttribute("color",new ot(d,3));const m=new Ge({vertexColors:!0,toneMapped:!1});super(p,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Jv=new z,Wu=new z,Gv=new z;class uz extends Bt{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",e===void 0&&(e=1);let s=new At;s.setAttribute("position",new ot([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const o=new Ge({fog:!1,toneMapped:!1});this.lightPlane=new Bn(s,o),this.add(this.lightPlane),s=new At,s.setAttribute("position",new ot([0,0,0,0,0,1],3)),this.targetLine=new Bn(s,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Jv.setFromMatrixPosition(this.light.matrixWorld),Wu.setFromMatrixPosition(this.light.target.matrixWorld),Gv.subVectors(Wu,Jv),this.lightPlane.lookAt(Wu),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Wu),this.targetLine.scale.z=Gv.length()}}const Hu=new z,ie=new jp;class hz extends xi{constructor(t){const e=new At,i=new Ge({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],o=[],l={};c("n1","n2"),c("n2","n4"),c("n4","n3"),c("n3","n1"),c("f1","f2"),c("f2","f4"),c("f4","f3"),c("f3","f1"),c("n1","f1"),c("n2","f2"),c("n3","f3"),c("n4","f4"),c("p","n1"),c("p","n2"),c("p","n3"),c("p","n4"),c("u1","u2"),c("u2","u3"),c("u3","u1"),c("c","t"),c("p","c"),c("cn1","cn2"),c("cn3","cn4"),c("cf1","cf2"),c("cf3","cf4");function c(x,S){d(x),d(S)}function d(x){s.push(0,0,0),o.push(0,0,0),l[x]===void 0&&(l[x]=[]),l[x].push(s.length/3-1)}e.setAttribute("position",new ot(s,3)),e.setAttribute("color",new ot(o,3)),super(e,i),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update();const p=new bt(16755200),m=new bt(16711680),g=new bt(43775),v=new bt(16777215),b=new bt(3355443);this.setColors(p,m,g,v,b)}setColors(t,e,i,s,o){const l=this.geometry.getAttribute("color");l.setXYZ(0,t.r,t.g,t.b),l.setXYZ(1,t.r,t.g,t.b),l.setXYZ(2,t.r,t.g,t.b),l.setXYZ(3,t.r,t.g,t.b),l.setXYZ(4,t.r,t.g,t.b),l.setXYZ(5,t.r,t.g,t.b),l.setXYZ(6,t.r,t.g,t.b),l.setXYZ(7,t.r,t.g,t.b),l.setXYZ(8,t.r,t.g,t.b),l.setXYZ(9,t.r,t.g,t.b),l.setXYZ(10,t.r,t.g,t.b),l.setXYZ(11,t.r,t.g,t.b),l.setXYZ(12,t.r,t.g,t.b),l.setXYZ(13,t.r,t.g,t.b),l.setXYZ(14,t.r,t.g,t.b),l.setXYZ(15,t.r,t.g,t.b),l.setXYZ(16,t.r,t.g,t.b),l.setXYZ(17,t.r,t.g,t.b),l.setXYZ(18,t.r,t.g,t.b),l.setXYZ(19,t.r,t.g,t.b),l.setXYZ(20,t.r,t.g,t.b),l.setXYZ(21,t.r,t.g,t.b),l.setXYZ(22,t.r,t.g,t.b),l.setXYZ(23,t.r,t.g,t.b),l.setXYZ(24,e.r,e.g,e.b),l.setXYZ(25,e.r,e.g,e.b),l.setXYZ(26,e.r,e.g,e.b),l.setXYZ(27,e.r,e.g,e.b),l.setXYZ(28,e.r,e.g,e.b),l.setXYZ(29,e.r,e.g,e.b),l.setXYZ(30,e.r,e.g,e.b),l.setXYZ(31,e.r,e.g,e.b),l.setXYZ(32,i.r,i.g,i.b),l.setXYZ(33,i.r,i.g,i.b),l.setXYZ(34,i.r,i.g,i.b),l.setXYZ(35,i.r,i.g,i.b),l.setXYZ(36,i.r,i.g,i.b),l.setXYZ(37,i.r,i.g,i.b),l.setXYZ(38,s.r,s.g,s.b),l.setXYZ(39,s.r,s.g,s.b),l.setXYZ(40,o.r,o.g,o.b),l.setXYZ(41,o.r,o.g,o.b),l.setXYZ(42,o.r,o.g,o.b),l.setXYZ(43,o.r,o.g,o.b),l.setXYZ(44,o.r,o.g,o.b),l.setXYZ(45,o.r,o.g,o.b),l.setXYZ(46,o.r,o.g,o.b),l.setXYZ(47,o.r,o.g,o.b),l.setXYZ(48,o.r,o.g,o.b),l.setXYZ(49,o.r,o.g,o.b),l.needsUpdate=!0}update(){const t=this.geometry,e=this.pointMap,i=1,s=1;ie.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const o=this.camera.coordinateSystem===Vr?-1:0;ae("c",e,t,ie,0,0,o),ae("t",e,t,ie,0,0,1),ae("n1",e,t,ie,-1,-1,o),ae("n2",e,t,ie,i,-1,o),ae("n3",e,t,ie,-1,s,o),ae("n4",e,t,ie,i,s,o),ae("f1",e,t,ie,-1,-1,1),ae("f2",e,t,ie,i,-1,1),ae("f3",e,t,ie,-1,s,1),ae("f4",e,t,ie,i,s,1),ae("u1",e,t,ie,i*.7,s*1.1,o),ae("u2",e,t,ie,-1*.7,s*1.1,o),ae("u3",e,t,ie,0,s*2,o),ae("cf1",e,t,ie,-1,0,1),ae("cf2",e,t,ie,i,0,1),ae("cf3",e,t,ie,0,-1,1),ae("cf4",e,t,ie,0,s,1),ae("cn1",e,t,ie,-1,0,o),ae("cn2",e,t,ie,i,0,o),ae("cn3",e,t,ie,0,-1,o),ae("cn4",e,t,ie,0,s,o),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ae(h,t,e,i,s,o,l){Hu.set(s,o,l).unproject(i);const c=t[h];if(c!==void 0){const d=e.getAttribute("position");for(let p=0,m=c.length;p<m;p++)d.setXYZ(c[p],Hu.x,Hu.y,Hu.z)}}const qu=new Be;class cz extends xi{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(8*3),o=new At;o.setIndex(new Qt(i,1)),o.setAttribute("position",new Qt(s,3)),super(o,new Ge({color:e,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&qu.setFromObject(this.object),qu.isEmpty())return;const t=qu.min,e=qu.max,i=this.geometry.attributes.position,s=i.array;s[0]=e.x,s[1]=e.y,s[2]=e.z,s[3]=t.x,s[4]=e.y,s[5]=e.z,s[6]=t.x,s[7]=t.y,s[8]=e.z,s[9]=e.x,s[10]=t.y,s[11]=e.z,s[12]=e.x,s[13]=e.y,s[14]=t.z,s[15]=t.x,s[16]=e.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=e.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,e){return super.copy(t,e),this.object=t.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class dz extends xi{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new At;o.setIndex(new Qt(i,1)),o.setAttribute("position",new ot(s,3)),super(o,new Ge({color:e,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}dispose(){this.geometry.dispose(),this.material.dispose()}}class pz extends Bn{constructor(t,e=1,i=16776960){const s=i,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new At;l.setAttribute("position",new ot(o,3)),l.computeBoundingSphere(),super(l,new Ge({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=e;const c=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],d=new At;d.setAttribute("position",new ot(c,3)),d.computeBoundingSphere(),this.add(new Rr(d,new aa({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Yv=new z;let Ju,mp;class fz extends Bt{constructor(t=new z(0,0,1),e=new z(0,0,0),i=1,s=16776960,o=i*.2,l=o*.2){super(),this.type="ArrowHelper",Ju===void 0&&(Ju=new At,Ju.setAttribute("position",new ot([0,0,0,0,1,0],3)),mp=new ph(.5,1,5,1),mp.translate(0,-.5,0)),this.position.copy(e),this.line=new Bn(Ju,new Ge({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Rr(mp,new aa({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,o,l)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{Yv.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(Yv,e)}}setLength(t,e=t*.2,i=e*.2){this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class mz extends xi{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new At;s.setAttribute("position",new ot(e,3)),s.setAttribute("color",new ot(i,3));const o=new Ge({vertexColors:!0,toneMapped:!1});super(s,o),this.type="AxesHelper"}setColors(t,e,i){const s=new bt,o=this.geometry.attributes.color.array;return s.set(t),s.toArray(o,0),s.toArray(o,3),s.set(e),s.toArray(o,6),s.toArray(o,9),s.set(i),s.toArray(o,12),s.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class yz{constructor(){this.type="ShapePath",this.color=new bt,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new _p,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,i,s){return this.currentPath.quadraticCurveTo(t,e,i,s),this}bezierCurveTo(t,e,i,s,o,l){return this.currentPath.bezierCurveTo(t,e,i,s,o,l),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t){function e(M){const T=[];for(let A=0,C=M.length;A<C;A++){const N=M[A],B=new Xs;B.curves=N.curves,T.push(B)}return T}function i(M,T){const A=T.length;let C=!1;for(let N=A-1,B=0;B<A;N=B++){let j=T[N],D=T[B],G=D.x-j.x,Z=D.y-j.y;if(Math.abs(Z)>Number.EPSILON){if(Z<0&&(j=T[B],G=-G,D=T[N],Z=-Z),M.y<j.y||M.y>D.y)continue;if(M.y===j.y){if(M.x===j.x)return!0}else{const it=Z*(M.x-j.x)-G*(M.y-j.y);if(it===0)return!0;if(it<0)continue;C=!C}}else{if(M.y!==j.y)continue;if(D.x<=M.x&&M.x<=j.x||j.x<=M.x&&M.x<=D.x)return!0}}return C}const s=Ur.isClockWise,o=this.subPaths;if(o.length===0)return[];let l,c,d;const p=[];if(o.length===1)return c=o[0],d=new Xs,d.curves=c.curves,p.push(d),p;let m=!s(o[0].getPoints());m=t?!m:m;const g=[],v=[];let b=[],x=0,S;v[x]=void 0,b[x]=[];for(let M=0,T=o.length;M<T;M++)c=o[M],S=c.getPoints(),l=s(S),l=t?!l:l,l?(!m&&v[x]&&x++,v[x]={s:new Xs,p:S},v[x].s.curves=c.curves,m&&x++,b[x]=[]):b[x].push({h:c,p:S[0]});if(!v[0])return e(o);if(v.length>1){let M=!1,T=0;for(let A=0,C=v.length;A<C;A++)g[A]=[];for(let A=0,C=v.length;A<C;A++){const N=b[A];for(let B=0;B<N.length;B++){const j=N[B];let D=!0;for(let G=0;G<v.length;G++)i(j.p,v[G].p)&&(A!==G&&T++,D?(D=!1,g[G].push(j)):M=!0);D&&g[A].push(j)}}T>0&&M===!1&&(b=g)}let _;for(let M=0,T=v.length;M<T;M++){d=v[M].s,p.push(d),_=b[M];for(let A=0,C=_.length;A<C;A++)d.holes.push(_[A].h)}return p}}class gz extends en{constructor(t,e=null){super(),this.object=t,this.domElement=e,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(t){if(t===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=t}disconnect(){}dispose(){}update(){}}function k_(h,t){const e=h.image&&h.image.width?h.image.width/h.image.height:1;return e>t?(h.repeat.x=1,h.repeat.y=e/t,h.offset.x=0,h.offset.y=(1-h.repeat.y)/2):(h.repeat.x=t/e,h.repeat.y=1,h.offset.x=(1-h.repeat.x)/2,h.offset.y=0),h}function T_(h,t){const e=h.image&&h.image.width?h.image.width/h.image.height:1;return e>t?(h.repeat.x=t/e,h.repeat.y=1,h.offset.x=(1-h.repeat.x)/2,h.offset.y=0):(h.repeat.x=1,h.repeat.y=e/t,h.offset.x=0,h.offset.y=(1-h.repeat.y)/2),h}function A_(h){return h.repeat.x=1,h.repeat.y=1,h.offset.x=0,h.offset.y=0,h}function C_(h,t,e,i){const s=z_(i);switch(e){case Zw:return h*t;case sb:return h*t/s.components*s.byteLength;case ab:return h*t/s.components*s.byteLength;case Qw:return h*t*2/s.components*s.byteLength;case Kw:return h*t*2/s.components*s.byteLength;case $w:return h*t*3/s.components*s.byteLength;case No:return h*t*4/s.components*s.byteLength;case tS:return h*t*4/s.components*s.byteLength;case eS:case rS:return Math.floor((h+3)/4)*Math.floor((t+3)/4)*8;case iS:case nS:return Math.floor((h+3)/4)*Math.floor((t+3)/4)*16;case aS:case lS:return Math.max(h,16)*Math.max(t,8)/4;case sS:case oS:return Math.max(h,8)*Math.max(t,8)/2;case uS:case hS:return Math.floor((h+3)/4)*Math.floor((t+3)/4)*8;case cS:return Math.floor((h+3)/4)*Math.floor((t+3)/4)*16;case dS:return Math.floor((h+3)/4)*Math.floor((t+3)/4)*16;case pS:return Math.floor((h+4)/5)*Math.floor((t+3)/4)*16;case fS:return Math.floor((h+4)/5)*Math.floor((t+4)/5)*16;case mS:return Math.floor((h+5)/6)*Math.floor((t+4)/5)*16;case yS:return Math.floor((h+5)/6)*Math.floor((t+5)/6)*16;case gS:return Math.floor((h+7)/8)*Math.floor((t+4)/5)*16;case vS:return Math.floor((h+7)/8)*Math.floor((t+5)/6)*16;case bS:return Math.floor((h+7)/8)*Math.floor((t+7)/8)*16;case xS:return Math.floor((h+9)/10)*Math.floor((t+4)/5)*16;case wS:return Math.floor((h+9)/10)*Math.floor((t+5)/6)*16;case SS:return Math.floor((h+9)/10)*Math.floor((t+7)/8)*16;case MS:return Math.floor((h+9)/10)*Math.floor((t+9)/10)*16;case _S:return Math.floor((h+11)/12)*Math.floor((t+9)/10)*16;case kS:return Math.floor((h+11)/12)*Math.floor((t+11)/12)*16;case TS:case AS:case CS:return Math.ceil(h/4)*Math.ceil(t/4)*16;case zS:case ES:return Math.ceil(h/4)*Math.ceil(t/4)*8;case RS:case IS:return Math.ceil(h/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${e} format.`)}function z_(h){switch(h){case Op:case Uw:return{byteLength:1,components:1};case Ww:case jw:case qw:return{byteLength:2,components:1};case Jw:case Gw:return{byteLength:2,components:4};case Lp:case Hw:case Qs:return{byteLength:4,components:1};case Yw:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${h}.`)}class vz{static contain(t,e){return k_(t,e)}static cover(t,e){return T_(t,e)}static fill(t){return A_(t)}static getByteLength(t,e,i,s){return C_(t,e,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:ib}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=ib);const Zv=h=>{let t;const e=new Set,i=(c,d)=>{const p=typeof c=="function"?c(t):c;if(!Object.is(p,t)){const m=t;t=d??(typeof p!="object"||p===null)?p:Object.assign({},t,p),e.forEach(g=>g(t,m))}},s=()=>t,o={setState:i,getState:s,getInitialState:()=>l,subscribe:c=>(e.add(c),()=>e.delete(c))},l=t=h(i,s,o);return o},E_=h=>h?Zv(h):Zv,R_=h=>h;function I_(h,t=R_){const e=vp.useSyncExternalStore(h.subscribe,()=>t(h.getState()),()=>t(h.getInitialState()));return vp.useDebugValue(e),e}const $v=h=>{const t=E_(h),e=i=>I_(t,i);return Object.assign(e,t),e},N_=h=>h?$v(h):$v;let Mo=0;const Bb=N_(h=>(zo.onStart=(t,e,i)=>{h({active:!0,item:t,loaded:e,total:i,progress:(e-Mo)/(i-Mo)*100})},zo.onLoad=()=>{h({active:!1})},zo.onError=t=>h(e=>({errors:[...e.errors,t]})),zo.onProgress=(t,e,i)=>{e===i&&(Mo=i),h({active:!0,item:t,loaded:e,total:i,progress:(e-Mo)/(i-Mo)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));var _o={},Xv;function P_(){if(Xv)return _o;Xv=1,Object.defineProperty(_o,"__esModule",{value:!0}),_o.parse=l,_o.serialize=p;const h=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function l(v,b){const x=new o,S=v.length;if(S<2)return x;const _=(b==null?void 0:b.decode)||m;let M=0;do{const T=v.indexOf("=",M);if(T===-1)break;const A=v.indexOf(";",M),C=A===-1?S:A;if(T>C){M=v.lastIndexOf(";",T-1)+1;continue}const N=c(v,M,T),B=d(v,T,N),j=v.slice(N,B);if(x[j]===void 0){let D=c(v,T+1,C),G=d(v,C,D);const Z=_(v.slice(D,G));x[j]=Z}M=C+1}while(M<S);return x}function c(v,b,x){do{const S=v.charCodeAt(b);if(S!==32&&S!==9)return b}while(++b<x);return x}function d(v,b,x){for(;b>x;){const S=v.charCodeAt(--b);if(S!==32&&S!==9)return b+1}return x}function p(v,b,x){const S=(x==null?void 0:x.encode)||encodeURIComponent;if(!h.test(v))throw new TypeError(`argument name is invalid: ${v}`);const _=S(b);if(!t.test(_))throw new TypeError(`argument val is invalid: ${b}`);let M=v+"="+_;if(!x)return M;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);M+="; Max-Age="+x.maxAge}if(x.domain){if(!e.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);M+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);M+="; Path="+x.path}if(x.expires){if(!g(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);M+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(M+="; HttpOnly"),x.secure&&(M+="; Secure"),x.partitioned&&(M+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return M}function m(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function g(v){return s.call(v)==="[object Date]"}return _o}P_();var Qv="popstate";function O_(h={}){function t(i,s){let{pathname:o,search:l,hash:c}=i.location;return zp("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(i,s){return typeof s=="string"?s:Fo(s)}return B_(t,e,null,h)}function Kt(h,t){if(h===!1||h===null||typeof h>"u")throw new Error(t)}function Wr(h,t){if(!h){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function L_(){return Math.random().toString(36).substring(2,10)}function Kv(h,t){return{usr:h.state,key:h.key,idx:t}}function zp(h,t,e=null,i){return{pathname:typeof h=="string"?h:h.pathname,search:"",hash:"",...typeof t=="string"?ua(t):t,state:e,key:t&&t.key||i||L_()}}function Fo({pathname:h="/",search:t="",hash:e=""}){return t&&t!=="?"&&(h+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(h+=e.charAt(0)==="#"?e:"#"+e),h}function ua(h){let t={};if(h){let e=h.indexOf("#");e>=0&&(t.hash=h.substring(e),h=h.substring(0,e));let i=h.indexOf("?");i>=0&&(t.search=h.substring(i),h=h.substring(0,i)),h&&(t.pathname=h)}return t}function B_(h,t,e,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,l=s.history,c="POP",d=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function g(){c="POP";let _=m(),M=_==null?null:_-p;p=_,d&&d({action:c,location:S.location,delta:M})}function v(_,M){c="PUSH";let T=zp(S.location,_,M);p=m()+1;let A=Kv(T,p),C=S.createHref(T);try{l.pushState(A,"",C)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(C)}o&&d&&d({action:c,location:S.location,delta:1})}function b(_,M){c="REPLACE";let T=zp(S.location,_,M);p=m();let A=Kv(T,p),C=S.createHref(T);l.replaceState(A,"",C),o&&d&&d({action:c,location:S.location,delta:0})}function x(_){return D_(_)}let S={get action(){return c},get location(){return h(s,l)},listen(_){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Qv,g),d=_,()=>{s.removeEventListener(Qv,g),d=null}},createHref(_){return t(s,_)},createURL:x,encodeLocation(_){let M=x(_);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:v,replace:b,go(_){return l.go(_)}};return S}function D_(h,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Kt(e,"No window.location.(origin|href) available to create URL");let i=typeof h=="string"?h:Fo(h);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function Db(h,t,e="/"){return F_(h,t,e,!1)}function F_(h,t,e,i){let s=typeof t=="string"?ua(t):t,o=bi(s.pathname||"/",e);if(o==null)return null;let l=Fb(h);V_(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let p=X_(o);c=Z_(l[d],p,i)}return c}function Fb(h,t=[],e=[],i=""){let s=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(Kt(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let p=vi([i,d.relativePath]),m=e.concat(d);o.children&&o.children.length>0&&(Kt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Fb(o.children,t,m,p)),!(o.path==null&&!o.index)&&t.push({path:p,score:G_(p,o.index),routesMeta:m})};return h.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,l);else for(let d of Vb(o.path))s(o,l,d)}),t}function Vb(h){let t=h.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let l=Vb(i.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&c.push(...l),c.map(d=>h.startsWith("/")&&d===""?"/":d)}function V_(h){h.sort((t,e)=>t.score!==e.score?e.score-t.score:Y_(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var U_=/^:[\w-]+$/,j_=3,W_=2,H_=1,q_=10,J_=-2,tb=h=>h==="*";function G_(h,t){let e=h.split("/"),i=e.length;return e.some(tb)&&(i+=J_),t&&(i+=W_),e.filter(s=>!tb(s)).reduce((s,o)=>s+(U_.test(o)?j_:o===""?H_:q_),i)}function Y_(h,t){return h.length===t.length&&h.slice(0,-1).every((e,i)=>e===t[i])?h[h.length-1]-t[t.length-1]:0}function Z_(h,t,e=!1){let{routesMeta:i}=h,s={},o="/",l=[];for(let c=0;c<i.length;++c){let d=i[c],p=c===i.length-1,m=o==="/"?t:t.slice(o.length)||"/",g=lh({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),v=d.route;if(!g&&p&&e&&!i[i.length-1].route.index&&(g=lh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:vi([o,g.pathname]),pathnameBase:ek(vi([o,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(o=vi([o,g.pathnameBase]))}return l}function lh(h,t){typeof h=="string"&&(h={path:h,caseSensitive:!1,end:!0});let[e,i]=$_(h.path,h.caseSensitive,h.end),s=t.match(e);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((d,{paramName:p,isOptional:m},g)=>{if(p==="*"){let b=c[g]||"";l=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const v=c[g];return m&&!v?d[p]=void 0:d[p]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:h}}function $_(h,t=!1,e=!0){Wr(h==="*"||!h.endsWith("*")||h.endsWith("/*"),`Route path "${h}" will be treated as if it were "${h.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${h.replace(/\*$/,"/*")}".`);let i=[],s="^"+h.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(i.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return h.endsWith("*")?(i.push({paramName:"*"}),s+=h==="*"||h==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":h!==""&&h!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function X_(h){try{return h.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Wr(!1,`The URL path "${h}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),h}}function bi(h,t){if(t==="/")return h;if(!h.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=h.charAt(e);return i&&i!=="/"?null:h.slice(e)||"/"}function Q_(h,t="/"){let{pathname:e,search:i="",hash:s=""}=typeof h=="string"?ua(h):h;return{pathname:e?e.startsWith("/")?e:K_(e,t):t,search:rk(i),hash:ik(s)}}function K_(h,t){let e=t.replace(/\/+$/,"").split("/");return h.split("/").forEach(i=>{i===".."?e.length>1&&e.pop():i!=="."&&e.push(i)}),e.length>1?e.join("/"):"/"}function yp(h,t,e,i){return`Cannot include a '${h}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tk(h){return h.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Ub(h){let t=tk(h);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function jb(h,t,e,i=!1){let s;typeof h=="string"?s=ua(h):(s={...h},Kt(!s.pathname||!s.pathname.includes("?"),yp("?","pathname","search",s)),Kt(!s.pathname||!s.pathname.includes("#"),yp("#","pathname","hash",s)),Kt(!s.search||!s.search.includes("#"),yp("#","search","hash",s)));let o=h===""||s.pathname==="",l=o?"/":s.pathname,c;if(l==null)c=e;else{let g=t.length-1;if(!i&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}c=g>=0?t[g]:"/"}let d=Q_(s,c),p=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}var vi=h=>h.join("/").replace(/\/\/+/g,"/"),ek=h=>h.replace(/\/+$/,"").replace(/^\/*/,"/"),rk=h=>!h||h==="?"?"":h.startsWith("?")?h:"?"+h,ik=h=>!h||h==="#"?"":h.startsWith("#")?h:"#"+h;function nk(h){return h!=null&&typeof h.status=="number"&&typeof h.statusText=="string"&&typeof h.internal=="boolean"&&"data"in h}var Wb=["POST","PUT","PATCH","DELETE"];new Set(Wb);var sk=["GET",...Wb];new Set(sk);var ha=W.createContext(null);ha.displayName="DataRouter";var vh=W.createContext(null);vh.displayName="DataRouterState";var Hb=W.createContext({isTransitioning:!1});Hb.displayName="ViewTransition";var ak=W.createContext(new Map);ak.displayName="Fetchers";var ok=W.createContext(null);ok.displayName="Await";var Jr=W.createContext(null);Jr.displayName="Navigation";var Uo=W.createContext(null);Uo.displayName="Location";var wi=W.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var vf=W.createContext(null);vf.displayName="RouteError";function lk(h,{relative:t}={}){Kt(jo(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=W.useContext(Jr),{hash:s,pathname:o,search:l}=Wo(h,{relative:t}),c=o;return e!=="/"&&(c=o==="/"?e:vi([e,o])),i.createHref({pathname:c,search:l,hash:s})}function jo(){return W.useContext(Uo)!=null}function jn(){return Kt(jo(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Uo).location}var qb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jb(h){W.useContext(Jr).static||W.useLayoutEffect(h)}function uk(){let{isDataRoute:h}=W.useContext(wi);return h?Sk():hk()}function hk(){Kt(jo(),"useNavigate() may be used only in the context of a <Router> component.");let h=W.useContext(ha),{basename:t,navigator:e}=W.useContext(Jr),{matches:i}=W.useContext(wi),{pathname:s}=jn(),o=JSON.stringify(Ub(i)),l=W.useRef(!1);return Jb(()=>{l.current=!0}),W.useCallback((c,d={})=>{if(Wr(l.current,qb),!l.current)return;if(typeof c=="number"){e.go(c);return}let p=jb(c,JSON.parse(o),s,d.relative==="path");h==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:vi([t,p.pathname])),(d.replace?e.replace:e.push)(p,d.state,d)},[t,e,o,s,h])}W.createContext(null);function Wo(h,{relative:t}={}){let{matches:e}=W.useContext(wi),{pathname:i}=jn(),s=JSON.stringify(Ub(e));return W.useMemo(()=>jb(h,JSON.parse(s),i,t==="path"),[h,s,i,t])}function ck(h,t){return Gb(h,t)}function Gb(h,t,e,i){var s;Kt(jo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=W.useContext(Jr),{matches:l}=W.useContext(wi),c=l[l.length-1],d=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",g=c&&c.route;{let T=g&&g.path||"";Yb(p,!g||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let v=jn(),b;if(t){let T=typeof t=="string"?ua(t):t;Kt(m==="/"||((s=T.pathname)==null?void 0:s.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${T.pathname}" was given in the \`location\` prop.`),b=T}else b=v;let x=b.pathname||"/",S=x;if(m!=="/"){let T=m.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(T.length).join("/")}let _=Db(h,{pathname:S});Wr(g||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Wr(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=yk(_&&_.map(T=>Object.assign({},T,{params:Object.assign({},d,T.params),pathname:vi([m,o.encodeLocation?o.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?m:vi([m,o.encodeLocation?o.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),l,e,i);return t&&M?W.createElement(Uo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},M):M}function dk(){let h=wk(),t=nk(h)?`${h.status} ${h.statusText}`:h instanceof Error?h.message:JSON.stringify(h),e=h instanceof Error?h.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",h),l=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},t),e?W.createElement("pre",{style:s},e):null,l)}var pk=W.createElement(dk,null),fk=class extends W.Component{constructor(h){super(h),this.state={location:h.location,revalidation:h.revalidation,error:h.error}}static getDerivedStateFromError(h){return{error:h}}static getDerivedStateFromProps(h,t){return t.location!==h.location||t.revalidation!=="idle"&&h.revalidation==="idle"?{error:h.error,location:h.location,revalidation:h.revalidation}:{error:h.error!==void 0?h.error:t.error,location:t.location,revalidation:h.revalidation||t.revalidation}}componentDidCatch(h,t){console.error("React Router caught the following error during render",h,t)}render(){return this.state.error!==void 0?W.createElement(wi.Provider,{value:this.props.routeContext},W.createElement(vf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mk({routeContext:h,match:t,children:e}){let i=W.useContext(ha);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),W.createElement(wi.Provider,{value:h},e)}function yk(h,t=[],e=null,i=null){if(h==null){if(!e)return null;if(e.errors)h=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)h=e.matches;else return null}let s=h,o=e==null?void 0:e.errors;if(o!=null){let d=s.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);Kt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(e)for(let d=0;d<s.length;d++){let p=s[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:m,errors:g}=e,v=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!g||g[p.route.id]===void 0);if(p.route.lazy||v){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,p,m)=>{let g,v=!1,b=null,x=null;e&&(g=o&&p.route.id?o[p.route.id]:void 0,b=p.route.errorElement||pk,l&&(c<0&&m===0?(Yb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):c===m&&(v=!0,x=p.route.hydrateFallbackElement||null)));let S=t.concat(s.slice(0,m+1)),_=()=>{let M;return g?M=b:v?M=x:p.route.Component?M=W.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=d,W.createElement(mk,{match:p,routeContext:{outlet:d,matches:S,isDataRoute:e!=null},children:M})};return e&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?W.createElement(fk,{location:e.location,revalidation:e.revalidation,component:b,error:g,children:_(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):_()},null)}function bf(h){return`${h} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gk(h){let t=W.useContext(ha);return Kt(t,bf(h)),t}function vk(h){let t=W.useContext(vh);return Kt(t,bf(h)),t}function bk(h){let t=W.useContext(wi);return Kt(t,bf(h)),t}function xf(h){let t=bk(h),e=t.matches[t.matches.length-1];return Kt(e.route.id,`${h} can only be used on routes that contain a unique "id"`),e.route.id}function xk(){return xf("useRouteId")}function wk(){var h;let t=W.useContext(vf),e=vk("useRouteError"),i=xf("useRouteError");return t!==void 0?t:(h=e.errors)==null?void 0:h[i]}function Sk(){let{router:h}=gk("useNavigate"),t=xf("useNavigate"),e=W.useRef(!1);return Jb(()=>{e.current=!0}),W.useCallback(async(i,s={})=>{Wr(e.current,qb),e.current&&(typeof i=="number"?h.navigate(i):await h.navigate(i,{fromRouteId:t,...s}))},[h,t])}var eb={};function Yb(h,t,e){!t&&!eb[h]&&(eb[h]=!0,Wr(!1,e))}W.memo(Mk);function Mk({routes:h,future:t,state:e}){return Gb(h,void 0,e,t)}function Nn(h){Kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _k({basename:h="/",children:t=null,location:e,navigationType:i="POP",navigator:s,static:o=!1}){Kt(!jo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=h.replace(/^\/*/,"/"),c=W.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof e=="string"&&(e=ua(e));let{pathname:d="/",search:p="",hash:m="",state:g=null,key:v="default"}=e,b=W.useMemo(()=>{let x=bi(d,l);return x==null?null:{location:{pathname:x,search:p,hash:m,state:g,key:v},navigationType:i}},[l,d,p,m,g,v,i]);return Wr(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:W.createElement(Jr.Provider,{value:c},W.createElement(Uo.Provider,{children:t,value:b}))}function kk({children:h,location:t}){return ck(Ep(h),t)}function Ep(h,t=[]){let e=[];return W.Children.forEach(h,(i,s)=>{if(!W.isValidElement(i))return;let o=[...t,s];if(i.type===W.Fragment){e.push.apply(e,Ep(i.props.children,o));return}Kt(i.type===Nn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Kt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Ep(i.props.children,o)),e.push(l)}),e}var Yu="get",Zu="application/x-www-form-urlencoded";function bh(h){return h!=null&&typeof h.tagName=="string"}function Tk(h){return bh(h)&&h.tagName.toLowerCase()==="button"}function Ak(h){return bh(h)&&h.tagName.toLowerCase()==="form"}function Ck(h){return bh(h)&&h.tagName.toLowerCase()==="input"}function zk(h){return!!(h.metaKey||h.altKey||h.ctrlKey||h.shiftKey)}function Ek(h,t){return h.button===0&&(!t||t==="_self")&&!zk(h)}var Gu=null;function Rk(){if(Gu===null)try{new FormData(document.createElement("form"),0),Gu=!1}catch{Gu=!0}return Gu}var Ik=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gp(h){return h!=null&&!Ik.has(h)?(Wr(!1,`"${h}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zu}"`),null):h}function Nk(h,t){let e,i,s,o,l;if(Ak(h)){let c=h.getAttribute("action");i=c?bi(c,t):null,e=h.getAttribute("method")||Yu,s=gp(h.getAttribute("enctype"))||Zu,o=new FormData(h)}else if(Tk(h)||Ck(h)&&(h.type==="submit"||h.type==="image")){let c=h.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=h.getAttribute("formaction")||c.getAttribute("action");if(i=d?bi(d,t):null,e=h.getAttribute("formmethod")||c.getAttribute("method")||Yu,s=gp(h.getAttribute("formenctype"))||gp(c.getAttribute("enctype"))||Zu,o=new FormData(c,h),!Rk()){let{name:p,type:m,value:g}=h;if(m==="image"){let v=p?`${p}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else p&&o.append(p,g)}}else{if(bh(h))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Yu,i=null,s=Zu,l=h}return o&&s==="text/plain"&&(l=o,o=void 0),{action:i,method:e.toLowerCase(),encType:s,formData:o,body:l}}function wf(h,t){if(h===!1||h===null||typeof h>"u")throw new Error(t)}async function Pk(h,t){if(h.id in t)return t[h.id];try{let e=await import(h.module);return t[h.id]=e,e}catch(e){return console.error(`Error loading route module \`${h.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ok(h){return h==null?!1:h.href==null?h.rel==="preload"&&typeof h.imageSrcSet=="string"&&typeof h.imageSizes=="string":typeof h.rel=="string"&&typeof h.href=="string"}async function Lk(h,t,e){let i=await Promise.all(h.map(async s=>{let o=t.routes[s.route.id];if(o){let l=await Pk(o,e);return l.links?l.links():[]}return[]}));return Vk(i.flat(1).filter(Ok).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function rb(h,t,e,i,s,o){let l=(d,p)=>e[p]?d.route.id!==e[p].route.id:!0,c=(d,p)=>{var m;return e[p].pathname!==d.pathname||((m=e[p].route.path)==null?void 0:m.endsWith("*"))&&e[p].params["*"]!==d.params["*"]};return o==="assets"?t.filter((d,p)=>l(d,p)||c(d,p)):o==="data"?t.filter((d,p)=>{var m;let g=i.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,p)||c(d,p))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=e[0])==null?void 0:m.params)||{},nextUrl:new URL(h,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Bk(h,t,{includeHydrateFallback:e}={}){return Dk(h.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function Dk(h){return[...new Set(h)]}function Fk(h){let t={},e=Object.keys(h).sort();for(let i of e)t[i]=h[i];return t}function Vk(h,t){let e=new Set;return new Set(t),h.reduce((i,s)=>{let o=JSON.stringify(Fk(s));return e.has(o)||(e.add(o),i.push({key:o,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Uk=new Set([100,101,204,205]);function jk(h,t){let e=typeof h=="string"?new URL(h,typeof window>"u"?"server://singlefetch/":window.location.origin):h;return e.pathname==="/"?e.pathname="_root.data":t&&bi(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Zb(){let h=W.useContext(ha);return wf(h,"You must render this element inside a <DataRouterContext.Provider> element"),h}function Wk(){let h=W.useContext(vh);return wf(h,"You must render this element inside a <DataRouterStateContext.Provider> element"),h}var Sf=W.createContext(void 0);Sf.displayName="FrameworkContext";function $b(){let h=W.useContext(Sf);return wf(h,"You must render this element inside a <HydratedRouter> element"),h}function Hk(h,t){let e=W.useContext(Sf),[i,s]=W.useState(!1),[o,l]=W.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:p,onMouseLeave:m,onTouchStart:g}=t,v=W.useRef(null);W.useEffect(()=>{if(h==="render"&&l(!0),h==="viewport"){let S=M=>{M.forEach(T=>{l(T.isIntersecting)})},_=new IntersectionObserver(S,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[h]),W.useEffect(()=>{if(i){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[i]);let b=()=>{s(!0)},x=()=>{s(!1),l(!1)};return e?h!=="intent"?[o,v,{}]:[o,v,{onFocus:ko(c,b),onBlur:ko(d,x),onMouseEnter:ko(p,b),onMouseLeave:ko(m,x),onTouchStart:ko(g,b)}]:[!1,v,{}]}function ko(h,t){return e=>{h&&h(e),e.defaultPrevented||t(e)}}function qk({page:h,...t}){let{router:e}=Zb(),i=W.useMemo(()=>Db(e.routes,h,e.basename),[e.routes,h,e.basename]);return i?W.createElement(Gk,{page:h,matches:i,...t}):null}function Jk(h){let{manifest:t,routeModules:e}=$b(),[i,s]=W.useState([]);return W.useEffect(()=>{let o=!1;return Lk(h,t,e).then(l=>{o||s(l)}),()=>{o=!0}},[h,t,e]),i}function Gk({page:h,matches:t,...e}){let i=jn(),{manifest:s,routeModules:o}=$b(),{basename:l}=Zb(),{loaderData:c,matches:d}=Wk(),p=W.useMemo(()=>rb(h,t,d,s,i,"data"),[h,t,d,s,i]),m=W.useMemo(()=>rb(h,t,d,s,i,"assets"),[h,t,d,s,i]),g=W.useMemo(()=>{if(h===i.pathname+i.search+i.hash)return[];let x=new Set,S=!1;if(t.forEach(M=>{var T;let A=s.routes[M.route.id];!A||!A.hasLoader||(!p.some(C=>C.route.id===M.route.id)&&M.route.id in c&&(T=o[M.route.id])!=null&&T.shouldRevalidate||A.hasClientLoader?S=!0:x.add(M.route.id))}),x.size===0)return[];let _=jk(h,l);return S&&x.size>0&&_.searchParams.set("_routes",t.filter(M=>x.has(M.route.id)).map(M=>M.route.id).join(",")),[_.pathname+_.search]},[l,c,i,s,p,t,h,o]),v=W.useMemo(()=>Bk(m,s),[m,s]),b=Jk(m);return W.createElement(W.Fragment,null,g.map(x=>W.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...e})),v.map(x=>W.createElement("link",{key:x,rel:"modulepreload",href:x,...e})),b.map(({key:x,link:S})=>W.createElement("link",{key:x,...S})))}function Yk(...h){return t=>{h.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Xb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Xb&&(window.__reactRouterVersion="7.6.1")}catch{}function Zk({basename:h,children:t,window:e}){let i=W.useRef();i.current==null&&(i.current=O_({window:e,v5Compat:!0}));let s=i.current,[o,l]=W.useState({action:s.action,location:s.location}),c=W.useCallback(d=>{W.startTransition(()=>l(d))},[l]);return W.useLayoutEffect(()=>s.listen(c),[s,c]),W.createElement(_k,{basename:h,children:t,location:o.location,navigationType:o.action,navigator:s})}var Qb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kb=W.forwardRef(function({onClick:h,discover:t="render",prefetch:e="none",relative:i,reloadDocument:s,replace:o,state:l,target:c,to:d,preventScrollReset:p,viewTransition:m,...g},v){let{basename:b}=W.useContext(Jr),x=typeof d=="string"&&Qb.test(d),S,_=!1;if(typeof d=="string"&&x&&(S=d,Xb))try{let D=new URL(window.location.href),G=d.startsWith("//")?new URL(D.protocol+d):new URL(d),Z=bi(G.pathname,b);G.origin===D.origin&&Z!=null?d=Z+G.search+G.hash:_=!0}catch{Wr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=lk(d,{relative:i}),[T,A,C]=Hk(e,g),N=Kk(d,{replace:o,state:l,target:c,preventScrollReset:p,relative:i,viewTransition:m});function B(D){h&&h(D),D.defaultPrevented||N(D)}let j=W.createElement("a",{...g,...C,href:S||M,onClick:_||s?h:B,ref:Yk(v,A),target:c,"data-discover":!x&&t==="render"?"true":void 0});return T&&!x?W.createElement(W.Fragment,null,j,W.createElement(qk,{page:M})):j});Kb.displayName="Link";var $k=W.forwardRef(function({"aria-current":h="page",caseSensitive:t=!1,className:e="",end:i=!1,style:s,to:o,viewTransition:l,children:c,...d},p){let m=Wo(o,{relative:d.relative}),g=jn(),v=W.useContext(vh),{navigator:b,basename:x}=W.useContext(Jr),S=v!=null&&nT(m)&&l===!0,_=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,M=g.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(M=M.toLowerCase(),T=T?T.toLowerCase():null,_=_.toLowerCase()),T&&x&&(T=bi(T,x)||T);const A=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let C=M===_||!i&&M.startsWith(_)&&M.charAt(A)==="/",N=T!=null&&(T===_||!i&&T.startsWith(_)&&T.charAt(_.length)==="/"),B={isActive:C,isPending:N,isTransitioning:S},j=C?h:void 0,D;typeof e=="function"?D=e(B):D=[e,C?"active":null,N?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let G=typeof s=="function"?s(B):s;return W.createElement(Kb,{...d,"aria-current":j,className:D,ref:p,style:G,to:o,viewTransition:l},typeof c=="function"?c(B):c)});$k.displayName="NavLink";var Xk=W.forwardRef(({discover:h="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:s,state:o,method:l=Yu,action:c,onSubmit:d,relative:p,preventScrollReset:m,viewTransition:g,...v},b)=>{let x=rT(),S=iT(c,{relative:p}),_=l.toLowerCase()==="get"?"get":"post",M=typeof c=="string"&&Qb.test(c),T=A=>{if(d&&d(A),A.defaultPrevented)return;A.preventDefault();let C=A.nativeEvent.submitter,N=(C==null?void 0:C.getAttribute("formmethod"))||l;x(C||A.currentTarget,{fetcherKey:t,method:N,navigate:e,replace:s,state:o,relative:p,preventScrollReset:m,viewTransition:g})};return W.createElement("form",{ref:b,method:_,action:S,onSubmit:i?d:T,...v,"data-discover":!M&&h==="render"?"true":void 0})});Xk.displayName="Form";function Qk(h){return`${h} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tx(h){let t=W.useContext(ha);return Kt(t,Qk(h)),t}function Kk(h,{target:t,replace:e,state:i,preventScrollReset:s,relative:o,viewTransition:l}={}){let c=uk(),d=jn(),p=Wo(h,{relative:o});return W.useCallback(m=>{if(Ek(m,t)){m.preventDefault();let g=e!==void 0?e:Fo(d)===Fo(p);c(h,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[d,c,p,e,i,t,h,s,o,l])}var tT=0,eT=()=>`__${String(++tT)}__`;function rT(){let{router:h}=tx("useSubmit"),{basename:t}=W.useContext(Jr),e=xk();return W.useCallback(async(i,s={})=>{let{action:o,method:l,encType:c,formData:d,body:p}=Nk(i,t);if(s.navigate===!1){let m=s.fetcherKey||eT();await h.fetch(m,e,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await h.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[h,t,e])}function iT(h,{relative:t}={}){let{basename:e}=W.useContext(Jr),i=W.useContext(wi);Kt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Wo(h||".",{relative:t})},l=jn();if(h==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();o.search=p?`?${p}`:""}}return(!h||h===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:vi([e,o.pathname])),Fo(o)}function nT(h,t={}){let e=W.useContext(Hb);Kt(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=tx("useViewTransitionState"),s=Wo(h,{relative:t.relative});if(!e.isTransitioning)return!1;let o=bi(e.currentLocation.pathname,i)||e.currentLocation.pathname,l=bi(e.nextLocation.pathname,i)||e.nextLocation.pathname;return lh(s.pathname,l)!=null||lh(s.pathname,o)!=null}[...Uk];const sT=W.createContext(),aT=({children:h})=>{const[t,e]=W.useState("en");W.useEffect(()=>{const s=navigator.language.slice(0,2);["es","en"].includes(s)&&e(s)},[]);const i=s=>{e(s)};return Yt.jsx(sT.Provider,{value:{idioma:t,cambiarIdioma:i},children:h})},oT=()=>{const{progress:h}=Bb(),[t,e]=W.useState(!0);return W.useEffect(()=>{h>=100&&setTimeout(()=>e(!1),500)},[h]),t?Yt.jsxs("div",{className:`pantalla-carga ${h>=100?"fade-out":""}`,children:[Yt.jsxs("div",{className:"carga-contenedor",children:[Yt.jsx("div",{className:"spinner"}),Yt.jsx("p",{children:"Cargando..."})]}),Yt.jsx("div",{className:"barra-progreso",children:Yt.jsx("div",{className:"barra-progreso-inner",style:{width:`${h}%`}})})]}):null},lT=W.lazy(()=>na(()=>ia(()=>ea(()=>import("./RutaPrincipal-Bq2aptRT-DTltwZHV-CO5MJhz9.js"),__vite__mapDeps([0,1,2])),ra([0,1,2])).then(h=>h.R),Fn([0,1,2,3,4,5]))),uT=W.lazy(()=>na(()=>ia(()=>ea(()=>import("./RutaGaleria-DBNweeWk-i9hANpid-D89xlyjx.js"),__vite__mapDeps([3,1,2])),ra([3,1,2])),Fn([6,1,2,3,4,7]))),hT=W.lazy(()=>na(()=>ia(()=>ea(()=>import("./RutaPrivacidad-Bef9SSgP-BP2xXnTu-DWpL_POm.js"),__vite__mapDeps([4,1,5])),ra([4,1,5])),Fn([8,1,2,9,10]))),cT=W.lazy(()=>na(()=>ia(()=>ea(()=>import("./RutaCookies-BXGI4ksc-CbfThwsS-BqO0hWUL.js"),__vite__mapDeps([6,1])),ra([6,1])),Fn([11,1,2]))),dT=W.lazy(()=>na(()=>ia(()=>ea(()=>import("./RutaAvisosLegales-yMytLAYF-zOLIQJ9i-BF4QC_zU.js"),__vite__mapDeps([7,5,1])),ra([7,5,1])),Fn([12,9,10,1,2]))),pT=W.lazy(()=>na(()=>ia(()=>ea(()=>import("./Admin-DjU9vF7V-CcEjkFDu-BRZ35i8v.js"),[]),[]),Fn([13,14]))),fT=()=>{const[h,t]=W.useState(!0),{progress:e}=Bb();return W.useEffect(()=>{e===100&&setTimeout(()=>t(!1),0)},[e]),Yt.jsx(aT,{children:Yt.jsx(Zk,{children:Yt.jsx(W.Suspense,{fallback:Yt.jsx(oT,{}),children:Yt.jsxs(kk,{children:[Yt.jsx(Nn,{path:"/",element:Yt.jsx(lT,{cargando:h})}),Yt.jsx(Nn,{path:"/Privacidad",element:Yt.jsx(hT,{})}),Yt.jsx(Nn,{path:"/Galeria",element:Yt.jsx(uT,{})}),Yt.jsx(Nn,{path:"/Cookies",element:Yt.jsx(cT,{})}),Yt.jsx(Nn,{path:"/AvisosLegales",element:Yt.jsx(dT,{})}),Yt.jsx(Nn,{path:"/Dashboard",element:Yt.jsx(pT,{})})]})})})})};zw.createRoot(document.getElementById("root")).render(Yt.jsx(W.StrictMode,{children:Yt.jsx(fT,{})}));export{Yt as $,z as A,ve as B,bt as C,Vp as D,Yp as E,St as F,ib as G,lC as H,uh as I,QC as J,nA as K,Op as L,nb as M,bp as N,hC as O,cC as P,uC as Q,L0 as R,wr as S,Vr as T,cb as U,JM as V,W,Js as X,$ as Y,Qs as Z,zw as _,AT as a,jw as a$,No as a0,E_ as a1,o_ as a2,en as a3,UC as a4,_C as a5,Xw as a6,O0 as a7,yA as a8,Lp as a9,Dw as aA,Er as aB,HA as aC,WA as aD,qA as aE,UA as aF,jA as aG,VA as aH,JA as aI,FA as aJ,Hr as aK,O2 as aL,wA as aM,L2 as aN,Up as aO,At as aP,Qt as aQ,Rr as aR,Iw as aS,Ww as aT,Jw as aU,Gw as aV,de as aW,af as aX,Rp as aY,Yw as aZ,Uw as a_,Po as aa,lb as ab,N0 as ac,NT as ad,IT as ae,E0 as af,YT as ag,GT as ah,JT as ai,qT as aj,UT as ak,WT as al,I0 as am,FT as an,VT as ao,jT as ap,HT as aq,R0 as ar,DT as as,BT as at,LT as au,wp as av,Fr as aw,xp as ax,Vw as ay,Fw as az,KC as b,sa as b$,Hw as b0,Zw as b1,$w as b2,sb as b3,ab as b4,Qw as b5,Kw as b6,tS as b7,eS as b8,rS as b9,CS as bA,zS as bB,ES as bC,RS as bD,IS as bE,eA as bF,tA as bG,KT as bH,QT as bI,XT as bJ,$T as bK,ZT as bL,bT as bM,xT as bN,wT as bO,z0 as bP,RT as bQ,ET as bR,zT as bS,CT as bT,Ow as bU,Lw as bV,MC as bW,ub as bX,SC as bY,bM as bZ,Bw as b_,iS as ba,nS as bb,Od as bc,sS as bd,aS as be,oS as bf,lS as bg,uS as bh,hS as bi,cS as bj,dS as bk,pS as bl,fS as bm,mS as bn,yS as bo,gS as bp,vS as bq,bS as br,xS as bs,wS as bt,SS as bu,MS as bv,_S as bw,kS as bx,TS as by,AS as bz,Ib as c,TM as c$,_A as c0,wC as c1,hh as c2,ch as c3,jr as c4,C_ as c5,B0 as c6,Pp as c7,Pw as c8,aa as c9,kC as cA,sh as cB,ZC as cC,Pb as cD,gC as cE,yC as cF,Np as cG,df as cH,vA as cI,bA as cJ,xA as cK,ar as cL,cf as cM,hf as cN,iC as cO,vz as cP,LC as cQ,uf as cR,la as cS,XA as cT,YA as cU,tC as cV,VC as cW,ZA as cX,Qu as cY,QA as cZ,pb as c_,yM as ca,mM as cb,KS as cc,rC as cd,uA as ce,cA as cf,hA as cg,oA as ch,aA as ci,sA as cj,Wp as ck,hb as cl,iA as cm,rA as cn,Ip as co,PT as cp,OT as cq,kA as cr,Ys as cs,Gs as ct,Xu as cu,A2 as cv,Ku as cw,dC as cx,pC as cy,qM as cz,gT as d,NS as d$,iz as d0,Z2 as d1,wb as d2,r_ as d3,mh as d4,Ee as d5,Pn as d6,zM as d7,nz as d8,Gp as d9,HM as dA,sz as dB,X2 as dC,pz as dD,_p as dE,fh as dF,BC as dG,Bt as dH,nh as dI,BA as dJ,Bp as dK,IA as dL,dA as dM,pA as dN,I2 as dO,Tb as dP,E2 as dQ,R2 as dR,N2 as dS,B2 as dT,P2 as dU,Ob as dV,aC as dW,mf as dX,De as dY,PS as dZ,OS as d_,Ur as da,yz as db,lf as dc,Xs as dd,C2 as de,of as df,TA as dg,YC as dh,GC as di,Fp as dj,e_ as dk,z2 as dl,MA as dm,gA as dn,SA as dp,W2 as dq,gh as dr,xb as ds,bb as dt,c_ as du,Lt as dv,WC as dw,Vn as dx,lz as dy,yb as dz,na as e,$A as e$,Rb as e0,Rv as e1,ur as e2,fA as e3,mA as e4,zb as e5,xi as e6,WM as e7,D2 as e8,n2 as e9,n_ as eA,Oo as eB,zA as eC,AA as eD,rM as eE,oh as eF,DC as eG,nf as eH,az as eI,G2 as eJ,Ao as eK,oz as eL,LA as eM,DA as eN,eC as eO,XC as eP,Zp as eQ,TC as eR,Hp as eS,qp as eT,ot as eU,xC as eV,tn as eW,rf as eX,PA as eY,tf as eZ,GM as e_,vb as ea,Ge as eb,rz as ec,Bn as ed,i_ as ee,Un as ef,NA as eg,OA as eh,sf as ei,AM as ej,Ir as ek,Cs as el,RA as em,nC as en,sC as eo,Pd as ep,Sp as eq,$u as er,yh as es,Ks as et,Jp as eu,mC as ev,bC as ew,vC as ex,IM as ey,$C as ez,ea as f,D0 as f$,GA as f0,KA as f1,Kp as f2,j2 as f3,uz as f4,K2 as f5,Nw as f6,EC as f7,zo as f8,EA as f9,jp as fA,Ki as fB,s_ as fC,cz as fD,dz as fE,Be as fF,ez as fG,oa as fH,mb as fI,jM as fJ,LS as fK,mz as fL,FC as fM,jC as fN,Nb as fO,HC as fP,u_ as fQ,P0 as fR,fz as fS,YM as fT,RC as fU,qC as fV,JC as fW,IC as fX,ah as fY,w_ as fZ,t_ as f_,CA as fa,fC as fb,OC as fc,gi as fd,tz as fe,dh as ff,s2 as fg,qr as fh,ST as fi,U2 as fj,i2 as fk,gb as fl,PC as fm,MM as fn,gz as fo,ph as fp,NC as fq,$p as fr,CC as fs,AC as ft,Eb as fu,Qp as fv,ZM as fw,Xp as fx,zC as fy,hz as fz,vp as g,ob as g0,th as g1,sT as g2,mT as g3,yT as h,kT as i,qw as j,TT as k,_T as l,sr as m,oT as n,br as o,vT as p,Vo as q,lA as r,Tw as s,ia as t,lr as u,MT as v,xr as w,kM as x,bw as y,oC as z};
