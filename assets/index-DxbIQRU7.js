const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/RutaPrincipal-Bq2aptRT-DTltwZHV-CO5MJhz9-nqlFkAv8-Cp8x72qs.js","assets/RutaPrincipal-BNL2tyW5-CxY54UNU-AsulsZtJ-BaFA-Pm_-Cbf48kE4.js","assets/infoNuestrosTrabajos-oMYqesbl-CZ4GuPae-C4l6GJXy-DPtDylZs-BTJlFkhP.js","assets/RutaGaleria-DBNweeWk-i9hANpid-D89xlyjx-3-SEKzs6-0l_okLAa.js","assets/RutaPrivacidad-Bef9SSgP-BP2xXnTu-DWpL_POm-B7uq6xzl-CyuLMSl2.js","assets/Enlaces-BAchbKQX-BHDoRq5I-Co_SzKil-5Qz6ocBL-C-_J_I3Z.js","assets/RutaCookies-BXGI4ksc-CbfThwsS-BqO0hWUL-uQIKhm1X-2PqCZ2Fm.js","assets/RutaAvisosLegales-yMytLAYF-zOLIQJ9i-BF4QC_zU-BlibF-WD-DOvg1FKB.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();const xw="modulepreload",ww=function(h){return"/"+h},y0={},ea=function(t,e,i){let s=Promise.resolve();if(e&&e.length>0){let l=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=l(e.map(p=>{if(p=ww(p),p in y0)return;y0[p]=!0;const m=p.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${g}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":xw,m||(v.as="script"),v.crossOrigin="",v.href=p,d&&v.setAttribute("nonce",d),document.head.appendChild(v),m)return new Promise((b,x)=>{v.addEventListener("load",b),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return t().catch(o)})},ra=(h,t=ra,e=t.f||(t.f=["assets/RutaPrincipal-Bq2aptRT-DTltwZHV-CO5MJhz9-nqlFkAv8.js","assets/RutaPrincipal-BNL2tyW5-CxY54UNU-AsulsZtJ-BaFA-Pm_.js","assets/infoNuestrosTrabajos-oMYqesbl-CZ4GuPae-C4l6GJXy-DPtDylZs.js","assets/RutaGaleria-DBNweeWk-i9hANpid-D89xlyjx-3-SEKzs6.js","assets/RutaPrivacidad-Bef9SSgP-BP2xXnTu-DWpL_POm-B7uq6xzl.js","assets/Enlaces-BAchbKQX-BHDoRq5I-Co_SzKil-5Qz6ocBL.js","assets/RutaCookies-BXGI4ksc-CbfThwsS-BqO0hWUL-uQIKhm1X.js","assets/RutaAvisosLegales-yMytLAYF-zOLIQJ9i-BF4QC_zU-BlibF-WD.js"]))=>h.map(i=>e[i]);(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))e(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&e(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const Sw="modulepreload",Mw=function(h){return"/"+h},g0={},ia=function(h,t,e){let i=Promise.resolve();if(t&&t.length>0){let o=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=o(t.map(d=>{if(d=Mw(d),d in g0)return;g0[d]=!0;const p=d.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=p?"stylesheet":Sw,p||(g.as="script"),g.crossOrigin="",g.href=d,c&&g.setAttribute("nonce",c),document.head.appendChild(g),p)return new Promise((v,b)=>{g.addEventListener("load",v),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return h().catch(s)})},na=(h,t=na,e=t.f||(t.f=["assets/RutaPrincipal-Bq2aptRT-DTltwZHV-CO5MJhz9.js","assets/RutaPrincipal-BNL2tyW5-CxY54UNU-AsulsZtJ.js","assets/infoNuestrosTrabajos-oMYqesbl-CZ4GuPae-C4l6GJXy.js","assets/RutaGaleria-DBNweeWk-i9hANpid-D89xlyjx.js","assets/RutaPrivacidad-Bef9SSgP-BP2xXnTu-DWpL_POm.js","assets/Enlaces-BAchbKQX-BHDoRq5I-Co_SzKil.js","assets/RutaCookies-BXGI4ksc-CbfThwsS-BqO0hWUL.js","assets/RutaAvisosLegales-yMytLAYF-zOLIQJ9i-BF4QC_zU.js"]))=>h.map(i=>e[i]);(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))e(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&e(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const _w="modulepreload",kw=function(h){return"/"+h},v0={},sa=function(h,t,e){let i=Promise.resolve();if(t&&t.length>0){let o=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=o(t.map(d=>{if(d=kw(d),d in v0)return;v0[d]=!0;const p=d.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=p?"stylesheet":_w,p||(g.as="script"),g.crossOrigin="",g.href=d,c&&g.setAttribute("nonce",c),document.head.appendChild(g),p)return new Promise((v,b)=>{g.addEventListener("load",v),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return h().catch(s)})},aa=(h,t=aa,e=t.f||(t.f=["assets/RutaPrincipal-Bq2aptRT-DTltwZHV.js","assets/RutaPrincipal-BNL2tyW5-CxY54UNU.js","assets/infoNuestrosTrabajos-oMYqesbl-CZ4GuPae.js","assets/RutaGaleria-DBNweeWk-i9hANpid.js","assets/RutaPrivacidad-Bef9SSgP-BP2xXnTu.js","assets/Enlaces-BAchbKQX-BHDoRq5I.js","assets/RutaCookies-BXGI4ksc-CbfThwsS.js","assets/RutaAvisosLegales-yMytLAYF-zOLIQJ9i.js"]))=>h.map(i=>e[i]);(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))e(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&e(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const Tw="modulepreload",Cw=function(h){return"/"+h},b0={},oa=function(h,t,e){let i=Promise.resolve();if(t&&t.length>0){let o=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=o(t.map(d=>{if(d=Cw(d),d in b0)return;b0[d]=!0;const p=d.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=p?"stylesheet":Tw,p||(g.as="script"),g.crossOrigin="",g.href=d,c&&g.setAttribute("nonce",c),document.head.appendChild(g),p)return new Promise((v,b)=>{g.addEventListener("load",v),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return h().catch(s)})},Fn=(h,t=Fn,e=t.f||(t.f=["assets/RutaPrincipal-Bq2aptRT.js","assets/RutaPrincipal-BNL2tyW5.js","assets/RutaPrincipal-Dx12AUPm.css","assets/infoNuestrosTrabajos-oMYqesbl.js","assets/infoNuestrosTrabajos-BMD19QWe.css","assets/RutaPrincipal-B-p4PSoI.css","assets/RutaGaleria-DBNweeWk.js","assets/RutaGaleria-C7MitIqe.css","assets/RutaPrivacidad-Bef9SSgP.js","assets/Enlaces-BAchbKQX.js","assets/Enlaces-a5_1FaFr.css","assets/RutaCookies-BXGI4ksc.js","assets/RutaAvisosLegales-yMytLAYF.js","assets/Admin-DjU9vF7V.js","assets/Admin-B2Fu8fAo.css"]))=>h.map(i=>e[i]);function Aw(h,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in h)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(h,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}))}(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))e(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&e(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var kT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zw(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var x0={exports:{}},po={};/**
* @license React
* react-jsx-runtime.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var w0;function Ew(){if(w0)return po;w0=1;var h=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:h,type:i,key:l,ref:s!==void 0?s:null,props:o}}return po.Fragment=t,po.jsx=e,po.jsxs=e,po}var S0;function Iw(){return S0||(S0=1,x0.exports=Ew()),x0.exports}var Zt=Iw(),M0={exports:{}},Mt={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var _0;function Pw(){if(_0)return Mt;_0=1;var h=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(I){return I===null||typeof I!="object"?null:(I=g&&I[g]||I["@@iterator"],typeof I=="function"?I:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function _(I,q,Q){this.props=I,this.context=q,this.refs=S,this.updater=Q||b}_.prototype.isReactComponent={},_.prototype.setState=function(I,q){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,q,"setState")},_.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function M(){}M.prototype=_.prototype;function T(I,q,Q){this.props=I,this.context=q,this.refs=S,this.updater=Q||b}var C=T.prototype=new M;C.constructor=T,x(C,_.prototype),C.isPureReactComponent=!0;var A=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function j(I,q,Q,K,ht,zt){return Q=zt.ref,{$$typeof:h,type:I,key:q,ref:Q!==void 0?Q:null,props:zt}}function D(I,q){return j(I.type,q,void 0,void 0,void 0,I.props)}function Y(I){return typeof I=="object"&&I!==null&&I.$$typeof===h}function J(I){var q={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(Q){return q[Q]})}var it=/\/+/g;function lt(I,q){return typeof I=="object"&&I!==null&&I.key!=null?J(""+I.key):q.toString(36)}function mt(){}function xt(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(mt,mt):(I.status="pending",I.then(function(q){I.status==="pending"&&(I.status="fulfilled",I.value=q)},function(q){I.status==="pending"&&(I.status="rejected",I.reason=q)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function _t(I,q,Q,K,ht){var zt=typeof I;(zt==="undefined"||zt==="boolean")&&(I=null);var gt=!1;if(I===null)gt=!0;else switch(zt){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(I.$$typeof){case h:case t:gt=!0;break;case m:return gt=I._init,_t(gt(I._payload),q,Q,K,ht)}}if(gt)return ht=ht(I),gt=K===""?"."+lt(I,0):K,A(ht)?(Q="",gt!=null&&(Q=gt.replace(it,"$&/")+"/"),_t(ht,q,Q,"",function(Ze){return Ze})):ht!=null&&(Y(ht)&&(ht=D(ht,Q+(ht.key==null||I&&I.key===ht.key?"":(""+ht.key).replace(it,"$&/")+"/")+gt)),q.push(ht)),1;gt=0;var Se=K===""?".":K+":";if(A(I))for(var Ot=0;Ot<I.length;Ot++)K=I[Ot],zt=Se+lt(K,Ot),gt+=_t(K,q,Q,zt,ht);else if(Ot=v(I),typeof Ot=="function")for(I=Ot.call(I),Ot=0;!(K=I.next()).done;)K=K.value,zt=Se+lt(K,Ot++),gt+=_t(K,q,Q,zt,ht);else if(zt==="object"){if(typeof I.then=="function")return _t(xt(I),q,Q,K,ht);throw q=String(I),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return gt}function U(I,q,Q){if(I==null)return I;var K=[],ht=0;return _t(I,K,"","",function(zt){return q.call(Q,zt,ht++)}),K}function $(I){if(I._status===-1){var q=I._result;q=q(),q.then(function(Q){(I._status===0||I._status===-1)&&(I._status=1,I._result=Q)},function(Q){(I._status===0||I._status===-1)&&(I._status=2,I._result=Q)}),I._status===-1&&(I._status=0,I._result=q)}if(I._status===1)return I._result.default;throw I._result}var at=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function ft(){}return Mt.Children={map:U,forEach:function(I,q,Q){U(I,function(){q.apply(this,arguments)},Q)},count:function(I){var q=0;return U(I,function(){q++}),q},toArray:function(I){return U(I,function(q){return q})||[]},only:function(I){if(!Y(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Mt.Component=_,Mt.Fragment=e,Mt.Profiler=s,Mt.PureComponent=T,Mt.StrictMode=i,Mt.Suspense=d,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return O.H.useMemoCache(I)}},Mt.cache=function(I){return function(){return I.apply(null,arguments)}},Mt.cloneElement=function(I,q,Q){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var K=x({},I.props),ht=I.key,zt=void 0;if(q!=null)for(gt in q.ref!==void 0&&(zt=void 0),q.key!==void 0&&(ht=""+q.key),q)!B.call(q,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&q.ref===void 0||(K[gt]=q[gt]);var gt=arguments.length-2;if(gt===1)K.children=Q;else if(1<gt){for(var Se=Array(gt),Ot=0;Ot<gt;Ot++)Se[Ot]=arguments[Ot+2];K.children=Se}return j(I.type,ht,void 0,void 0,zt,K)},Mt.createContext=function(I){return I={$$typeof:l,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:o,_context:I},I},Mt.createElement=function(I,q,Q){var K,ht={},zt=null;if(q!=null)for(K in q.key!==void 0&&(zt=""+q.key),q)B.call(q,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ht[K]=q[K]);var gt=arguments.length-2;if(gt===1)ht.children=Q;else if(1<gt){for(var Se=Array(gt),Ot=0;Ot<gt;Ot++)Se[Ot]=arguments[Ot+2];ht.children=Se}if(I&&I.defaultProps)for(K in gt=I.defaultProps,gt)ht[K]===void 0&&(ht[K]=gt[K]);return j(I,zt,void 0,void 0,null,ht)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(I){return{$$typeof:c,render:I}},Mt.isValidElement=Y,Mt.lazy=function(I){return{$$typeof:m,_payload:{_status:-1,_result:I},_init:$}},Mt.memo=function(I,q){return{$$typeof:p,type:I,compare:q===void 0?null:q}},Mt.startTransition=function(I){var q=O.T,Q={};O.T=Q;try{var K=I(),ht=O.S;ht!==null&&ht(Q,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(ft,at)}catch(zt){at(zt)}finally{O.T=q}},Mt.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Mt.use=function(I){return O.H.use(I)},Mt.useActionState=function(I,q,Q){return O.H.useActionState(I,q,Q)},Mt.useCallback=function(I,q){return O.H.useCallback(I,q)},Mt.useContext=function(I){return O.H.useContext(I)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(I,q){return O.H.useDeferredValue(I,q)},Mt.useEffect=function(I,q,Q){var K=O.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(I,q)},Mt.useId=function(){return O.H.useId()},Mt.useImperativeHandle=function(I,q,Q){return O.H.useImperativeHandle(I,q,Q)},Mt.useInsertionEffect=function(I,q){return O.H.useInsertionEffect(I,q)},Mt.useLayoutEffect=function(I,q){return O.H.useLayoutEffect(I,q)},Mt.useMemo=function(I,q){return O.H.useMemo(I,q)},Mt.useOptimistic=function(I,q){return O.H.useOptimistic(I,q)},Mt.useReducer=function(I,q,Q){return O.H.useReducer(I,q,Q)},Mt.useRef=function(I){return O.H.useRef(I)},Mt.useState=function(I){return O.H.useState(I)},Mt.useSyncExternalStore=function(I,q,Q){return O.H.useSyncExternalStore(I,q,Q)},Mt.useTransition=function(){return O.H.useTransition()},Mt.version="19.1.0",Mt}var k0;function Lp(){return k0||(k0=1,M0.exports=Pw()),M0.exports}var W=Lp();const Sp=zw(W),TT=Aw({__proto__:null,default:Sp},[W]);var Nd={exports:{}},fo={},T0={exports:{}},C0={};/**
* @license React
* scheduler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var A0;function Ow(){return A0||(A0=1,function(h){function t(U,$){var at=U.length;U.push($);t:for(;0<at;){var ft=at-1>>>1,I=U[ft];if(0<s(I,$))U[ft]=$,U[at]=I,at=ft;else break t}}function e(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var $=U[0],at=U.pop();if(at!==$){U[0]=at;t:for(var ft=0,I=U.length,q=I>>>1;ft<q;){var Q=2*(ft+1)-1,K=U[Q],ht=Q+1,zt=U[ht];if(0>s(K,at))ht<I&&0>s(zt,K)?(U[ft]=zt,U[ht]=at,ft=ht):(U[ft]=K,U[Q]=at,ft=Q);else if(ht<I&&0>s(zt,at))U[ft]=zt,U[ht]=at,ft=ht;else break t}}return $}function s(U,$){var at=U.sortIndex-$.sortIndex;return at!==0?at:U.id-$.id}if(h.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;h.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();h.unstable_now=function(){return l.now()-c}}var d=[],p=[],m=1,g=null,v=3,b=!1,x=!1,S=!1,_=!1,M=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function A(U){for(var $=e(p);$!==null;){if($.callback===null)i(p);else if($.startTime<=U)i(p),$.sortIndex=$.expirationTime,t(d,$);else break;$=e(p)}}function O(U){if(S=!1,A(U),!x)if(e(d)!==null)x=!0,B||(B=!0,lt());else{var $=e(p);$!==null&&_t(O,$.startTime-U)}}var B=!1,j=-1,D=5,Y=-1;function J(){return _?!0:!(h.unstable_now()-Y<D)}function it(){if(_=!1,B){var U=h.unstable_now();Y=U;var $=!0;try{t:{x=!1,S&&(S=!1,T(j),j=-1),b=!0;var at=v;try{e:{for(A(U),g=e(d);g!==null&&!(g.expirationTime>U&&J());){var ft=g.callback;if(typeof ft=="function"){g.callback=null,v=g.priorityLevel;var I=ft(g.expirationTime<=U);if(U=h.unstable_now(),typeof I=="function"){g.callback=I,A(U),$=!0;break e}g===e(d)&&i(d),A(U)}else i(d);g=e(d)}if(g!==null)$=!0;else{var q=e(p);q!==null&&_t(O,q.startTime-U),$=!1}}break t}finally{g=null,v=at,b=!1}$=void 0}}finally{$?lt():B=!1}}}var lt;if(typeof C=="function")lt=function(){C(it)};else if(typeof MessageChannel<"u"){var mt=new MessageChannel,xt=mt.port2;mt.port1.onmessage=it,lt=function(){xt.postMessage(null)}}else lt=function(){M(it,0)};function _t(U,$){j=M(function(){U(h.unstable_now())},$)}h.unstable_IdlePriority=5,h.unstable_ImmediatePriority=1,h.unstable_LowPriority=4,h.unstable_NormalPriority=3,h.unstable_Profiling=null,h.unstable_UserBlockingPriority=2,h.unstable_cancelCallback=function(U){U.callback=null},h.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<U?Math.floor(1e3/U):5},h.unstable_getCurrentPriorityLevel=function(){return v},h.unstable_next=function(U){switch(v){case 1:case 2:case 3:var $=3;break;default:$=v}var at=v;v=$;try{return U()}finally{v=at}},h.unstable_requestPaint=function(){_=!0},h.unstable_runWithPriority=function(U,$){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var at=v;v=U;try{return $()}finally{v=at}},h.unstable_scheduleCallback=function(U,$,at){var ft=h.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?ft+at:ft):at=ft,U){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=at+I,U={id:m++,callback:$,priorityLevel:U,startTime:at,expirationTime:I,sortIndex:-1},at>ft?(U.sortIndex=at,t(p,U),e(d)===null&&U===e(p)&&(S?(T(j),j=-1):S=!0,_t(O,at-ft))):(U.sortIndex=I,t(d,U),x||b||(x=!0,B||(B=!0,lt()))),U},h.unstable_shouldYield=J,h.unstable_wrapCallback=function(U){var $=v;return function(){var at=v;v=$;try{return U.apply(this,arguments)}finally{v=at}}}}(C0)),C0}var z0;function Rw(){return z0||(z0=1,T0.exports=Ow()),T0.exports}var Bd={exports:{}},Te={};/**
* @license React
* react-dom.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var E0;function Lw(){if(E0)return Te;E0=1;var h=Lp();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,p,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:d,containerInfo:p,implementation:m}}var l=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Te.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Te.createPortal=function(d,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return o(d,p,null,m)},Te.flushSync=function(d){var p=l.T,m=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=p,i.p=m,i.d.f()}},Te.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},Te.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Te.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var m=p.as,g=c(m,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:b}):m==="script"&&i.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Te.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=c(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(d)},Te.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,g=c(m,p.crossOrigin);i.d.L(d,m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Te.preloadModule=function(d,p){if(typeof d=="string")if(p){var m=c(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},Te.requestFormReset=function(d){i.d.r(d)},Te.unstable_batchedUpdates=function(d,p){return d(p)},Te.useFormState=function(d,p,m){return l.H.useFormState(d,p,m)},Te.useFormStatus=function(){return l.H.useHostTransitionStatus()},Te.version="19.1.0",Te}var I0;function Nw(){if(I0)return Bd.exports;I0=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(t){console.error(t)}}return h(),Bd.exports=Lw(),Bd.exports}/**
* @license React
* react-dom-client.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var P0;function Bw(){if(P0)return fo;P0=1;var h=Rw(),t=Lp(),e=Nw();function i(r){var n="https://react.dev/errors/"+r;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var n=r,a=r;if(r.alternate)for(;n.return;)n=n.return;else{r=n;do n=r,(n.flags&4098)!==0&&(a=n.return),r=n.return;while(r)}return n.tag===3?a:null}function l(r){if(r.tag===13){var n=r.memoizedState;if(n===null&&(r=r.alternate,r!==null&&(n=r.memoizedState)),n!==null)return n.dehydrated}return null}function c(r){if(o(r)!==r)throw Error(i(188))}function d(r){var n=r.alternate;if(!n){if(n=o(r),n===null)throw Error(i(188));return n!==r?null:r}for(var a=r,u=n;;){var f=a.return;if(f===null)break;var y=f.alternate;if(y===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===a)return c(f),r;if(y===u)return c(f),n;y=y.sibling}throw Error(i(188))}if(a.return!==u.return)a=f,u=y;else{for(var w=!1,k=f.child;k;){if(k===a){w=!0,a=f,u=y;break}if(k===u){w=!0,u=f,a=y;break}k=k.sibling}if(!w){for(k=y.child;k;){if(k===a){w=!0,a=y,u=f;break}if(k===u){w=!0,u=y,a=f;break}k=k.sibling}if(!w)throw Error(i(189))}}if(a.alternate!==u)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?r:n}function p(r){var n=r.tag;if(n===5||n===26||n===27||n===6)return r;for(r=r.child;r!==null;){if(n=p(r),n!==null)return n;r=r.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),C=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),it=Symbol.iterator;function lt(r){return r===null||typeof r!="object"?null:(r=it&&r[it]||r["@@iterator"],typeof r=="function"?r:null)}var mt=Symbol.for("react.client.reference");function xt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===mt?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case _:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case B:return"SuspenseList";case Y:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case b:return"Portal";case C:return(r.displayName||"Context")+".Provider";case T:return(r._context.displayName||"Context")+".Consumer";case A:var n=r.render;return r=r.displayName,r||(r=n.displayName||n.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case j:return n=r.displayName||null,n!==null?n:xt(r.type)||"Memo";case D:n=r._payload,r=r._init;try{return xt(r(n))}catch{}}return null}var _t=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},ft=[],I=-1;function q(r){return{current:r}}function Q(r){0>I||(r.current=ft[I],ft[I]=null,I--)}function K(r,n){I++,ft[I]=r.current,r.current=n}var ht=q(null),zt=q(null),gt=q(null),Se=q(null);function Ot(r,n){switch(K(gt,n),K(zt,r),K(ht,null),n.nodeType){case 9:case 11:r=(r=n.documentElement)&&(r=r.namespaceURI)?Hg(r):0;break;default:if(r=n.tagName,n=n.namespaceURI)n=Hg(n),r=qg(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Q(ht),K(ht,r)}function Ze(){Q(ht),Q(zt),Q(gt)}function ma(r){r.memoizedState!==null&&K(Se,r);var n=ht.current,a=qg(n,r.type);n!==a&&(K(zt,r),K(ht,a))}function Fe(r){zt.current===r&&(Q(ht),Q(zt)),Se.current===r&&(Q(Se),oo._currentValue=at)}var Je=Object.prototype.hasOwnProperty,tt=h.unstable_scheduleCallback,et=h.unstable_cancelCallback,rt=h.unstable_shouldYield,ct=h.unstable_requestPaint,nt=h.unstable_now,Et=h.unstable_getCurrentPriorityLevel,kt=h.unstable_ImmediatePriority,Ht=h.unstable_UserBlockingPriority,qt=h.unstable_NormalPriority,te=h.unstable_LowPriority,Ie=h.unstable_IdlePriority,rn=h.log,Pe=h.unstable_setDisableYieldValue,Si=null,Me=null;function Sr(r){if(typeof rn=="function"&&Pe(r),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(Si,r)}catch{}}var Oe=Math.clz32?Math.clz32:Jo,_h=Math.log,Zo=Math.LN2;function Jo(r){return r>>>=0,r===0?32:31-(_h(r)/Zo|0)|0}var Xo=256,$o=4194304;function nn(r){var n=r&42;if(n!==0)return n;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Qo(r,n,a){var u=r.pendingLanes;if(u===0)return 0;var f=0,y=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var k=u&134217727;return k!==0?(u=k&~y,u!==0?f=nn(u):(w&=k,w!==0?f=nn(w):a||(a=k&~r,a!==0&&(f=nn(a))))):(k=u&~y,k!==0?f=nn(k):w!==0?f=nn(w):a||(a=u&~r,a!==0&&(f=nn(a)))),f===0?0:n!==0&&n!==f&&(n&y)===0&&(y=f&-f,a=n&-n,y>=a||y===32&&(a&4194048)!==0)?n:f}function ya(r,n){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&n)===0}function ox(r,n){switch(r){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cf(){var r=Xo;return Xo<<=1,(Xo&4194048)===0&&(Xo=256),r}function Af(){var r=$o;return $o<<=1,($o&62914560)===0&&($o=4194304),r}function kh(r){for(var n=[],a=0;31>a;a++)n.push(r);return n}function ga(r,n){r.pendingLanes|=n,n!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function lx(r,n,a,u,f,y){var w=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var k=r.entanglements,E=r.expirationTimes,N=r.hiddenUpdates;for(a=w&~a;0<a;){var H=31-Oe(a),Z=1<<H;k[H]=0,E[H]=-1;var F=N[H];if(F!==null)for(N[H]=null,H=0;H<F.length;H++){var V=F[H];V!==null&&(V.lane&=-536870913)}a&=~Z}u!==0&&zf(r,u,0),y!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=y&~(w&~n))}function zf(r,n,a){r.pendingLanes|=n,r.suspendedLanes&=~n;var u=31-Oe(n);r.entangledLanes|=n,r.entanglements[u]=r.entanglements[u]|1073741824|a&4194090}function Ef(r,n){var a=r.entangledLanes|=n;for(r=r.entanglements;a;){var u=31-Oe(a),f=1<<u;f&n|r[u]&n&&(r[u]|=n),a&=~f}}function Th(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ch(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function If(){var r=$.p;return r!==0?r:(r=window.event,r===void 0?32:h0(r.type))}function ux(r,n){var a=$.p;try{return $.p=r,n()}finally{$.p=a}}var Mi=Math.random().toString(36).slice(2),_e="__reactFiber$"+Mi,Ve="__reactProps$"+Mi,Wn="__reactContainer$"+Mi,Ah="__reactEvents$"+Mi,hx="__reactListeners$"+Mi,cx="__reactHandles$"+Mi,Pf="__reactResources$"+Mi,va="__reactMarker$"+Mi;function zh(r){delete r[_e],delete r[Ve],delete r[Ah],delete r[hx],delete r[cx]}function Hn(r){var n=r[_e];if(n)return n;for(var a=r.parentNode;a;){if(n=a[Wn]||a[_e]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(r=Jg(r);r!==null;){if(a=r[_e])return a;r=Jg(r)}return n}r=a,a=r.parentNode}return null}function qn(r){if(r=r[_e]||r[Wn]){var n=r.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return r}return null}function ba(r){var n=r.tag;if(n===5||n===26||n===27||n===6)return r.stateNode;throw Error(i(33))}function Gn(r){var n=r[Pf];return n||(n=r[Pf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function pe(r){r[va]=!0}var Of=new Set,Rf={};function sn(r,n){Yn(r,n),Yn(r+"Capture",n)}function Yn(r,n){for(Rf[r]=n,r=0;r<n.length;r++)Of.add(n[r])}var dx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lf={},Nf={};function px(r){return Je.call(Nf,r)?!0:Je.call(Lf,r)?!1:dx.test(r)?Nf[r]=!0:(Lf[r]=!0,!1)}function Ko(r,n,a){if(px(n))if(a===null)r.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(n);return}}r.setAttribute(n,""+a)}}function tl(r,n,a){if(a===null)r.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(n);return}r.setAttribute(n,""+a)}}function Yr(r,n,a,u){if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(n,a,""+u)}}var Eh,Bf;function Zn(r){if(Eh===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Eh=n&&n[1]||"",Bf=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Eh+r+Bf}var Ih=!1;function Ph(r,n){if(!r||Ih)return"";Ih=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(V){var F=V}Reflect.construct(r,[],Z)}else{try{Z.call()}catch(V){F=V}r.call(Z.prototype)}}else{try{throw Error()}catch(V){F=V}(Z=r())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(V){if(V&&F&&typeof V.stack=="string")return[V.stack,F.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),w=y[0],k=y[1];if(w&&k){var E=w.split(`
`),N=k.split(`
`);for(f=u=0;u<E.length&&!E[u].includes("DetermineComponentFrameRoot");)u++;for(;f<N.length&&!N[f].includes("DetermineComponentFrameRoot");)f++;if(u===E.length||f===N.length)for(u=E.length-1,f=N.length-1;1<=u&&0<=f&&E[u]!==N[f];)f--;for(;1<=u&&0<=f;u--,f--)if(E[u]!==N[f]){if(u!==1||f!==1)do if(u--,f--,0>f||E[u]!==N[f]){var H=`
`+E[u].replace(" at new "," at ");return r.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",r.displayName)),H}while(1<=u&&0<=f);break}}}finally{Ih=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?Zn(a):""}function fx(r){switch(r.tag){case 26:case 27:case 5:return Zn(r.type);case 16:return Zn("Lazy");case 13:return Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return Ph(r.type,!1);case 11:return Ph(r.type.render,!1);case 1:return Ph(r.type,!0);case 31:return Zn("Activity");default:return""}}function Df(r){try{var n="";do n+=fx(r),r=r.return;while(r);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function hr(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ff(r){var n=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function mx(r){var n=Ff(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,n),u=""+r[n];if(!r.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,y=a.set;return Object.defineProperty(r,n,{configurable:!0,get:function(){return f.call(this)},set:function(w){u=""+w,y.call(this,w)}}),Object.defineProperty(r,n,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){r._valueTracker=null,delete r[n]}}}}function el(r){r._valueTracker||(r._valueTracker=mx(r))}function Vf(r){if(!r)return!1;var n=r._valueTracker;if(!n)return!0;var a=n.getValue(),u="";return r&&(u=Ff(r)?r.checked?"true":"false":r.value),r=u,r!==a?(n.setValue(r),!0):!1}function rl(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var yx=/[\n"\\]/g;function Mr(r){return r.replace(yx,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Oh(r,n,a,u,f,y,w,k){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),n!=null?w==="number"?(n===0&&r.value===""||r.value!=n)&&(r.value=""+hr(n)):r.value!==""+hr(n)&&(r.value=""+hr(n)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),n!=null?Rh(r,w,hr(n)):a!=null?Rh(r,w,hr(a)):u!=null&&r.removeAttribute("value"),f==null&&y!=null&&(r.defaultChecked=!!y),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.name=""+hr(k):r.removeAttribute("name")}function Uf(r,n,a,u,f,y,w,k){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),n!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||n!=null))return;a=a!=null?""+hr(a):"",n=n!=null?""+hr(n):a,k||n===r.value||(r.value=n),r.defaultValue=n}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=k?r.checked:!!u,r.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w)}function Rh(r,n,a){n==="number"&&rl(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function Jn(r,n,a,u){if(r=r.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=n.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&u&&(r[a].defaultSelected=!0)}else{for(a=""+hr(a),n=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}n!==null||r[f].disabled||(n=r[f])}n!==null&&(n.selected=!0)}}function jf(r,n,a){if(n!=null&&(n=""+hr(n),n!==r.value&&(r.value=n),a==null)){r.defaultValue!==n&&(r.defaultValue=n);return}r.defaultValue=a!=null?""+hr(a):""}function Wf(r,n,a,u){if(n==null){if(u!=null){if(a!=null)throw Error(i(92));if(_t(u)){if(1<u.length)throw Error(i(93));u=u[0]}a=u}a==null&&(a=""),n=a}a=hr(n),r.defaultValue=a,u=r.textContent,u===a&&u!==""&&u!==null&&(r.value=u)}function Xn(r,n){if(n){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=n;return}}r.textContent=n}var gx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hf(r,n,a){var u=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?r.setProperty(n,""):n==="float"?r.cssFloat="":r[n]="":u?r.setProperty(n,a):typeof a!="number"||a===0||gx.has(n)?n==="float"?r.cssFloat=a:r[n]=(""+a).trim():r[n]=a+"px"}function qf(r,n,a){if(n!=null&&typeof n!="object")throw Error(i(62));if(r=r.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in n)u=n[f],n.hasOwnProperty(f)&&a[f]!==u&&Hf(r,f,u)}else for(var y in n)n.hasOwnProperty(y)&&Hf(r,y,n[y])}function Lh(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function il(r){return bx.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Nh=null;function Bh(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var $n=null,Qn=null;function Gf(r){var n=qn(r);if(n&&(r=n.stateNode)){var a=r[Ve]||null;t:switch(r=n.stateNode,n.type){case"input":if(Oh(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Mr(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var u=a[n];if(u!==r&&u.form===r.form){var f=u[Ve]||null;if(!f)throw Error(i(90));Oh(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)u=a[n],u.form===r.form&&Vf(u)}break t;case"textarea":jf(r,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Jn(r,!!a.multiple,n,!1)}}}var Dh=!1;function Yf(r,n,a){if(Dh)return r(n,a);Dh=!0;try{var u=r(n);return u}finally{if(Dh=!1,($n!==null||Qn!==null)&&(jl(),$n&&(n=$n,r=Qn,Qn=$n=null,Gf(n),r)))for(n=0;n<r.length;n++)Gf(r[n])}}function xa(r,n){var a=r.stateNode;if(a===null)return null;var u=a[Ve]||null;if(u===null)return null;a=u[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break t;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(i(231,n,typeof a));return a}var Zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fh=!1;if(Zr)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){Fh=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{Fh=!1}var _i=null,Vh=null,nl=null;function Zf(){if(nl)return nl;var r,n=Vh,a=n.length,u,f="value"in _i?_i.value:_i.textContent,y=f.length;for(r=0;r<a&&n[r]===f[r];r++);var w=a-r;for(u=1;u<=w&&n[a-u]===f[y-u];u++);return nl=f.slice(r,1<u?1-u:void 0)}function sl(r){var n=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&n===13&&(r=13)):r=n,r===10&&(r=13),32<=r||r===13?r:0}function al(){return!0}function Jf(){return!1}function Ue(r){function n(a,u,f,y,w){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(a=r[k],this[k]=a?a(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?al:Jf,this.isPropagationStopped=Jf,this}return m(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),n}var an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ol=Ue(an),Sa=m({},an,{view:0,detail:0}),xx=Ue(Sa),Uh,jh,Ma,ll=m({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hh,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ma&&(Ma&&r.type==="mousemove"?(Uh=r.screenX-Ma.screenX,jh=r.screenY-Ma.screenY):jh=Uh=0,Ma=r),Uh)},movementY:function(r){return"movementY"in r?r.movementY:jh}}),Xf=Ue(ll),wx=m({},ll,{dataTransfer:0}),Sx=Ue(wx),Mx=m({},Sa,{relatedTarget:0}),Wh=Ue(Mx),_x=m({},an,{animationName:0,elapsedTime:0,pseudoElement:0}),kx=Ue(_x),Tx=m({},an,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Cx=Ue(Tx),Ax=m({},an,{data:0}),$f=Ue(Ax),zx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ex={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ix={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Px(r){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(r):(r=Ix[r])?!!n[r]:!1}function Hh(){return Px}var Ox=m({},Sa,{key:function(r){if(r.key){var n=zx[r.key]||r.key;if(n!=="Unidentified")return n}return r.type==="keypress"?(r=sl(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ex[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hh,charCode:function(r){return r.type==="keypress"?sl(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?sl(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Rx=Ue(Ox),Lx=m({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qf=Ue(Lx),Nx=m({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hh}),Bx=Ue(Nx),Dx=m({},an,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fx=Ue(Dx),Vx=m({},ll,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ux=Ue(Vx),jx=m({},an,{newState:0,oldState:0}),Wx=Ue(jx),Hx=[9,13,27,32],qh=Zr&&"CompositionEvent"in window,_a=null;Zr&&"documentMode"in document&&(_a=document.documentMode);var qx=Zr&&"TextEvent"in window&&!_a,Kf=Zr&&(!qh||_a&&8<_a&&11>=_a),tm=" ",em=!1;function rm(r,n){switch(r){case"keyup":return Hx.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function im(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Kn=!1;function Gx(r,n){switch(r){case"compositionend":return im(n);case"keypress":return n.which!==32?null:(em=!0,tm);case"textInput":return r=n.data,r===tm&&em?null:r;default:return null}}function Yx(r,n){if(Kn)return r==="compositionend"||!qh&&rm(r,n)?(r=Zf(),nl=Vh=_i=null,Kn=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Kf&&n.locale!=="ko"?null:n.data;default:return null}}var Zx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nm(r){var n=r&&r.nodeName&&r.nodeName.toLowerCase();return n==="input"?!!Zx[r.type]:n==="textarea"}function sm(r,n,a,u){$n?Qn?Qn.push(u):Qn=[u]:$n=u,n=Zl(n,"onChange"),0<n.length&&(a=new ol("onChange","change",null,a,u),r.push({event:a,listeners:n}))}var ka=null,Ta=null;function Jx(r){Fg(r,0)}function ul(r){var n=ba(r);if(Vf(n))return r}function am(r,n){if(r==="change")return n}var om=!1;if(Zr){var Gh;if(Zr){var Yh="oninput"in document;if(!Yh){var lm=document.createElement("div");lm.setAttribute("oninput","return;"),Yh=typeof lm.oninput=="function"}Gh=Yh}else Gh=!1;om=Gh&&(!document.documentMode||9<document.documentMode)}function um(){ka&&(ka.detachEvent("onpropertychange",hm),Ta=ka=null)}function hm(r){if(r.propertyName==="value"&&ul(Ta)){var n=[];sm(n,Ta,r,Bh(r)),Yf(Jx,n)}}function Xx(r,n,a){r==="focusin"?(um(),ka=n,Ta=a,ka.attachEvent("onpropertychange",hm)):r==="focusout"&&um()}function $x(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ul(Ta)}function Qx(r,n){if(r==="click")return ul(n)}function Kx(r,n){if(r==="input"||r==="change")return ul(n)}function t1(r,n){return r===n&&(r!==0||1/r===1/n)||r!==r&&n!==n}var Xe=typeof Object.is=="function"?Object.is:t1;function Ca(r,n){if(Xe(r,n))return!0;if(typeof r!="object"||r===null||typeof n!="object"||n===null)return!1;var a=Object.keys(r),u=Object.keys(n);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!Je.call(n,f)||!Xe(r[f],n[f]))return!1}return!0}function cm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function dm(r,n){var a=cm(r);r=0;for(var u;a;){if(a.nodeType===3){if(u=r+a.textContent.length,r<=n&&u>=n)return{node:a,offset:n-r};r=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=cm(a)}}function pm(r,n){return r&&n?r===n?!0:r&&r.nodeType===3?!1:n&&n.nodeType===3?pm(r,n.parentNode):"contains"in r?r.contains(n):r.compareDocumentPosition?!!(r.compareDocumentPosition(n)&16):!1:!1}function fm(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var n=rl(r.document);n instanceof r.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)r=n.contentWindow;else break;n=rl(r.document)}return n}function Zh(r){var n=r&&r.nodeName&&r.nodeName.toLowerCase();return n&&(n==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||n==="textarea"||r.contentEditable==="true")}var e1=Zr&&"documentMode"in document&&11>=document.documentMode,ts=null,Jh=null,Aa=null,Xh=!1;function mm(r,n,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xh||ts==null||ts!==rl(u)||(u=ts,"selectionStart"in u&&Zh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Aa&&Ca(Aa,u)||(Aa=u,u=Zl(Jh,"onSelect"),0<u.length&&(n=new ol("onSelect","select",null,n,a),r.push({event:n,listeners:u}),n.target=ts)))}function on(r,n){var a={};return a[r.toLowerCase()]=n.toLowerCase(),a["Webkit"+r]="webkit"+n,a["Moz"+r]="moz"+n,a}var es={animationend:on("Animation","AnimationEnd"),animationiteration:on("Animation","AnimationIteration"),animationstart:on("Animation","AnimationStart"),transitionrun:on("Transition","TransitionRun"),transitionstart:on("Transition","TransitionStart"),transitioncancel:on("Transition","TransitionCancel"),transitionend:on("Transition","TransitionEnd")},$h={},ym={};Zr&&(ym=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function ln(r){if($h[r])return $h[r];if(!es[r])return r;var n=es[r],a;for(a in n)if(n.hasOwnProperty(a)&&a in ym)return $h[r]=n[a];return r}var gm=ln("animationend"),vm=ln("animationiteration"),bm=ln("animationstart"),r1=ln("transitionrun"),i1=ln("transitionstart"),n1=ln("transitioncancel"),xm=ln("transitionend"),wm=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function _r(r,n){wm.set(r,n),sn(n,[r])}var Sm=new WeakMap;function cr(r,n){if(typeof r=="object"&&r!==null){var a=Sm.get(r);return a!==void 0?a:(n={value:r,source:n,stack:Df(n)},Sm.set(r,n),n)}return{value:r,source:n,stack:Df(n)}}var dr=[],rs=0,Kh=0;function hl(){for(var r=rs,n=Kh=rs=0;n<r;){var a=dr[n];dr[n++]=null;var u=dr[n];dr[n++]=null;var f=dr[n];dr[n++]=null;var y=dr[n];if(dr[n++]=null,u!==null&&f!==null){var w=u.pending;w===null?f.next=f:(f.next=w.next,w.next=f),u.pending=f}y!==0&&Mm(a,f,y)}}function cl(r,n,a,u){dr[rs++]=r,dr[rs++]=n,dr[rs++]=a,dr[rs++]=u,Kh|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function tc(r,n,a,u){return cl(r,n,a,u),dl(r)}function is(r,n){return cl(r,null,null,n),dl(r)}function Mm(r,n,a){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a);for(var f=!1,y=r.return;y!==null;)y.childLanes|=a,u=y.alternate,u!==null&&(u.childLanes|=a),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(f=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,f&&n!==null&&(f=31-Oe(a),r=y.hiddenUpdates,u=r[f],u===null?r[f]=[n]:u.push(n),n.lane=a|536870912),y):null}function dl(r){if(50<Ka)throw Ka=0,ad=null,Error(i(185));for(var n=r.return;n!==null;)r=n,n=r.return;return r.tag===3?r.stateNode:null}var ns={};function s1(r,n,a,u){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $e(r,n,a,u){return new s1(r,n,a,u)}function ec(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Jr(r,n){var a=r.alternate;return a===null?(a=$e(r.tag,n,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=n,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,n=r.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function _m(r,n){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,n=a.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),r}function pl(r,n,a,u,f,y){var w=0;if(u=r,typeof r=="function")ec(r)&&(w=1);else if(typeof r=="string")w=ow(r,a,ht.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case Y:return r=$e(31,a,n,f),r.elementType=Y,r.lanes=y,r;case x:return un(a.children,f,y,n);case S:w=8,f|=24;break;case _:return r=$e(12,a,n,f|2),r.elementType=_,r.lanes=y,r;case O:return r=$e(13,a,n,f),r.elementType=O,r.lanes=y,r;case B:return r=$e(19,a,n,f),r.elementType=B,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:case C:w=10;break t;case T:w=9;break t;case A:w=11;break t;case j:w=14;break t;case D:w=16,u=null;break t}w=29,a=Error(i(130,r===null?"null":typeof r,"")),u=null}return n=$e(w,a,n,f),n.elementType=r,n.type=u,n.lanes=y,n}function un(r,n,a,u){return r=$e(7,r,u,n),r.lanes=a,r}function rc(r,n,a){return r=$e(6,r,null,n),r.lanes=a,r}function ic(r,n,a){return n=$e(4,r.children!==null?r.children:[],r.key,n),n.lanes=a,n.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},n}var ss=[],as=0,fl=null,ml=0,pr=[],fr=0,hn=null,Xr=1,$r="";function cn(r,n){ss[as++]=ml,ss[as++]=fl,fl=r,ml=n}function km(r,n,a){pr[fr++]=Xr,pr[fr++]=$r,pr[fr++]=hn,hn=r;var u=Xr;r=$r;var f=32-Oe(u)-1;u&=~(1<<f),a+=1;var y=32-Oe(n)+f;if(30<y){var w=f-f%5;y=(u&(1<<w)-1).toString(32),u>>=w,f-=w,Xr=1<<32-Oe(n)+f|a<<f|u,$r=y+r}else Xr=1<<y|a<<f|u,$r=r}function nc(r){r.return!==null&&(cn(r,1),km(r,1,0))}function sc(r){for(;r===fl;)fl=ss[--as],ss[as]=null,ml=ss[--as],ss[as]=null;for(;r===hn;)hn=pr[--fr],pr[fr]=null,$r=pr[--fr],pr[fr]=null,Xr=pr[--fr],pr[fr]=null}var Re=null,ee=null,Dt=!1,dn=null,Or=!1,ac=Error(i(519));function pn(r){var n=Error(i(418,""));throw Ia(cr(n,r)),ac}function Tm(r){var n=r.stateNode,a=r.type,u=r.memoizedProps;switch(n[_e]=r,n[Ve]=u,a){case"dialog":Pt("cancel",n),Pt("close",n);break;case"iframe":case"object":case"embed":Pt("load",n);break;case"video":case"audio":for(a=0;a<eo.length;a++)Pt(eo[a],n);break;case"source":Pt("error",n);break;case"img":case"image":case"link":Pt("error",n),Pt("load",n);break;case"details":Pt("toggle",n);break;case"input":Pt("invalid",n),Uf(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),el(n);break;case"select":Pt("invalid",n);break;case"textarea":Pt("invalid",n),Wf(n,u.value,u.defaultValue,u.children),el(n)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||u.suppressHydrationWarning===!0||Wg(n.textContent,a)?(u.popover!=null&&(Pt("beforetoggle",n),Pt("toggle",n)),u.onScroll!=null&&Pt("scroll",n),u.onScrollEnd!=null&&Pt("scrollend",n),u.onClick!=null&&(n.onclick=Jl),n=!0):n=!1,n||pn(r)}function Cm(r){for(Re=r.return;Re;)switch(Re.tag){case 5:case 13:Or=!1;return;case 27:case 3:Or=!0;return;default:Re=Re.return}}function za(r){if(r!==Re)return!1;if(!Dt)return Cm(r),Dt=!0,!1;var n=r.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||Sd(r.type,r.memoizedProps)),a=!a),a&&ee&&pn(r),Cm(r),n===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,n=0;r;){if(r.nodeType===8)if(a=r.data,a==="/$"){if(n===0){ee=Tr(r.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;r=r.nextSibling}ee=null}}else n===27?(n=ee,Vi(r.type)?(r=Td,Td=null,ee=r):ee=n):ee=Re?Tr(r.stateNode.nextSibling):null;return!0}function Ea(){ee=Re=null,Dt=!1}function Am(){var r=dn;return r!==null&&(He===null?He=r:He.push.apply(He,r),dn=null),r}function Ia(r){dn===null?dn=[r]:dn.push(r)}var oc=q(null),fn=null,Qr=null;function ki(r,n,a){K(oc,n._currentValue),n._currentValue=a}function Kr(r){r._currentValue=oc.current,Q(oc)}function lc(r,n,a){for(;r!==null;){var u=r.alternate;if((r.childLanes&n)!==n?(r.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),r===a)break;r=r.return}}function uc(r,n,a,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var y=f.dependencies;if(y!==null){var w=f.child;y=y.firstContext;t:for(;y!==null;){var k=y;y=f;for(var E=0;E<n.length;E++)if(k.context===n[E]){y.lanes|=a,k=y.alternate,k!==null&&(k.lanes|=a),lc(y.return,a,r),u||(w=null);break t}y=k.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(i(341));w.lanes|=a,y=w.alternate,y!==null&&(y.lanes|=a),lc(w,a,r),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===r){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function Pa(r,n,a,u){r=null;for(var f=n,y=!1;f!==null;){if(!y){if((f.flags&524288)!==0)y=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var k=f.type;Xe(f.pendingProps.value,w.value)||(r!==null?r.push(k):r=[k])}}else if(f===Se.current){if(w=f.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(oo):r=[oo])}f=f.return}r!==null&&uc(n,r,a,u),n.flags|=262144}function yl(r){for(r=r.firstContext;r!==null;){if(!Xe(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function mn(r){fn=r,Qr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function ke(r){return zm(fn,r)}function gl(r,n){return fn===null&&mn(r),zm(r,n)}function zm(r,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Qr===null){if(r===null)throw Error(i(308));Qr=n,r.dependencies={lanes:0,firstContext:n},r.flags|=524288}else Qr=Qr.next=n;return a}var a1=typeof AbortController<"u"?AbortController:function(){var r=[],n=this.signal={aborted:!1,addEventListener:function(a,u){r.push(u)}};this.abort=function(){n.aborted=!0,r.forEach(function(a){return a()})}},o1=h.unstable_scheduleCallback,l1=h.unstable_NormalPriority,he={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hc(){return{controller:new a1,data:new Map,refCount:0}}function Oa(r){r.refCount--,r.refCount===0&&o1(l1,function(){r.controller.abort()})}var Ra=null,cc=0,os=0,ls=null;function u1(r,n){if(Ra===null){var a=Ra=[];cc=0,os=pd(),ls={status:"pending",value:void 0,then:function(u){a.push(u)}}}return cc++,n.then(Em,Em),n}function Em(){if(--cc===0&&Ra!==null){ls!==null&&(ls.status="fulfilled");var r=Ra;Ra=null,os=0,ls=null;for(var n=0;n<r.length;n++)(0,r[n])()}}function h1(r,n){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return r.then(function(){u.status="fulfilled",u.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var Im=U.S;U.S=function(r,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&u1(r,n),Im!==null&&Im(r,n)};var yn=q(null);function dc(){var r=yn.current;return r!==null?r:Yt.pooledCache}function vl(r,n){n===null?K(yn,yn.current):K(yn,n.pool)}function Pm(){var r=dc();return r===null?null:{parent:he._currentValue,pool:r}}var La=Error(i(460)),Om=Error(i(474)),bl=Error(i(542)),pc={then:function(){}};function Rm(r){return r=r.status,r==="fulfilled"||r==="rejected"}function xl(){}function Lm(r,n,a){switch(a=r[a],a===void 0?r.push(n):a!==n&&(n.then(xl,xl),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw r=n.reason,Bm(r),r;default:if(typeof n.status=="string")n.then(xl,xl);else{if(r=Yt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=n,r.status="pending",r.then(function(u){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=u}},function(u){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw r=n.reason,Bm(r),r}throw Na=n,La}}var Na=null;function Nm(){if(Na===null)throw Error(i(459));var r=Na;return Na=null,r}function Bm(r){if(r===La||r===bl)throw Error(i(483))}var Ti=!1;function fc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mc(r,n){r=r.updateQueue,n.updateQueue===r&&(n.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ci(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ai(r,n,a){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Ft&2)!==0){var f=u.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),u.pending=n,n=dl(r),Mm(r,null,a),n}return cl(r,u,n,a),dl(r)}function Ba(r,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var u=n.lanes;u&=r.pendingLanes,a|=u,n.lanes=a,Ef(r,a)}}function yc(r,n){var a=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?f=y=w:y=y.next=w,a=a.next}while(a!==null);y===null?f=y=n:y=y.next=n}else f=y=n;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=n:r.next=n,a.lastBaseUpdate=n}var gc=!1;function Da(){if(gc){var r=ls;if(r!==null)throw r}}function Fa(r,n,a,u){gc=!1;var f=r.updateQueue;Ti=!1;var y=f.firstBaseUpdate,w=f.lastBaseUpdate,k=f.shared.pending;if(k!==null){f.shared.pending=null;var E=k,N=E.next;E.next=null,w===null?y=N:w.next=N,w=E;var H=r.alternate;H!==null&&(H=H.updateQueue,k=H.lastBaseUpdate,k!==w&&(k===null?H.firstBaseUpdate=N:k.next=N,H.lastBaseUpdate=E))}if(y!==null){var Z=f.baseState;w=0,H=N=E=null,k=y;do{var F=k.lane&-536870913,V=F!==k.lane;if(V?(Rt&F)===F:(u&F)===F){F!==0&&F===os&&(gc=!0),H!==null&&(H=H.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});t:{var yt=r,dt=k;F=n;var Wt=a;switch(dt.tag){case 1:if(yt=dt.payload,typeof yt=="function"){Z=yt.call(Wt,Z,F);break t}Z=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=dt.payload,F=typeof yt=="function"?yt.call(Wt,Z,F):yt,F==null)break t;Z=m({},Z,F);break t;case 2:Ti=!0}}F=k.callback,F!==null&&(r.flags|=64,V&&(r.flags|=8192),V=f.callbacks,V===null?f.callbacks=[F]:V.push(F))}else V={lane:F,tag:k.tag,payload:k.payload,callback:k.callback,next:null},H===null?(N=H=V,E=Z):H=H.next=V,w|=F;if(k=k.next,k===null){if(k=f.shared.pending,k===null)break;V=k,k=V.next,V.next=null,f.lastBaseUpdate=V,f.shared.pending=null}}while(!0);H===null&&(E=Z),f.baseState=E,f.firstBaseUpdate=N,f.lastBaseUpdate=H,y===null&&(f.shared.lanes=0),Ni|=w,r.lanes=w,r.memoizedState=Z}}function Dm(r,n){if(typeof r!="function")throw Error(i(191,r));r.call(n)}function Fm(r,n){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)Dm(a[r],n)}var us=q(null),wl=q(0);function Vm(r,n){r=oi,K(wl,r),K(us,n),oi=r|n.baseLanes}function vc(){K(wl,oi),K(us,us.current)}function bc(){oi=wl.current,Q(us),Q(wl)}var zi=0,Tt=null,Ut=null,oe=null,Sl=!1,hs=!1,gn=!1,Ml=0,Va=0,cs=null,c1=0;function ne(){throw Error(i(321))}function xc(r,n){if(n===null)return!1;for(var a=0;a<n.length&&a<r.length;a++)if(!Xe(r[a],n[a]))return!1;return!0}function wc(r,n,a,u,f,y){return zi=y,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=r===null||r.memoizedState===null?My:_y,gn=!1,y=a(u,f),gn=!1,hs&&(y=jm(n,a,u,f)),Um(r),y}function Um(r){U.H=zl;var n=Ut!==null&&Ut.next!==null;if(zi=0,oe=Ut=Tt=null,Sl=!1,Va=0,cs=null,n)throw Error(i(300));r===null||fe||(r=r.dependencies,r!==null&&yl(r)&&(fe=!0))}function jm(r,n,a,u){Tt=r;var f=0;do{if(hs&&(cs=null),Va=0,hs=!1,25<=f)throw Error(i(301));if(f+=1,oe=Ut=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}U.H=v1,y=n(a,u)}while(hs);return y}function d1(){var r=U.H,n=r.useState()[0];return n=typeof n.then=="function"?Ua(n):n,r=r.useState()[0],(Ut!==null?Ut.memoizedState:null)!==r&&(Tt.flags|=1024),n}function Sc(){var r=Ml!==0;return Ml=0,r}function Mc(r,n,a){n.updateQueue=r.updateQueue,n.flags&=-2053,r.lanes&=~a}function _c(r){if(Sl){for(r=r.memoizedState;r!==null;){var n=r.queue;n!==null&&(n.pending=null),r=r.next}Sl=!1}zi=0,oe=Ut=Tt=null,hs=!1,Va=Ml=0,cs=null}function je(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?Tt.memoizedState=oe=r:oe=oe.next=r,oe}function le(){if(Ut===null){var r=Tt.alternate;r=r!==null?r.memoizedState:null}else r=Ut.next;var n=oe===null?Tt.memoizedState:oe.next;if(n!==null)oe=n,Ut=r;else{if(r===null)throw Tt.alternate===null?Error(i(467)):Error(i(310));Ut=r,r={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},oe===null?Tt.memoizedState=oe=r:oe=oe.next=r}return oe}function kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ua(r){var n=Va;return Va+=1,cs===null&&(cs=[]),r=Lm(cs,r,n),n=Tt,(oe===null?n.memoizedState:oe.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?My:_y),r}function _l(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ua(r);if(r.$$typeof===C)return ke(r)}throw Error(i(438,String(r)))}function Tc(r){var n=null,a=Tt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var u=Tt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=kc(),Tt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(r),u=0;u<r;u++)a[u]=J;return n.index++,a}function ti(r,n){return typeof n=="function"?n(r):n}function kl(r){var n=le();return Cc(n,Ut,r)}function Cc(r,n,a){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=a;var f=r.baseQueue,y=u.pending;if(y!==null){if(f!==null){var w=f.next;f.next=y.next,y.next=w}n.baseQueue=f=y,u.pending=null}if(y=r.baseState,f===null)r.memoizedState=y;else{n=f.next;var k=w=null,E=null,N=n,H=!1;do{var Z=N.lane&-536870913;if(Z!==N.lane?(Rt&Z)===Z:(zi&Z)===Z){var F=N.revertLane;if(F===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),Z===os&&(H=!0);else if((zi&F)===F){N=N.next,F===os&&(H=!0);continue}else Z={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},E===null?(k=E=Z,w=y):E=E.next=Z,Tt.lanes|=F,Ni|=F;Z=N.action,gn&&a(y,Z),y=N.hasEagerState?N.eagerState:a(y,Z)}else F={lane:Z,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},E===null?(k=E=F,w=y):E=E.next=F,Tt.lanes|=Z,Ni|=Z;N=N.next}while(N!==null&&N!==n);if(E===null?w=y:E.next=k,!Xe(y,r.memoizedState)&&(fe=!0,H&&(a=ls,a!==null)))throw a;r.memoizedState=y,r.baseState=w,r.baseQueue=E,u.lastRenderedState=y}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Ac(r){var n=le(),a=n.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=r;var u=a.dispatch,f=a.pending,y=n.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do y=r(y,w.action),w=w.next;while(w!==f);Xe(y,n.memoizedState)||(fe=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),a.lastRenderedState=y}return[y,u]}function Wm(r,n,a){var u=Tt,f=le(),y=Dt;if(y){if(a===void 0)throw Error(i(407));a=a()}else a=n();var w=!Xe((Ut||f).memoizedState,a);w&&(f.memoizedState=a,fe=!0),f=f.queue;var k=Gm.bind(null,u,f,r);if(ja(2048,8,k,[r]),f.getSnapshot!==n||w||oe!==null&&oe.memoizedState.tag&1){if(u.flags|=2048,ds(9,Tl(),qm.bind(null,u,f,a,n),null),Yt===null)throw Error(i(349));y||(zi&124)!==0||Hm(u,n,a)}return a}function Hm(r,n,a){r.flags|=16384,r={getSnapshot:n,value:a},n=Tt.updateQueue,n===null?(n=kc(),Tt.updateQueue=n,n.stores=[r]):(a=n.stores,a===null?n.stores=[r]:a.push(r))}function qm(r,n,a,u){n.value=a,n.getSnapshot=u,Ym(n)&&Zm(r)}function Gm(r,n,a){return a(function(){Ym(n)&&Zm(r)})}function Ym(r){var n=r.getSnapshot;r=r.value;try{var a=n();return!Xe(r,a)}catch{return!0}}function Zm(r){var n=is(r,2);n!==null&&rr(n,r,2)}function zc(r){var n=je();if(typeof r=="function"){var a=r;if(r=a(),gn){Sr(!0);try{a()}finally{Sr(!1)}}}return n.memoizedState=n.baseState=r,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:r},n}function Jm(r,n,a,u){return r.baseState=a,Cc(r,Ut,typeof u=="function"?u:ti)}function p1(r,n,a,u,f){if(Al(r))throw Error(i(485));if(r=n.action,r!==null){var y={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};U.T!==null?a(!0):y.isTransition=!1,u(y),a=n.pending,a===null?(y.next=n.pending=y,Xm(n,y)):(y.next=a.next,n.pending=a.next=y)}}function Xm(r,n){var a=n.action,u=n.payload,f=r.state;if(n.isTransition){var y=U.T,w={};U.T=w;try{var k=a(f,u),E=U.S;E!==null&&E(w,k),$m(r,n,k)}catch(N){Ec(r,n,N)}finally{U.T=y}}else try{y=a(f,u),$m(r,n,y)}catch(N){Ec(r,n,N)}}function $m(r,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Qm(r,n,u)},function(u){return Ec(r,n,u)}):Qm(r,n,a)}function Qm(r,n,a){n.status="fulfilled",n.value=a,Km(n),r.state=a,n=r.pending,n!==null&&(a=n.next,a===n?r.pending=null:(a=a.next,n.next=a,Xm(r,a)))}function Ec(r,n,a){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=a,Km(n),n=n.next;while(n!==u)}r.action=null}function Km(r){r=r.listeners;for(var n=0;n<r.length;n++)(0,r[n])()}function ty(r,n){return n}function ey(r,n){if(Dt){var a=Yt.formState;if(a!==null){t:{var u=Tt;if(Dt){if(ee){e:{for(var f=ee,y=Or;f.nodeType!==8;){if(!y){f=null;break e}if(f=Tr(f.nextSibling),f===null){f=null;break e}}y=f.data,f=y==="F!"||y==="F"?f:null}if(f){ee=Tr(f.nextSibling),u=f.data==="F!";break t}}pn(u)}u=!1}u&&(n=a[0])}}return a=je(),a.memoizedState=a.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ty,lastRenderedState:n},a.queue=u,a=xy.bind(null,Tt,u),u.dispatch=a,u=zc(!1),y=Lc.bind(null,Tt,!1,u.queue),u=je(),f={state:n,dispatch:null,action:r,pending:null},u.queue=f,a=p1.bind(null,Tt,f,y,a),f.dispatch=a,u.memoizedState=r,[n,a,!1]}function ry(r){var n=le();return iy(n,Ut,r)}function iy(r,n,a){if(n=Cc(r,n,ty)[0],r=kl(ti)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=Ua(n)}catch(w){throw w===La?bl:w}else u=n;n=le();var f=n.queue,y=f.dispatch;return a!==n.memoizedState&&(Tt.flags|=2048,ds(9,Tl(),f1.bind(null,f,a),null)),[u,y,r]}function f1(r,n){r.action=n}function ny(r){var n=le(),a=Ut;if(a!==null)return iy(n,a,r);le(),n=n.memoizedState,a=le();var u=a.queue.dispatch;return a.memoizedState=r,[n,u,!1]}function ds(r,n,a,u){return r={tag:r,create:a,deps:u,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=kc(),Tt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=r.next=r:(u=a.next,a.next=r,r.next=u,n.lastEffect=r),r}function Tl(){return{destroy:void 0,resource:void 0}}function sy(){return le().memoizedState}function Cl(r,n,a,u){var f=je();u=u===void 0?null:u,Tt.flags|=r,f.memoizedState=ds(1|n,Tl(),a,u)}function ja(r,n,a,u){var f=le();u=u===void 0?null:u;var y=f.memoizedState.inst;Ut!==null&&u!==null&&xc(u,Ut.memoizedState.deps)?f.memoizedState=ds(n,y,a,u):(Tt.flags|=r,f.memoizedState=ds(1|n,y,a,u))}function ay(r,n){Cl(8390656,8,r,n)}function oy(r,n){ja(2048,8,r,n)}function ly(r,n){return ja(4,2,r,n)}function uy(r,n){return ja(4,4,r,n)}function hy(r,n){if(typeof n=="function"){r=r();var a=n(r);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return r=r(),n.current=r,function(){n.current=null}}function cy(r,n,a){a=a!=null?a.concat([r]):null,ja(4,4,hy.bind(null,n,r),a)}function Ic(){}function dy(r,n){var a=le();n=n===void 0?null:n;var u=a.memoizedState;return n!==null&&xc(n,u[1])?u[0]:(a.memoizedState=[r,n],r)}function py(r,n){var a=le();n=n===void 0?null:n;var u=a.memoizedState;if(n!==null&&xc(n,u[1]))return u[0];if(u=r(),gn){Sr(!0);try{r()}finally{Sr(!1)}}return a.memoizedState=[u,n],u}function Pc(r,n,a){return a===void 0||(zi&1073741824)!==0?r.memoizedState=n:(r.memoizedState=a,r=yg(),Tt.lanes|=r,Ni|=r,a)}function fy(r,n,a,u){return Xe(a,n)?a:us.current!==null?(r=Pc(r,a,u),Xe(r,n)||(fe=!0),r):(zi&42)===0?(fe=!0,r.memoizedState=a):(r=yg(),Tt.lanes|=r,Ni|=r,n)}function my(r,n,a,u,f){var y=$.p;$.p=y!==0&&8>y?y:8;var w=U.T,k={};U.T=k,Lc(r,!1,n,a);try{var E=f(),N=U.S;if(N!==null&&N(k,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var H=h1(E,u);Wa(r,n,H,er(r))}else Wa(r,n,u,er(r))}catch(Z){Wa(r,n,{then:function(){},status:"rejected",reason:Z},er())}finally{$.p=y,U.T=w}}function m1(){}function Oc(r,n,a,u){if(r.tag!==5)throw Error(i(476));var f=yy(r).queue;my(r,f,n,at,a===null?m1:function(){return gy(r),a(u)})}function yy(r){var n=r.memoizedState;if(n!==null)return n;n={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:at},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:a},next:null},r.memoizedState=n,r=r.alternate,r!==null&&(r.memoizedState=n),n}function gy(r){var n=yy(r).next.queue;Wa(r,n,{},er())}function Rc(){return ke(oo)}function vy(){return le().memoizedState}function by(){return le().memoizedState}function y1(r){for(var n=r.return;n!==null;){switch(n.tag){case 24:case 3:var a=er();r=Ci(a);var u=Ai(n,r,a);u!==null&&(rr(u,n,a),Ba(u,n,a)),n={cache:hc()},r.payload=n;return}n=n.return}}function g1(r,n,a){var u=er();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Al(r)?wy(n,a):(a=tc(r,n,a,u),a!==null&&(rr(a,r,u),Sy(a,n,u)))}function xy(r,n,a){var u=er();Wa(r,n,a,u)}function Wa(r,n,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Al(r))wy(n,f);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var w=n.lastRenderedState,k=y(w,a);if(f.hasEagerState=!0,f.eagerState=k,Xe(k,w))return cl(r,n,f,0),Yt===null&&hl(),!1}catch{}finally{}if(a=tc(r,n,f,u),a!==null)return rr(a,r,u),Sy(a,n,u),!0}return!1}function Lc(r,n,a,u){if(u={lane:2,revertLane:pd(),action:u,hasEagerState:!1,eagerState:null,next:null},Al(r)){if(n)throw Error(i(479))}else n=tc(r,a,u,2),n!==null&&rr(n,r,2)}function Al(r){var n=r.alternate;return r===Tt||n!==null&&n===Tt}function wy(r,n){hs=Sl=!0;var a=r.pending;a===null?n.next=n:(n.next=a.next,a.next=n),r.pending=n}function Sy(r,n,a){if((a&4194048)!==0){var u=n.lanes;u&=r.pendingLanes,a|=u,n.lanes=a,Ef(r,a)}}var zl={readContext:ke,use:_l,useCallback:ne,useContext:ne,useEffect:ne,useImperativeHandle:ne,useLayoutEffect:ne,useInsertionEffect:ne,useMemo:ne,useReducer:ne,useRef:ne,useState:ne,useDebugValue:ne,useDeferredValue:ne,useTransition:ne,useSyncExternalStore:ne,useId:ne,useHostTransitionStatus:ne,useFormState:ne,useActionState:ne,useOptimistic:ne,useMemoCache:ne,useCacheRefresh:ne},My={readContext:ke,use:_l,useCallback:function(r,n){return je().memoizedState=[r,n===void 0?null:n],r},useContext:ke,useEffect:ay,useImperativeHandle:function(r,n,a){a=a!=null?a.concat([r]):null,Cl(4194308,4,hy.bind(null,n,r),a)},useLayoutEffect:function(r,n){return Cl(4194308,4,r,n)},useInsertionEffect:function(r,n){Cl(4,2,r,n)},useMemo:function(r,n){var a=je();n=n===void 0?null:n;var u=r();if(gn){Sr(!0);try{r()}finally{Sr(!1)}}return a.memoizedState=[u,n],u},useReducer:function(r,n,a){var u=je();if(a!==void 0){var f=a(n);if(gn){Sr(!0);try{a(n)}finally{Sr(!1)}}}else f=n;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=g1.bind(null,Tt,r),[u.memoizedState,r]},useRef:function(r){var n=je();return r={current:r},n.memoizedState=r},useState:function(r){r=zc(r);var n=r.queue,a=xy.bind(null,Tt,n);return n.dispatch=a,[r.memoizedState,a]},useDebugValue:Ic,useDeferredValue:function(r,n){var a=je();return Pc(a,r,n)},useTransition:function(){var r=zc(!1);return r=my.bind(null,Tt,r.queue,!0,!1),je().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,n,a){var u=Tt,f=je();if(Dt){if(a===void 0)throw Error(i(407));a=a()}else{if(a=n(),Yt===null)throw Error(i(349));(Rt&124)!==0||Hm(u,n,a)}f.memoizedState=a;var y={value:a,getSnapshot:n};return f.queue=y,ay(Gm.bind(null,u,y,r),[r]),u.flags|=2048,ds(9,Tl(),qm.bind(null,u,y,a,n),null),a},useId:function(){var r=je(),n=Yt.identifierPrefix;if(Dt){var a=$r,u=Xr;a=(u&~(1<<32-Oe(u)-1)).toString(32)+a,n=""+n+"R"+a,a=Ml++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=c1++,n=""+n+"r"+a.toString(32)+"";return r.memoizedState=n},useHostTransitionStatus:Rc,useFormState:ey,useActionState:ey,useOptimistic:function(r){var n=je();n.memoizedState=n.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Lc.bind(null,Tt,!0,a),a.dispatch=n,[r,n]},useMemoCache:Tc,useCacheRefresh:function(){return je().memoizedState=y1.bind(null,Tt)}},_y={readContext:ke,use:_l,useCallback:dy,useContext:ke,useEffect:oy,useImperativeHandle:cy,useInsertionEffect:ly,useLayoutEffect:uy,useMemo:py,useReducer:kl,useRef:sy,useState:function(){return kl(ti)},useDebugValue:Ic,useDeferredValue:function(r,n){var a=le();return fy(a,Ut.memoizedState,r,n)},useTransition:function(){var r=kl(ti)[0],n=le().memoizedState;return[typeof r=="boolean"?r:Ua(r),n]},useSyncExternalStore:Wm,useId:vy,useHostTransitionStatus:Rc,useFormState:ry,useActionState:ry,useOptimistic:function(r,n){var a=le();return Jm(a,Ut,r,n)},useMemoCache:Tc,useCacheRefresh:by},v1={readContext:ke,use:_l,useCallback:dy,useContext:ke,useEffect:oy,useImperativeHandle:cy,useInsertionEffect:ly,useLayoutEffect:uy,useMemo:py,useReducer:Ac,useRef:sy,useState:function(){return Ac(ti)},useDebugValue:Ic,useDeferredValue:function(r,n){var a=le();return Ut===null?Pc(a,r,n):fy(a,Ut.memoizedState,r,n)},useTransition:function(){var r=Ac(ti)[0],n=le().memoizedState;return[typeof r=="boolean"?r:Ua(r),n]},useSyncExternalStore:Wm,useId:vy,useHostTransitionStatus:Rc,useFormState:ny,useActionState:ny,useOptimistic:function(r,n){var a=le();return Ut!==null?Jm(a,Ut,r,n):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:Tc,useCacheRefresh:by},ps=null,Ha=0;function El(r){var n=Ha;return Ha+=1,ps===null&&(ps=[]),Lm(ps,r,n)}function qa(r,n){n=n.props.ref,r.ref=n!==void 0?n:null}function Il(r,n){throw n.$$typeof===g?Error(i(525)):(r=Object.prototype.toString.call(n),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":r)))}function ky(r){var n=r._init;return n(r._payload)}function Ty(r){function n(R,P){if(r){var L=R.deletions;L===null?(R.deletions=[P],R.flags|=16):L.push(P)}}function a(R,P){if(!r)return null;for(;P!==null;)n(R,P),P=P.sibling;return null}function u(R){for(var P=new Map;R!==null;)R.key!==null?P.set(R.key,R):P.set(R.index,R),R=R.sibling;return P}function f(R,P){return R=Jr(R,P),R.index=0,R.sibling=null,R}function y(R,P,L){return R.index=L,r?(L=R.alternate,L!==null?(L=L.index,L<P?(R.flags|=67108866,P):L):(R.flags|=67108866,P)):(R.flags|=1048576,P)}function w(R){return r&&R.alternate===null&&(R.flags|=67108866),R}function k(R,P,L,G){return P===null||P.tag!==6?(P=rc(L,R.mode,G),P.return=R,P):(P=f(P,L),P.return=R,P)}function E(R,P,L,G){var st=L.type;return st===x?H(R,P,L.props.children,G,L.key):P!==null&&(P.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===D&&ky(st)===P.type)?(P=f(P,L.props),qa(P,L),P.return=R,P):(P=pl(L.type,L.key,L.props,null,R.mode,G),qa(P,L),P.return=R,P)}function N(R,P,L,G){return P===null||P.tag!==4||P.stateNode.containerInfo!==L.containerInfo||P.stateNode.implementation!==L.implementation?(P=ic(L,R.mode,G),P.return=R,P):(P=f(P,L.children||[]),P.return=R,P)}function H(R,P,L,G,st){return P===null||P.tag!==7?(P=un(L,R.mode,G,st),P.return=R,P):(P=f(P,L),P.return=R,P)}function Z(R,P,L){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=rc(""+P,R.mode,L),P.return=R,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case v:return L=pl(P.type,P.key,P.props,null,R.mode,L),qa(L,P),L.return=R,L;case b:return P=ic(P,R.mode,L),P.return=R,P;case D:var G=P._init;return P=G(P._payload),Z(R,P,L)}if(_t(P)||lt(P))return P=un(P,R.mode,L,null),P.return=R,P;if(typeof P.then=="function")return Z(R,El(P),L);if(P.$$typeof===C)return Z(R,gl(R,P),L);Il(R,P)}return null}function F(R,P,L,G){var st=P!==null?P.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return st!==null?null:k(R,P,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case v:return L.key===st?E(R,P,L,G):null;case b:return L.key===st?N(R,P,L,G):null;case D:return st=L._init,L=st(L._payload),F(R,P,L,G)}if(_t(L)||lt(L))return st!==null?null:H(R,P,L,G,null);if(typeof L.then=="function")return F(R,P,El(L),G);if(L.$$typeof===C)return F(R,P,gl(R,L),G);Il(R,L)}return null}function V(R,P,L,G,st){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return R=R.get(L)||null,k(P,R,""+G,st);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case v:return R=R.get(G.key===null?L:G.key)||null,E(P,R,G,st);case b:return R=R.get(G.key===null?L:G.key)||null,N(P,R,G,st);case D:var At=G._init;return G=At(G._payload),V(R,P,L,G,st)}if(_t(G)||lt(G))return R=R.get(L)||null,H(P,R,G,st,null);if(typeof G.then=="function")return V(R,P,L,El(G),st);if(G.$$typeof===C)return V(R,P,L,gl(P,G),st);Il(P,G)}return null}function yt(R,P,L,G){for(var st=null,At=null,ut=P,pt=P=0,ye=null;ut!==null&&pt<L.length;pt++){ut.index>pt?(ye=ut,ut=null):ye=ut.sibling;var Lt=F(R,ut,L[pt],G);if(Lt===null){ut===null&&(ut=ye);break}r&&ut&&Lt.alternate===null&&n(R,ut),P=y(Lt,P,pt),At===null?st=Lt:At.sibling=Lt,At=Lt,ut=ye}if(pt===L.length)return a(R,ut),Dt&&cn(R,pt),st;if(ut===null){for(;pt<L.length;pt++)ut=Z(R,L[pt],G),ut!==null&&(P=y(ut,P,pt),At===null?st=ut:At.sibling=ut,At=ut);return Dt&&cn(R,pt),st}for(ut=u(ut);pt<L.length;pt++)ye=V(ut,R,pt,L[pt],G),ye!==null&&(r&&ye.alternate!==null&&ut.delete(ye.key===null?pt:ye.key),P=y(ye,P,pt),At===null?st=ye:At.sibling=ye,At=ye);return r&&ut.forEach(function(qi){return n(R,qi)}),Dt&&cn(R,pt),st}function dt(R,P,L,G){if(L==null)throw Error(i(151));for(var st=null,At=null,ut=P,pt=P=0,ye=null,Lt=L.next();ut!==null&&!Lt.done;pt++,Lt=L.next()){ut.index>pt?(ye=ut,ut=null):ye=ut.sibling;var qi=F(R,ut,Lt.value,G);if(qi===null){ut===null&&(ut=ye);break}r&&ut&&qi.alternate===null&&n(R,ut),P=y(qi,P,pt),At===null?st=qi:At.sibling=qi,At=qi,ut=ye}if(Lt.done)return a(R,ut),Dt&&cn(R,pt),st;if(ut===null){for(;!Lt.done;pt++,Lt=L.next())Lt=Z(R,Lt.value,G),Lt!==null&&(P=y(Lt,P,pt),At===null?st=Lt:At.sibling=Lt,At=Lt);return Dt&&cn(R,pt),st}for(ut=u(ut);!Lt.done;pt++,Lt=L.next())Lt=V(ut,R,pt,Lt.value,G),Lt!==null&&(r&&Lt.alternate!==null&&ut.delete(Lt.key===null?pt:Lt.key),P=y(Lt,P,pt),At===null?st=Lt:At.sibling=Lt,At=Lt);return r&&ut.forEach(function(bw){return n(R,bw)}),Dt&&cn(R,pt),st}function Wt(R,P,L,G){if(typeof L=="object"&&L!==null&&L.type===x&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case v:t:{for(var st=L.key;P!==null;){if(P.key===st){if(st=L.type,st===x){if(P.tag===7){a(R,P.sibling),G=f(P,L.props.children),G.return=R,R=G;break t}}else if(P.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===D&&ky(st)===P.type){a(R,P.sibling),G=f(P,L.props),qa(G,L),G.return=R,R=G;break t}a(R,P);break}else n(R,P);P=P.sibling}L.type===x?(G=un(L.props.children,R.mode,G,L.key),G.return=R,R=G):(G=pl(L.type,L.key,L.props,null,R.mode,G),qa(G,L),G.return=R,R=G)}return w(R);case b:t:{for(st=L.key;P!==null;){if(P.key===st)if(P.tag===4&&P.stateNode.containerInfo===L.containerInfo&&P.stateNode.implementation===L.implementation){a(R,P.sibling),G=f(P,L.children||[]),G.return=R,R=G;break t}else{a(R,P);break}else n(R,P);P=P.sibling}G=ic(L,R.mode,G),G.return=R,R=G}return w(R);case D:return st=L._init,L=st(L._payload),Wt(R,P,L,G)}if(_t(L))return yt(R,P,L,G);if(lt(L)){if(st=lt(L),typeof st!="function")throw Error(i(150));return L=st.call(L),dt(R,P,L,G)}if(typeof L.then=="function")return Wt(R,P,El(L),G);if(L.$$typeof===C)return Wt(R,P,gl(R,L),G);Il(R,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,P!==null&&P.tag===6?(a(R,P.sibling),G=f(P,L),G.return=R,R=G):(a(R,P),G=rc(L,R.mode,G),G.return=R,R=G),w(R)):a(R,P)}return function(R,P,L,G){try{Ha=0;var st=Wt(R,P,L,G);return ps=null,st}catch(ut){if(ut===La||ut===bl)throw ut;var At=$e(29,ut,null,R.mode);return At.lanes=G,At.return=R,At}finally{}}}var fs=Ty(!0),Cy=Ty(!1),mr=q(null),ei=null;function Ei(r){var n=r.alternate;K(ce,ce.current&1),K(mr,r),ei===null&&(n===null||us.current!==null||n.memoizedState!==null)&&(ei=r)}function Ay(r){if(r.tag===22){if(K(ce,ce.current),K(mr,r),ei===null){var n=r.alternate;n!==null&&n.memoizedState!==null&&(ei=r)}}else Ii()}function Ii(){K(ce,ce.current),K(mr,mr.current)}function ri(r){Q(mr),ei===r&&(ei=null),Q(ce)}var ce=q(0);function Pl(r){for(var n=r;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||kd(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Nc(r,n,a,u){n=r.memoizedState,a=a(u,n),a=a==null?n:m({},n,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Bc={enqueueSetState:function(r,n,a){r=r._reactInternals;var u=er(),f=Ci(u);f.payload=n,a!=null&&(f.callback=a),n=Ai(r,f,u),n!==null&&(rr(n,r,u),Ba(n,r,u))},enqueueReplaceState:function(r,n,a){r=r._reactInternals;var u=er(),f=Ci(u);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=Ai(r,f,u),n!==null&&(rr(n,r,u),Ba(n,r,u))},enqueueForceUpdate:function(r,n){r=r._reactInternals;var a=er(),u=Ci(a);u.tag=2,n!=null&&(u.callback=n),n=Ai(r,u,a),n!==null&&(rr(n,r,a),Ba(n,r,a))}};function zy(r,n,a,u,f,y,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,y,w):n.prototype&&n.prototype.isPureReactComponent?!Ca(a,u)||!Ca(f,y):!0}function Ey(r,n,a,u){r=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,u),n.state!==r&&Bc.enqueueReplaceState(n,n.state,null)}function vn(r,n){var a=n;if("ref"in n){a={};for(var u in n)u!=="ref"&&(a[u]=n[u])}if(r=r.defaultProps){a===n&&(a=m({},a));for(var f in r)a[f]===void 0&&(a[f]=r[f])}return a}var Ol=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Iy(r){Ol(r)}function Py(r){console.error(r)}function Oy(r){Ol(r)}function Rl(r,n){try{var a=r.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function Ry(r,n,a){try{var u=r.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Dc(r,n,a){return a=Ci(a),a.tag=3,a.payload={element:null},a.callback=function(){Rl(r,n)},a}function Ly(r){return r=Ci(r),r.tag=3,r}function Ny(r,n,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var y=u.value;r.payload=function(){return f(y)},r.callback=function(){Ry(n,a,u)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){Ry(n,a,u),typeof f!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var k=u.stack;this.componentDidCatch(u.value,{componentStack:k!==null?k:""})})}function b1(r,n,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=a.alternate,n!==null&&Pa(n,a,f,!0),a=mr.current,a!==null){switch(a.tag){case 13:return ei===null?ld():a.alternate===null&&re===0&&(re=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===pc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([u]):n.add(u),hd(r,u,f)),!1;case 22:return a.flags|=65536,u===pc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([u]):a.add(u)),hd(r,u,f)),!1}throw Error(i(435,a.tag))}return hd(r,u,f),ld(),!1}if(Dt)return n=mr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,u!==ac&&(r=Error(i(422),{cause:u}),Ia(cr(r,a)))):(u!==ac&&(n=Error(i(423),{cause:u}),Ia(cr(n,a))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=cr(u,a),f=Dc(r.stateNode,u,f),yc(r,f),re!==4&&(re=2)),!1;var y=Error(i(520),{cause:u});if(y=cr(y,a),Qa===null?Qa=[y]:Qa.push(y),re!==4&&(re=2),n===null)return!0;u=cr(u,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,r=f&-f,a.lanes|=r,r=Dc(a.stateNode,u,r),yc(a,r),!1;case 1:if(n=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Bi===null||!Bi.has(y))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Ly(f),Ny(f,r,a,u),yc(a,f),!1}a=a.return}while(a!==null);return!1}var By=Error(i(461)),fe=!1;function be(r,n,a,u){n.child=r===null?Cy(n,null,a,u):fs(n,r.child,a,u)}function Dy(r,n,a,u,f){a=a.render;var y=n.ref;if("ref"in u){var w={};for(var k in u)k!=="ref"&&(w[k]=u[k])}else w=u;return mn(n),u=wc(r,n,a,w,y,f),k=Sc(),r!==null&&!fe?(Mc(r,n,f),ii(r,n,f)):(Dt&&k&&nc(n),n.flags|=1,be(r,n,u,f),n.child)}function Fy(r,n,a,u,f){if(r===null){var y=a.type;return typeof y=="function"&&!ec(y)&&y.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=y,Vy(r,n,y,u,f)):(r=pl(a.type,null,u,n,n.mode,f),r.ref=n.ref,r.return=n,n.child=r)}if(y=r.child,!Gc(r,f)){var w=y.memoizedProps;if(a=a.compare,a=a!==null?a:Ca,a(w,u)&&r.ref===n.ref)return ii(r,n,f)}return n.flags|=1,r=Jr(y,u),r.ref=n.ref,r.return=n,n.child=r}function Vy(r,n,a,u,f){if(r!==null){var y=r.memoizedProps;if(Ca(y,u)&&r.ref===n.ref)if(fe=!1,n.pendingProps=u=y,Gc(r,f))(r.flags&131072)!==0&&(fe=!0);else return n.lanes=r.lanes,ii(r,n,f)}return Fc(r,n,a,u,f)}function Uy(r,n,a){var u=n.pendingProps,f=u.children,y=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((n.flags&128)!==0){if(u=y!==null?y.baseLanes|a:a,r!==null){for(f=n.child=r.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;n.childLanes=y&~u}else n.childLanes=0,n.child=null;return jy(r,n,u,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},r!==null&&vl(n,y!==null?y.cachePool:null),y!==null?Vm(n,y):vc(),Ay(n);else return n.lanes=n.childLanes=536870912,jy(r,n,y!==null?y.baseLanes|a:a,a)}else y!==null?(vl(n,y.cachePool),Vm(n,y),Ii(),n.memoizedState=null):(r!==null&&vl(n,null),vc(),Ii());return be(r,n,f,a),n.child}function jy(r,n,a,u){var f=dc();return f=f===null?null:{parent:he._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},r!==null&&vl(n,null),vc(),Ay(n),r!==null&&Pa(r,n,u,!0),null}function Ll(r,n){var a=n.ref;if(a===null)r!==null&&r.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(r===null||r.ref!==a)&&(n.flags|=4194816)}}function Fc(r,n,a,u,f){return mn(n),a=wc(r,n,a,u,void 0,f),u=Sc(),r!==null&&!fe?(Mc(r,n,f),ii(r,n,f)):(Dt&&u&&nc(n),n.flags|=1,be(r,n,a,f),n.child)}function Wy(r,n,a,u,f,y){return mn(n),n.updateQueue=null,a=jm(n,u,a,f),Um(r),u=Sc(),r!==null&&!fe?(Mc(r,n,y),ii(r,n,y)):(Dt&&u&&nc(n),n.flags|=1,be(r,n,a,y),n.child)}function Hy(r,n,a,u,f){if(mn(n),n.stateNode===null){var y=ns,w=a.contextType;typeof w=="object"&&w!==null&&(y=ke(w)),y=new a(u,y),n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Bc,n.stateNode=y,y._reactInternals=n,y=n.stateNode,y.props=u,y.state=n.memoizedState,y.refs={},fc(n),w=a.contextType,y.context=typeof w=="object"&&w!==null?ke(w):ns,y.state=n.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(Nc(n,a,w,u),y.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&Bc.enqueueReplaceState(y,y.state,null),Fa(n,u,y,f),Da(),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(r===null){y=n.stateNode;var k=n.memoizedProps,E=vn(a,k);y.props=E;var N=y.context,H=a.contextType;w=ns,typeof H=="object"&&H!==null&&(w=ke(H));var Z=a.getDerivedStateFromProps;H=typeof Z=="function"||typeof y.getSnapshotBeforeUpdate=="function",k=n.pendingProps!==k,H||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k||N!==w)&&Ey(n,y,u,w),Ti=!1;var F=n.memoizedState;y.state=F,Fa(n,u,y,f),Da(),N=n.memoizedState,k||F!==N||Ti?(typeof Z=="function"&&(Nc(n,a,Z,u),N=n.memoizedState),(E=Ti||zy(n,a,E,u,F,N,w))?(H||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=N),y.props=u,y.state=N,y.context=w,u=E):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{y=n.stateNode,mc(r,n),w=n.memoizedProps,H=vn(a,w),y.props=H,Z=n.pendingProps,F=y.context,N=a.contextType,E=ns,typeof N=="object"&&N!==null&&(E=ke(N)),k=a.getDerivedStateFromProps,(N=typeof k=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==Z||F!==E)&&Ey(n,y,u,E),Ti=!1,F=n.memoizedState,y.state=F,Fa(n,u,y,f),Da();var V=n.memoizedState;w!==Z||F!==V||Ti||r!==null&&r.dependencies!==null&&yl(r.dependencies)?(typeof k=="function"&&(Nc(n,a,k,u),V=n.memoizedState),(H=Ti||zy(n,a,H,u,F,V,E)||r!==null&&r.dependencies!==null&&yl(r.dependencies))?(N||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,V,E),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,V,E)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===r.memoizedProps&&F===r.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&F===r.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=V),y.props=u,y.state=V,y.context=E,u=H):(typeof y.componentDidUpdate!="function"||w===r.memoizedProps&&F===r.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&F===r.memoizedState||(n.flags|=1024),u=!1)}return y=u,Ll(r,n),u=(n.flags&128)!==0,y||u?(y=n.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:y.render(),n.flags|=1,r!==null&&u?(n.child=fs(n,r.child,null,f),n.child=fs(n,null,a,f)):be(r,n,a,f),n.memoizedState=y.state,r=n.child):r=ii(r,n,f),r}function qy(r,n,a,u){return Ea(),n.flags|=256,be(r,n,a,u),n.child}var Vc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uc(r){return{baseLanes:r,cachePool:Pm()}}function jc(r,n,a){return r=r!==null?r.childLanes&~a:0,n&&(r|=yr),r}function Gy(r,n,a){var u=n.pendingProps,f=!1,y=(n.flags&128)!==0,w;if((w=y)||(w=r!==null&&r.memoizedState===null?!1:(ce.current&2)!==0),w&&(f=!0,n.flags&=-129),w=(n.flags&32)!==0,n.flags&=-33,r===null){if(Dt){if(f?Ei(n):Ii(),Dt){var k=ee,E;if(E=k){t:{for(E=k,k=Or;E.nodeType!==8;){if(!k){k=null;break t}if(E=Tr(E.nextSibling),E===null){k=null;break t}}k=E}k!==null?(n.memoizedState={dehydrated:k,treeContext:hn!==null?{id:Xr,overflow:$r}:null,retryLane:536870912,hydrationErrors:null},E=$e(18,null,null,0),E.stateNode=k,E.return=n,n.child=E,Re=n,ee=null,E=!0):E=!1}E||pn(n)}if(k=n.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return kd(k)?n.lanes=32:n.lanes=536870912,null;ri(n)}return k=u.children,u=u.fallback,f?(Ii(),f=n.mode,k=Nl({mode:"hidden",children:k},f),u=un(u,f,a,null),k.return=n,u.return=n,k.sibling=u,n.child=k,f=n.child,f.memoizedState=Uc(a),f.childLanes=jc(r,w,a),n.memoizedState=Vc,u):(Ei(n),Wc(n,k))}if(E=r.memoizedState,E!==null&&(k=E.dehydrated,k!==null)){if(y)n.flags&256?(Ei(n),n.flags&=-257,n=Hc(r,n,a)):n.memoizedState!==null?(Ii(),n.child=r.child,n.flags|=128,n=null):(Ii(),f=u.fallback,k=n.mode,u=Nl({mode:"visible",children:u.children},k),f=un(f,k,a,null),f.flags|=2,u.return=n,f.return=n,u.sibling=f,n.child=u,fs(n,r.child,null,a),u=n.child,u.memoizedState=Uc(a),u.childLanes=jc(r,w,a),n.memoizedState=Vc,n=f);else if(Ei(n),kd(k)){if(w=k.nextSibling&&k.nextSibling.dataset,w)var N=w.dgst;w=N,u=Error(i(419)),u.stack="",u.digest=w,Ia({value:u,source:null,stack:null}),n=Hc(r,n,a)}else if(fe||Pa(r,n,a,!1),w=(a&r.childLanes)!==0,fe||w){if(w=Yt,w!==null&&(u=a&-a,u=(u&42)!==0?1:Th(u),u=(u&(w.suspendedLanes|a))!==0?0:u,u!==0&&u!==E.retryLane))throw E.retryLane=u,is(r,u),rr(w,r,u),By;k.data==="$?"||ld(),n=Hc(r,n,a)}else k.data==="$?"?(n.flags|=192,n.child=r.child,n=null):(r=E.treeContext,ee=Tr(k.nextSibling),Re=n,Dt=!0,dn=null,Or=!1,r!==null&&(pr[fr++]=Xr,pr[fr++]=$r,pr[fr++]=hn,Xr=r.id,$r=r.overflow,hn=n),n=Wc(n,u.children),n.flags|=4096);return n}return f?(Ii(),f=u.fallback,k=n.mode,E=r.child,N=E.sibling,u=Jr(E,{mode:"hidden",children:u.children}),u.subtreeFlags=E.subtreeFlags&65011712,N!==null?f=Jr(N,f):(f=un(f,k,a,null),f.flags|=2),f.return=n,u.return=n,u.sibling=f,n.child=u,u=f,f=n.child,k=r.child.memoizedState,k===null?k=Uc(a):(E=k.cachePool,E!==null?(N=he._currentValue,E=E.parent!==N?{parent:N,pool:N}:E):E=Pm(),k={baseLanes:k.baseLanes|a,cachePool:E}),f.memoizedState=k,f.childLanes=jc(r,w,a),n.memoizedState=Vc,u):(Ei(n),a=r.child,r=a.sibling,a=Jr(a,{mode:"visible",children:u.children}),a.return=n,a.sibling=null,r!==null&&(w=n.deletions,w===null?(n.deletions=[r],n.flags|=16):w.push(r)),n.child=a,n.memoizedState=null,a)}function Wc(r,n){return n=Nl({mode:"visible",children:n},r.mode),n.return=r,r.child=n}function Nl(r,n){return r=$e(22,r,null,n),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Hc(r,n,a){return fs(n,r.child,null,a),r=Wc(n,n.pendingProps.children),r.flags|=2,n.memoizedState=null,r}function Yy(r,n,a){r.lanes|=n;var u=r.alternate;u!==null&&(u.lanes|=n),lc(r.return,n,a)}function qc(r,n,a,u,f){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=a,y.tailMode=f)}function Zy(r,n,a){var u=n.pendingProps,f=u.revealOrder,y=u.tail;if(be(r,n,u.children,a),u=ce.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=n.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Yy(r,a,n);else if(r.tag===19)Yy(r,a,n);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break t;for(;r.sibling===null;){if(r.return===null||r.return===n)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(K(ce,u),f){case"forwards":for(a=n.child,f=null;a!==null;)r=a.alternate,r!==null&&Pl(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),qc(n,!1,f,a,y);break;case"backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(r=f.alternate,r!==null&&Pl(r)===null){n.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}qc(n,!0,a,null,y);break;case"together":qc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ii(r,n,a){if(r!==null&&(n.dependencies=r.dependencies),Ni|=n.lanes,(a&n.childLanes)===0)if(r!==null){if(Pa(r,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(r!==null&&n.child!==r.child)throw Error(i(153));if(n.child!==null){for(r=n.child,a=Jr(r,r.pendingProps),n.child=a,a.return=n;r.sibling!==null;)r=r.sibling,a=a.sibling=Jr(r,r.pendingProps),a.return=n;a.sibling=null}return n.child}function Gc(r,n){return(r.lanes&n)!==0?!0:(r=r.dependencies,!!(r!==null&&yl(r)))}function x1(r,n,a){switch(n.tag){case 3:Ot(n,n.stateNode.containerInfo),ki(n,he,r.memoizedState.cache),Ea();break;case 27:case 5:ma(n);break;case 4:Ot(n,n.stateNode.containerInfo);break;case 10:ki(n,n.type,n.memoizedProps.value);break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(Ei(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Gy(r,n,a):(Ei(n),r=ii(r,n,a),r!==null?r.sibling:null);Ei(n);break;case 19:var f=(r.flags&128)!==0;if(u=(a&n.childLanes)!==0,u||(Pa(r,n,a,!1),u=(a&n.childLanes)!==0),f){if(u)return Zy(r,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),K(ce,ce.current),u)break;return null;case 22:case 23:return n.lanes=0,Uy(r,n,a);case 24:ki(n,he,r.memoizedState.cache)}return ii(r,n,a)}function Jy(r,n,a){if(r!==null)if(r.memoizedProps!==n.pendingProps)fe=!0;else{if(!Gc(r,a)&&(n.flags&128)===0)return fe=!1,x1(r,n,a);fe=(r.flags&131072)!==0}else fe=!1,Dt&&(n.flags&1048576)!==0&&km(n,ml,n.index);switch(n.lanes=0,n.tag){case 16:t:{r=n.pendingProps;var u=n.elementType,f=u._init;if(u=f(u._payload),n.type=u,typeof u=="function")ec(u)?(r=vn(u,r),n.tag=1,n=Hy(null,n,u,r,a)):(n.tag=0,n=Fc(null,n,u,r,a));else{if(u!=null){if(f=u.$$typeof,f===A){n.tag=11,n=Dy(null,n,u,r,a);break t}else if(f===j){n.tag=14,n=Fy(null,n,u,r,a);break t}}throw n=xt(u)||u,Error(i(306,n,""))}}return n;case 0:return Fc(r,n,n.type,n.pendingProps,a);case 1:return u=n.type,f=vn(u,n.pendingProps),Hy(r,n,u,f,a);case 3:t:{if(Ot(n,n.stateNode.containerInfo),r===null)throw Error(i(387));u=n.pendingProps;var y=n.memoizedState;f=y.element,mc(r,n),Fa(n,u,null,a);var w=n.memoizedState;if(u=w.cache,ki(n,he,u),u!==y.cache&&uc(n,[he],a,!0),Da(),u=w.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:w.cache},n.updateQueue.baseState=y,n.memoizedState=y,n.flags&256){n=qy(r,n,u,a);break t}else if(u!==f){f=cr(Error(i(424)),n),Ia(f),n=qy(r,n,u,a);break t}else{switch(r=n.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ee=Tr(r.firstChild),Re=n,Dt=!0,dn=null,Or=!0,a=Cy(n,null,u,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ea(),u===f){n=ii(r,n,a);break t}be(r,n,u,a)}n=n.child}return n;case 26:return Ll(r,n),r===null?(a=Kg(n.type,null,n.pendingProps,null))?n.memoizedState=a:Dt||(a=n.type,r=n.pendingProps,u=Xl(gt.current).createElement(a),u[_e]=n,u[Ve]=r,we(u,a,r),pe(u),n.stateNode=u):n.memoizedState=Kg(n.type,r.memoizedProps,n.pendingProps,r.memoizedState),null;case 27:return ma(n),r===null&&Dt&&(u=n.stateNode=Xg(n.type,n.pendingProps,gt.current),Re=n,Or=!0,f=ee,Vi(n.type)?(Td=f,ee=Tr(u.firstChild)):ee=f),be(r,n,n.pendingProps.children,a),Ll(r,n),r===null&&(n.flags|=4194304),n.child;case 5:return r===null&&Dt&&((f=u=ee)&&(u=Z1(u,n.type,n.pendingProps,Or),u!==null?(n.stateNode=u,Re=n,ee=Tr(u.firstChild),Or=!1,f=!0):f=!1),f||pn(n)),ma(n),f=n.type,y=n.pendingProps,w=r!==null?r.memoizedProps:null,u=y.children,Sd(f,y)?u=null:w!==null&&Sd(f,w)&&(n.flags|=32),n.memoizedState!==null&&(f=wc(r,n,d1,null,null,a),oo._currentValue=f),Ll(r,n),be(r,n,u,a),n.child;case 6:return r===null&&Dt&&((r=a=ee)&&(a=J1(a,n.pendingProps,Or),a!==null?(n.stateNode=a,Re=n,ee=null,r=!0):r=!1),r||pn(n)),null;case 13:return Gy(r,n,a);case 4:return Ot(n,n.stateNode.containerInfo),u=n.pendingProps,r===null?n.child=fs(n,null,u,a):be(r,n,u,a),n.child;case 11:return Dy(r,n,n.type,n.pendingProps,a);case 7:return be(r,n,n.pendingProps,a),n.child;case 8:return be(r,n,n.pendingProps.children,a),n.child;case 12:return be(r,n,n.pendingProps.children,a),n.child;case 10:return u=n.pendingProps,ki(n,n.type,u.value),be(r,n,u.children,a),n.child;case 9:return f=n.type._context,u=n.pendingProps.children,mn(n),f=ke(f),u=u(f),n.flags|=1,be(r,n,u,a),n.child;case 14:return Fy(r,n,n.type,n.pendingProps,a);case 15:return Vy(r,n,n.type,n.pendingProps,a);case 19:return Zy(r,n,a);case 31:return u=n.pendingProps,a=n.mode,u={mode:u.mode,children:u.children},r===null?(a=Nl(u,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Jr(r.child,u),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Uy(r,n,a);case 24:return mn(n),u=ke(he),r===null?(f=dc(),f===null&&(f=Yt,y=hc(),f.pooledCache=y,y.refCount++,y!==null&&(f.pooledCacheLanes|=a),f=y),n.memoizedState={parent:u,cache:f},fc(n),ki(n,he,f)):((r.lanes&a)!==0&&(mc(r,n),Fa(n,null,null,a),Da()),f=r.memoizedState,y=n.memoizedState,f.parent!==u?(f={parent:u,cache:u},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),ki(n,he,u)):(u=y.cache,ki(n,he,u),u!==f.cache&&uc(n,[he],a,!0))),be(r,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function ni(r){r.flags|=4}function Xy(r,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!n0(n)){if(n=mr.current,n!==null&&((Rt&4194048)===Rt?ei!==null:(Rt&62914560)!==Rt&&(Rt&536870912)===0||n!==ei))throw Na=pc,Om;r.flags|=8192}}function Bl(r,n){n!==null&&(r.flags|=4),r.flags&16384&&(n=r.tag!==22?Af():536870912,r.lanes|=n,vs|=n)}function Ga(r,n){if(!Dt)switch(r.tailMode){case"hidden":n=r.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?n||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Xt(r){var n=r.alternate!==null&&r.alternate.child===r.child,a=0,u=0;if(n)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=a,n}function w1(r,n,a){var u=n.pendingProps;switch(sc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(n),null;case 1:return Xt(n),null;case 3:return a=n.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),Kr(he),Ze(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(za(n)?ni(n):r===null||r.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Am())),Xt(n),null;case 26:return a=n.memoizedState,r===null?(ni(n),a!==null?(Xt(n),Xy(n,a)):(Xt(n),n.flags&=-16777217)):a?a!==r.memoizedState?(ni(n),Xt(n),Xy(n,a)):(Xt(n),n.flags&=-16777217):(r.memoizedProps!==u&&ni(n),Xt(n),n.flags&=-16777217),null;case 27:Fe(n),a=gt.current;var f=n.type;if(r!==null&&n.stateNode!=null)r.memoizedProps!==u&&ni(n);else{if(!u){if(n.stateNode===null)throw Error(i(166));return Xt(n),null}r=ht.current,za(n)?Tm(n):(r=Xg(f,u,a),n.stateNode=r,ni(n))}return Xt(n),null;case 5:if(Fe(n),a=n.type,r!==null&&n.stateNode!=null)r.memoizedProps!==u&&ni(n);else{if(!u){if(n.stateNode===null)throw Error(i(166));return Xt(n),null}if(r=ht.current,za(n))Tm(n);else{switch(f=Xl(gt.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}r[_e]=n,r[Ve]=u;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=r;t:switch(we(r,a,u),a){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&ni(n)}}return Xt(n),n.flags&=-16777217,null;case 6:if(r&&n.stateNode!=null)r.memoizedProps!==u&&ni(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(i(166));if(r=gt.current,za(n)){if(r=n.stateNode,a=n.memoizedProps,u=null,f=Re,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[_e]=n,r=!!(r.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Wg(r.nodeValue,a)),r||pn(n)}else r=Xl(r).createTextNode(u),r[_e]=n,n.stateNode=r}return Xt(n),null;case 13:if(u=n.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=za(n),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[_e]=n}else Ea(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Xt(n),f=!1}else f=Am(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(ri(n),n):(ri(n),null)}if(ri(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=u!==null,r=r!==null&&r.memoizedState!==null,a){u=n.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==f&&(u.flags|=2048)}return a!==r&&a&&(n.child.flags|=8192),Bl(n,n.updateQueue),Xt(n),null;case 4:return Ze(),r===null&&gd(n.stateNode.containerInfo),Xt(n),null;case 10:return Kr(n.type),Xt(n),null;case 19:if(Q(ce),f=n.memoizedState,f===null)return Xt(n),null;if(u=(n.flags&128)!==0,y=f.rendering,y===null)if(u)Ga(f,!1);else{if(re!==0||r!==null&&(r.flags&128)!==0)for(r=n.child;r!==null;){if(y=Pl(r),y!==null){for(n.flags|=128,Ga(f,!1),r=y.updateQueue,n.updateQueue=r,Bl(n,r),n.subtreeFlags=0,r=a,a=n.child;a!==null;)_m(a,r),a=a.sibling;return K(ce,ce.current&1|2),n.child}r=r.sibling}f.tail!==null&&nt()>Vl&&(n.flags|=128,u=!0,Ga(f,!1),n.lanes=4194304)}else{if(!u)if(r=Pl(y),r!==null){if(n.flags|=128,u=!0,r=r.updateQueue,n.updateQueue=r,Bl(n,r),Ga(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!Dt)return Xt(n),null}else 2*nt()-f.renderingStartTime>Vl&&a!==536870912&&(n.flags|=128,u=!0,Ga(f,!1),n.lanes=4194304);f.isBackwards?(y.sibling=n.child,n.child=y):(r=f.last,r!==null?r.sibling=y:n.child=y,f.last=y)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=nt(),n.sibling=null,r=ce.current,K(ce,u?r&1|2:r&1),n):(Xt(n),null);case 22:case 23:return ri(n),bc(),u=n.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(a&536870912)!==0&&(n.flags&128)===0&&(Xt(n),n.subtreeFlags&6&&(n.flags|=8192)):Xt(n),a=n.updateQueue,a!==null&&Bl(n,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==a&&(n.flags|=2048),r!==null&&Q(yn),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Kr(he),Xt(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function S1(r,n){switch(sc(n),n.tag){case 1:return r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 3:return Kr(he),Ze(),r=n.flags,(r&65536)!==0&&(r&128)===0?(n.flags=r&-65537|128,n):null;case 26:case 27:case 5:return Fe(n),null;case 13:if(ri(n),r=n.memoizedState,r!==null&&r.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Ea()}return r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 19:return Q(ce),null;case 4:return Ze(),null;case 10:return Kr(n.type),null;case 22:case 23:return ri(n),bc(),r!==null&&Q(yn),r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 24:return Kr(he),null;case 25:return null;default:return null}}function $y(r,n){switch(sc(n),n.tag){case 3:Kr(he),Ze();break;case 26:case 27:case 5:Fe(n);break;case 4:Ze();break;case 13:ri(n);break;case 19:Q(ce);break;case 10:Kr(n.type);break;case 22:case 23:ri(n),bc(),r!==null&&Q(yn);break;case 24:Kr(he)}}function Ya(r,n){try{var a=n.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&r)===r){u=void 0;var y=a.create,w=a.inst;u=y(),w.destroy=u}a=a.next}while(a!==f)}}catch(k){Gt(n,n.return,k)}}function Pi(r,n,a){try{var u=n.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var y=f.next;u=y;do{if((u.tag&r)===r){var w=u.inst,k=w.destroy;if(k!==void 0){w.destroy=void 0,f=n;var E=a,N=k;try{N()}catch(H){Gt(f,E,H)}}}u=u.next}while(u!==y)}}catch(H){Gt(n,n.return,H)}}function Qy(r){var n=r.updateQueue;if(n!==null){var a=r.stateNode;try{Fm(n,a)}catch(u){Gt(r,r.return,u)}}}function Ky(r,n,a){a.props=vn(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(u){Gt(r,n,u)}}function Za(r,n){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof a=="function"?r.refCleanup=a(u):a.current=u}}catch(f){Gt(r,n,f)}}function Rr(r,n){var a=r.ref,u=r.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){Gt(r,n,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Gt(r,n,f)}else a.current=null}function tg(r){var n=r.type,a=r.memoizedProps,u=r.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){Gt(r,r.return,f)}}function Yc(r,n,a){try{var u=r.stateNode;W1(u,r.type,a,n),u[Ve]=n}catch(f){Gt(r,r.return,f)}}function eg(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Vi(r.type)||r.tag===4}function Zc(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||eg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Vi(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Jc(r,n,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(r),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Jl));else if(u!==4&&(u===27&&Vi(r.type)&&(a=r.stateNode,n=null),r=r.child,r!==null))for(Jc(r,n,a),r=r.sibling;r!==null;)Jc(r,n,a),r=r.sibling}function Dl(r,n,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,n?a.insertBefore(r,n):a.appendChild(r);else if(u!==4&&(u===27&&Vi(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(Dl(r,n,a),r=r.sibling;r!==null;)Dl(r,n,a),r=r.sibling}function rg(r){var n=r.stateNode,a=r.memoizedProps;try{for(var u=r.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);we(n,u,a),n[_e]=r,n[Ve]=a}catch(y){Gt(r,r.return,y)}}var si=!1,se=!1,Xc=!1,ig=typeof WeakSet=="function"?WeakSet:Set,me=null;function M1(r,n){if(r=r.containerInfo,xd=ru,r=fm(r),Zh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else t:{a=(a=r.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break t}var w=0,k=-1,E=-1,N=0,H=0,Z=r,F=null;e:for(;;){for(var V;Z!==a||f!==0&&Z.nodeType!==3||(k=w+f),Z!==y||u!==0&&Z.nodeType!==3||(E=w+u),Z.nodeType===3&&(w+=Z.nodeValue.length),(V=Z.firstChild)!==null;)F=Z,Z=V;for(;;){if(Z===r)break e;if(F===a&&++N===f&&(k=w),F===y&&++H===u&&(E=w),(V=Z.nextSibling)!==null)break;Z=F,F=Z.parentNode}Z=V}a=k===-1||E===-1?null:{start:k,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(wd={focusedElem:r,selectionRange:a},ru=!1,me=n;me!==null;)if(n=me,r=n.child,(n.subtreeFlags&1024)!==0&&r!==null)r.return=n,me=r;else for(;me!==null;){switch(n=me,y=n.alternate,r=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,a=n,f=y.memoizedProps,y=y.memoizedState,u=a.stateNode;try{var yt=vn(a.type,f,a.elementType===a.type);r=u.getSnapshotBeforeUpdate(yt,y),u.__reactInternalSnapshotBeforeUpdate=r}catch(dt){Gt(a,a.return,dt)}}break;case 3:if((r&1024)!==0){if(r=n.stateNode.containerInfo,a=r.nodeType,a===9)_d(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":_d(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=n.sibling,r!==null){r.return=n.return,me=r;break}me=n.return}}function ng(r,n,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Oi(r,a),u&4&&Ya(5,a);break;case 1:if(Oi(r,a),u&4)if(r=a.stateNode,n===null)try{r.componentDidMount()}catch(w){Gt(a,a.return,w)}else{var f=vn(a.type,n.memoizedProps);n=n.memoizedState;try{r.componentDidUpdate(f,n,r.__reactInternalSnapshotBeforeUpdate)}catch(w){Gt(a,a.return,w)}}u&64&&Qy(a),u&512&&Za(a,a.return);break;case 3:if(Oi(r,a),u&64&&(r=a.updateQueue,r!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Fm(r,n)}catch(w){Gt(a,a.return,w)}}break;case 27:n===null&&u&4&&rg(a);case 26:case 5:Oi(r,a),n===null&&u&4&&tg(a),u&512&&Za(a,a.return);break;case 12:Oi(r,a);break;case 13:Oi(r,a),u&4&&og(r,a),u&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=P1.bind(null,a),X1(r,a))));break;case 22:if(u=a.memoizedState!==null||si,!u){n=n!==null&&n.memoizedState!==null||se,f=si;var y=se;si=u,(se=n)&&!y?Ri(r,a,(a.subtreeFlags&8772)!==0):Oi(r,a),si=f,se=y}break;case 30:break;default:Oi(r,a)}}function sg(r){var n=r.alternate;n!==null&&(r.alternate=null,sg(n)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(n=r.stateNode,n!==null&&zh(n)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Jt=null,We=!1;function ai(r,n,a){for(a=a.child;a!==null;)ag(r,n,a),a=a.sibling}function ag(r,n,a){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(Si,a)}catch{}switch(a.tag){case 26:se||Rr(a,n),ai(r,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:se||Rr(a,n);var u=Jt,f=We;Vi(a.type)&&(Jt=a.stateNode,We=!1),ai(r,n,a),io(a.stateNode),Jt=u,We=f;break;case 5:se||Rr(a,n);case 6:if(u=Jt,f=We,Jt=null,ai(r,n,a),Jt=u,We=f,Jt!==null)if(We)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(a.stateNode)}catch(y){Gt(a,n,y)}else try{Jt.removeChild(a.stateNode)}catch(y){Gt(a,n,y)}break;case 18:Jt!==null&&(We?(r=Jt,Zg(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),co(r)):Zg(Jt,a.stateNode));break;case 4:u=Jt,f=We,Jt=a.stateNode.containerInfo,We=!0,ai(r,n,a),Jt=u,We=f;break;case 0:case 11:case 14:case 15:se||Pi(2,a,n),se||Pi(4,a,n),ai(r,n,a);break;case 1:se||(Rr(a,n),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Ky(a,n,u)),ai(r,n,a);break;case 21:ai(r,n,a);break;case 22:se=(u=se)||a.memoizedState!==null,ai(r,n,a),se=u;break;default:ai(r,n,a)}}function og(r,n){if(n.memoizedState===null&&(r=n.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{co(r)}catch(a){Gt(n,n.return,a)}}function _1(r){switch(r.tag){case 13:case 19:var n=r.stateNode;return n===null&&(n=r.stateNode=new ig),n;case 22:return r=r.stateNode,n=r._retryCache,n===null&&(n=r._retryCache=new ig),n;default:throw Error(i(435,r.tag))}}function $c(r,n){var a=_1(r);n.forEach(function(u){var f=O1.bind(null,r,u);a.has(u)||(a.add(u),u.then(f,f))})}function Qe(r,n){var a=n.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],y=r,w=n,k=w;t:for(;k!==null;){switch(k.tag){case 27:if(Vi(k.type)){Jt=k.stateNode,We=!1;break t}break;case 5:Jt=k.stateNode,We=!1;break t;case 3:case 4:Jt=k.stateNode.containerInfo,We=!0;break t}k=k.return}if(Jt===null)throw Error(i(160));ag(y,w,f),Jt=null,We=!1,y=f.alternate,y!==null&&(y.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)lg(n,r),n=n.sibling}var kr=null;function lg(r,n){var a=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Qe(n,r),Ke(r),u&4&&(Pi(3,r,r.return),Ya(3,r),Pi(5,r,r.return));break;case 1:Qe(n,r),Ke(r),u&512&&(se||a===null||Rr(a,a.return)),u&64&&si&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=kr;if(Qe(n,r),Ke(r),u&512&&(se||a===null||Rr(a,a.return)),u&4){var y=a!==null?a.memoizedState:null;if(u=r.memoizedState,a===null)if(u===null)if(r.stateNode===null){t:{u=r.type,a=r.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":y=f.getElementsByTagName("title")[0],(!y||y[va]||y[_e]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=f.createElement(u),f.head.insertBefore(y,f.querySelector("head > title"))),we(y,u,a),y[_e]=r,pe(y),u=y;break t;case"link":var w=r0("link","href",f).get(u+(a.href||""));if(w){for(var k=0;k<w.length;k++)if(y=w[k],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(k,1);break e}}y=f.createElement(u),we(y,u,a),f.head.appendChild(y);break;case"meta":if(w=r0("meta","content",f).get(u+(a.content||""))){for(k=0;k<w.length;k++)if(y=w[k],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(k,1);break e}}y=f.createElement(u),we(y,u,a),f.head.appendChild(y);break;default:throw Error(i(468,u))}y[_e]=r,pe(y),u=y}r.stateNode=u}else i0(f,r.type,r.stateNode);else r.stateNode=e0(f,u,r.memoizedProps);else y!==u?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,u===null?i0(f,r.type,r.stateNode):e0(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Yc(r,r.memoizedProps,a.memoizedProps)}break;case 27:Qe(n,r),Ke(r),u&512&&(se||a===null||Rr(a,a.return)),a!==null&&u&4&&Yc(r,r.memoizedProps,a.memoizedProps);break;case 5:if(Qe(n,r),Ke(r),u&512&&(se||a===null||Rr(a,a.return)),r.flags&32){f=r.stateNode;try{Xn(f,"")}catch(V){Gt(r,r.return,V)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,Yc(r,f,a!==null?a.memoizedProps:f)),u&1024&&(Xc=!0);break;case 6:if(Qe(n,r),Ke(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,a=r.stateNode;try{a.nodeValue=u}catch(V){Gt(r,r.return,V)}}break;case 3:if(Kl=null,f=kr,kr=$l(n.containerInfo),Qe(n,r),kr=f,Ke(r),u&4&&a!==null&&a.memoizedState.isDehydrated)try{co(n.containerInfo)}catch(V){Gt(r,r.return,V)}Xc&&(Xc=!1,ug(r));break;case 4:u=kr,kr=$l(r.stateNode.containerInfo),Qe(n,r),Ke(r),kr=u;break;case 12:Qe(n,r),Ke(r);break;case 13:Qe(n,r),Ke(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(id=nt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,$c(r,u)));break;case 22:f=r.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,N=si,H=se;if(si=N||f,se=H||E,Qe(n,r),se=H,si=N,Ke(r),u&8192)t:for(n=r.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(a===null||E||si||se||bn(r)),a=null,n=r;;){if(n.tag===5||n.tag===26){if(a===null){E=a=n;try{if(y=E.stateNode,f)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{k=E.stateNode;var Z=E.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;k.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(V){Gt(E,E.return,V)}}}else if(n.tag===6){if(a===null){E=n;try{E.stateNode.nodeValue=f?"":E.memoizedProps}catch(V){Gt(E,E.return,V)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===r)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=r.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,$c(r,a))));break;case 19:Qe(n,r),Ke(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,$c(r,u)));break;case 30:break;case 21:break;default:Qe(n,r),Ke(r)}}function Ke(r){var n=r.flags;if(n&2){try{for(var a,u=r.return;u!==null;){if(eg(u)){a=u;break}u=u.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,y=Zc(r);Dl(r,y,f);break;case 5:var w=a.stateNode;a.flags&32&&(Xn(w,""),a.flags&=-33);var k=Zc(r);Dl(r,k,w);break;case 3:case 4:var E=a.stateNode.containerInfo,N=Zc(r);Jc(r,N,E);break;default:throw Error(i(161))}}catch(H){Gt(r,r.return,H)}r.flags&=-3}n&4096&&(r.flags&=-4097)}function ug(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var n=r;ug(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),r=r.sibling}}function Oi(r,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ng(r,n.alternate,n),n=n.sibling}function bn(r){for(r=r.child;r!==null;){var n=r;switch(n.tag){case 0:case 11:case 14:case 15:Pi(4,n,n.return),bn(n);break;case 1:Rr(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ky(n,n.return,a),bn(n);break;case 27:io(n.stateNode);case 26:case 5:Rr(n,n.return),bn(n);break;case 22:n.memoizedState===null&&bn(n);break;case 30:bn(n);break;default:bn(n)}r=r.sibling}}function Ri(r,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,f=r,y=n,w=y.flags;switch(y.tag){case 0:case 11:case 15:Ri(f,y,a),Ya(4,y);break;case 1:if(Ri(f,y,a),u=y,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(N){Gt(u,u.return,N)}if(u=y,f=u.updateQueue,f!==null){var k=u.stateNode;try{var E=f.shared.hiddenCallbacks;if(E!==null)for(f.shared.hiddenCallbacks=null,f=0;f<E.length;f++)Dm(E[f],k)}catch(N){Gt(u,u.return,N)}}a&&w&64&&Qy(y),Za(y,y.return);break;case 27:rg(y);case 26:case 5:Ri(f,y,a),a&&u===null&&w&4&&tg(y),Za(y,y.return);break;case 12:Ri(f,y,a);break;case 13:Ri(f,y,a),a&&w&4&&og(f,y);break;case 22:y.memoizedState===null&&Ri(f,y,a),Za(y,y.return);break;case 30:break;default:Ri(f,y,a)}n=n.sibling}}function Qc(r,n){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&Oa(a))}function Kc(r,n){r=null,n.alternate!==null&&(r=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==r&&(n.refCount++,r!=null&&Oa(r))}function Lr(r,n,a,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)hg(r,n,a,u),n=n.sibling}function hg(r,n,a,u){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Lr(r,n,a,u),f&2048&&Ya(9,n);break;case 1:Lr(r,n,a,u);break;case 3:Lr(r,n,a,u),f&2048&&(r=null,n.alternate!==null&&(r=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==r&&(n.refCount++,r!=null&&Oa(r)));break;case 12:if(f&2048){Lr(r,n,a,u),r=n.stateNode;try{var y=n.memoizedProps,w=y.id,k=y.onPostCommit;typeof k=="function"&&k(w,n.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(E){Gt(n,n.return,E)}}else Lr(r,n,a,u);break;case 13:Lr(r,n,a,u);break;case 23:break;case 22:y=n.stateNode,w=n.alternate,n.memoizedState!==null?y._visibility&2?Lr(r,n,a,u):Ja(r,n):y._visibility&2?Lr(r,n,a,u):(y._visibility|=2,ms(r,n,a,u,(n.subtreeFlags&10256)!==0)),f&2048&&Qc(w,n);break;case 24:Lr(r,n,a,u),f&2048&&Kc(n.alternate,n);break;default:Lr(r,n,a,u)}}function ms(r,n,a,u,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var y=r,w=n,k=a,E=u,N=w.flags;switch(w.tag){case 0:case 11:case 15:ms(y,w,k,E,f),Ya(8,w);break;case 23:break;case 22:var H=w.stateNode;w.memoizedState!==null?H._visibility&2?ms(y,w,k,E,f):Ja(y,w):(H._visibility|=2,ms(y,w,k,E,f)),f&&N&2048&&Qc(w.alternate,w);break;case 24:ms(y,w,k,E,f),f&&N&2048&&Kc(w.alternate,w);break;default:ms(y,w,k,E,f)}n=n.sibling}}function Ja(r,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=r,u=n,f=u.flags;switch(u.tag){case 22:Ja(a,u),f&2048&&Qc(u.alternate,u);break;case 24:Ja(a,u),f&2048&&Kc(u.alternate,u);break;default:Ja(a,u)}n=n.sibling}}var Xa=8192;function ys(r){if(r.subtreeFlags&Xa)for(r=r.child;r!==null;)cg(r),r=r.sibling}function cg(r){switch(r.tag){case 26:ys(r),r.flags&Xa&&r.memoizedState!==null&&uw(kr,r.memoizedState,r.memoizedProps);break;case 5:ys(r);break;case 3:case 4:var n=kr;kr=$l(r.stateNode.containerInfo),ys(r),kr=n;break;case 22:r.memoizedState===null&&(n=r.alternate,n!==null&&n.memoizedState!==null?(n=Xa,Xa=16777216,ys(r),Xa=n):ys(r));break;default:ys(r)}}function dg(r){var n=r.alternate;if(n!==null&&(r=n.child,r!==null)){n.child=null;do n=r.sibling,r.sibling=null,r=n;while(r!==null)}}function $a(r){var n=r.deletions;if((r.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var u=n[a];me=u,fg(u,r)}dg(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)pg(r),r=r.sibling}function pg(r){switch(r.tag){case 0:case 11:case 15:$a(r),r.flags&2048&&Pi(9,r,r.return);break;case 3:$a(r);break;case 12:$a(r);break;case 22:var n=r.stateNode;r.memoizedState!==null&&n._visibility&2&&(r.return===null||r.return.tag!==13)?(n._visibility&=-3,Fl(r)):$a(r);break;default:$a(r)}}function Fl(r){var n=r.deletions;if((r.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var u=n[a];me=u,fg(u,r)}dg(r)}for(r=r.child;r!==null;){switch(n=r,n.tag){case 0:case 11:case 15:Pi(8,n,n.return),Fl(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Fl(n));break;default:Fl(n)}r=r.sibling}}function fg(r,n){for(;me!==null;){var a=me;switch(a.tag){case 0:case 11:case 15:Pi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Oa(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,me=u;else t:for(a=r;me!==null;){u=me;var f=u.sibling,y=u.return;if(sg(u),u===a){me=null;break t}if(f!==null){f.return=y,me=f;break t}me=y}}}var k1={getCacheForType:function(r){var n=ke(he),a=n.data.get(r);return a===void 0&&(a=r(),n.data.set(r,a)),a}},T1=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Yt=null,It=null,Rt=0,Vt=0,tr=null,Li=!1,gs=!1,td=!1,oi=0,re=0,Ni=0,xn=0,ed=0,yr=0,vs=0,Qa=null,He=null,rd=!1,id=0,Vl=1/0,Ul=null,Bi=null,xe=0,Di=null,bs=null,xs=0,nd=0,sd=null,mg=null,Ka=0,ad=null;function er(){if((Ft&2)!==0&&Rt!==0)return Rt&-Rt;if(U.T!==null){var r=os;return r!==0?r:pd()}return If()}function yg(){yr===0&&(yr=(Rt&536870912)===0||Dt?Cf():536870912);var r=mr.current;return r!==null&&(r.flags|=32),yr}function rr(r,n,a){(r===Yt&&(Vt===2||Vt===9)||r.cancelPendingCommit!==null)&&(ws(r,0),Fi(r,Rt,yr,!1)),ga(r,a),((Ft&2)===0||r!==Yt)&&(r===Yt&&((Ft&2)===0&&(xn|=a),re===4&&Fi(r,Rt,yr,!1)),Nr(r))}function gg(r,n,a){if((Ft&6)!==0)throw Error(i(327));var u=!a&&(n&124)===0&&(n&r.expiredLanes)===0||ya(r,n),f=u?z1(r,n):ud(r,n,!0),y=u;do{if(f===0){gs&&!u&&Fi(r,n,0,!1);break}else{if(a=r.current.alternate,y&&!C1(a)){f=ud(r,n,!1),y=!1;continue}if(f===2){if(y=n,r.errorRecoveryDisabledLanes&y)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){n=w;t:{var k=r;f=Qa;var E=k.current.memoizedState.isDehydrated;if(E&&(ws(k,w).flags|=256),w=ud(k,w,!1),w!==2){if(td&&!E){k.errorRecoveryDisabledLanes|=y,xn|=y,f=4;break t}y=He,He=f,y!==null&&(He===null?He=y:He.push.apply(He,y))}f=w}if(y=!1,f!==2)continue}}if(f===1){ws(r,0),Fi(r,n,0,!0);break}t:{switch(u=r,y=f,y){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:Fi(u,n,yr,!Li);break t;case 2:He=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(f=id+300-nt(),10<f)){if(Fi(u,n,yr,!Li),Qo(u,0,!0)!==0)break t;u.timeoutHandle=Gg(vg.bind(null,u,a,He,Ul,rd,n,yr,xn,vs,Li,y,2,-0,0),f);break t}vg(u,a,He,Ul,rd,n,yr,xn,vs,Li,y,0,-0,0)}}break}while(!0);Nr(r)}function vg(r,n,a,u,f,y,w,k,E,N,H,Z,F,V){if(r.timeoutHandle=-1,Z=n.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(ao={stylesheets:null,count:0,unsuspend:lw},cg(n),Z=hw(),Z!==null)){r.cancelPendingCommit=Z(kg.bind(null,r,n,y,a,u,f,w,k,E,H,1,F,V)),Fi(r,y,w,!N);return}kg(r,n,y,a,u,f,w,k,E)}function C1(r){for(var n=r;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],y=f.getSnapshot;f=f.value;try{if(!Xe(y(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fi(r,n,a,u){n&=~ed,n&=~xn,r.suspendedLanes|=n,r.pingedLanes&=~n,u&&(r.warmLanes|=n),u=r.expirationTimes;for(var f=n;0<f;){var y=31-Oe(f),w=1<<y;u[y]=-1,f&=~w}a!==0&&zf(r,a,n)}function jl(){return(Ft&6)===0?(to(0),!1):!0}function od(){if(It!==null){if(Vt===0)var r=It.return;else r=It,Qr=fn=null,_c(r),ps=null,Ha=0,r=It;for(;r!==null;)$y(r.alternate,r),r=r.return;It=null}}function ws(r,n){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,q1(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),od(),Yt=r,It=a=Jr(r.current,null),Rt=n,Vt=0,tr=null,Li=!1,gs=ya(r,n),td=!1,vs=yr=ed=xn=Ni=re=0,He=Qa=null,rd=!1,(n&8)!==0&&(n|=n&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=n;0<u;){var f=31-Oe(u),y=1<<f;n|=r[f],u&=~y}return oi=n,hl(),a}function bg(r,n){Tt=null,U.H=zl,n===La||n===bl?(n=Nm(),Vt=3):n===Om?(n=Nm(),Vt=4):Vt=n===By?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,tr=n,It===null&&(re=1,Rl(r,cr(n,r.current)))}function xg(){var r=U.H;return U.H=zl,r===null?zl:r}function wg(){var r=U.A;return U.A=k1,r}function ld(){re=4,Li||(Rt&4194048)!==Rt&&mr.current!==null||(gs=!0),(Ni&134217727)===0&&(xn&134217727)===0||Yt===null||Fi(Yt,Rt,yr,!1)}function ud(r,n,a){var u=Ft;Ft|=2;var f=xg(),y=wg();(Yt!==r||Rt!==n)&&(Ul=null,ws(r,n)),n=!1;var w=re;t:do try{if(Vt!==0&&It!==null){var k=It,E=tr;switch(Vt){case 8:od(),w=6;break t;case 3:case 2:case 9:case 6:mr.current===null&&(n=!0);var N=Vt;if(Vt=0,tr=null,Ss(r,k,E,N),a&&gs){w=0;break t}break;default:N=Vt,Vt=0,tr=null,Ss(r,k,E,N)}}A1(),w=re;break}catch(H){bg(r,H)}while(!0);return n&&r.shellSuspendCounter++,Qr=fn=null,Ft=u,U.H=f,U.A=y,It===null&&(Yt=null,Rt=0,hl()),w}function A1(){for(;It!==null;)Sg(It)}function z1(r,n){var a=Ft;Ft|=2;var u=xg(),f=wg();Yt!==r||Rt!==n?(Ul=null,Vl=nt()+500,ws(r,n)):gs=ya(r,n);t:do try{if(Vt!==0&&It!==null){n=It;var y=tr;e:switch(Vt){case 1:Vt=0,tr=null,Ss(r,n,y,1);break;case 2:case 9:if(Rm(y)){Vt=0,tr=null,Mg(n);break}n=function(){Vt!==2&&Vt!==9||Yt!==r||(Vt=7),Nr(r)},y.then(n,n);break t;case 3:Vt=7;break t;case 4:Vt=5;break t;case 7:Rm(y)?(Vt=0,tr=null,Mg(n)):(Vt=0,tr=null,Ss(r,n,y,7));break;case 5:var w=null;switch(It.tag){case 26:w=It.memoizedState;case 5:case 27:var k=It;if(!w||n0(w)){Vt=0,tr=null;var E=k.sibling;if(E!==null)It=E;else{var N=k.return;N!==null?(It=N,Wl(N)):It=null}break e}}Vt=0,tr=null,Ss(r,n,y,5);break;case 6:Vt=0,tr=null,Ss(r,n,y,6);break;case 8:od(),re=6;break t;default:throw Error(i(462))}}E1();break}catch(H){bg(r,H)}while(!0);return Qr=fn=null,U.H=u,U.A=f,Ft=a,It!==null?0:(Yt=null,Rt=0,hl(),re)}function E1(){for(;It!==null&&!rt();)Sg(It)}function Sg(r){var n=Jy(r.alternate,r,oi);r.memoizedProps=r.pendingProps,n===null?Wl(r):It=n}function Mg(r){var n=r,a=n.alternate;switch(n.tag){case 15:case 0:n=Wy(a,n,n.pendingProps,n.type,void 0,Rt);break;case 11:n=Wy(a,n,n.pendingProps,n.type.render,n.ref,Rt);break;case 5:_c(n);default:$y(a,n),n=It=_m(n,oi),n=Jy(a,n,oi)}r.memoizedProps=r.pendingProps,n===null?Wl(r):It=n}function Ss(r,n,a,u){Qr=fn=null,_c(n),ps=null,Ha=0;var f=n.return;try{if(b1(r,f,n,a,Rt)){re=1,Rl(r,cr(a,r.current)),It=null;return}}catch(y){if(f!==null)throw It=f,y;re=1,Rl(r,cr(a,r.current)),It=null;return}n.flags&32768?(Dt||u===1?r=!0:gs||(Rt&536870912)!==0?r=!1:(Li=r=!0,(u===2||u===9||u===3||u===6)&&(u=mr.current,u!==null&&u.tag===13&&(u.flags|=16384))),_g(n,r)):Wl(n)}function Wl(r){var n=r;do{if((n.flags&32768)!==0){_g(n,Li);return}r=n.return;var a=w1(n.alternate,n,oi);if(a!==null){It=a;return}if(n=n.sibling,n!==null){It=n;return}It=n=r}while(n!==null);re===0&&(re=5)}function _g(r,n){do{var a=S1(r.alternate,r);if(a!==null){a.flags&=32767,It=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(r=r.sibling,r!==null)){It=r;return}It=r=a}while(r!==null);re=6,It=null}function kg(r,n,a,u,f,y,w,k,E){r.cancelPendingCommit=null;do Hl();while(xe!==0);if((Ft&6)!==0)throw Error(i(327));if(n!==null){if(n===r.current)throw Error(i(177));if(y=n.lanes|n.childLanes,y|=Kh,lx(r,a,y,w,k,E),r===Yt&&(It=Yt=null,Rt=0),bs=n,Di=r,xs=a,nd=y,sd=f,mg=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,R1(qt,function(){return Eg(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=U.T,U.T=null,f=$.p,$.p=2,w=Ft,Ft|=4;try{M1(r,n,a)}finally{Ft=w,$.p=f,U.T=u}}xe=1,Tg(),Cg(),Ag()}}function Tg(){if(xe===1){xe=0;var r=Di,n=bs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var u=$.p;$.p=2;var f=Ft;Ft|=4;try{lg(n,r);var y=wd,w=fm(r.containerInfo),k=y.focusedElem,E=y.selectionRange;if(w!==k&&k&&k.ownerDocument&&pm(k.ownerDocument.documentElement,k)){if(E!==null&&Zh(k)){var N=E.start,H=E.end;if(H===void 0&&(H=N),"selectionStart"in k)k.selectionStart=N,k.selectionEnd=Math.min(H,k.value.length);else{var Z=k.ownerDocument||document,F=Z&&Z.defaultView||window;if(F.getSelection){var V=F.getSelection(),yt=k.textContent.length,dt=Math.min(E.start,yt),Wt=E.end===void 0?dt:Math.min(E.end,yt);!V.extend&&dt>Wt&&(w=Wt,Wt=dt,dt=w);var R=dm(k,dt),P=dm(k,Wt);if(R&&P&&(V.rangeCount!==1||V.anchorNode!==R.node||V.anchorOffset!==R.offset||V.focusNode!==P.node||V.focusOffset!==P.offset)){var L=Z.createRange();L.setStart(R.node,R.offset),V.removeAllRanges(),dt>Wt?(V.addRange(L),V.extend(P.node,P.offset)):(L.setEnd(P.node,P.offset),V.addRange(L))}}}}for(Z=[],V=k;V=V.parentNode;)V.nodeType===1&&Z.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<Z.length;k++){var G=Z[k];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}ru=!!xd,wd=xd=null}finally{Ft=f,$.p=u,U.T=a}}r.current=n,xe=2}}function Cg(){if(xe===2){xe=0;var r=Di,n=bs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var u=$.p;$.p=2;var f=Ft;Ft|=4;try{ng(r,n.alternate,n)}finally{Ft=f,$.p=u,U.T=a}}xe=3}}function Ag(){if(xe===4||xe===3){xe=0,ct();var r=Di,n=bs,a=xs,u=mg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xe=5:(xe=0,bs=Di=null,zg(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(Bi=null),Ch(a),n=n.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(Si,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=U.T,f=$.p,$.p=2,U.T=null;try{for(var y=r.onRecoverableError,w=0;w<u.length;w++){var k=u[w];y(k.value,{componentStack:k.stack})}}finally{U.T=n,$.p=f}}(xs&3)!==0&&Hl(),Nr(r),f=r.pendingLanes,(a&4194090)!==0&&(f&42)!==0?r===ad?Ka++:(Ka=0,ad=r):Ka=0,to(0)}}function zg(r,n){(r.pooledCacheLanes&=n)===0&&(n=r.pooledCache,n!=null&&(r.pooledCache=null,Oa(n)))}function Hl(r){return Tg(),Cg(),Ag(),Eg()}function Eg(){if(xe!==5)return!1;var r=Di,n=nd;nd=0;var a=Ch(xs),u=U.T,f=$.p;try{$.p=32>a?32:a,U.T=null,a=sd,sd=null;var y=Di,w=xs;if(xe=0,bs=Di=null,xs=0,(Ft&6)!==0)throw Error(i(331));var k=Ft;if(Ft|=4,pg(y.current),hg(y,y.current,w,a),Ft=k,to(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(Si,y)}catch{}return!0}finally{$.p=f,U.T=u,zg(r,n)}}function Ig(r,n,a){n=cr(a,n),n=Dc(r.stateNode,n,2),r=Ai(r,n,2),r!==null&&(ga(r,2),Nr(r))}function Gt(r,n,a){if(r.tag===3)Ig(r,r,a);else for(;n!==null;){if(n.tag===3){Ig(n,r,a);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Bi===null||!Bi.has(u))){r=cr(a,r),a=Ly(2),u=Ai(n,a,2),u!==null&&(Ny(a,u,n,r),ga(u,2),Nr(u));break}}n=n.return}}function hd(r,n,a){var u=r.pingCache;if(u===null){u=r.pingCache=new T1;var f=new Set;u.set(n,f)}else f=u.get(n),f===void 0&&(f=new Set,u.set(n,f));f.has(a)||(td=!0,f.add(a),r=I1.bind(null,r,n,a),n.then(r,r))}function I1(r,n,a){var u=r.pingCache;u!==null&&u.delete(n),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,Yt===r&&(Rt&a)===a&&(re===4||re===3&&(Rt&62914560)===Rt&&300>nt()-id?(Ft&2)===0&&ws(r,0):ed|=a,vs===Rt&&(vs=0)),Nr(r)}function Pg(r,n){n===0&&(n=Af()),r=is(r,n),r!==null&&(ga(r,n),Nr(r))}function P1(r){var n=r.memoizedState,a=0;n!==null&&(a=n.retryLane),Pg(r,a)}function O1(r,n){var a=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(n),Pg(r,a)}function R1(r,n){return tt(r,n)}var ql=null,Ms=null,cd=!1,Gl=!1,dd=!1,wn=0;function Nr(r){r!==Ms&&r.next===null&&(Ms===null?ql=Ms=r:Ms=Ms.next=r),Gl=!0,cd||(cd=!0,N1())}function to(r,n){if(!dd&&Gl){dd=!0;do for(var a=!1,u=ql;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var y=0;else{var w=u.suspendedLanes,k=u.pingedLanes;y=(1<<31-Oe(42|r)+1)-1,y&=f&~(w&~k),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,Ng(u,y))}else y=Rt,y=Qo(u,u===Yt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||ya(u,y)||(a=!0,Ng(u,y));u=u.next}while(a);dd=!1}}function L1(){Og()}function Og(){Gl=cd=!1;var r=0;wn!==0&&(H1()&&(r=wn),wn=0);for(var n=nt(),a=null,u=ql;u!==null;){var f=u.next,y=Rg(u,n);y===0?(u.next=null,a===null?ql=f:a.next=f,f===null&&(Ms=a)):(a=u,(r!==0||(y&3)!==0)&&(Gl=!0)),u=f}to(r)}function Rg(r,n){for(var a=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var w=31-Oe(y),k=1<<w,E=f[w];E===-1?((k&a)===0||(k&u)!==0)&&(f[w]=ox(k,n)):E<=n&&(r.expiredLanes|=k),y&=~k}if(n=Yt,a=Rt,a=Qo(r,r===n?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,a===0||r===n&&(Vt===2||Vt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&et(u),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||ya(r,a)){if(n=a&-a,n===r.callbackPriority)return n;switch(u!==null&&et(u),Ch(a)){case 2:case 8:a=Ht;break;case 32:a=qt;break;case 268435456:a=Ie;break;default:a=qt}return u=Lg.bind(null,r),a=tt(a,u),r.callbackPriority=n,r.callbackNode=a,n}return u!==null&&u!==null&&et(u),r.callbackPriority=2,r.callbackNode=null,2}function Lg(r,n){if(xe!==0&&xe!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(Hl()&&r.callbackNode!==a)return null;var u=Rt;return u=Qo(r,r===Yt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(gg(r,u,n),Rg(r,nt()),r.callbackNode!=null&&r.callbackNode===a?Lg.bind(null,r):null)}function Ng(r,n){if(Hl())return null;gg(r,n,!0)}function N1(){G1(function(){(Ft&6)!==0?tt(kt,L1):Og()})}function pd(){return wn===0&&(wn=Cf()),wn}function Bg(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:il(""+r)}function Dg(r,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,r.id&&a.setAttribute("form",r.id),n.parentNode.insertBefore(a,n),r=new FormData(r),a.parentNode.removeChild(a),r}function B1(r,n,a,u,f){if(n==="submit"&&a&&a.stateNode===f){var y=Bg((f[Ve]||null).action),w=u.submitter;w&&(n=(n=w[Ve]||null)?Bg(n.formAction):w.getAttribute("formAction"),n!==null&&(y=n,w=null));var k=new ol("action","action",null,u,f);r.push({event:k,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(wn!==0){var E=w?Dg(f,w):new FormData(f);Oc(a,{pending:!0,data:E,method:f.method,action:y},null,E)}}else typeof y=="function"&&(k.preventDefault(),E=w?Dg(f,w):new FormData(f),Oc(a,{pending:!0,data:E,method:f.method,action:y},y,E))},currentTarget:f}]})}}for(var fd=0;fd<Qh.length;fd++){var md=Qh[fd],D1=md.toLowerCase(),F1=md[0].toUpperCase()+md.slice(1);_r(D1,"on"+F1)}_r(gm,"onAnimationEnd"),_r(vm,"onAnimationIteration"),_r(bm,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(r1,"onTransitionRun"),_r(i1,"onTransitionStart"),_r(n1,"onTransitionCancel"),_r(xm,"onTransitionEnd"),Yn("onMouseEnter",["mouseout","mouseover"]),Yn("onMouseLeave",["mouseout","mouseover"]),Yn("onPointerEnter",["pointerout","pointerover"]),Yn("onPointerLeave",["pointerout","pointerover"]),sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eo));function Fg(r,n){n=(n&4)!==0;for(var a=0;a<r.length;a++){var u=r[a],f=u.event;u=u.listeners;t:{var y=void 0;if(n)for(var w=u.length-1;0<=w;w--){var k=u[w],E=k.instance,N=k.currentTarget;if(k=k.listener,E!==y&&f.isPropagationStopped())break t;y=k,f.currentTarget=N;try{y(f)}catch(H){Ol(H)}f.currentTarget=null,y=E}else for(w=0;w<u.length;w++){if(k=u[w],E=k.instance,N=k.currentTarget,k=k.listener,E!==y&&f.isPropagationStopped())break t;y=k,f.currentTarget=N;try{y(f)}catch(H){Ol(H)}f.currentTarget=null,y=E}}}}function Pt(r,n){var a=n[Ah];a===void 0&&(a=n[Ah]=new Set);var u=r+"__bubble";a.has(u)||(Vg(n,r,2,!1),a.add(u))}function yd(r,n,a){var u=0;n&&(u|=4),Vg(a,r,u,n)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function gd(r){if(!r[Yl]){r[Yl]=!0,Of.forEach(function(a){a!=="selectionchange"&&(V1.has(a)||yd(a,!1,r),yd(a,!0,r))});var n=r.nodeType===9?r:r.ownerDocument;n===null||n[Yl]||(n[Yl]=!0,yd("selectionchange",!1,n))}}function Vg(r,n,a,u){switch(h0(n)){case 2:var f=pw;break;case 8:f=fw;break;default:f=Id}a=f.bind(null,n,a,r),f=void 0,!Fh||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(n,a,{capture:!0,passive:f}):r.addEventListener(n,a,!0):f!==void 0?r.addEventListener(n,a,{passive:f}):r.addEventListener(n,a,!1)}function vd(r,n,a,u,f){var y=u;if((n&1)===0&&(n&2)===0&&u!==null)t:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var k=u.stateNode.containerInfo;if(k===f)break;if(w===4)for(w=u.return;w!==null;){var E=w.tag;if((E===3||E===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;k!==null;){if(w=Hn(k),w===null)return;if(E=w.tag,E===5||E===6||E===26||E===27){u=y=w;continue t}k=k.parentNode}}u=u.return}Yf(function(){var N=y,H=Bh(a),Z=[];t:{var F=wm.get(r);if(F!==void 0){var V=ol,yt=r;switch(r){case"keypress":if(sl(a)===0)break t;case"keydown":case"keyup":V=Rx;break;case"focusin":yt="focus",V=Wh;break;case"focusout":yt="blur",V=Wh;break;case"beforeblur":case"afterblur":V=Wh;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Xf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Sx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Bx;break;case gm:case vm:case bm:V=kx;break;case xm:V=Fx;break;case"scroll":case"scrollend":V=xx;break;case"wheel":V=Ux;break;case"copy":case"cut":case"paste":V=Cx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Qf;break;case"toggle":case"beforetoggle":V=Wx}var dt=(n&4)!==0,Wt=!dt&&(r==="scroll"||r==="scrollend"),R=dt?F!==null?F+"Capture":null:F;dt=[];for(var P=N,L;P!==null;){var G=P;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||R===null||(G=xa(P,R),G!=null&&dt.push(ro(P,G,L))),Wt)break;P=P.return}0<dt.length&&(F=new V(F,yt,null,a,H),Z.push({event:F,listeners:dt}))}}if((n&7)===0){t:{if(F=r==="mouseover"||r==="pointerover",V=r==="mouseout"||r==="pointerout",F&&a!==Nh&&(yt=a.relatedTarget||a.fromElement)&&(Hn(yt)||yt[Wn]))break t;if((V||F)&&(F=H.window===H?H:(F=H.ownerDocument)?F.defaultView||F.parentWindow:window,V?(yt=a.relatedTarget||a.toElement,V=N,yt=yt?Hn(yt):null,yt!==null&&(Wt=o(yt),dt=yt.tag,yt!==Wt||dt!==5&&dt!==27&&dt!==6)&&(yt=null)):(V=null,yt=N),V!==yt)){if(dt=Xf,G="onMouseLeave",R="onMouseEnter",P="mouse",(r==="pointerout"||r==="pointerover")&&(dt=Qf,G="onPointerLeave",R="onPointerEnter",P="pointer"),Wt=V==null?F:ba(V),L=yt==null?F:ba(yt),F=new dt(G,P+"leave",V,a,H),F.target=Wt,F.relatedTarget=L,G=null,Hn(H)===N&&(dt=new dt(R,P+"enter",yt,a,H),dt.target=L,dt.relatedTarget=Wt,G=dt),Wt=G,V&&yt)e:{for(dt=V,R=yt,P=0,L=dt;L;L=_s(L))P++;for(L=0,G=R;G;G=_s(G))L++;for(;0<P-L;)dt=_s(dt),P--;for(;0<L-P;)R=_s(R),L--;for(;P--;){if(dt===R||R!==null&&dt===R.alternate)break e;dt=_s(dt),R=_s(R)}dt=null}else dt=null;V!==null&&Ug(Z,F,V,dt,!1),yt!==null&&Wt!==null&&Ug(Z,Wt,yt,dt,!0)}}t:{if(F=N?ba(N):window,V=F.nodeName&&F.nodeName.toLowerCase(),V==="select"||V==="input"&&F.type==="file")var st=am;else if(nm(F))if(om)st=Kx;else{st=$x;var At=Xx}else V=F.nodeName,!V||V.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?N&&Lh(N.elementType)&&(st=am):st=Qx;if(st&&(st=st(r,N))){sm(Z,st,a,H);break t}At&&At(r,F,N),r==="focusout"&&N&&F.type==="number"&&N.memoizedProps.value!=null&&Rh(F,"number",F.value)}switch(At=N?ba(N):window,r){case"focusin":(nm(At)||At.contentEditable==="true")&&(ts=At,Jh=N,Aa=null);break;case"focusout":Aa=Jh=ts=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,mm(Z,a,H);break;case"selectionchange":if(e1)break;case"keydown":case"keyup":mm(Z,a,H)}var ut;if(qh)t:{switch(r){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Kn?rm(r,a)&&(pt="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(pt="onCompositionStart");pt&&(Kf&&a.locale!=="ko"&&(Kn||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Kn&&(ut=Zf()):(_i=H,Vh="value"in _i?_i.value:_i.textContent,Kn=!0)),At=Zl(N,pt),0<At.length&&(pt=new $f(pt,r,null,a,H),Z.push({event:pt,listeners:At}),ut?pt.data=ut:(ut=im(a),ut!==null&&(pt.data=ut)))),(ut=qx?Gx(r,a):Yx(r,a))&&(pt=Zl(N,"onBeforeInput"),0<pt.length&&(At=new $f("onBeforeInput","beforeinput",null,a,H),Z.push({event:At,listeners:pt}),At.data=ut)),B1(Z,r,N,a,H)}Fg(Z,n)})}function ro(r,n,a){return{instance:r,listener:n,currentTarget:a}}function Zl(r,n){for(var a=n+"Capture",u=[];r!==null;){var f=r,y=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||y===null||(f=xa(r,a),f!=null&&u.unshift(ro(r,f,y)),f=xa(r,n),f!=null&&u.push(ro(r,f,y))),r.tag===3)return u;r=r.return}return[]}function _s(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Ug(r,n,a,u,f){for(var y=n._reactName,w=[];a!==null&&a!==u;){var k=a,E=k.alternate,N=k.stateNode;if(k=k.tag,E!==null&&E===u)break;k!==5&&k!==26&&k!==27||N===null||(E=N,f?(N=xa(a,y),N!=null&&w.unshift(ro(a,N,E))):f||(N=xa(a,y),N!=null&&w.push(ro(a,N,E)))),a=a.return}w.length!==0&&r.push({event:n,listeners:w})}var U1=/\r\n?/g,j1=/\u0000|\uFFFD/g;function jg(r){return(typeof r=="string"?r:""+r).replace(U1,`
`).replace(j1,"")}function Wg(r,n){return n=jg(n),jg(r)===n}function Jl(){}function jt(r,n,a,u,f,y){switch(a){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||Xn(r,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&Xn(r,""+u);break;case"className":tl(r,"class",u);break;case"tabIndex":tl(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":tl(r,a,u);break;case"style":qf(r,u,y);break;case"data":if(n!=="object"){tl(r,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||a!=="href")){r.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(a);break}u=il(""+u),r.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(n!=="input"&&jt(r,n,"name",f.name,f,null),jt(r,n,"formEncType",f.formEncType,f,null),jt(r,n,"formMethod",f.formMethod,f,null),jt(r,n,"formTarget",f.formTarget,f,null)):(jt(r,n,"encType",f.encType,f,null),jt(r,n,"method",f.method,f,null),jt(r,n,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(a);break}u=il(""+u),r.setAttribute(a,u);break;case"onClick":u!=null&&(r.onclick=Jl);break;case"onScroll":u!=null&&Pt("scroll",r);break;case"onScrollEnd":u!=null&&Pt("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}a=il(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(a,""+u):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":u===!0?r.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(a,u):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(a,u):r.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(a):r.setAttribute(a,u);break;case"popover":Pt("beforetoggle",r),Pt("toggle",r),Ko(r,"popover",u);break;case"xlinkActuate":Yr(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Yr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Yr(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Yr(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Yr(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Yr(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Yr(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Yr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Yr(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ko(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vx.get(a)||a,Ko(r,a,u))}}function bd(r,n,a,u,f,y){switch(a){case"style":qf(r,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"children":typeof u=="string"?Xn(r,u):(typeof u=="number"||typeof u=="bigint")&&Xn(r,""+u);break;case"onScroll":u!=null&&Pt("scroll",r);break;case"onScrollEnd":u!=null&&Pt("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Jl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rf.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),y=r[Ve]||null,y=y!=null?y[a]:null,typeof y=="function"&&r.removeEventListener(n,y,f),typeof u=="function")){typeof y!="function"&&y!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(n,u,f);break t}a in r?r[a]=u:u===!0?r.setAttribute(a,""):Ko(r,a,u)}}}function we(r,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",r),Pt("load",r);var u=!1,f=!1,y;for(y in a)if(a.hasOwnProperty(y)){var w=a[y];if(w!=null)switch(y){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:jt(r,n,y,w,a,null)}}f&&jt(r,n,"srcSet",a.srcSet,a,null),u&&jt(r,n,"src",a.src,a,null);return;case"input":Pt("invalid",r);var k=y=w=f=null,E=null,N=null;for(u in a)if(a.hasOwnProperty(u)){var H=a[u];if(H!=null)switch(u){case"name":f=H;break;case"type":w=H;break;case"checked":E=H;break;case"defaultChecked":N=H;break;case"value":y=H;break;case"defaultValue":k=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,n));break;default:jt(r,n,u,H,a,null)}}Uf(r,y,k,E,N,w,f,!1),el(r);return;case"select":Pt("invalid",r),u=w=y=null;for(f in a)if(a.hasOwnProperty(f)&&(k=a[f],k!=null))switch(f){case"value":y=k;break;case"defaultValue":w=k;break;case"multiple":u=k;default:jt(r,n,f,k,a,null)}n=y,a=w,r.multiple=!!u,n!=null?Jn(r,!!u,n,!1):a!=null&&Jn(r,!!u,a,!0);return;case"textarea":Pt("invalid",r),y=f=u=null;for(w in a)if(a.hasOwnProperty(w)&&(k=a[w],k!=null))switch(w){case"value":u=k;break;case"defaultValue":f=k;break;case"children":y=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:jt(r,n,w,k,a,null)}Wf(r,u,f,y),el(r);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(u=a[E],u!=null))switch(E){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:jt(r,n,E,u,a,null)}return;case"dialog":Pt("beforetoggle",r),Pt("toggle",r),Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":Pt("load",r);break;case"video":case"audio":for(u=0;u<eo.length;u++)Pt(eo[u],r);break;case"image":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"embed":case"source":case"link":Pt("error",r),Pt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(u=a[N],u!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:jt(r,n,N,u,a,null)}return;default:if(Lh(n)){for(H in a)a.hasOwnProperty(H)&&(u=a[H],u!==void 0&&bd(r,n,H,u,a,void 0));return}}for(k in a)a.hasOwnProperty(k)&&(u=a[k],u!=null&&jt(r,n,k,u,a,null))}function W1(r,n,a,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,y=null,w=null,k=null,E=null,N=null,H=null;for(V in a){var Z=a[V];if(a.hasOwnProperty(V)&&Z!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":E=Z;default:u.hasOwnProperty(V)||jt(r,n,V,null,u,Z)}}for(var F in u){var V=u[F];if(Z=a[F],u.hasOwnProperty(F)&&(V!=null||Z!=null))switch(F){case"type":y=V;break;case"name":f=V;break;case"checked":N=V;break;case"defaultChecked":H=V;break;case"value":w=V;break;case"defaultValue":k=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,n));break;default:V!==Z&&jt(r,n,F,V,u,Z)}}Oh(r,w,k,E,N,H,y,f);return;case"select":V=w=k=F=null;for(y in a)if(E=a[y],a.hasOwnProperty(y)&&E!=null)switch(y){case"value":break;case"multiple":V=E;default:u.hasOwnProperty(y)||jt(r,n,y,null,u,E)}for(f in u)if(y=u[f],E=a[f],u.hasOwnProperty(f)&&(y!=null||E!=null))switch(f){case"value":F=y;break;case"defaultValue":k=y;break;case"multiple":w=y;default:y!==E&&jt(r,n,f,y,u,E)}n=k,a=w,u=V,F!=null?Jn(r,!!a,F,!1):!!u!=!!a&&(n!=null?Jn(r,!!a,n,!0):Jn(r,!!a,a?[]:"",!1));return;case"textarea":V=F=null;for(k in a)if(f=a[k],a.hasOwnProperty(k)&&f!=null&&!u.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:jt(r,n,k,null,u,f)}for(w in u)if(f=u[w],y=a[w],u.hasOwnProperty(w)&&(f!=null||y!=null))switch(w){case"value":F=f;break;case"defaultValue":V=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==y&&jt(r,n,w,f,u,y)}jf(r,F,V);return;case"option":for(var yt in a)if(F=a[yt],a.hasOwnProperty(yt)&&F!=null&&!u.hasOwnProperty(yt))switch(yt){case"selected":r.selected=!1;break;default:jt(r,n,yt,null,u,F)}for(E in u)if(F=u[E],V=a[E],u.hasOwnProperty(E)&&F!==V&&(F!=null||V!=null))switch(E){case"selected":r.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:jt(r,n,E,F,u,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)F=a[dt],a.hasOwnProperty(dt)&&F!=null&&!u.hasOwnProperty(dt)&&jt(r,n,dt,null,u,F);for(N in u)if(F=u[N],V=a[N],u.hasOwnProperty(N)&&F!==V&&(F!=null||V!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,n));break;default:jt(r,n,N,F,u,V)}return;default:if(Lh(n)){for(var Wt in a)F=a[Wt],a.hasOwnProperty(Wt)&&F!==void 0&&!u.hasOwnProperty(Wt)&&bd(r,n,Wt,void 0,u,F);for(H in u)F=u[H],V=a[H],!u.hasOwnProperty(H)||F===V||F===void 0&&V===void 0||bd(r,n,H,F,u,V);return}}for(var R in a)F=a[R],a.hasOwnProperty(R)&&F!=null&&!u.hasOwnProperty(R)&&jt(r,n,R,null,u,F);for(Z in u)F=u[Z],V=a[Z],!u.hasOwnProperty(Z)||F===V||F==null&&V==null||jt(r,n,Z,F,u,V)}var xd=null,wd=null;function Xl(r){return r.nodeType===9?r:r.ownerDocument}function Hg(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qg(r,n){if(r===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&n==="foreignObject"?0:r}function Sd(r,n){return r==="textarea"||r==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Md=null;function H1(){var r=window.event;return r&&r.type==="popstate"?r===Md?!1:(Md=r,!0):(Md=null,!1)}var Gg=typeof setTimeout=="function"?setTimeout:void 0,q1=typeof clearTimeout=="function"?clearTimeout:void 0,Yg=typeof Promise=="function"?Promise:void 0,G1=typeof queueMicrotask=="function"?queueMicrotask:typeof Yg<"u"?function(r){return Yg.resolve(null).then(r).catch(Y1)}:Gg;function Y1(r){setTimeout(function(){throw r})}function Vi(r){return r==="head"}function Zg(r,n){var a=n,u=0,f=0;do{var y=a.nextSibling;if(r.removeChild(a),y&&y.nodeType===8)if(a=y.data,a==="/$"){if(0<u&&8>u){a=u;var w=r.ownerDocument;if(a&1&&io(w.documentElement),a&2&&io(w.body),a&4)for(a=w.head,io(a),w=a.firstChild;w;){var k=w.nextSibling,E=w.nodeName;w[va]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&w.rel.toLowerCase()==="stylesheet"||a.removeChild(w),w=k}}if(f===0){r.removeChild(y),co(n);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:u=a.charCodeAt(0)-48;else u=0;a=y}while(a);co(n)}function _d(r){var n=r.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_d(a),zh(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function Z1(r,n,a,u){for(;r.nodeType===1;){var f=a;if(r.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[va])switch(n){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence")||y!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(n==="input"&&r.type==="hidden"){var y=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Tr(r.nextSibling),r===null)break}return null}function J1(r,n,a){if(n==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Tr(r.nextSibling),r===null))return null;return r}function kd(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function X1(r,n){var a=r.ownerDocument;if(r.data!=="$?"||a.readyState==="complete")n();else{var u=function(){n(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Tr(r){for(;r!=null;r=r.nextSibling){var n=r.nodeType;if(n===1||n===3)break;if(n===8){if(n=r.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return r}var Td=null;function Jg(r){r=r.previousSibling;for(var n=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return r;n--}else a==="/$"&&n++}r=r.previousSibling}return null}function Xg(r,n,a){switch(n=Xl(a),r){case"html":if(r=n.documentElement,!r)throw Error(i(452));return r;case"head":if(r=n.head,!r)throw Error(i(453));return r;case"body":if(r=n.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function io(r){for(var n=r.attributes;n.length;)r.removeAttributeNode(n[0]);zh(r)}var gr=new Map,$g=new Set;function $l(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var li=$.d;$.d={f:$1,r:Q1,D:K1,C:tw,L:ew,m:rw,X:nw,S:iw,M:sw};function $1(){var r=li.f(),n=jl();return r||n}function Q1(r){var n=qn(r);n!==null&&n.tag===5&&n.type==="form"?gy(n):li.r(r)}var ks=typeof document>"u"?null:document;function Qg(r,n,a){var u=ks;if(u&&typeof n=="string"&&n){var f=Mr(n);f='link[rel="'+r+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),$g.has(f)||($g.add(f),r={rel:r,crossOrigin:a,href:n},u.querySelector(f)===null&&(n=u.createElement("link"),we(n,"link",r),pe(n),u.head.appendChild(n)))}}function K1(r){li.D(r),Qg("dns-prefetch",r,null)}function tw(r,n){li.C(r,n),Qg("preconnect",r,n)}function ew(r,n,a){li.L(r,n,a);var u=ks;if(u&&r&&n){var f='link[rel="preload"][as="'+Mr(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Mr(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Mr(a.imageSizes)+'"]')):f+='[href="'+Mr(r)+'"]';var y=f;switch(n){case"style":y=Ts(r);break;case"script":y=Cs(r)}gr.has(y)||(r=m({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:r,as:n},a),gr.set(y,r),u.querySelector(f)!==null||n==="style"&&u.querySelector(no(y))||n==="script"&&u.querySelector(so(y))||(n=u.createElement("link"),we(n,"link",r),pe(n),u.head.appendChild(n)))}}function rw(r,n){li.m(r,n);var a=ks;if(a&&r){var u=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Mr(u)+'"][href="'+Mr(r)+'"]',y=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Cs(r)}if(!gr.has(y)&&(r=m({rel:"modulepreload",href:r},n),gr.set(y,r),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(so(y)))return}u=a.createElement("link"),we(u,"link",r),pe(u),a.head.appendChild(u)}}}function iw(r,n,a){li.S(r,n,a);var u=ks;if(u&&r){var f=Gn(u).hoistableStyles,y=Ts(r);n=n||"default";var w=f.get(y);if(!w){var k={loading:0,preload:null};if(w=u.querySelector(no(y)))k.loading=5;else{r=m({rel:"stylesheet",href:r,"data-precedence":n},a),(a=gr.get(y))&&Cd(r,a);var E=w=u.createElement("link");pe(E),we(E,"link",r),E._p=new Promise(function(N,H){E.onload=N,E.onerror=H}),E.addEventListener("load",function(){k.loading|=1}),E.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Ql(w,n,u)}w={type:"stylesheet",instance:w,count:1,state:k},f.set(y,w)}}}function nw(r,n){li.X(r,n);var a=ks;if(a&&r){var u=Gn(a).hoistableScripts,f=Cs(r),y=u.get(f);y||(y=a.querySelector(so(f)),y||(r=m({src:r,async:!0},n),(n=gr.get(f))&&Ad(r,n),y=a.createElement("script"),pe(y),we(y,"link",r),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(f,y))}}function sw(r,n){li.M(r,n);var a=ks;if(a&&r){var u=Gn(a).hoistableScripts,f=Cs(r),y=u.get(f);y||(y=a.querySelector(so(f)),y||(r=m({src:r,async:!0,type:"module"},n),(n=gr.get(f))&&Ad(r,n),y=a.createElement("script"),pe(y),we(y,"link",r),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(f,y))}}function Kg(r,n,a,u){var f=(f=gt.current)?$l(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ts(a.href),a=Gn(f).hoistableStyles,u=a.get(n),u||(u={type:"style",instance:null,count:0,state:null},a.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=Ts(a.href);var y=Gn(f).hoistableStyles,w=y.get(r);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,w),(y=f.querySelector(no(r)))&&!y._p&&(w.instance=y,w.state.loading=5),gr.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},gr.set(r,a),y||aw(f,r,a,w.state))),n&&u===null)throw Error(i(528,""));return w}if(n&&u!==null)throw Error(i(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Cs(a),a=Gn(f).hoistableScripts,u=a.get(n),u||(u={type:"script",instance:null,count:0,state:null},a.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ts(r){return'href="'+Mr(r)+'"'}function no(r){return'link[rel="stylesheet"]['+r+"]"}function t0(r){return m({},r,{"data-precedence":r.precedence,precedence:null})}function aw(r,n,a,u){r.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=r.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),we(n,"link",a),pe(n),r.head.appendChild(n))}function Cs(r){return'[src="'+Mr(r)+'"]'}function so(r){return"script[async]"+r}function e0(r,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var u=r.querySelector('style[data-href~="'+Mr(a.href)+'"]');if(u)return n.instance=u,pe(u),u;var f=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),pe(u),we(u,"style",f),Ql(u,a.precedence,r),n.instance=u;case"stylesheet":f=Ts(a.href);var y=r.querySelector(no(f));if(y)return n.state.loading|=4,n.instance=y,pe(y),y;u=t0(a),(f=gr.get(f))&&Cd(u,f),y=(r.ownerDocument||r).createElement("link"),pe(y);var w=y;return w._p=new Promise(function(k,E){w.onload=k,w.onerror=E}),we(y,"link",u),n.state.loading|=4,Ql(y,a.precedence,r),n.instance=y;case"script":return y=Cs(a.src),(f=r.querySelector(so(y)))?(n.instance=f,pe(f),f):(u=a,(f=gr.get(y))&&(u=m({},a),Ad(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),pe(f),we(f,"link",u),r.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,Ql(u,a.precedence,r));return n.instance}function Ql(r,n,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,y=f,w=0;w<u.length;w++){var k=u[w];if(k.dataset.precedence===n)y=k;else if(y!==f)break}y?y.parentNode.insertBefore(r,y.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(r,n.firstChild))}function Cd(r,n){r.crossOrigin==null&&(r.crossOrigin=n.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=n.referrerPolicy),r.title==null&&(r.title=n.title)}function Ad(r,n){r.crossOrigin==null&&(r.crossOrigin=n.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=n.referrerPolicy),r.integrity==null&&(r.integrity=n.integrity)}var Kl=null;function r0(r,n,a){if(Kl===null){var u=new Map,f=Kl=new Map;f.set(a,u)}else f=Kl,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(r))return u;for(u.set(r,null),a=a.getElementsByTagName(r),f=0;f<a.length;f++){var y=a[f];if(!(y[va]||y[_e]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(n)||"";w=r+w;var k=u.get(w);k?k.push(y):u.set(w,[y])}}return u}function i0(r,n,a){r=r.ownerDocument||r,r.head.insertBefore(a,n==="title"?r.querySelector("head > title"):null)}function ow(r,n,a){if(a===1||n.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return r=n.disabled,typeof n.precedence=="string"&&r==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function n0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ao=null;function lw(){}function uw(r,n,a){if(ao===null)throw Error(i(475));var u=ao;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=Ts(a.href),y=r.querySelector(no(f));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=tu.bind(u),r.then(u,u)),n.state.loading|=4,n.instance=y,pe(y);return}y=r.ownerDocument||r,a=t0(a),(f=gr.get(f))&&Cd(a,f),y=y.createElement("link"),pe(y);var w=y;w._p=new Promise(function(k,E){w.onload=k,w.onerror=E}),we(y,"link",a),n.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(n,r),(r=n.state.preload)&&(n.state.loading&3)===0&&(u.count++,n=tu.bind(u),r.addEventListener("load",n),r.addEventListener("error",n))}}function hw(){if(ao===null)throw Error(i(475));var r=ao;return r.stylesheets&&r.count===0&&zd(r,r.stylesheets),0<r.count?function(n){var a=setTimeout(function(){if(r.stylesheets&&zd(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=n,function(){r.unsuspend=null,clearTimeout(a)}}:null}function tu(){if(this.count--,this.count===0){if(this.stylesheets)zd(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var eu=null;function zd(r,n){r.stylesheets=null,r.unsuspend!==null&&(r.count++,eu=new Map,n.forEach(cw,r),eu=null,tu.call(r))}function cw(r,n){if(!(n.state.loading&4)){var a=eu.get(r);if(a)var u=a.get(null);else{a=new Map,eu.set(r,a);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<f.length;y++){var w=f[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),u=w)}u&&a.set(null,u)}f=n.instance,w=f.getAttribute("data-precedence"),y=a.get(w)||u,y===u&&a.set(null,f),a.set(w,f),this.count++,u=tu.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),y?y.parentNode.insertBefore(f,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),n.state.loading|=4}}var oo={$$typeof:C,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function dw(r,n,a,u,f,y,w,k){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kh(0),this.hiddenUpdates=kh(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function s0(r,n,a,u,f,y,w,k,E,N,H,Z){return r=new dw(r,n,a,w,k,E,N,Z),n=1,y===!0&&(n|=24),y=$e(3,null,null,n),r.current=y,y.stateNode=r,n=hc(),n.refCount++,r.pooledCache=n,n.refCount++,y.memoizedState={element:u,isDehydrated:a,cache:n},fc(y),r}function a0(r){return r?(r=ns,r):ns}function o0(r,n,a,u,f,y){f=a0(f),u.context===null?u.context=f:u.pendingContext=f,u=Ci(n),u.payload={element:a},y=y===void 0?null:y,y!==null&&(u.callback=y),a=Ai(r,u,n),a!==null&&(rr(a,r,n),Ba(a,r,n))}function l0(r,n){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<n?a:n}}function Ed(r,n){l0(r,n),(r=r.alternate)&&l0(r,n)}function u0(r){if(r.tag===13){var n=is(r,67108864);n!==null&&rr(n,r,67108864),Ed(r,67108864)}}var ru=!0;function pw(r,n,a,u){var f=U.T;U.T=null;var y=$.p;try{$.p=2,Id(r,n,a,u)}finally{$.p=y,U.T=f}}function fw(r,n,a,u){var f=U.T;U.T=null;var y=$.p;try{$.p=8,Id(r,n,a,u)}finally{$.p=y,U.T=f}}function Id(r,n,a,u){if(ru){var f=Pd(u);if(f===null)vd(r,n,u,iu,a),c0(r,u);else if(yw(f,r,n,a,u))u.stopPropagation();else if(c0(r,u),n&4&&-1<mw.indexOf(r)){for(;f!==null;){var y=qn(f);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=nn(y.pendingLanes);if(w!==0){var k=y;for(k.pendingLanes|=2,k.entangledLanes|=2;w;){var E=1<<31-Oe(w);k.entanglements[1]|=E,w&=~E}Nr(y),(Ft&6)===0&&(Vl=nt()+500,to(0))}}break;case 13:k=is(y,2),k!==null&&rr(k,y,2),jl(),Ed(y,2)}if(y=Pd(u),y===null&&vd(r,n,u,iu,a),y===f)break;f=y}f!==null&&u.stopPropagation()}else vd(r,n,u,null,a)}}function Pd(r){return r=Bh(r),Od(r)}var iu=null;function Od(r){if(iu=null,r=Hn(r),r!==null){var n=o(r);if(n===null)r=null;else{var a=n.tag;if(a===13){if(r=l(n),r!==null)return r;r=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;r=null}else n!==r&&(r=null)}}return iu=r,null}function h0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Et()){case kt:return 2;case Ht:return 8;case qt:case te:return 32;case Ie:return 268435456;default:return 32}default:return 32}}var Rd=!1,Ui=null,ji=null,Wi=null,lo=new Map,uo=new Map,Hi=[],mw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c0(r,n){switch(r){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":lo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(n.pointerId)}}function ho(r,n,a,u,f,y){return r===null||r.nativeEvent!==y?(r={blockedOn:n,domEventName:a,eventSystemFlags:u,nativeEvent:y,targetContainers:[f]},n!==null&&(n=qn(n),n!==null&&u0(n)),r):(r.eventSystemFlags|=u,n=r.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),r)}function yw(r,n,a,u,f){switch(n){case"focusin":return Ui=ho(Ui,r,n,a,u,f),!0;case"dragenter":return ji=ho(ji,r,n,a,u,f),!0;case"mouseover":return Wi=ho(Wi,r,n,a,u,f),!0;case"pointerover":var y=f.pointerId;return lo.set(y,ho(lo.get(y)||null,r,n,a,u,f)),!0;case"gotpointercapture":return y=f.pointerId,uo.set(y,ho(uo.get(y)||null,r,n,a,u,f)),!0}return!1}function d0(r){var n=Hn(r.target);if(n!==null){var a=o(n);if(a!==null){if(n=a.tag,n===13){if(n=l(a),n!==null){r.blockedOn=n,ux(r.priority,function(){if(a.tag===13){var u=er();u=Th(u);var f=is(a,u);f!==null&&rr(f,a,u),Ed(a,u)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function nu(r){if(r.blockedOn!==null)return!1;for(var n=r.targetContainers;0<n.length;){var a=Pd(r.nativeEvent);if(a===null){a=r.nativeEvent;var u=new a.constructor(a.type,a);Nh=u,a.target.dispatchEvent(u),Nh=null}else return n=qn(a),n!==null&&u0(n),r.blockedOn=a,!1;n.shift()}return!0}function p0(r,n,a){nu(r)&&a.delete(n)}function gw(){Rd=!1,Ui!==null&&nu(Ui)&&(Ui=null),ji!==null&&nu(ji)&&(ji=null),Wi!==null&&nu(Wi)&&(Wi=null),lo.forEach(p0),uo.forEach(p0)}function su(r,n){r.blockedOn===n&&(r.blockedOn=null,Rd||(Rd=!0,h.unstable_scheduleCallback(h.unstable_NormalPriority,gw)))}var au=null;function f0(r){au!==r&&(au=r,h.unstable_scheduleCallback(h.unstable_NormalPriority,function(){au===r&&(au=null);for(var n=0;n<r.length;n+=3){var a=r[n],u=r[n+1],f=r[n+2];if(typeof u!="function"){if(Od(u||a)===null)continue;break}var y=qn(a);y!==null&&(r.splice(n,3),n-=3,Oc(y,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function co(r){function n(E){return su(E,r)}Ui!==null&&su(Ui,r),ji!==null&&su(ji,r),Wi!==null&&su(Wi,r),lo.forEach(n),uo.forEach(n);for(var a=0;a<Hi.length;a++){var u=Hi[a];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Hi.length&&(a=Hi[0],a.blockedOn===null);)d0(a),a.blockedOn===null&&Hi.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],y=a[u+1],w=f[Ve]||null;if(typeof y=="function")w||f0(a);else if(w){var k=null;if(y&&y.hasAttribute("formAction")){if(f=y,w=y[Ve]||null)k=w.formAction;else if(Od(f)!==null)continue}else k=w.action;typeof k=="function"?a[u+1]=k:(a.splice(u,3),u-=3),f0(a)}}}function Ld(r){this._internalRoot=r}ou.prototype.render=Ld.prototype.render=function(r){var n=this._internalRoot;if(n===null)throw Error(i(409));var a=n.current,u=er();o0(a,u,r,n,null,null)},ou.prototype.unmount=Ld.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var n=r.containerInfo;o0(r.current,2,null,r,null,null),jl(),n[Wn]=null}};function ou(r){this._internalRoot=r}ou.prototype.unstable_scheduleHydration=function(r){if(r){var n=If();r={blockedOn:null,target:r,priority:n};for(var a=0;a<Hi.length&&n!==0&&n<Hi[a].priority;a++);Hi.splice(a,0,r),a===0&&d0(r)}};var m0=t.version;if(m0!=="19.1.0")throw Error(i(527,m0,"19.1.0"));$.findDOMNode=function(r){var n=r._reactInternals;if(n===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(n),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var vw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{Si=lu.inject(vw),Me=lu}catch{}}return fo.createRoot=function(r,n){if(!s(r))throw Error(i(299));var a=!1,u="",f=Iy,y=Py,w=Oy,k=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(w=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(k=n.unstable_transitionCallbacks)),n=s0(r,1,!1,null,null,a,u,f,y,w,k,null),r[Wn]=n.current,gd(r),new Ld(n)},fo.hydrateRoot=function(r,n,a){if(!s(r))throw Error(i(299));var u=!1,f="",y=Iy,w=Py,k=Oy,E=null,N=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(k=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(E=a.unstable_transitionCallbacks),a.formState!==void 0&&(N=a.formState)),n=s0(r,1,!0,n,a??null,u,f,y,w,k,E,N),n.context=a0(null),a=n.current,u=er(),u=Th(u),f=Ci(u),f.callback=null,Ai(a,f,u),a=u,n.current.lanes=a,ga(n,a),Nr(n),r[Wn]=n.current,gd(r),new ou(n)},fo.version="19.1.0",fo}var O0;function Dw(){if(O0)return Nd.exports;O0=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(t){console.error(t)}}return h(),Nd.exports=Bw(),Nd.exports}var Fw=Dw();const Vw="modulepreload",Uw=function(h){return"/"+h},R0={},la=function(h,t,e){let i=Promise.resolve();if(t&&t.length>0){let o=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=o(t.map(d=>{if(d=Uw(d),d in R0)return;R0[d]=!0;const p=d.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=p?"stylesheet":Vw,p||(g.as="script"),g.crossOrigin="",g.href=d,c&&g.setAttribute("nonce",c),document.head.appendChild(g),p)return new Promise((v,b)=>{g.addEventListener("load",v),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return h().catch(s)})};/**
* @license
* Copyright 2010-2025 Three.js Authors
* SPDX-License-Identifier: MIT
*/const ub="176",CT={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},AT={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},zT=0,ET=1,IT=2,PT=3,OT=0,RT=1,LT=2,NT=3,Mp=0,hb=1,BT=2,jw=0,L0=1,DT=2,FT=3,VT=4,UT=5,N0=100,jT=101,WT=102,HT=103,qT=104,GT=200,YT=201,ZT=202,JT=203,B0=204,D0=205,XT=206,$T=207,QT=208,KT=209,tC=210,eC=211,rC=212,iC=213,nC=214,sC=0,aC=1,oC=2,F0=3,lC=4,uC=5,hC=6,cC=7,Np=0,dC=1,pC=2,fC=0,mC=1,yC=2,gC=3,vC=4,bC=5,xC=6,wC=7,V0="attached",Ww="detached",Bp=300,Dp=301,Hw=302,qw=303,Gw=304,Yw=306,_p=1e3,Fr=1001,kp=1002,Er=1003,Zw=1004,SC=1004,Jw=1005,MC=1005,wr=1006,Xw=1007,_C=1007,ph=1008,kC=1008,Fp=1009,$w=1010,Qw=1011,Kw=1012,tS=1013,Vp=1014,Qs=1015,eS=1016,rS=1017,iS=1018,TC=1020,nS=35902,sS=1021,aS=1022,Bo=1023,U0=1026,oS=1027,cb=1028,db=1029,lS=1030,uS=1031,CC=1032,hS=1033,cS=33776,dS=33777,pS=33778,fS=33779,mS=35840,yS=35841,gS=35842,vS=35843,bS=36196,xS=37492,wS=37496,SS=37808,MS=37809,_S=37810,kS=37811,TS=37812,CS=37813,AS=37814,zS=37815,ES=37816,IS=37817,PS=37818,OS=37819,RS=37820,LS=37821,NS=36492,BS=36494,DS=36495,FS=36283,VS=36284,US=36285,jS=36286,WS=2200,HS=2201,qS=2202,th=2300,Tp=2301,Dd=2302,Ys=2400,Zs=2401,eh=2402,Up=2500,pb=2501,AC=0,zC=1,EC=2,GS=3200,IC=3201,PC=3202,OC=3203,ua=0,RC=1,fb="",br="srgb",j0="srgb-linear",W0="linear",Fd="srgb",LC=0,As=7680,NC=7681,BC=7682,DC=7683,FC=34055,VC=34056,UC=5386,jC=512,WC=513,HC=514,qC=515,GC=516,YC=517,ZC=518,H0=519,JC=512,XC=513,$C=514,QC=515,KC=516,t3=517,e3=518,r3=519,rh=35044,i3=35048,n3=35040,s3=35045,a3=35049,o3=35041,l3=35046,u3=35050,h3=35042,c3="100",d3="300 es",Vr=2e3,ih=2001,p3={COMPUTE:"compute",RENDER:"render"},f3={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},m3={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FLAT_FIRST:"flat first",FLAT_EITHER:"flat either"};class en{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)}hasEventListener(t,e){const i=this._listeners;return i===void 0?!1:i[t]!==void 0&&i[t].indexOf(e)!==-1}removeEventListener(t,e){const i=this._listeners;if(i===void 0)return;const s=i[t];if(s!==void 0){const o=s.indexOf(e);o!==-1&&s.splice(o,1)}}dispatchEvent(t){const e=this._listeners;if(e===void 0)return;const i=e[t.type];if(i!==void 0){t.target=this;const s=i.slice(0);for(let o=0,l=s.length;o<l;o++)s[o].call(this,t);t.target=null}}}const Ce=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let q0=1234567;const Nn=Math.PI/180,Do=180/Math.PI;function or(){const h=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Ce[h&255]+Ce[h>>8&255]+Ce[h>>16&255]+Ce[h>>24&255]+"-"+Ce[t&255]+Ce[t>>8&255]+"-"+Ce[t>>16&15|64]+Ce[t>>24&255]+"-"+Ce[e&63|128]+Ce[e>>8&255]+"-"+Ce[e>>16&255]+Ce[e>>24&255]+Ce[i&255]+Ce[i>>8&255]+Ce[i>>16&255]+Ce[i>>24&255]).toLowerCase()}function vt(h,t,e){return Math.max(t,Math.min(e,h))}function jp(h,t){return(h%t+t)%t}function YS(h,t,e,i,s){return i+(h-t)*(s-i)/(e-t)}function ZS(h,t,e){return h!==t?(e-h)/(t-h):0}function Ro(h,t,e){return(1-e)*h+e*t}function JS(h,t,e,i){return Ro(h,t,1-Math.exp(-e*i))}function XS(h,t=1){return t-Math.abs(jp(h,t*2)-t)}function $S(h,t,e){return h<=t?0:h>=e?1:(h=(h-t)/(e-t),h*h*(3-2*h))}function QS(h,t,e){return h<=t?0:h>=e?1:(h=(h-t)/(e-t),h*h*h*(h*(h*6-15)+10))}function KS(h,t){return h+Math.floor(Math.random()*(t-h+1))}function tM(h,t){return h+Math.random()*(t-h)}function eM(h){return h*(.5-Math.random())}function rM(h){h!==void 0&&(q0=h);let t=q0+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function iM(h){return h*Nn}function nM(h){return h*Do}function sM(h){return(h&h-1)===0&&h!==0}function aM(h){return Math.pow(2,Math.ceil(Math.log(h)/Math.LN2))}function oM(h){return Math.pow(2,Math.floor(Math.log(h)/Math.LN2))}function lM(h,t,e,i,s){const o=Math.cos,l=Math.sin,c=o(e/2),d=l(e/2),p=o((t+i)/2),m=l((t+i)/2),g=o((t-i)/2),v=l((t-i)/2),b=o((i-t)/2),x=l((i-t)/2);switch(s){case"XYX":h.set(c*m,d*g,d*v,c*p);break;case"YZY":h.set(d*v,c*m,d*g,c*p);break;case"ZXZ":h.set(d*g,d*v,c*m,c*p);break;case"XZX":h.set(c*m,d*x,d*b,c*p);break;case"YXY":h.set(d*b,c*m,d*x,c*p);break;case"ZYZ":h.set(d*x,d*b,c*m,c*p);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function Ne(h,t){switch(t.constructor){case Float32Array:return h;case Uint32Array:return h/4294967295;case Uint16Array:return h/65535;case Uint8Array:return h/255;case Int32Array:return Math.max(h/2147483647,-1);case Int16Array:return Math.max(h/32767,-1);case Int8Array:return Math.max(h/127,-1);default:throw new Error("Invalid component type.")}}function wt(h,t){switch(t.constructor){case Float32Array:return h;case Uint32Array:return Math.round(h*4294967295);case Uint16Array:return Math.round(h*65535);case Uint8Array:return Math.round(h*255);case Int32Array:return Math.round(h*2147483647);case Int16Array:return Math.round(h*32767);case Int8Array:return Math.round(h*127);default:throw new Error("Invalid component type.")}}const y3={DEG2RAD:Nn,RAD2DEG:Do,generateUUID:or,clamp:vt,euclideanModulo:jp,mapLinear:YS,inverseLerp:ZS,lerp:Ro,damp:JS,pingpong:XS,smoothstep:$S,smootherstep:QS,randInt:KS,randFloat:tM,randFloatSpread:eM,seededRandom:rM,degToRad:iM,radToDeg:nM,isPowerOfTwo:sM,ceilPowerOfTwo:aM,floorPowerOfTwo:oM,setQuaternionFromProperEuler:lM,normalize:wt,denormalize:Ne};class X{constructor(t=0,e=0){X.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,s=t.elements;return this.x=s[0]*e+s[3]*i+s[6],this.y=s[1]*e+s[4]*i+s[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=vt(this.x,t.x,e.x),this.y=vt(this.y,t.y,e.y),this}clampScalar(t,e){return this.x=vt(this.x,t,e),this.y=vt(this.y,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(vt(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(vt(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),s=Math.sin(e),o=this.x-t.x,l=this.y-t.y;return this.x=o*i-l*s+t.x,this.y=o*s+l*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Hr{constructor(t,e,i,s,o,l,c,d,p){Hr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,e,i,s,o,l,c,d,p)}set(t,e,i,s,o,l,c,d,p){const m=this.elements;return m[0]=t,m[1]=s,m[2]=c,m[3]=e,m[4]=o,m[5]=d,m[6]=i,m[7]=l,m[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,o=this.elements,l=i[0],c=i[3],d=i[6],p=i[1],m=i[4],g=i[7],v=i[2],b=i[5],x=i[8],S=s[0],_=s[3],M=s[6],T=s[1],C=s[4],A=s[7],O=s[2],B=s[5],j=s[8];return o[0]=l*S+c*T+d*O,o[3]=l*_+c*C+d*B,o[6]=l*M+c*A+d*j,o[1]=p*S+m*T+g*O,o[4]=p*_+m*C+g*B,o[7]=p*M+m*A+g*j,o[2]=v*S+b*T+x*O,o[5]=v*_+b*C+x*B,o[8]=v*M+b*A+x*j,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],s=t[2],o=t[3],l=t[4],c=t[5],d=t[6],p=t[7],m=t[8];return e*l*m-e*c*p-i*o*m+i*c*d+s*o*p-s*l*d}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],o=t[3],l=t[4],c=t[5],d=t[6],p=t[7],m=t[8],g=m*l-c*p,v=c*d-m*o,b=p*o-l*d,x=e*g+i*v+s*b;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/x;return t[0]=g*S,t[1]=(s*p-m*i)*S,t[2]=(c*i-s*l)*S,t[3]=v*S,t[4]=(m*e-s*d)*S,t[5]=(s*o-c*e)*S,t[6]=b*S,t[7]=(i*d-p*e)*S,t[8]=(l*e-i*o)*S,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,s,o,l,c){const d=Math.cos(o),p=Math.sin(o);return this.set(i*d,i*p,-i*(d*l+p*c)+l+t,-s*p,s*d,-s*(-p*l+d*c)+c+e,0,0,1),this}scale(t,e){return this.premultiply(Vd.makeScale(t,e)),this}rotate(t){return this.premultiply(Vd.makeRotation(-t)),this}translate(t,e){return this.premultiply(Vd.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,i,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,i=t.elements;for(let s=0;s<9;s++)if(e[s]!==i[s])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const Vd=new Hr;function uM(h){for(let t=h.length-1;t>=0;--t)if(h[t]>=65535)return!0;return!1}const hM={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Js(h,t){return new hM[h](t)}function nh(h){return document.createElementNS("http://www.w3.org/1999/xhtml",h)}function g3(){const h=nh("canvas");return h.style.display="block",h}const G0={};function v3(h){h in G0||(G0[h]=!0,console.warn(h))}function b3(h,t,e){return new Promise(function(i,s){function o(){switch(h.clientWaitSync(t,h.SYNC_FLUSH_COMMANDS_BIT,0)){case h.WAIT_FAILED:s();break;case h.TIMEOUT_EXPIRED:setTimeout(o,e);break;default:i()}}setTimeout(o,e)})}function x3(h){const t=h.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}function w3(h){const t=h.elements;t[11]===-1?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=-t[14]+1)}const Y0=new Hr().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Z0=new Hr().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function cM(){const h={enabled:!0,workingColorSpace:j0,spaces:{},convert:function(s,o,l){return this.enabled===!1||o===l||!o||!l||(this.spaces[o].transfer===Fd&&(s.r=yi(s.r),s.g=yi(s.g),s.b=yi(s.b)),this.spaces[o].primaries!==this.spaces[l].primaries&&(s.applyMatrix3(this.spaces[o].toXYZ),s.applyMatrix3(this.spaces[l].fromXYZ)),this.spaces[l].transfer===Fd&&(s.r=Xs(s.r),s.g=Xs(s.g),s.b=Xs(s.b))),s},fromWorkingColorSpace:function(s,o){return this.convert(s,this.workingColorSpace,o)},toWorkingColorSpace:function(s,o){return this.convert(s,o,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return s===fb?W0:this.spaces[s].transfer},getLuminanceCoefficients:function(s,o=this.workingColorSpace){return s.fromArray(this.spaces[o].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,o,l){return s.copy(this.spaces[o].toXYZ).multiply(this.spaces[l].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace}},t=[.64,.33,.3,.6,.15,.06],e=[.2126,.7152,.0722],i=[.3127,.329];return h.define({[j0]:{primaries:t,whitePoint:i,transfer:W0,toXYZ:Y0,fromXYZ:Z0,luminanceCoefficients:e,workingColorSpaceConfig:{unpackColorSpace:br},outputColorSpaceConfig:{drawingBufferColorSpace:br}},[br]:{primaries:t,whitePoint:i,transfer:Fd,toXYZ:Y0,fromXYZ:Z0,luminanceCoefficients:e,outputColorSpaceConfig:{drawingBufferColorSpace:br}}}),h}const sr=cM();function yi(h){return h<.04045?h*.0773993808:Math.pow(h*.9478672986+.0521327014,2.4)}function Xs(h){return h<.0031308?h*12.92:1.055*Math.pow(h,.41666)-.055}let zs;class dM{static getDataURL(t,e="image/png"){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let i;if(t instanceof HTMLCanvasElement)i=t;else{zs===void 0&&(zs=nh("canvas")),zs.width=t.width,zs.height=t.height;const s=zs.getContext("2d");t instanceof ImageData?s.putImageData(t,0,0):s.drawImage(t,0,0,t.width,t.height),i=zs}return i.toDataURL(e)}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=nh("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const s=i.getImageData(0,0,t.width,t.height),o=s.data;for(let l=0;l<o.length;l++)o[l]=yi(o[l]/255)*255;return i.putImageData(s,0,0),e}else if(t.data){const e=t.data.slice(0);for(let i=0;i<e.length;i++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[i]=Math.floor(yi(e[i]/255)*255):e[i]=yi(e[i]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let pM=0;class Rn{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:pM++}),this.uuid=or(),this.data=t,this.dataReady=!0,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const i={uuid:this.uuid,url:""},s=this.data;if(s!==null){let o;if(Array.isArray(s)){o=[];for(let l=0,c=s.length;l<c;l++)s[l].isDataTexture?o.push(Ud(s[l].image)):o.push(Ud(s[l]))}else o=Ud(s);i.url=o}return e||(t.images[this.uuid]=i),i}}function Ud(h){return typeof HTMLImageElement<"u"&&h instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&h instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&h instanceof ImageBitmap?dM.getDataURL(h):h.data?{data:Array.from(h.data),width:h.width,height:h.height,type:h.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let fM=0;class de extends en{constructor(t=de.DEFAULT_IMAGE,e=de.DEFAULT_MAPPING,i=Fr,s=Fr,o=wr,l=ph,c=Bo,d=Fp,p=de.DEFAULT_ANISOTROPY,m=fb){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:fM++}),this.uuid=or(),this.name="",this.source=new Rn(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=o,this.minFilter=l,this.anisotropy=p,this.format=c,this.internalFormat=null,this.type=d,this.offset=new X(0,0),this.repeat=new X(1,1),this.center=new X(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Hr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isTextureArray=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.renderTarget=t.renderTarget,this.isRenderTargetTexture=t.isRenderTargetTexture,this.isTextureArray=t.isTextureArray,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),e||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==Bp)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case _p:t.x=t.x-Math.floor(t.x);break;case Fr:t.x=t.x<0?0:1;break;case kp:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case _p:t.y=t.y-Math.floor(t.y);break;case Fr:t.y=t.y<0?0:1;break;case kp:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){t===!0&&this.pmremVersion++}}de.DEFAULT_IMAGE=null;de.DEFAULT_MAPPING=Bp;de.DEFAULT_ANISOTROPY=1;class ve{constructor(t=0,e=0,i=0,s=1){ve.prototype.isVector4=!0,this.x=t,this.y=e,this.z=i,this.w=s}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,s){return this.x=t,this.y=e,this.z=i,this.w=s,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,s=this.z,o=this.w,l=t.elements;return this.x=l[0]*e+l[4]*i+l[8]*s+l[12]*o,this.y=l[1]*e+l[5]*i+l[9]*s+l[13]*o,this.z=l[2]*e+l[6]*i+l[10]*s+l[14]*o,this.w=l[3]*e+l[7]*i+l[11]*s+l[15]*o,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,s,o;const l=t.elements,c=l[0],d=l[4],p=l[8],m=l[1],g=l[5],v=l[9],b=l[2],x=l[6],S=l[10];if(Math.abs(d-m)<.01&&Math.abs(p-b)<.01&&Math.abs(v-x)<.01){if(Math.abs(d+m)<.1&&Math.abs(p+b)<.1&&Math.abs(v+x)<.1&&Math.abs(c+g+S-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const M=(c+1)/2,T=(g+1)/2,C=(S+1)/2,A=(d+m)/4,O=(p+b)/4,B=(v+x)/4;return M>T&&M>C?M<.01?(i=0,s=.707106781,o=.707106781):(i=Math.sqrt(M),s=A/i,o=O/i):T>C?T<.01?(i=.707106781,s=0,o=.707106781):(s=Math.sqrt(T),i=A/s,o=B/s):C<.01?(i=.707106781,s=.707106781,o=0):(o=Math.sqrt(C),i=O/o,s=B/o),this.set(i,s,o,e),this}let _=Math.sqrt((x-v)*(x-v)+(p-b)*(p-b)+(m-d)*(m-d));return Math.abs(_)<.001&&(_=1),this.x=(x-v)/_,this.y=(p-b)/_,this.z=(m-d)/_,this.w=Math.acos((c+g+S-1)/2),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=vt(this.x,t.x,e.x),this.y=vt(this.y,t.y,e.y),this.z=vt(this.z,t.z,e.z),this.w=vt(this.w,t.w,e.w),this}clampScalar(t,e){return this.x=vt(this.x,t,e),this.y=vt(this.y,t,e),this.z=vt(this.z,t,e),this.w=vt(this.w,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(vt(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Wp extends en{constructor(t=1,e=1,i={}){super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=i.depth?i.depth:1,this.scissor=new ve(0,0,t,e),this.scissorTest=!1,this.viewport=new ve(0,0,t,e);const s={width:t,height:e,depth:this.depth};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:wr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,multiview:!1},i);const o=new de(s,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);o.flipY=!1,o.generateMipmaps=i.generateMipmaps,o.internalFormat=i.internalFormat,this.textures=[];const l=i.count;for(let c=0;c<l;c++)this.textures[c]=o.clone(),this.textures[c].isRenderTargetTexture=!0,this.textures[c].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}set depthTexture(t){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),t!==null&&(t.renderTarget=this),this._depthTexture=t}get depthTexture(){return this._depthTexture}setSize(t,e,i=1){if(this.width!==t||this.height!==e||this.depth!==i){this.width=t,this.height=e,this.depth=i;for(let s=0,o=this.textures.length;s<o;s++)this.textures[s].image.width=t,this.textures[s].image.height=e,this.textures[s].image.depth=i;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let e=0,i=t.textures.length;e<i;e++){this.textures[e]=t.textures[e].clone(),this.textures[e].isRenderTargetTexture=!0,this.textures[e].renderTarget=this;const s=Object.assign({},t.textures[e].image);this.textures[e].source=new Rn(s)}return this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Hp extends Wp{constructor(t=1,e=1,i={}){super(t,e,i),this.isWebGLRenderTarget=!0}}class mb extends de{constructor(t=null,e=1,i=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:i,depth:s},this.magFilter=Er,this.minFilter=Er,this.wrapR=Fr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class S3 extends Hp{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new mb(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class yb extends de{constructor(t=null,e=1,i=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:i,depth:s},this.magFilter=Er,this.minFilter=Er,this.wrapR=Fr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class M3 extends Hp{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new yb(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class lr{constructor(t=0,e=0,i=0,s=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=s}static slerpFlat(t,e,i,s,o,l,c){let d=i[s+0],p=i[s+1],m=i[s+2],g=i[s+3];const v=o[l+0],b=o[l+1],x=o[l+2],S=o[l+3];if(c===0){t[e+0]=d,t[e+1]=p,t[e+2]=m,t[e+3]=g;return}if(c===1){t[e+0]=v,t[e+1]=b,t[e+2]=x,t[e+3]=S;return}if(g!==S||d!==v||p!==b||m!==x){let _=1-c;const M=d*v+p*b+m*x+g*S,T=M>=0?1:-1,C=1-M*M;if(C>Number.EPSILON){const O=Math.sqrt(C),B=Math.atan2(O,M*T);_=Math.sin(_*B)/O,c=Math.sin(c*B)/O}const A=c*T;if(d=d*_+v*A,p=p*_+b*A,m=m*_+x*A,g=g*_+S*A,_===1-c){const O=1/Math.sqrt(d*d+p*p+m*m+g*g);d*=O,p*=O,m*=O,g*=O}}t[e]=d,t[e+1]=p,t[e+2]=m,t[e+3]=g}static multiplyQuaternionsFlat(t,e,i,s,o,l){const c=i[s],d=i[s+1],p=i[s+2],m=i[s+3],g=o[l],v=o[l+1],b=o[l+2],x=o[l+3];return t[e]=c*x+m*g+d*b-p*v,t[e+1]=d*x+m*v+p*g-c*b,t[e+2]=p*x+m*b+c*v-d*g,t[e+3]=m*x-c*g-d*v-p*b,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,s){return this._x=t,this._y=e,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const i=t._x,s=t._y,o=t._z,l=t._order,c=Math.cos,d=Math.sin,p=c(i/2),m=c(s/2),g=c(o/2),v=d(i/2),b=d(s/2),x=d(o/2);switch(l){case"XYZ":this._x=v*m*g+p*b*x,this._y=p*b*g-v*m*x,this._z=p*m*x+v*b*g,this._w=p*m*g-v*b*x;break;case"YXZ":this._x=v*m*g+p*b*x,this._y=p*b*g-v*m*x,this._z=p*m*x-v*b*g,this._w=p*m*g+v*b*x;break;case"ZXY":this._x=v*m*g-p*b*x,this._y=p*b*g+v*m*x,this._z=p*m*x+v*b*g,this._w=p*m*g-v*b*x;break;case"ZYX":this._x=v*m*g-p*b*x,this._y=p*b*g+v*m*x,this._z=p*m*x-v*b*g,this._w=p*m*g+v*b*x;break;case"YZX":this._x=v*m*g+p*b*x,this._y=p*b*g+v*m*x,this._z=p*m*x-v*b*g,this._w=p*m*g-v*b*x;break;case"XZY":this._x=v*m*g-p*b*x,this._y=p*b*g-v*m*x,this._z=p*m*x+v*b*g,this._w=p*m*g+v*b*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return e===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,s=Math.sin(i);return this._x=t.x*s,this._y=t.y*s,this._z=t.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],s=e[4],o=e[8],l=e[1],c=e[5],d=e[9],p=e[2],m=e[6],g=e[10],v=i+c+g;if(v>0){const b=.5/Math.sqrt(v+1);this._w=.25/b,this._x=(m-d)*b,this._y=(o-p)*b,this._z=(l-s)*b}else if(i>c&&i>g){const b=2*Math.sqrt(1+i-c-g);this._w=(m-d)/b,this._x=.25*b,this._y=(s+l)/b,this._z=(o+p)/b}else if(c>g){const b=2*Math.sqrt(1+c-i-g);this._w=(o-p)/b,this._x=(s+l)/b,this._y=.25*b,this._z=(d+m)/b}else{const b=2*Math.sqrt(1+g-i-c);this._w=(l-s)/b,this._x=(o+p)/b,this._y=(d+m)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(vt(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(i===0)return this;const s=Math.min(1,e/i);return this.slerp(t,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,s=t._y,o=t._z,l=t._w,c=e._x,d=e._y,p=e._z,m=e._w;return this._x=i*m+l*c+s*p-o*d,this._y=s*m+l*d+o*c-i*p,this._z=o*m+l*p+i*d-s*c,this._w=l*m-i*c-s*d-o*p,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const i=this._x,s=this._y,o=this._z,l=this._w;let c=l*t._w+i*t._x+s*t._y+o*t._z;if(c<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,c=-c):this.copy(t),c>=1)return this._w=l,this._x=i,this._y=s,this._z=o,this;const d=1-c*c;if(d<=Number.EPSILON){const b=1-e;return this._w=b*l+e*this._w,this._x=b*i+e*this._x,this._y=b*s+e*this._y,this._z=b*o+e*this._z,this.normalize(),this}const p=Math.sqrt(d),m=Math.atan2(p,c),g=Math.sin((1-e)*m)/p,v=Math.sin(e*m)/p;return this._w=l*g+this._w*v,this._x=i*g+this._x*v,this._y=s*g+this._y*v,this._z=o*g+this._z*v,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),i=Math.random(),s=Math.sqrt(1-i),o=Math.sqrt(i);return this.set(s*Math.sin(t),s*Math.cos(t),o*Math.sin(e),o*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class z{constructor(t=0,e=0,i=0){z.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return i===void 0&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(J0.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(J0.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,s=this.z,o=t.elements;return this.x=o[0]*e+o[3]*i+o[6]*s,this.y=o[1]*e+o[4]*i+o[7]*s,this.z=o[2]*e+o[5]*i+o[8]*s,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,s=this.z,o=t.elements,l=1/(o[3]*e+o[7]*i+o[11]*s+o[15]);return this.x=(o[0]*e+o[4]*i+o[8]*s+o[12])*l,this.y=(o[1]*e+o[5]*i+o[9]*s+o[13])*l,this.z=(o[2]*e+o[6]*i+o[10]*s+o[14])*l,this}applyQuaternion(t){const e=this.x,i=this.y,s=this.z,o=t.x,l=t.y,c=t.z,d=t.w,p=2*(l*s-c*i),m=2*(c*e-o*s),g=2*(o*i-l*e);return this.x=e+d*p+l*g-c*m,this.y=i+d*m+c*p-o*g,this.z=s+d*g+o*m-l*p,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,s=this.z,o=t.elements;return this.x=o[0]*e+o[4]*i+o[8]*s,this.y=o[1]*e+o[5]*i+o[9]*s,this.z=o[2]*e+o[6]*i+o[10]*s,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=vt(this.x,t.x,e.x),this.y=vt(this.y,t.y,e.y),this.z=vt(this.z,t.z,e.z),this}clampScalar(t,e){return this.x=vt(this.x,t,e),this.y=vt(this.y,t,e),this.z=vt(this.z,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(vt(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,s=t.y,o=t.z,l=e.x,c=e.y,d=e.z;return this.x=s*d-o*c,this.y=o*l-i*d,this.z=i*c-s*l,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return jd.copy(this).projectOnVector(t),this.sub(jd)}reflect(t){return this.sub(jd.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(vt(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,s=this.z-t.z;return e*e+i*i+s*s}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const s=Math.sin(e)*t;return this.x=s*Math.sin(i),this.y=Math.cos(e)*t,this.z=s*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),s=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=s,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=Math.random()*2-1,i=Math.sqrt(1-e*e);return this.x=i*Math.cos(t),this.y=e,this.z=i*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const jd=new z,J0=new lr;class Be{constructor(t=new z(1/0,1/0,1/0),e=new z(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e+=3)this.expandByPoint(Cr.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,i=t.count;e<i;e++)this.expandByPoint(Cr.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=Cr.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const i=t.geometry;if(i!==void 0){const o=i.getAttribute("position");if(e===!0&&o!==void 0&&t.isInstancedMesh!==!0)for(let l=0,c=o.count;l<c;l++)t.isMesh===!0?t.getVertexPosition(l,Cr):Cr.fromBufferAttribute(o,l),Cr.applyMatrix4(t.matrixWorld),this.expandByPoint(Cr);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),uu.copy(t.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),uu.copy(i.boundingBox)),uu.applyMatrix4(t.matrixWorld),this.union(uu)}const s=t.children;for(let o=0,l=s.length;o<l;o++)this.expandByObject(s[o],e);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,Cr),Cr.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(mo),hu.subVectors(this.max,mo),Es.subVectors(t.a,mo),Is.subVectors(t.b,mo),Ps.subVectors(t.c,mo),Gi.subVectors(Is,Es),Yi.subVectors(Ps,Is),Sn.subVectors(Es,Ps);let e=[0,-Gi.z,Gi.y,0,-Yi.z,Yi.y,0,-Sn.z,Sn.y,Gi.z,0,-Gi.x,Yi.z,0,-Yi.x,Sn.z,0,-Sn.x,-Gi.y,Gi.x,0,-Yi.y,Yi.x,0,-Sn.y,Sn.x,0];return!Wd(e,Es,Is,Ps,hu)||(e=[1,0,0,0,1,0,0,0,1],!Wd(e,Es,Is,Ps,hu))?!1:(cu.crossVectors(Gi,Yi),e=[cu.x,cu.y,cu.z],Wd(e,Es,Is,Ps,hu))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Cr).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(Cr).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(ui[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),ui[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),ui[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),ui[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),ui[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),ui[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),ui[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),ui[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(ui),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const ui=[new z,new z,new z,new z,new z,new z,new z,new z],Cr=new z,uu=new Be,Es=new z,Is=new z,Ps=new z,Gi=new z,Yi=new z,Sn=new z,mo=new z,hu=new z,cu=new z,Mn=new z;function Wd(h,t,e,i,s){for(let o=0,l=h.length-3;o<=l;o+=3){Mn.fromArray(h,o);const c=s.x*Math.abs(Mn.x)+s.y*Math.abs(Mn.y)+s.z*Math.abs(Mn.z),d=t.dot(Mn),p=e.dot(Mn),m=i.dot(Mn);if(Math.max(-Math.max(d,p,m),Math.min(d,p,m))>c)return!1}return!0}const mM=new Be,yo=new z,Hd=new z;class Ee{constructor(t=new z,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;e!==void 0?i.copy(e):mM.setFromPoints(t).getCenter(i);let s=0;for(let o=0,l=t.length;o<l;o++)s=Math.max(s,i.distanceToSquared(t[o]));return this.radius=Math.sqrt(s),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;yo.subVectors(t,this.center);const e=yo.lengthSq();if(e>this.radius*this.radius){const i=Math.sqrt(e),s=(i-this.radius)*.5;this.center.addScaledVector(yo,s/i),this.radius+=s}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(Hd.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(yo.copy(t.center).add(Hd)),this.expandByPoint(yo.copy(t.center).sub(Hd))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const hi=new z,qd=new z,du=new z,Zi=new z,Gd=new z,pu=new z,Yd=new z;class Ho{constructor(t=new z,e=new z(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,hi)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=hi.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(hi.copy(this.origin).addScaledVector(this.direction,e),hi.distanceToSquared(t))}distanceSqToSegment(t,e,i,s){qd.copy(t).add(e).multiplyScalar(.5),du.copy(e).sub(t).normalize(),Zi.copy(this.origin).sub(qd);const o=t.distanceTo(e)*.5,l=-this.direction.dot(du),c=Zi.dot(this.direction),d=-Zi.dot(du),p=Zi.lengthSq(),m=Math.abs(1-l*l);let g,v,b,x;if(m>0)if(g=l*d-c,v=l*c-d,x=o*m,g>=0)if(v>=-x)if(v<=x){const S=1/m;g*=S,v*=S,b=g*(g+l*v+2*c)+v*(l*g+v+2*d)+p}else v=o,g=Math.max(0,-(l*v+c)),b=-g*g+v*(v+2*d)+p;else v=-o,g=Math.max(0,-(l*v+c)),b=-g*g+v*(v+2*d)+p;else v<=-x?(g=Math.max(0,-(-l*o+c)),v=g>0?-o:Math.min(Math.max(-o,-d),o),b=-g*g+v*(v+2*d)+p):v<=x?(g=0,v=Math.min(Math.max(-o,-d),o),b=v*(v+2*d)+p):(g=Math.max(0,-(l*o+c)),v=g>0?o:Math.min(Math.max(-o,-d),o),b=-g*g+v*(v+2*d)+p);else v=l>0?-o:o,g=Math.max(0,-(l*v+c)),b=-g*g+v*(v+2*d)+p;return i&&i.copy(this.origin).addScaledVector(this.direction,g),s&&s.copy(qd).addScaledVector(du,v),b}intersectSphere(t,e){hi.subVectors(t.center,this.origin);const i=hi.dot(this.direction),s=hi.dot(hi)-i*i,o=t.radius*t.radius;if(s>o)return null;const l=Math.sqrt(o-s),c=i-l,d=i+l;return d<0?null:c<0?this.at(d,e):this.at(c,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return i===null?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,s,o,l,c,d;const p=1/this.direction.x,m=1/this.direction.y,g=1/this.direction.z,v=this.origin;return p>=0?(i=(t.min.x-v.x)*p,s=(t.max.x-v.x)*p):(i=(t.max.x-v.x)*p,s=(t.min.x-v.x)*p),m>=0?(o=(t.min.y-v.y)*m,l=(t.max.y-v.y)*m):(o=(t.max.y-v.y)*m,l=(t.min.y-v.y)*m),i>l||o>s||((o>i||isNaN(i))&&(i=o),(l<s||isNaN(s))&&(s=l),g>=0?(c=(t.min.z-v.z)*g,d=(t.max.z-v.z)*g):(c=(t.max.z-v.z)*g,d=(t.min.z-v.z)*g),i>d||c>s)||((c>i||i!==i)&&(i=c),(d<s||s!==s)&&(s=d),s<0)?null:this.at(i>=0?i:s,e)}intersectsBox(t){return this.intersectBox(t,hi)!==null}intersectTriangle(t,e,i,s,o){Gd.subVectors(e,t),pu.subVectors(i,t),Yd.crossVectors(Gd,pu);let l=this.direction.dot(Yd),c;if(l>0){if(s)return null;c=1}else if(l<0)c=-1,l=-l;else return null;Zi.subVectors(this.origin,t);const d=c*this.direction.dot(pu.crossVectors(Zi,pu));if(d<0)return null;const p=c*this.direction.dot(Gd.cross(Zi));if(p<0||d+p>l)return null;const m=-c*Zi.dot(Yd);return m<0?null:this.at(m/l,o)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class St{constructor(t,e,i,s,o,l,c,d,p,m,g,v,b,x,S,_){St.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,e,i,s,o,l,c,d,p,m,g,v,b,x,S,_)}set(t,e,i,s,o,l,c,d,p,m,g,v,b,x,S,_){const M=this.elements;return M[0]=t,M[4]=e,M[8]=i,M[12]=s,M[1]=o,M[5]=l,M[9]=c,M[13]=d,M[2]=p,M[6]=m,M[10]=g,M[14]=v,M[3]=b,M[7]=x,M[11]=S,M[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new St().fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,s=1/Os.setFromMatrixColumn(t,0).length(),o=1/Os.setFromMatrixColumn(t,1).length(),l=1/Os.setFromMatrixColumn(t,2).length();return e[0]=i[0]*s,e[1]=i[1]*s,e[2]=i[2]*s,e[3]=0,e[4]=i[4]*o,e[5]=i[5]*o,e[6]=i[6]*o,e[7]=0,e[8]=i[8]*l,e[9]=i[9]*l,e[10]=i[10]*l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,i=t.x,s=t.y,o=t.z,l=Math.cos(i),c=Math.sin(i),d=Math.cos(s),p=Math.sin(s),m=Math.cos(o),g=Math.sin(o);if(t.order==="XYZ"){const v=l*m,b=l*g,x=c*m,S=c*g;e[0]=d*m,e[4]=-d*g,e[8]=p,e[1]=b+x*p,e[5]=v-S*p,e[9]=-c*d,e[2]=S-v*p,e[6]=x+b*p,e[10]=l*d}else if(t.order==="YXZ"){const v=d*m,b=d*g,x=p*m,S=p*g;e[0]=v+S*c,e[4]=x*c-b,e[8]=l*p,e[1]=l*g,e[5]=l*m,e[9]=-c,e[2]=b*c-x,e[6]=S+v*c,e[10]=l*d}else if(t.order==="ZXY"){const v=d*m,b=d*g,x=p*m,S=p*g;e[0]=v-S*c,e[4]=-l*g,e[8]=x+b*c,e[1]=b+x*c,e[5]=l*m,e[9]=S-v*c,e[2]=-l*p,e[6]=c,e[10]=l*d}else if(t.order==="ZYX"){const v=l*m,b=l*g,x=c*m,S=c*g;e[0]=d*m,e[4]=x*p-b,e[8]=v*p+S,e[1]=d*g,e[5]=S*p+v,e[9]=b*p-x,e[2]=-p,e[6]=c*d,e[10]=l*d}else if(t.order==="YZX"){const v=l*d,b=l*p,x=c*d,S=c*p;e[0]=d*m,e[4]=S-v*g,e[8]=x*g+b,e[1]=g,e[5]=l*m,e[9]=-c*m,e[2]=-p*m,e[6]=b*g+x,e[10]=v-S*g}else if(t.order==="XZY"){const v=l*d,b=l*p,x=c*d,S=c*p;e[0]=d*m,e[4]=-g,e[8]=p*m,e[1]=v*g+S,e[5]=l*m,e[9]=b*g-x,e[2]=x*g-b,e[6]=c*m,e[10]=S*g+v}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(yM,t,gM)}lookAt(t,e,i){const s=this.elements;return ir.subVectors(t,e),ir.lengthSq()===0&&(ir.z=1),ir.normalize(),Ji.crossVectors(i,ir),Ji.lengthSq()===0&&(Math.abs(i.z)===1?ir.x+=1e-4:ir.z+=1e-4,ir.normalize(),Ji.crossVectors(i,ir)),Ji.normalize(),fu.crossVectors(ir,Ji),s[0]=Ji.x,s[4]=fu.x,s[8]=ir.x,s[1]=Ji.y,s[5]=fu.y,s[9]=ir.y,s[2]=Ji.z,s[6]=fu.z,s[10]=ir.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,o=this.elements,l=i[0],c=i[4],d=i[8],p=i[12],m=i[1],g=i[5],v=i[9],b=i[13],x=i[2],S=i[6],_=i[10],M=i[14],T=i[3],C=i[7],A=i[11],O=i[15],B=s[0],j=s[4],D=s[8],Y=s[12],J=s[1],it=s[5],lt=s[9],mt=s[13],xt=s[2],_t=s[6],U=s[10],$=s[14],at=s[3],ft=s[7],I=s[11],q=s[15];return o[0]=l*B+c*J+d*xt+p*at,o[4]=l*j+c*it+d*_t+p*ft,o[8]=l*D+c*lt+d*U+p*I,o[12]=l*Y+c*mt+d*$+p*q,o[1]=m*B+g*J+v*xt+b*at,o[5]=m*j+g*it+v*_t+b*ft,o[9]=m*D+g*lt+v*U+b*I,o[13]=m*Y+g*mt+v*$+b*q,o[2]=x*B+S*J+_*xt+M*at,o[6]=x*j+S*it+_*_t+M*ft,o[10]=x*D+S*lt+_*U+M*I,o[14]=x*Y+S*mt+_*$+M*q,o[3]=T*B+C*J+A*xt+O*at,o[7]=T*j+C*it+A*_t+O*ft,o[11]=T*D+C*lt+A*U+O*I,o[15]=T*Y+C*mt+A*$+O*q,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],s=t[8],o=t[12],l=t[1],c=t[5],d=t[9],p=t[13],m=t[2],g=t[6],v=t[10],b=t[14],x=t[3],S=t[7],_=t[11],M=t[15];return x*(+o*d*g-s*p*g-o*c*v+i*p*v+s*c*b-i*d*b)+S*(+e*d*b-e*p*v+o*l*v-s*l*b+s*p*m-o*d*m)+_*(+e*p*g-e*c*b-o*l*g+i*l*b+o*c*m-i*p*m)+M*(-s*c*m-e*d*g+e*c*v+s*l*g-i*l*v+i*d*m)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const s=this.elements;return t.isVector3?(s[12]=t.x,s[13]=t.y,s[14]=t.z):(s[12]=t,s[13]=e,s[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],o=t[3],l=t[4],c=t[5],d=t[6],p=t[7],m=t[8],g=t[9],v=t[10],b=t[11],x=t[12],S=t[13],_=t[14],M=t[15],T=g*_*p-S*v*p+S*d*b-c*_*b-g*d*M+c*v*M,C=x*v*p-m*_*p-x*d*b+l*_*b+m*d*M-l*v*M,A=m*S*p-x*g*p+x*c*b-l*S*b-m*c*M+l*g*M,O=x*g*d-m*S*d-x*c*v+l*S*v+m*c*_-l*g*_,B=e*T+i*C+s*A+o*O;if(B===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const j=1/B;return t[0]=T*j,t[1]=(S*v*o-g*_*o-S*s*b+i*_*b+g*s*M-i*v*M)*j,t[2]=(c*_*o-S*d*o+S*s*p-i*_*p-c*s*M+i*d*M)*j,t[3]=(g*d*o-c*v*o-g*s*p+i*v*p+c*s*b-i*d*b)*j,t[4]=C*j,t[5]=(m*_*o-x*v*o+x*s*b-e*_*b-m*s*M+e*v*M)*j,t[6]=(x*d*o-l*_*o-x*s*p+e*_*p+l*s*M-e*d*M)*j,t[7]=(l*v*o-m*d*o+m*s*p-e*v*p-l*s*b+e*d*b)*j,t[8]=A*j,t[9]=(x*g*o-m*S*o-x*i*b+e*S*b+m*i*M-e*g*M)*j,t[10]=(l*S*o-x*c*o+x*i*p-e*S*p-l*i*M+e*c*M)*j,t[11]=(m*c*o-l*g*o-m*i*p+e*g*p+l*i*b-e*c*b)*j,t[12]=O*j,t[13]=(m*S*s-x*g*s+x*i*v-e*S*v-m*i*_+e*g*_)*j,t[14]=(x*c*s-l*S*s-x*i*d+e*S*d+l*i*_-e*c*_)*j,t[15]=(l*g*s-m*c*s+m*i*d-e*g*d-l*i*v+e*c*v)*j,this}scale(t){const e=this.elements,i=t.x,s=t.y,o=t.z;return e[0]*=i,e[4]*=s,e[8]*=o,e[1]*=i,e[5]*=s,e[9]*=o,e[2]*=i,e[6]*=s,e[10]*=o,e[3]*=i,e[7]*=s,e[11]*=o,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],s=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,s))}makeTranslation(t,e,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),s=Math.sin(e),o=1-i,l=t.x,c=t.y,d=t.z,p=o*l,m=o*c;return this.set(p*l+i,p*c-s*d,p*d+s*c,0,p*c+s*d,m*c+i,m*d-s*l,0,p*d-s*c,m*d+s*l,o*d*d+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,s,o,l){return this.set(1,i,o,0,t,1,l,0,e,s,1,0,0,0,0,1),this}compose(t,e,i){const s=this.elements,o=e._x,l=e._y,c=e._z,d=e._w,p=o+o,m=l+l,g=c+c,v=o*p,b=o*m,x=o*g,S=l*m,_=l*g,M=c*g,T=d*p,C=d*m,A=d*g,O=i.x,B=i.y,j=i.z;return s[0]=(1-(S+M))*O,s[1]=(b+A)*O,s[2]=(x-C)*O,s[3]=0,s[4]=(b-A)*B,s[5]=(1-(v+M))*B,s[6]=(_+T)*B,s[7]=0,s[8]=(x+C)*j,s[9]=(_-T)*j,s[10]=(1-(v+S))*j,s[11]=0,s[12]=t.x,s[13]=t.y,s[14]=t.z,s[15]=1,this}decompose(t,e,i){const s=this.elements;let o=Os.set(s[0],s[1],s[2]).length();const l=Os.set(s[4],s[5],s[6]).length(),c=Os.set(s[8],s[9],s[10]).length();this.determinant()<0&&(o=-o),t.x=s[12],t.y=s[13],t.z=s[14],Ar.copy(this);const d=1/o,p=1/l,m=1/c;return Ar.elements[0]*=d,Ar.elements[1]*=d,Ar.elements[2]*=d,Ar.elements[4]*=p,Ar.elements[5]*=p,Ar.elements[6]*=p,Ar.elements[8]*=m,Ar.elements[9]*=m,Ar.elements[10]*=m,e.setFromRotationMatrix(Ar),i.x=o,i.y=l,i.z=c,this}makePerspective(t,e,i,s,o,l,c=Vr){const d=this.elements,p=2*o/(e-t),m=2*o/(i-s),g=(e+t)/(e-t),v=(i+s)/(i-s);let b,x;if(c===Vr)b=-(l+o)/(l-o),x=-2*l*o/(l-o);else if(c===ih)b=-l/(l-o),x=-l*o/(l-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+c);return d[0]=p,d[4]=0,d[8]=g,d[12]=0,d[1]=0,d[5]=m,d[9]=v,d[13]=0,d[2]=0,d[6]=0,d[10]=b,d[14]=x,d[3]=0,d[7]=0,d[11]=-1,d[15]=0,this}makeOrthographic(t,e,i,s,o,l,c=Vr){const d=this.elements,p=1/(e-t),m=1/(i-s),g=1/(l-o),v=(e+t)*p,b=(i+s)*m;let x,S;if(c===Vr)x=(l+o)*g,S=-2*g;else if(c===ih)x=o*g,S=-1*g;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+c);return d[0]=2*p,d[4]=0,d[8]=0,d[12]=-v,d[1]=0,d[5]=2*m,d[9]=0,d[13]=-b,d[2]=0,d[6]=0,d[10]=S,d[14]=-x,d[3]=0,d[7]=0,d[11]=0,d[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let s=0;s<16;s++)if(e[s]!==i[s])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}const Os=new z,Ar=new St,yM=new z(0,0,0),gM=new z(1,1,1),Ji=new z,fu=new z,ir=new z,X0=new St,$0=new lr;class jr{constructor(t=0,e=0,i=0,s=jr.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=i,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,s=this._order){return this._x=t,this._y=e,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,i=!0){const s=t.elements,o=s[0],l=s[4],c=s[8],d=s[1],p=s[5],m=s[9],g=s[2],v=s[6],b=s[10];switch(e){case"XYZ":this._y=Math.asin(vt(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-m,b),this._z=Math.atan2(-l,o)):(this._x=Math.atan2(v,p),this._z=0);break;case"YXZ":this._x=Math.asin(-vt(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(c,b),this._z=Math.atan2(d,p)):(this._y=Math.atan2(-g,o),this._z=0);break;case"ZXY":this._x=Math.asin(vt(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-g,b),this._z=Math.atan2(-l,p)):(this._y=0,this._z=Math.atan2(d,o));break;case"ZYX":this._y=Math.asin(-vt(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(v,b),this._z=Math.atan2(d,o)):(this._x=0,this._z=Math.atan2(-l,p));break;case"YZX":this._z=Math.asin(vt(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-m,p),this._y=Math.atan2(-g,o)):(this._x=0,this._y=Math.atan2(c,b));break;case"XZY":this._z=Math.asin(-vt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(v,p),this._y=Math.atan2(c,o)):(this._x=Math.atan2(-m,b),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,i===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,i){return X0.makeRotationFromQuaternion(t),this.setFromRotationMatrix(X0,e,i)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return $0.setFromEuler(this),this.setFromQuaternion($0,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}jr.DEFAULT_ORDER="XYZ";class gb{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let vM=0;const Q0=new z,Rs=new lr,ci=new St,mu=new z,go=new z,bM=new z,xM=new lr,K0=new z(1,0,0),tv=new z(0,1,0),ev=new z(0,0,1),rv={type:"added"},wM={type:"removed"},Ls={type:"childadded",child:null},Zd={type:"childremoved",child:null};class Bt extends en{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:vM++}),this.uuid=or(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Bt.DEFAULT_UP.clone();const t=new z,e=new jr,i=new lr,s=new z(1,1,1);function o(){i.setFromEuler(e,!1)}function l(){e.setFromQuaternion(i,void 0,!1)}e._onChange(o),i._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new St},normalMatrix:{value:new Hr}}),this.matrix=new St,this.matrixWorld=new St,this.matrixAutoUpdate=Bt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Bt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new gb,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return Rs.setFromAxisAngle(t,e),this.quaternion.multiply(Rs),this}rotateOnWorldAxis(t,e){return Rs.setFromAxisAngle(t,e),this.quaternion.premultiply(Rs),this}rotateX(t){return this.rotateOnAxis(K0,t)}rotateY(t){return this.rotateOnAxis(tv,t)}rotateZ(t){return this.rotateOnAxis(ev,t)}translateOnAxis(t,e){return Q0.copy(t).applyQuaternion(this.quaternion),this.position.add(Q0.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(K0,t)}translateY(t){return this.translateOnAxis(tv,t)}translateZ(t){return this.translateOnAxis(ev,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(ci.copy(this.matrixWorld).invert())}lookAt(t,e,i){t.isVector3?mu.copy(t):mu.set(t,e,i);const s=this.parent;this.updateWorldMatrix(!0,!1),go.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ci.lookAt(go,mu,this.up):ci.lookAt(mu,go,this.up),this.quaternion.setFromRotationMatrix(ci),s&&(ci.extractRotation(s.matrixWorld),Rs.setFromRotationMatrix(ci),this.quaternion.premultiply(Rs.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(rv),Ls.child=t,this.dispatchEvent(Ls),Ls.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(wM),Zd.child=t,this.dispatchEvent(Zd),Zd.child=null),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),ci.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),ci.multiply(t.parent.matrixWorld)),t.applyMatrix4(ci),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(rv),Ls.child=t,this.dispatchEvent(Ls),Ls.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectByProperty(t,e);if(o!==void 0)return o}}getObjectsByProperty(t,e,i=[]){this[t]===e&&i.push(this);const s=this.children;for(let o=0,l=s.length;o<l;o++)s[o].getObjectsByProperty(t,e,i);return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(go,t,bM),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(go,xM,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].updateMatrixWorld(t)}updateWorldMatrix(t,e){const i=this.parent;if(t===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),e===!0){const s=this.children;for(let o=0,l=s.length;o<l;o++)s[o].updateWorldMatrix(!1,!0)}}toJSON(t){const e=t===void 0||typeof t=="string",i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.geometryInfo=this._geometryInfo.map(c=>({...c,boundingBox:c.boundingBox?{min:c.boundingBox.min.toArray(),max:c.boundingBox.max.toArray()}:void 0,boundingSphere:c.boundingSphere?{radius:c.boundingSphere.radius,center:c.boundingSphere.center.toArray()}:void 0})),s.instanceInfo=this._instanceInfo.map(c=>({...c})),s.availableInstanceIds=this._availableInstanceIds.slice(),s.availableGeometryIds=this._availableGeometryIds.slice(),s.nextIndexStart=this._nextIndexStart,s.nextVertexStart=this._nextVertexStart,s.geometryCount=this._geometryCount,s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.matricesTexture=this._matricesTexture.toJSON(t),s.indirectTexture=this._indirectTexture.toJSON(t),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(t)),this.boundingSphere!==null&&(s.boundingSphere={center:this.boundingSphere.center.toArray(),radius:this.boundingSphere.radius}),this.boundingBox!==null&&(s.boundingBox={min:this.boundingBox.min.toArray(),max:this.boundingBox.max.toArray()}));function o(c,d){return c[d.uuid]===void 0&&(c[d.uuid]=d.toJSON(t)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=o(t.geometries,this.geometry);const c=this.geometry.parameters;if(c!==void 0&&c.shapes!==void 0){const d=c.shapes;if(Array.isArray(d))for(let p=0,m=d.length;p<m;p++){const g=d[p];o(t.shapes,g)}else o(t.shapes,d)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const c=[];for(let d=0,p=this.material.length;d<p;d++)c.push(o(t.materials,this.material[d]));s.material=c}else s.material=o(t.materials,this.material);if(this.children.length>0){s.children=[];for(let c=0;c<this.children.length;c++)s.children.push(this.children[c].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let c=0;c<this.animations.length;c++){const d=this.animations[c];s.animations.push(o(t.animations,d))}}if(e){const c=l(t.geometries),d=l(t.materials),p=l(t.textures),m=l(t.images),g=l(t.shapes),v=l(t.skeletons),b=l(t.animations),x=l(t.nodes);c.length>0&&(i.geometries=c),d.length>0&&(i.materials=d),p.length>0&&(i.textures=p),m.length>0&&(i.images=m),g.length>0&&(i.shapes=g),v.length>0&&(i.skeletons=v),b.length>0&&(i.animations=b),x.length>0&&(i.nodes=x)}return i.object=s,i;function l(c){const d=[];for(const p in c){const m=c[p];delete m.metadata,d.push(m)}return d}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let i=0;i<t.children.length;i++){const s=t.children[i];this.add(s.clone())}return this}}Bt.DEFAULT_UP=new z(0,1,0);Bt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Bt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const zr=new z,di=new z,Jd=new z,pi=new z,Ns=new z,Bs=new z,iv=new z,Xd=new z,$d=new z,Qd=new z,Kd=new ve,tp=new ve,ep=new ve;class ar{constructor(t=new z,e=new z,i=new z){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,s){s.subVectors(i,e),zr.subVectors(t,e),s.cross(zr);const o=s.lengthSq();return o>0?s.multiplyScalar(1/Math.sqrt(o)):s.set(0,0,0)}static getBarycoord(t,e,i,s,o){zr.subVectors(s,e),di.subVectors(i,e),Jd.subVectors(t,e);const l=zr.dot(zr),c=zr.dot(di),d=zr.dot(Jd),p=di.dot(di),m=di.dot(Jd),g=l*p-c*c;if(g===0)return o.set(0,0,0),null;const v=1/g,b=(p*d-c*m)*v,x=(l*m-c*d)*v;return o.set(1-b-x,x,b)}static containsPoint(t,e,i,s){return this.getBarycoord(t,e,i,s,pi)===null?!1:pi.x>=0&&pi.y>=0&&pi.x+pi.y<=1}static getInterpolation(t,e,i,s,o,l,c,d){return this.getBarycoord(t,e,i,s,pi)===null?(d.x=0,d.y=0,"z"in d&&(d.z=0),"w"in d&&(d.w=0),null):(d.setScalar(0),d.addScaledVector(o,pi.x),d.addScaledVector(l,pi.y),d.addScaledVector(c,pi.z),d)}static getInterpolatedAttribute(t,e,i,s,o,l){return Kd.setScalar(0),tp.setScalar(0),ep.setScalar(0),Kd.fromBufferAttribute(t,e),tp.fromBufferAttribute(t,i),ep.fromBufferAttribute(t,s),l.setScalar(0),l.addScaledVector(Kd,o.x),l.addScaledVector(tp,o.y),l.addScaledVector(ep,o.z),l}static isFrontFacing(t,e,i,s){return zr.subVectors(i,e),di.subVectors(t,e),zr.cross(di).dot(s)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,s){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[s]),this}setFromAttributeAndIndices(t,e,i,s){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,s),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return zr.subVectors(this.c,this.b),di.subVectors(this.a,this.b),zr.cross(di).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return ar.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return ar.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,i,s,o){return ar.getInterpolation(t,this.a,this.b,this.c,e,i,s,o)}containsPoint(t){return ar.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return ar.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,s=this.b,o=this.c;let l,c;Ns.subVectors(s,i),Bs.subVectors(o,i),Xd.subVectors(t,i);const d=Ns.dot(Xd),p=Bs.dot(Xd);if(d<=0&&p<=0)return e.copy(i);$d.subVectors(t,s);const m=Ns.dot($d),g=Bs.dot($d);if(m>=0&&g<=m)return e.copy(s);const v=d*g-m*p;if(v<=0&&d>=0&&m<=0)return l=d/(d-m),e.copy(i).addScaledVector(Ns,l);Qd.subVectors(t,o);const b=Ns.dot(Qd),x=Bs.dot(Qd);if(x>=0&&b<=x)return e.copy(o);const S=b*p-d*x;if(S<=0&&p>=0&&x<=0)return c=p/(p-x),e.copy(i).addScaledVector(Bs,c);const _=m*x-b*g;if(_<=0&&g-m>=0&&b-x>=0)return iv.subVectors(o,s),c=(g-m)/(g-m+(b-x)),e.copy(s).addScaledVector(iv,c);const M=1/(_+S+v);return l=S*M,c=v*M,e.copy(i).addScaledVector(Ns,l).addScaledVector(Bs,c)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const vb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Xi={h:0,s:0,l:0},yu={h:0,s:0,l:0};function rp(h,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?h+(t-h)*6*e:e<1/2?t:e<2/3?h+(t-h)*6*(2/3-e):h}class bt{constructor(t,e,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,i)}set(t,e,i){if(e===void 0&&i===void 0){const s=t;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(t,e,i);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=br){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,sr.toWorkingColorSpace(this,e),this}setRGB(t,e,i,s=sr.workingColorSpace){return this.r=t,this.g=e,this.b=i,sr.toWorkingColorSpace(this,s),this}setHSL(t,e,i,s=sr.workingColorSpace){if(t=jp(t,1),e=vt(e,0,1),i=vt(i,0,1),e===0)this.r=this.g=this.b=i;else{const o=i<=.5?i*(1+e):i+e-i*e,l=2*i-o;this.r=rp(l,o,t+1/3),this.g=rp(l,o,t),this.b=rp(l,o,t-1/3)}return sr.toWorkingColorSpace(this,s),this}setStyle(t,e=br){function i(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(t)){let o;const l=s[1],c=s[2];switch(l){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,e);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,e);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(t)){const o=s[1],l=o.length;if(l===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,e);if(l===6)return this.setHex(parseInt(o,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=br){const i=vb[t.toLowerCase()];return i!==void 0?this.setHex(i,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=yi(t.r),this.g=yi(t.g),this.b=yi(t.b),this}copyLinearToSRGB(t){return this.r=Xs(t.r),this.g=Xs(t.g),this.b=Xs(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=br){return sr.fromWorkingColorSpace(Ae.copy(this),t),Math.round(vt(Ae.r*255,0,255))*65536+Math.round(vt(Ae.g*255,0,255))*256+Math.round(vt(Ae.b*255,0,255))}getHexString(t=br){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=sr.workingColorSpace){sr.fromWorkingColorSpace(Ae.copy(this),e);const i=Ae.r,s=Ae.g,o=Ae.b,l=Math.max(i,s,o),c=Math.min(i,s,o);let d,p;const m=(c+l)/2;if(c===l)d=0,p=0;else{const g=l-c;switch(p=m<=.5?g/(l+c):g/(2-l-c),l){case i:d=(s-o)/g+(s<o?6:0);break;case s:d=(o-i)/g+2;break;case o:d=(i-s)/g+4;break}d/=6}return t.h=d,t.s=p,t.l=m,t}getRGB(t,e=sr.workingColorSpace){return sr.fromWorkingColorSpace(Ae.copy(this),e),t.r=Ae.r,t.g=Ae.g,t.b=Ae.b,t}getStyle(t=br){sr.fromWorkingColorSpace(Ae.copy(this),t);const e=Ae.r,i=Ae.g,s=Ae.b;return t!==br?`color(${t} ${e.toFixed(3)} ${i.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(e*255)},${Math.round(i*255)},${Math.round(s*255)})`}offsetHSL(t,e,i){return this.getHSL(Xi),this.setHSL(Xi.h+t,Xi.s+e,Xi.l+i)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(Xi),t.getHSL(yu);const i=Ro(Xi.h,yu.h,e),s=Ro(Xi.s,yu.s,e),o=Ro(Xi.l,yu.l,e);return this.setHSL(i,s,o),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,i=this.g,s=this.b,o=t.elements;return this.r=o[0]*e+o[3]*i+o[6]*s,this.g=o[1]*e+o[4]*i+o[7]*s,this.b=o[2]*e+o[5]*i+o[8]*s,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ae=new bt;bt.NAMES=vb;let SM=0;class De extends en{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:SM++}),this.uuid=or(),this.name="",this.type="Material",this.blending=L0,this.side=Mp,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=B0,this.blendDst=D0,this.blendEquation=N0,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new bt(0,0,0),this.blendAlpha=0,this.depthFunc=F0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=H0,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=As,this.stencilZFail=As,this.stencilZPass=As,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const i=t[e];if(i===void 0){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const s=this[e];if(s===void 0){console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[e]=i}}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==L0&&(i.blending=this.blending),this.side!==Mp&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==B0&&(i.blendSrc=this.blendSrc),this.blendDst!==D0&&(i.blendDst=this.blendDst),this.blendEquation!==N0&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==F0&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==H0&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==As&&(i.stencilFail=this.stencilFail),this.stencilZFail!==As&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==As&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function s(o){const l=[];for(const c in o){const d=o[c];delete d.metadata,l.push(d)}return l}if(e){const o=s(t.textures),l=s(t.images);o.length>0&&(i.textures=o),l.length>0&&(i.images=l)}return i}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(e!==null){const s=e.length;i=new Array(s);for(let o=0;o!==s;++o)i[o]=e[o].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}}class ha extends De{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new bt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new jr,this.combine=Np,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const mi=MM();function MM(){const h=new ArrayBuffer(4),t=new Float32Array(h),e=new Uint32Array(h),i=new Uint32Array(512),s=new Uint32Array(512);for(let d=0;d<256;++d){const p=d-127;p<-27?(i[d]=0,i[d|256]=32768,s[d]=24,s[d|256]=24):p<-14?(i[d]=1024>>-p-14,i[d|256]=1024>>-p-14|32768,s[d]=-p-1,s[d|256]=-p-1):p<=15?(i[d]=p+15<<10,i[d|256]=p+15<<10|32768,s[d]=13,s[d|256]=13):p<128?(i[d]=31744,i[d|256]=64512,s[d]=24,s[d|256]=24):(i[d]=31744,i[d|256]=64512,s[d]=13,s[d|256]=13)}const o=new Uint32Array(2048),l=new Uint32Array(64),c=new Uint32Array(64);for(let d=1;d<1024;++d){let p=d<<13,m=0;for(;(p&8388608)===0;)p<<=1,m-=8388608;p&=-8388609,m+=947912704,o[d]=p|m}for(let d=1024;d<2048;++d)o[d]=939524096+(d-1024<<13);for(let d=1;d<31;++d)l[d]=d<<23;l[31]=1199570944,l[32]=2147483648;for(let d=33;d<63;++d)l[d]=2147483648+(d-32<<23);l[63]=3347054592;for(let d=1;d<64;++d)d!==32&&(c[d]=1024);return{floatView:t,uint32View:e,baseTable:i,shiftTable:s,mantissaTable:o,exponentTable:l,offsetTable:c}}function Ge(h){Math.abs(h)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),h=vt(h,-65504,65504),mi.floatView[0]=h;const t=mi.uint32View[0],e=t>>23&511;return mi.baseTable[e]+((t&8388607)>>mi.shiftTable[e])}function Eo(h){const t=h>>10;return mi.uint32View[0]=mi.mantissaTable[mi.offsetTable[t]+(h&1023)]+mi.exponentTable[t],mi.floatView[0]}class _3{static toHalfFloat(t){return Ge(t)}static fromHalfFloat(t){return Eo(t)}}const ue=new z,gu=new X;let _M=0;class Qt{constructor(t,e,i=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:_M++}),this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=i,this.usage=rh,this.updateRanges=[],this.gpuType=Qs,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let s=0,o=this.itemSize;s<o;s++)this.array[t+s]=e.array[i+s];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,i=this.count;e<i;e++)gu.fromBufferAttribute(this,e),gu.applyMatrix3(t),this.setXY(e,gu.x,gu.y);else if(this.itemSize===3)for(let e=0,i=this.count;e<i;e++)ue.fromBufferAttribute(this,e),ue.applyMatrix3(t),this.setXYZ(e,ue.x,ue.y,ue.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)ue.fromBufferAttribute(this,e),ue.applyMatrix4(t),this.setXYZ(e,ue.x,ue.y,ue.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)ue.fromBufferAttribute(this,e),ue.applyNormalMatrix(t),this.setXYZ(e,ue.x,ue.y,ue.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)ue.fromBufferAttribute(this,e),ue.transformDirection(t),this.setXYZ(e,ue.x,ue.y,ue.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let i=this.array[t*this.itemSize+e];return this.normalized&&(i=Ne(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=wt(i,this.array)),this.array[t*this.itemSize+e]=i,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=Ne(e,this.array)),e}setX(t,e){return this.normalized&&(e=wt(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=Ne(e,this.array)),e}setY(t,e){return this.normalized&&(e=wt(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=Ne(e,this.array)),e}setZ(t,e){return this.normalized&&(e=wt(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=Ne(e,this.array)),e}setW(t,e){return this.normalized&&(e=wt(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=wt(e,this.array),i=wt(i,this.array)),this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,s){return t*=this.itemSize,this.normalized&&(e=wt(e,this.array),i=wt(i,this.array),s=wt(s,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=s,this}setXYZW(t,e,i,s,o){return t*=this.itemSize,this.normalized&&(e=wt(e,this.array),i=wt(i,this.array),s=wt(s,this.array),o=wt(o,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=s,this.array[t+3]=o,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==rh&&(t.usage=this.usage),t}}class k3 extends Qt{constructor(t,e,i){super(new Int8Array(t),e,i)}}class T3 extends Qt{constructor(t,e,i){super(new Uint8Array(t),e,i)}}class C3 extends Qt{constructor(t,e,i){super(new Uint8ClampedArray(t),e,i)}}class A3 extends Qt{constructor(t,e,i){super(new Int16Array(t),e,i)}}class kM extends Qt{constructor(t,e,i){super(new Uint16Array(t),e,i)}}class z3 extends Qt{constructor(t,e,i){super(new Int32Array(t),e,i)}}class TM extends Qt{constructor(t,e,i){super(new Uint32Array(t),e,i)}}class E3 extends Qt{constructor(t,e,i){super(new Uint16Array(t),e,i),this.isFloat16BufferAttribute=!0}getX(t){let e=Eo(this.array[t*this.itemSize]);return this.normalized&&(e=Ne(e,this.array)),e}setX(t,e){return this.normalized&&(e=wt(e,this.array)),this.array[t*this.itemSize]=Ge(e),this}getY(t){let e=Eo(this.array[t*this.itemSize+1]);return this.normalized&&(e=Ne(e,this.array)),e}setY(t,e){return this.normalized&&(e=wt(e,this.array)),this.array[t*this.itemSize+1]=Ge(e),this}getZ(t){let e=Eo(this.array[t*this.itemSize+2]);return this.normalized&&(e=Ne(e,this.array)),e}setZ(t,e){return this.normalized&&(e=wt(e,this.array)),this.array[t*this.itemSize+2]=Ge(e),this}getW(t){let e=Eo(this.array[t*this.itemSize+3]);return this.normalized&&(e=Ne(e,this.array)),e}setW(t,e){return this.normalized&&(e=wt(e,this.array)),this.array[t*this.itemSize+3]=Ge(e),this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=wt(e,this.array),i=wt(i,this.array)),this.array[t+0]=Ge(e),this.array[t+1]=Ge(i),this}setXYZ(t,e,i,s){return t*=this.itemSize,this.normalized&&(e=wt(e,this.array),i=wt(i,this.array),s=wt(s,this.array)),this.array[t+0]=Ge(e),this.array[t+1]=Ge(i),this.array[t+2]=Ge(s),this}setXYZW(t,e,i,s,o){return t*=this.itemSize,this.normalized&&(e=wt(e,this.array),i=wt(i,this.array),s=wt(s,this.array),o=wt(o,this.array)),this.array[t+0]=Ge(e),this.array[t+1]=Ge(i),this.array[t+2]=Ge(s),this.array[t+3]=Ge(o),this}}class ot extends Qt{constructor(t,e,i){super(new Float32Array(t),e,i)}}let CM=0;const vr=new St,ip=new Bt,Ds=new z,nr=new Be,vo=new Be,ge=new z;class Ct extends en{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:CM++}),this.uuid=or(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(uM(t)?TM:kM)(t,1):this.index=t,this}setIndirect(t){return this.indirect=t,this}getIndirect(){return this.indirect}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const o=new Hr().getNormalMatrix(t);i.applyNormalMatrix(o),i.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(t),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return vr.makeRotationFromQuaternion(t),this.applyMatrix4(vr),this}rotateX(t){return vr.makeRotationX(t),this.applyMatrix4(vr),this}rotateY(t){return vr.makeRotationY(t),this.applyMatrix4(vr),this}rotateZ(t){return vr.makeRotationZ(t),this.applyMatrix4(vr),this}translate(t,e,i){return vr.makeTranslation(t,e,i),this.applyMatrix4(vr),this}scale(t,e,i){return vr.makeScale(t,e,i),this.applyMatrix4(vr),this}lookAt(t){return ip.lookAt(t),ip.updateMatrix(),this.applyMatrix4(ip.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ds).negate(),this.translate(Ds.x,Ds.y,Ds.z),this}setFromPoints(t){const e=this.getAttribute("position");if(e===void 0){const i=[];for(let s=0,o=t.length;s<o;s++){const l=t[s];i.push(l.x,l.y,l.z||0)}this.setAttribute("position",new ot(i,3))}else{const i=Math.min(t.length,e.count);for(let s=0;s<i;s++){const o=t[s];e.setXYZ(s,o.x,o.y,o.z||0)}t.length>e.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),e.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Be);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new z(-1/0,-1/0,-1/0),new z(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,s=e.length;i<s;i++){const o=e[i];nr.setFromBufferAttribute(o),this.morphTargetsRelative?(ge.addVectors(this.boundingBox.min,nr.min),this.boundingBox.expandByPoint(ge),ge.addVectors(this.boundingBox.max,nr.max),this.boundingBox.expandByPoint(ge)):(this.boundingBox.expandByPoint(nr.min),this.boundingBox.expandByPoint(nr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ee);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new z,1/0);return}if(t){const i=this.boundingSphere.center;if(nr.setFromBufferAttribute(t),e)for(let o=0,l=e.length;o<l;o++){const c=e[o];vo.setFromBufferAttribute(c),this.morphTargetsRelative?(ge.addVectors(nr.min,vo.min),nr.expandByPoint(ge),ge.addVectors(nr.max,vo.max),nr.expandByPoint(ge)):(nr.expandByPoint(vo.min),nr.expandByPoint(vo.max))}nr.getCenter(i);let s=0;for(let o=0,l=t.count;o<l;o++)ge.fromBufferAttribute(t,o),s=Math.max(s,i.distanceToSquared(ge));if(e)for(let o=0,l=e.length;o<l;o++){const c=e[o],d=this.morphTargetsRelative;for(let p=0,m=c.count;p<m;p++)ge.fromBufferAttribute(c,p),d&&(Ds.fromBufferAttribute(t,p),ge.add(Ds)),s=Math.max(s,i.distanceToSquared(ge))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.position,s=e.normal,o=e.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Qt(new Float32Array(4*i.count),4));const l=this.getAttribute("tangent"),c=[],d=[];for(let D=0;D<i.count;D++)c[D]=new z,d[D]=new z;const p=new z,m=new z,g=new z,v=new X,b=new X,x=new X,S=new z,_=new z;function M(D,Y,J){p.fromBufferAttribute(i,D),m.fromBufferAttribute(i,Y),g.fromBufferAttribute(i,J),v.fromBufferAttribute(o,D),b.fromBufferAttribute(o,Y),x.fromBufferAttribute(o,J),m.sub(p),g.sub(p),b.sub(v),x.sub(v);const it=1/(b.x*x.y-x.x*b.y);isFinite(it)&&(S.copy(m).multiplyScalar(x.y).addScaledVector(g,-b.y).multiplyScalar(it),_.copy(g).multiplyScalar(b.x).addScaledVector(m,-x.x).multiplyScalar(it),c[D].add(S),c[Y].add(S),c[J].add(S),d[D].add(_),d[Y].add(_),d[J].add(_))}let T=this.groups;T.length===0&&(T=[{start:0,count:t.count}]);for(let D=0,Y=T.length;D<Y;++D){const J=T[D],it=J.start,lt=J.count;for(let mt=it,xt=it+lt;mt<xt;mt+=3)M(t.getX(mt+0),t.getX(mt+1),t.getX(mt+2))}const C=new z,A=new z,O=new z,B=new z;function j(D){O.fromBufferAttribute(s,D),B.copy(O);const Y=c[D];C.copy(Y),C.sub(O.multiplyScalar(O.dot(Y))).normalize(),A.crossVectors(B,Y);const J=A.dot(d[D])<0?-1:1;l.setXYZW(D,C.x,C.y,C.z,J)}for(let D=0,Y=T.length;D<Y;++D){const J=T[D],it=J.start,lt=J.count;for(let mt=it,xt=it+lt;mt<xt;mt+=3)j(t.getX(mt+0)),j(t.getX(mt+1)),j(t.getX(mt+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Qt(new Float32Array(e.count*3),3),this.setAttribute("normal",i);else for(let v=0,b=i.count;v<b;v++)i.setXYZ(v,0,0,0);const s=new z,o=new z,l=new z,c=new z,d=new z,p=new z,m=new z,g=new z;if(t)for(let v=0,b=t.count;v<b;v+=3){const x=t.getX(v+0),S=t.getX(v+1),_=t.getX(v+2);s.fromBufferAttribute(e,x),o.fromBufferAttribute(e,S),l.fromBufferAttribute(e,_),m.subVectors(l,o),g.subVectors(s,o),m.cross(g),c.fromBufferAttribute(i,x),d.fromBufferAttribute(i,S),p.fromBufferAttribute(i,_),c.add(m),d.add(m),p.add(m),i.setXYZ(x,c.x,c.y,c.z),i.setXYZ(S,d.x,d.y,d.z),i.setXYZ(_,p.x,p.y,p.z)}else for(let v=0,b=e.count;v<b;v+=3)s.fromBufferAttribute(e,v+0),o.fromBufferAttribute(e,v+1),l.fromBufferAttribute(e,v+2),m.subVectors(l,o),g.subVectors(s,o),m.cross(g),i.setXYZ(v+0,m.x,m.y,m.z),i.setXYZ(v+1,m.x,m.y,m.z),i.setXYZ(v+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)ge.fromBufferAttribute(t,e),ge.normalize(),t.setXYZ(e,ge.x,ge.y,ge.z)}toNonIndexed(){function t(c,d){const p=c.array,m=c.itemSize,g=c.normalized,v=new p.constructor(d.length*m);let b=0,x=0;for(let S=0,_=d.length;S<_;S++){c.isInterleavedBufferAttribute?b=d[S]*c.data.stride+c.offset:b=d[S]*m;for(let M=0;M<m;M++)v[x++]=p[b++]}return new Qt(v,m,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Ct,i=this.index.array,s=this.attributes;for(const c in s){const d=s[c],p=t(d,i);e.setAttribute(c,p)}const o=this.morphAttributes;for(const c in o){const d=[],p=o[c];for(let m=0,g=p.length;m<g;m++){const v=p[m],b=t(v,i);d.push(b)}e.morphAttributes[c]=d}e.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let c=0,d=l.length;c<d;c++){const p=l[c];e.addGroup(p.start,p.count,p.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const p in d)d[p]!==void 0&&(t[p]=d[p]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const d in i){const p=i[d];t.data.attributes[d]=p.toJSON(t.data)}const s={};let o=!1;for(const d in this.morphAttributes){const p=this.morphAttributes[d],m=[];for(let g=0,v=p.length;g<v;g++){const b=p[g];m.push(b.toJSON(t.data))}m.length>0&&(s[d]=m,o=!0)}o&&(t.data.morphAttributes=s,t.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(t.data.groups=JSON.parse(JSON.stringify(l)));const c=this.boundingSphere;return c!==null&&(t.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;i!==null&&this.setIndex(i.clone());const s=t.attributes;for(const p in s){const m=s[p];this.setAttribute(p,m.clone(e))}const o=t.morphAttributes;for(const p in o){const m=[],g=o[p];for(let v=0,b=g.length;v<b;v++)m.push(g[v].clone(e));this.morphAttributes[p]=m}this.morphTargetsRelative=t.morphTargetsRelative;const l=t.groups;for(let p=0,m=l.length;p<m;p++){const g=l[p];this.addGroup(g.start,g.count,g.materialIndex)}const c=t.boundingBox;c!==null&&(this.boundingBox=c.clone());const d=t.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const nv=new St,_n=new Ho,vu=new Ee,sv=new z,bu=new z,xu=new z,wu=new z,np=new z,Su=new z,av=new z,Mu=new z;class Ir extends Bt{constructor(t=new Ct,e=new ha){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const i=t[e[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}getVertexPosition(t,e){const i=this.geometry,s=i.attributes.position,o=i.morphAttributes.position,l=i.morphTargetsRelative;e.fromBufferAttribute(s,t);const c=this.morphTargetInfluences;if(o&&c){Su.set(0,0,0);for(let d=0,p=o.length;d<p;d++){const m=c[d],g=o[d];m!==0&&(np.fromBufferAttribute(g,t),l?Su.addScaledVector(np,m):Su.addScaledVector(np.sub(e),m))}e.add(Su)}return e}raycast(t,e){const i=this.geometry,s=this.material,o=this.matrixWorld;s!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),vu.copy(i.boundingSphere),vu.applyMatrix4(o),_n.copy(t.ray).recast(t.near),!(vu.containsPoint(_n.origin)===!1&&(_n.intersectSphere(vu,sv)===null||_n.origin.distanceToSquared(sv)>(t.far-t.near)**2))&&(nv.copy(o).invert(),_n.copy(t.ray).applyMatrix4(nv),!(i.boundingBox!==null&&_n.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(t,e,_n)))}_computeIntersections(t,e,i){let s;const o=this.geometry,l=this.material,c=o.index,d=o.attributes.position,p=o.attributes.uv,m=o.attributes.uv1,g=o.attributes.normal,v=o.groups,b=o.drawRange;if(c!==null)if(Array.isArray(l))for(let x=0,S=v.length;x<S;x++){const _=v[x],M=l[_.materialIndex],T=Math.max(_.start,b.start),C=Math.min(c.count,Math.min(_.start+_.count,b.start+b.count));for(let A=T,O=C;A<O;A+=3){const B=c.getX(A),j=c.getX(A+1),D=c.getX(A+2);s=_u(this,M,t,i,p,m,g,B,j,D),s&&(s.faceIndex=Math.floor(A/3),s.face.materialIndex=_.materialIndex,e.push(s))}}else{const x=Math.max(0,b.start),S=Math.min(c.count,b.start+b.count);for(let _=x,M=S;_<M;_+=3){const T=c.getX(_),C=c.getX(_+1),A=c.getX(_+2);s=_u(this,l,t,i,p,m,g,T,C,A),s&&(s.faceIndex=Math.floor(_/3),e.push(s))}}else if(d!==void 0)if(Array.isArray(l))for(let x=0,S=v.length;x<S;x++){const _=v[x],M=l[_.materialIndex],T=Math.max(_.start,b.start),C=Math.min(d.count,Math.min(_.start+_.count,b.start+b.count));for(let A=T,O=C;A<O;A+=3){const B=A,j=A+1,D=A+2;s=_u(this,M,t,i,p,m,g,B,j,D),s&&(s.faceIndex=Math.floor(A/3),s.face.materialIndex=_.materialIndex,e.push(s))}}else{const x=Math.max(0,b.start),S=Math.min(d.count,b.start+b.count);for(let _=x,M=S;_<M;_+=3){const T=_,C=_+1,A=_+2;s=_u(this,l,t,i,p,m,g,T,C,A),s&&(s.faceIndex=Math.floor(_/3),e.push(s))}}}}function AM(h,t,e,i,s,o,l,c){let d;if(t.side===hb?d=i.intersectTriangle(l,o,s,!0,c):d=i.intersectTriangle(s,o,l,t.side===Mp,c),d===null)return null;Mu.copy(c),Mu.applyMatrix4(h.matrixWorld);const p=e.ray.origin.distanceTo(Mu);return p<e.near||p>e.far?null:{distance:p,point:Mu.clone(),object:h}}function _u(h,t,e,i,s,o,l,c,d,p){h.getVertexPosition(c,bu),h.getVertexPosition(d,xu),h.getVertexPosition(p,wu);const m=AM(h,t,e,i,bu,xu,wu,av);if(m){const g=new z;ar.getBarycoord(av,bu,xu,wu,g),s&&(m.uv=ar.getInterpolatedAttribute(s,c,d,p,g,new X)),o&&(m.uv1=ar.getInterpolatedAttribute(o,c,d,p,g,new X)),l&&(m.normal=ar.getInterpolatedAttribute(l,c,d,p,g,new z),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const v={a:c,b:d,c:p,normal:new z,materialIndex:0};ar.getNormal(bu,xu,wu,v.normal),m.face=v,m.barycoord=g}return m}class fh extends Ct{constructor(t=1,e=1,i=1,s=1,o=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:s,heightSegments:o,depthSegments:l};const c=this;s=Math.floor(s),o=Math.floor(o),l=Math.floor(l);const d=[],p=[],m=[],g=[];let v=0,b=0;x("z","y","x",-1,-1,i,e,t,l,o,0),x("z","y","x",1,-1,i,e,-t,l,o,1),x("x","z","y",1,1,t,i,e,s,l,2),x("x","z","y",1,-1,t,i,-e,s,l,3),x("x","y","z",1,-1,t,e,i,s,o,4),x("x","y","z",-1,-1,t,e,-i,s,o,5),this.setIndex(d),this.setAttribute("position",new ot(p,3)),this.setAttribute("normal",new ot(m,3)),this.setAttribute("uv",new ot(g,2));function x(S,_,M,T,C,A,O,B,j,D,Y){const J=A/j,it=O/D,lt=A/2,mt=O/2,xt=B/2,_t=j+1,U=D+1;let $=0,at=0;const ft=new z;for(let I=0;I<U;I++){const q=I*it-mt;for(let Q=0;Q<_t;Q++){const K=Q*J-lt;ft[S]=K*T,ft[_]=q*C,ft[M]=xt,p.push(ft.x,ft.y,ft.z),ft[S]=0,ft[_]=0,ft[M]=B>0?1:-1,m.push(ft.x,ft.y,ft.z),g.push(Q/j),g.push(1-I/D),$+=1}}for(let I=0;I<D;I++)for(let q=0;q<j;q++){const Q=v+q+_t*I,K=v+q+_t*(I+1),ht=v+(q+1)+_t*(I+1),zt=v+(q+1)+_t*I;d.push(Q,K,zt),d.push(K,ht,zt),at+=6}c.addGroup(b,at,Y),b+=at,v+=$}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new fh(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function mh(h){const t={};for(const e in h){t[e]={};for(const i in h[e]){const s=h[e][i];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][i]=null):t[e][i]=s.clone():Array.isArray(s)?t[e][i]=s.slice():t[e][i]=s}}return t}function zM(h){const t={};for(let e=0;e<h.length;e++){const i=mh(h[e]);for(const s in i)t[s]=i[s]}return t}function EM(h){const t=[];for(let e=0;e<h.length;e++)t.push(h[e].clone());return t}function I3(h){const t=h.getRenderTarget();return t===null?h.outputColorSpace:t.isXRRenderTarget===!0?t.texture.colorSpace:sr.workingColorSpace}const P3={clone:mh,merge:zM};var IM=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,PM=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class qp extends De{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=IM,this.fragmentShader=PM,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=mh(t.uniforms),this.uniformsGroups=EM(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const s in this.uniforms){const o=this.uniforms[s].value;o&&o.isTexture?e.uniforms[s]={type:"t",value:o.toJSON(t).uuid}:o&&o.isColor?e.uniforms[s]={type:"c",value:o.getHex()}:o&&o.isVector2?e.uniforms[s]={type:"v2",value:o.toArray()}:o&&o.isVector3?e.uniforms[s]={type:"v3",value:o.toArray()}:o&&o.isVector4?e.uniforms[s]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?e.uniforms[s]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?e.uniforms[s]={type:"m4",value:o.toArray()}:e.uniforms[s]={value:o}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const i={};for(const s in this.extensions)this.extensions[s]===!0&&(i[s]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}}class Gp extends Bt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new St,this.projectionMatrix=new St,this.projectionMatrixInverse=new St,this.coordinateSystem=Vr}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const $i=new z,ov=new X,lv=new X;class xr extends Gp{constructor(t=50,e=1,i=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=Do*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(Nn*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return Do*2*Math.atan(Math.tan(Nn*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,i){$i.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set($i.x,$i.y).multiplyScalar(-t/$i.z),$i.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set($i.x,$i.y).multiplyScalar(-t/$i.z)}getViewSize(t,e){return this.getViewBounds(t,ov,lv),e.subVectors(lv,ov)}setViewOffset(t,e,i,s,o,l){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=s,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(Nn*.5*this.fov)/this.zoom,i=2*e,s=this.aspect*i,o=-.5*s;const l=this.view;if(this.view!==null&&this.view.enabled){const d=l.fullWidth,p=l.fullHeight;o+=l.offsetX*s/d,e-=l.offsetY*i/p,s*=l.width/d,i*=l.height/p}const c=this.filmOffset;c!==0&&(o+=t*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+s,e,e-i,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const Fs=-90,Vs=1;class OM extends Bt{constructor(t,e,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new xr(Fs,Vs,t,e);s.layers=this.layers,this.add(s);const o=new xr(Fs,Vs,t,e);o.layers=this.layers,this.add(o);const l=new xr(Fs,Vs,t,e);l.layers=this.layers,this.add(l);const c=new xr(Fs,Vs,t,e);c.layers=this.layers,this.add(c);const d=new xr(Fs,Vs,t,e);d.layers=this.layers,this.add(d);const p=new xr(Fs,Vs,t,e);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[i,s,o,l,c,d]=e;for(const p of e)this.remove(p);if(t===Vr)i.up.set(0,1,0),i.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),c.up.set(0,1,0),c.lookAt(0,0,1),d.up.set(0,1,0),d.lookAt(0,0,-1);else if(t===ih)i.up.set(0,-1,0),i.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),c.up.set(0,-1,0),c.lookAt(0,0,1),d.up.set(0,-1,0),d.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(const p of e)this.add(p),p.updateMatrixWorld()}update(t,e){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:s}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[o,l,c,d,p,m]=this.children,g=t.getRenderTarget(),v=t.getActiveCubeFace(),b=t.getActiveMipmapLevel(),x=t.xr.enabled;t.xr.enabled=!1;const S=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0,s),t.render(e,o),t.setRenderTarget(i,1,s),t.render(e,l),t.setRenderTarget(i,2,s),t.render(e,c),t.setRenderTarget(i,3,s),t.render(e,d),t.setRenderTarget(i,4,s),t.render(e,p),i.texture.generateMipmaps=S,t.setRenderTarget(i,5,s),t.render(e,m),t.setRenderTarget(g,v,b),t.xr.enabled=x,i.texture.needsPMREMUpdate=!0}}class Yp extends de{constructor(t=[],e=Dp,i,s,o,l,c,d,p,m){super(t,e,i,s,o,l,c,d,p,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class O3 extends Hp{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const i={width:t,height:t,depth:1},s=[i,i,i,i,i,i];this.texture=new Yp(s,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=e.generateMipmaps!==void 0?e.generateMipmaps:!1,this.texture.minFilter=e.minFilter!==void 0?e.minFilter:wr}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new fh(5,5,5),o=new qp({name:"CubemapFromEquirect",uniforms:mh(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:hb,blending:jw});o.uniforms.tEquirect.value=e;const l=new Ir(s,o),c=e.minFilter;return e.minFilter===ph&&(e.minFilter=wr),new OM(1,10,this).update(t,l),e.minFilter=c,l.geometry.dispose(),l.material.dispose(),this}clear(t,e=!0,i=!0,s=!0){const o=t.getRenderTarget();for(let l=0;l<6;l++)t.setRenderTarget(this,l),t.clear(e,i,s);t.setRenderTarget(o)}}class Io extends Bt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const RM={type:"move"};class R3{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Io,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Io,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Io,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new z),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const i of t.hand.values())this._getHandJoint(e,i)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,e,i){let s=null,o=null,l=null;const c=this._targetRay,d=this._grip,p=this._hand;if(t&&e.session.visibilityState!=="visible-blurred"){if(p&&t.hand){l=!0;for(const S of t.hand.values()){const _=e.getJointPose(S,i),M=this._getHandJoint(p,S);_!==null&&(M.matrix.fromArray(_.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.matrixWorldNeedsUpdate=!0,M.jointRadius=_.radius),M.visible=_!==null}const m=p.joints["index-finger-tip"],g=p.joints["thumb-tip"],v=m.position.distanceTo(g.position),b=.02,x=.005;p.inputState.pinching&&v>b+x?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!p.inputState.pinching&&v<=b-x&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else d!==null&&t.gripSpace&&(o=e.getPose(t.gripSpace,i),o!==null&&(d.matrix.fromArray(o.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,o.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(o.linearVelocity)):d.hasLinearVelocity=!1,o.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(o.angularVelocity)):d.hasAngularVelocity=!1));c!==null&&(s=e.getPose(t.targetRaySpace,i),s===null&&o!==null&&(s=o),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1,this.dispatchEvent(RM)))}return c!==null&&(c.visible=s!==null),d!==null&&(d.visible=o!==null),p!==null&&(p.visible=l!==null),this}_getHandJoint(t,e){if(t.joints[e.jointName]===void 0){const i=new Io;i.matrixAutoUpdate=!1,i.visible=!1,t.joints[e.jointName]=i,t.add(i)}return t.joints[e.jointName]}}class Zp{constructor(t,e=25e-5){this.isFogExp2=!0,this.name="",this.color=new bt(t),this.density=e}clone(){return new Zp(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Jp{constructor(t,e=1,i=1e3){this.isFog=!0,this.name="",this.color=new bt(t),this.near=e,this.far=i}clone(){return new Jp(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class LM extends Bt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new jr,this.environmentIntensity=1,this.environmentRotation=new jr,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return this.fog!==null&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}class Xp{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=rh,this.updateRanges=[],this.version=0,this.uuid=or()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,i){t*=this.stride,i*=e.stride;for(let s=0,o=this.stride;s<o;s++)this.array[t+s]=e.array[i+s];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=or()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(e,this.stride);return i.setUsage(this.usage),i}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=or()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Le=new z;class Ks{constructor(t,e,i,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=i,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,i=this.data.count;e<i;e++)Le.fromBufferAttribute(this,e),Le.applyMatrix4(t),this.setXYZ(e,Le.x,Le.y,Le.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)Le.fromBufferAttribute(this,e),Le.applyNormalMatrix(t),this.setXYZ(e,Le.x,Le.y,Le.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)Le.fromBufferAttribute(this,e),Le.transformDirection(t),this.setXYZ(e,Le.x,Le.y,Le.z);return this}getComponent(t,e){let i=this.array[t*this.data.stride+this.offset+e];return this.normalized&&(i=Ne(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=wt(i,this.array)),this.data.array[t*this.data.stride+this.offset+e]=i,this}setX(t,e){return this.normalized&&(e=wt(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=wt(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=wt(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=wt(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=Ne(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=Ne(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=Ne(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=Ne(e,this.array)),e}setXY(t,e,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=wt(e,this.array),i=wt(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this}setXYZ(t,e,i,s){return t=t*this.data.stride+this.offset,this.normalized&&(e=wt(e,this.array),i=wt(i,this.array),s=wt(s,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=s,this}setXYZW(t,e,i,s,o){return t=t*this.data.stride+this.offset,this.normalized&&(e=wt(e,this.array),i=wt(i,this.array),s=wt(s,this.array),o=wt(o,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=s,this.data.array[t+3]=o,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)e.push(this.data.array[s+o])}return new Qt(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Ks(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)e.push(this.data.array[s+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class bb extends De{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new bt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let Us;const bo=new z,js=new z,Ws=new z,Hs=new X,xo=new X,xb=new St,ku=new z,wo=new z,Tu=new z,uv=new X,sp=new X,hv=new X;class NM extends Bt{constructor(t=new bb){if(super(),this.isSprite=!0,this.type="Sprite",Us===void 0){Us=new Ct;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Xp(e,5);Us.setIndex([0,1,2,0,2,3]),Us.setAttribute("position",new Ks(i,3,0,!1)),Us.setAttribute("uv",new Ks(i,2,3,!1))}this.geometry=Us,this.material=t,this.center=new X(.5,.5)}raycast(t,e){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),js.setFromMatrixScale(this.matrixWorld),xb.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Ws.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&js.multiplyScalar(-Ws.z);const i=this.material.rotation;let s,o;i!==0&&(o=Math.cos(i),s=Math.sin(i));const l=this.center;Cu(ku.set(-.5,-.5,0),Ws,l,js,s,o),Cu(wo.set(.5,-.5,0),Ws,l,js,s,o),Cu(Tu.set(.5,.5,0),Ws,l,js,s,o),uv.set(0,0),sp.set(1,0),hv.set(1,1);let c=t.ray.intersectTriangle(ku,wo,Tu,!1,bo);if(c===null&&(Cu(wo.set(-.5,.5,0),Ws,l,js,s,o),sp.set(0,1),c=t.ray.intersectTriangle(ku,Tu,wo,!1,bo),c===null))return;const d=t.ray.origin.distanceTo(bo);d<t.near||d>t.far||e.push({distance:d,point:bo.clone(),uv:ar.getInterpolation(bo,ku,wo,Tu,uv,sp,hv,new X),face:null,object:this})}copy(t,e){return super.copy(t,e),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}function Cu(h,t,e,i,s,o){Hs.subVectors(h,e).addScalar(.5).multiply(i),s!==void 0?(xo.x=o*Hs.x-s*Hs.y,xo.y=s*Hs.x+o*Hs.y):xo.copy(Hs),h.copy(t),h.x+=xo.x,h.y+=xo.y,h.applyMatrix4(xb)}const Au=new z,cv=new z;class BM extends Bt{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const e=t.levels;for(let i=0,s=e.length;i<s;i++){const o=e[i];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,e=0,i=0){e=Math.abs(e);const s=this.levels;let o;for(o=0;o<s.length&&!(e<s[o].distance);o++);return s.splice(o,0,{distance:e,hysteresis:i,object:t}),this.add(t),this}removeLevel(t){const e=this.levels;for(let i=0;i<e.length;i++)if(e[i].distance===t){const s=e.splice(i,1);return this.remove(s[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const e=this.levels;if(e.length>0){let i,s;for(i=1,s=e.length;i<s;i++){let o=e[i].distance;if(e[i].object.visible&&(o-=o*e[i].hysteresis),t<o)break}return e[i-1].object}return null}raycast(t,e){if(this.levels.length>0){Au.setFromMatrixPosition(this.matrixWorld);const i=t.ray.origin.distanceTo(Au);this.getObjectForDistance(i).raycast(t,e)}}update(t){const e=this.levels;if(e.length>1){Au.setFromMatrixPosition(t.matrixWorld),cv.setFromMatrixPosition(this.matrixWorld);const i=Au.distanceTo(cv)/t.zoom;e[0].object.visible=!0;let s,o;for(s=1,o=e.length;s<o;s++){let l=e[s].distance;if(e[s].object.visible&&(l-=l*e[s].hysteresis),i>=l)e[s-1].object.visible=!1,e[s].object.visible=!0;else break}for(this._currentLevel=s-1;s<o;s++)e[s].object.visible=!1}}toJSON(t){const e=super.toJSON(t);this.autoUpdate===!1&&(e.object.autoUpdate=!1),e.object.levels=[];const i=this.levels;for(let s=0,o=i.length;s<o;s++){const l=i[s];e.object.levels.push({object:l.object.uuid,distance:l.distance,hysteresis:l.hysteresis})}return e}}const dv=new z,pv=new ve,fv=new ve,DM=new z,mv=new St,zu=new z,ap=new Ee,yv=new St,op=new Ho;class FM extends Ir{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=V0,this.bindMatrix=new St,this.bindMatrixInverse=new St,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;this.boundingBox===null&&(this.boundingBox=new Be),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)this.getVertexPosition(i,zu),this.boundingBox.expandByPoint(zu)}computeBoundingSphere(){const t=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ee),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)this.getVertexPosition(i,zu),this.boundingSphere.expandByPoint(zu)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const i=this.material,s=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),ap.copy(this.boundingSphere),ap.applyMatrix4(s),t.ray.intersectsSphere(ap)!==!1&&(yv.copy(s).invert(),op.copy(t.ray).applyMatrix4(yv),!(this.boundingBox!==null&&op.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(t,e,op)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new ve,e=this.geometry.attributes.skinWeight;for(let i=0,s=e.count;i<s;i++){t.fromBufferAttribute(e,i);const o=1/t.manhattanLength();o!==1/0?t.multiplyScalar(o):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===V0?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Ww?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,e){const i=this.skeleton,s=this.geometry;pv.fromBufferAttribute(s.attributes.skinIndex,t),fv.fromBufferAttribute(s.attributes.skinWeight,t),dv.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let o=0;o<4;o++){const l=fv.getComponent(o);if(l!==0){const c=pv.getComponent(o);mv.multiplyMatrices(i.bones[c].matrixWorld,i.boneInverses[c]),e.addScaledVector(DM.copy(dv).applyMatrix4(mv),l)}}return e.applyMatrix4(this.bindMatrixInverse)}}class wb extends Bt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class gi extends de{constructor(t=null,e=1,i=1,s,o,l,c,d,p=Er,m=Er,g,v){super(null,l,c,d,p,m,s,o,g,v),this.isDataTexture=!0,this.image={data:t,width:e,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const gv=new St,VM=new St;class $p{constructor(t=[],e=[]){this.uuid=or(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),e.length===0)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,s=this.bones.length;i<s;i++)this.boneInverses.push(new St)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const i=new St;this.bones[t]&&i.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&i.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const t=this.bones,e=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let o=0,l=t.length;o<l;o++){const c=t[o]?t[o].matrixWorld:VM;gv.multiplyMatrices(c,e[o]),gv.toArray(i,o*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new $p(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(this.bones.length*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const i=new gi(e,t,t,Bo,Qs);return i.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=i,this}getBoneByName(t){for(let e=0,i=this.bones.length;e<i;e++){const s=this.bones[e];if(s.name===t)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let i=0,s=t.bones.length;i<s;i++){const o=t.bones[i];let l=e[o];l===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),l=new wb),this.bones.push(l),this.boneInverses.push(new St().fromArray(t.boneInverses[i]))}return this.init(),this}toJSON(){const t={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,i=this.boneInverses;for(let s=0,o=e.length;s<o;s++){const l=e[s];t.bones.push(l.uuid);const c=i[s];t.boneInverses.push(c.toArray())}return t}}class Fo extends Qt{constructor(t,e,i,s=1){super(t,e,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const qs=new St,vv=new St,Eu=[],bv=new Be,UM=new St,So=new Ir,Mo=new Ee;class jM extends Ir{constructor(t,e,i){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new Fo(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<i;s++)this.setMatrixAt(s,UM)}computeBoundingBox(){const t=this.geometry,e=this.count;this.boundingBox===null&&(this.boundingBox=new Be),t.boundingBox===null&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,qs),bv.copy(t.boundingBox).applyMatrix4(qs),this.boundingBox.union(bv)}computeBoundingSphere(){const t=this.geometry,e=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ee),t.boundingSphere===null&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,qs),Mo.copy(t.boundingSphere).applyMatrix4(qs),this.boundingSphere.union(Mo)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),t.morphTexture!==null&&(this.morphTexture=t.morphTexture.clone()),t.instanceColor!==null&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,t*3)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,t*16)}getMorphAt(t,e){const i=e.morphTargetInfluences,s=this.morphTexture.source.data.data,o=i.length+1,l=t*o+1;for(let c=0;c<i.length;c++)i[c]=s[l+c]}raycast(t,e){const i=this.matrixWorld,s=this.count;if(So.geometry=this.geometry,So.material=this.material,So.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Mo.copy(this.boundingSphere),Mo.applyMatrix4(i),t.ray.intersectsSphere(Mo)!==!1))for(let o=0;o<s;o++){this.getMatrixAt(o,qs),vv.multiplyMatrices(i,qs),So.matrixWorld=vv,So.raycast(t,Eu);for(let l=0,c=Eu.length;l<c;l++){const d=Eu[l];d.instanceId=o,d.object=this,e.push(d)}Eu.length=0}}setColorAt(t,e){this.instanceColor===null&&(this.instanceColor=new Fo(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),e.toArray(this.instanceColor.array,t*3)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,t*16)}setMorphAt(t,e){const i=e.morphTargetInfluences,s=i.length+1;this.morphTexture===null&&(this.morphTexture=new gi(new Float32Array(s*this.count),s,this.count,cb,Qs));const o=this.morphTexture.source.data.data;let l=0;for(let p=0;p<i.length;p++)l+=i[p];const c=this.geometry.morphTargetsRelative?1:1-l,d=s*t;o[d]=c,o.set(i,d+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const lp=new z,WM=new z,HM=new Hr;class Gs{constructor(t=new z(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,s){return this.normal.set(t,e,i),this.constant=s,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const s=lp.subVectors(i,e).cross(WM.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(s,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const i=t.delta(lp),s=this.normal.dot(i);if(s===0)return this.distanceToPoint(t.start)===0?e.copy(t.start):null;const o=-(t.start.dot(this.normal)+this.constant)/s;return o<0||o>1?null:e.copy(t.start).addScaledVector(i,o)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||HM.getNormalMatrix(t),s=this.coplanarPoint(lp).applyMatrix4(t),o=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(o),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const kn=new Ee,Iu=new z;class Qp{constructor(t=new Gs,e=new Gs,i=new Gs,s=new Gs,o=new Gs,l=new Gs){this.planes=[t,e,i,s,o,l]}set(t,e,i,s,o,l){const c=this.planes;return c[0].copy(t),c[1].copy(e),c[2].copy(i),c[3].copy(s),c[4].copy(o),c[5].copy(l),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t,e=Vr){const i=this.planes,s=t.elements,o=s[0],l=s[1],c=s[2],d=s[3],p=s[4],m=s[5],g=s[6],v=s[7],b=s[8],x=s[9],S=s[10],_=s[11],M=s[12],T=s[13],C=s[14],A=s[15];if(i[0].setComponents(d-o,v-p,_-b,A-M).normalize(),i[1].setComponents(d+o,v+p,_+b,A+M).normalize(),i[2].setComponents(d+l,v+m,_+x,A+T).normalize(),i[3].setComponents(d-l,v-m,_-x,A-T).normalize(),i[4].setComponents(d-c,v-g,_-S,A-C).normalize(),e===Vr)i[5].setComponents(d+c,v+g,_+S,A+C).normalize();else if(e===ih)i[5].setComponents(c,g,S,C).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),kn.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;e.boundingSphere===null&&e.computeBoundingSphere(),kn.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(kn)}intersectsSprite(t){return kn.center.set(0,0,0),kn.radius=.7071067811865476,kn.applyMatrix4(t.matrixWorld),this.intersectsSphere(kn)}intersectsSphere(t){const e=this.planes,i=t.center,s=-t.radius;for(let o=0;o<6;o++)if(e[o].distanceToPoint(i)<s)return!1;return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const s=e[i];if(Iu.x=s.normal.x>0?t.max.x:t.min.x,Iu.y=s.normal.y>0?t.max.y:t.min.y,Iu.z=s.normal.z>0?t.max.z:t.min.z,s.distanceToPoint(Iu)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Br=new St,Dr=new Qp;class Kp{constructor(){this.coordinateSystem=Vr}intersectsObject(t,e){if(!e.isArrayCamera||e.cameras.length===0)return!1;for(let i=0;i<e.cameras.length;i++){const s=e.cameras[i];if(Br.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),Dr.setFromProjectionMatrix(Br,this.coordinateSystem),Dr.intersectsObject(t))return!0}return!1}intersectsSprite(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let i=0;i<e.cameras.length;i++){const s=e.cameras[i];if(Br.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),Dr.setFromProjectionMatrix(Br,this.coordinateSystem),Dr.intersectsSprite(t))return!0}return!1}intersectsSphere(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let i=0;i<e.cameras.length;i++){const s=e.cameras[i];if(Br.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),Dr.setFromProjectionMatrix(Br,this.coordinateSystem),Dr.intersectsSphere(t))return!0}return!1}intersectsBox(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let i=0;i<e.cameras.length;i++){const s=e.cameras[i];if(Br.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),Dr.setFromProjectionMatrix(Br,this.coordinateSystem),Dr.intersectsBox(t))return!0}return!1}containsPoint(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let i=0;i<e.cameras.length;i++){const s=e.cameras[i];if(Br.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),Dr.setFromProjectionMatrix(Br,this.coordinateSystem),Dr.containsPoint(t))return!0}return!1}clone(){return new Kp}}function up(h,t){return h-t}function qM(h,t){return h.z-t.z}function GM(h,t){return t.z-h.z}class YM{constructor(){this.index=0,this.pool=[],this.list=[]}push(t,e,i,s){const o=this.pool,l=this.list;this.index>=o.length&&o.push({start:-1,count:-1,z:-1,index:-1});const c=o[this.index];l.push(c),this.index++,c.start=t,c.count=e,c.z=i,c.index=s}reset(){this.list.length=0,this.index=0}}const qe=new St,ZM=new bt(1,1,1),xv=new Qp,JM=new Kp,Pu=new Be,Tn=new Ee,_o=new z,wv=new z,XM=new z,hp=new YM,ze=new Ir,Ou=[];function $M(h,t,e=0){const i=t.itemSize;if(h.isInterleavedBufferAttribute||h.array.constructor!==t.array.constructor){const s=h.count;for(let o=0;o<s;o++)for(let l=0;l<i;l++)t.setComponent(o+e,l,h.getComponent(o,l))}else t.array.set(h.array,e*i);t.needsUpdate=!0}function Cn(h,t){if(h.constructor!==t.constructor){const e=Math.min(h.length,t.length);for(let i=0;i<e;i++)t[i]=h[i]}else{const e=Math.min(h.length,t.length);t.set(new h.constructor(h.buffer,0,e))}}class QM extends Ir{constructor(t,e,i=e*2,s){super(new Ct,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=t,this._maxVertexCount=e,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(t),this._multiDrawStarts=new Int32Array(t),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let t=Math.sqrt(this._maxInstanceCount*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4),i=new gi(e,t,t,Bo,Qs);this._matricesTexture=i}_initIndirectTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Uint32Array(t*t),i=new gi(e,t,t,db,Vp);this._indirectTexture=i}_initColorsTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Float32Array(t*t*4).fill(1),i=new gi(e,t,t,Bo,Qs);i.colorSpace=sr.workingColorSpace,this._colorsTexture=i}_initializeGeometry(t){const e=this.geometry,i=this._maxVertexCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in t.attributes){const l=t.getAttribute(o),{array:c,itemSize:d,normalized:p}=l,m=new c.constructor(i*d),g=new Qt(m,d,p);e.setAttribute(o,g)}if(t.getIndex()!==null){const o=i>65535?new Uint32Array(s):new Uint16Array(s);e.setIndex(new Qt(o,1))}this._geometryInitialized=!0}}_validateGeometry(t){const e=this.geometry;if(!!t.getIndex()!=!!e.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in e.attributes){if(!t.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const s=t.getAttribute(i),o=e.getAttribute(i);if(s.itemSize!==o.itemSize||s.normalized!==o.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(t){const e=this._instanceInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${t}. Instance is either out of range or has been deleted.`)}validateGeometryId(t){const e=this._geometryInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${t}. Geometry is either out of range or has been deleted.`)}setCustomSort(t){return this.customSort=t,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Be);const t=this.boundingBox,e=this._instanceInfo;t.makeEmpty();for(let i=0,s=e.length;i<s;i++){if(e[i].active===!1)continue;const o=e[i].geometryIndex;this.getMatrixAt(i,qe),this.getBoundingBoxAt(o,Pu).applyMatrix4(qe),t.union(Pu)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ee);const t=this.boundingSphere,e=this._instanceInfo;t.makeEmpty();for(let i=0,s=e.length;i<s;i++){if(e[i].active===!1)continue;const o=e[i].geometryIndex;this.getMatrixAt(i,qe),this.getBoundingSphereAt(o,Tn).applyMatrix4(qe),t.union(Tn)}}addInstance(t){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const e={visible:!0,active:!0,geometryIndex:t};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(up),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=e):(i=this._instanceInfo.length,this._instanceInfo.push(e));const s=this._matricesTexture;qe.identity().toArray(s.image.data,i*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&(ZM.toArray(o.image.data,i*4),o.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(t,e=-1,i=-1){this._initializeGeometry(t),this._validateGeometry(t);const s={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},o=this._geometryInfo;s.vertexStart=this._nextVertexStart,s.reservedVertexCount=e===-1?t.getAttribute("position").count:e;const l=t.getIndex();if(l!==null&&(s.indexStart=this._nextIndexStart,s.reservedIndexCount=i===-1?l.count:i),s.indexStart!==-1&&s.indexStart+s.reservedIndexCount>this._maxIndexCount||s.vertexStart+s.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let c;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(up),c=this._availableGeometryIds.shift(),o[c]=s):(c=this._geometryCount,this._geometryCount++,o.push(s)),this.setGeometryAt(c,t),this._nextIndexStart=s.indexStart+s.reservedIndexCount,this._nextVertexStart=s.vertexStart+s.reservedVertexCount,c}setGeometryAt(t,e){if(t>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(e);const i=this.geometry,s=i.getIndex()!==null,o=i.getIndex(),l=e.getIndex(),c=this._geometryInfo[t];if(s&&l.count>c.reservedIndexCount||e.attributes.position.count>c.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const d=c.vertexStart,p=c.reservedVertexCount;c.vertexCount=e.getAttribute("position").count;for(const m in i.attributes){const g=e.getAttribute(m),v=i.getAttribute(m);$M(g,v,d);const b=g.itemSize;for(let x=g.count,S=p;x<S;x++){const _=d+x;for(let M=0;M<b;M++)v.setComponent(_,M,0)}v.needsUpdate=!0,v.addUpdateRange(d*b,p*b)}if(s){const m=c.indexStart,g=c.reservedIndexCount;c.indexCount=e.getIndex().count;for(let v=0;v<l.count;v++)o.setX(m+v,d+l.getX(v));for(let v=l.count,b=g;v<b;v++)o.setX(m+v,d);o.needsUpdate=!0,o.addUpdateRange(m,c.reservedIndexCount)}return c.start=s?c.indexStart:c.vertexStart,c.count=s?c.indexCount:c.vertexCount,c.boundingBox=null,e.boundingBox!==null&&(c.boundingBox=e.boundingBox.clone()),c.boundingSphere=null,e.boundingSphere!==null&&(c.boundingSphere=e.boundingSphere.clone()),this._visibilityChanged=!0,t}deleteGeometry(t){const e=this._geometryInfo;if(t>=e.length||e[t].active===!1)return this;const i=this._instanceInfo;for(let s=0,o=i.length;s<o;s++)i[s].active&&i[s].geometryIndex===t&&this.deleteInstance(s);return e[t].active=!1,this._availableGeometryIds.push(t),this._visibilityChanged=!0,this}deleteInstance(t){return this.validateInstanceId(t),this._instanceInfo[t].active=!1,this._availableInstanceIds.push(t),this._visibilityChanged=!0,this}optimize(){let t=0,e=0;const i=this._geometryInfo,s=i.map((l,c)=>c).sort((l,c)=>i[l].vertexStart-i[c].vertexStart),o=this.geometry;for(let l=0,c=i.length;l<c;l++){const d=s[l],p=i[d];if(p.active!==!1){if(o.index!==null){if(p.indexStart!==e){const{indexStart:m,vertexStart:g,reservedIndexCount:v}=p,b=o.index,x=b.array,S=t-g;for(let _=m;_<m+v;_++)x[_]=x[_]+S;b.array.copyWithin(e,m,m+v),b.addUpdateRange(e,v),p.indexStart=e}e+=p.reservedIndexCount}if(p.vertexStart!==t){const{vertexStart:m,reservedVertexCount:g}=p,v=o.attributes;for(const b in v){const x=v[b],{array:S,itemSize:_}=x;S.copyWithin(t*_,m*_,(m+g)*_),x.addUpdateRange(t*_,g*_)}p.vertexStart=t}t+=p.reservedVertexCount,p.start=o.index?p.indexStart:p.vertexStart,this._nextIndexStart=o.index?p.indexStart+p.reservedIndexCount:0,this._nextVertexStart=p.vertexStart+p.reservedVertexCount}}return this}getBoundingBoxAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[t];if(s.boundingBox===null){const o=new Be,l=i.index,c=i.attributes.position;for(let d=s.start,p=s.start+s.count;d<p;d++){let m=d;l&&(m=l.getX(m)),o.expandByPoint(_o.fromBufferAttribute(c,m))}s.boundingBox=o}return e.copy(s.boundingBox),e}getBoundingSphereAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[t];if(s.boundingSphere===null){const o=new Ee;this.getBoundingBoxAt(t,Pu),Pu.getCenter(o.center);const l=i.index,c=i.attributes.position;let d=0;for(let p=s.start,m=s.start+s.count;p<m;p++){let g=p;l&&(g=l.getX(g)),_o.fromBufferAttribute(c,g),d=Math.max(d,o.center.distanceToSquared(_o))}o.radius=Math.sqrt(d),s.boundingSphere=o}return e.copy(s.boundingSphere),e}setMatrixAt(t,e){this.validateInstanceId(t);const i=this._matricesTexture,s=this._matricesTexture.image.data;return e.toArray(s,t*16),i.needsUpdate=!0,this}getMatrixAt(t,e){return this.validateInstanceId(t),e.fromArray(this._matricesTexture.image.data,t*16)}setColorAt(t,e){return this.validateInstanceId(t),this._colorsTexture===null&&this._initColorsTexture(),e.toArray(this._colorsTexture.image.data,t*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(t,e){return this.validateInstanceId(t),e.fromArray(this._colorsTexture.image.data,t*4)}setVisibleAt(t,e){return this.validateInstanceId(t),this._instanceInfo[t].visible===e?this:(this._instanceInfo[t].visible=e,this._visibilityChanged=!0,this)}getVisibleAt(t){return this.validateInstanceId(t),this._instanceInfo[t].visible}setGeometryIdAt(t,e){return this.validateInstanceId(t),this.validateGeometryId(e),this._instanceInfo[t].geometryIndex=e,this}getGeometryIdAt(t){return this.validateInstanceId(t),this._instanceInfo[t].geometryIndex}getGeometryRangeAt(t,e={}){this.validateGeometryId(t);const i=this._geometryInfo[t];return e.vertexStart=i.vertexStart,e.vertexCount=i.vertexCount,e.reservedVertexCount=i.reservedVertexCount,e.indexStart=i.indexStart,e.indexCount=i.indexCount,e.reservedIndexCount=i.reservedIndexCount,e.start=i.start,e.count=i.count,e}setInstanceCount(t){const e=this._availableInstanceIds,i=this._instanceInfo;for(e.sort(up);e[e.length-1]===i.length;)i.pop(),e.pop();if(t<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${t} are being used. Cannot shrink instance count.`);const s=new Int32Array(t),o=new Int32Array(t);Cn(this._multiDrawCounts,s),Cn(this._multiDrawStarts,o),this._multiDrawCounts=s,this._multiDrawStarts=o,this._maxInstanceCount=t;const l=this._indirectTexture,c=this._matricesTexture,d=this._colorsTexture;l.dispose(),this._initIndirectTexture(),Cn(l.image.data,this._indirectTexture.image.data),c.dispose(),this._initMatricesTexture(),Cn(c.image.data,this._matricesTexture.image.data),d&&(d.dispose(),this._initColorsTexture(),Cn(d.image.data,this._colorsTexture.image.data))}setGeometrySize(t,e){const i=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...i.map(l=>l.vertexStart+l.reservedVertexCount))>t)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${e}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(l=>l.indexStart+l.reservedIndexCount))>e)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${e}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=t,this._maxIndexCount=e,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Ct,this._initializeGeometry(s));const o=this.geometry;s.index&&Cn(s.index.array,o.index.array);for(const l in s.attributes)Cn(s.attributes[l].array,o.attributes[l].array)}raycast(t,e){const i=this._instanceInfo,s=this._geometryInfo,o=this.matrixWorld,l=this.geometry;ze.material=this.material,ze.geometry.index=l.index,ze.geometry.attributes=l.attributes,ze.geometry.boundingBox===null&&(ze.geometry.boundingBox=new Be),ze.geometry.boundingSphere===null&&(ze.geometry.boundingSphere=new Ee);for(let c=0,d=i.length;c<d;c++){if(!i[c].visible||!i[c].active)continue;const p=i[c].geometryIndex,m=s[p];ze.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(c,ze.matrixWorld).premultiply(o),this.getBoundingBoxAt(p,ze.geometry.boundingBox),this.getBoundingSphereAt(p,ze.geometry.boundingSphere),ze.raycast(t,Ou);for(let g=0,v=Ou.length;g<v;g++){const b=Ou[g];b.object=this,b.batchId=c,e.push(b)}Ou.length=0}ze.material=null,ze.geometry.index=null,ze.geometry.attributes={},ze.geometry.setDrawRange(0,1/0)}copy(t){return super.copy(t),this.geometry=t.geometry.clone(),this.perObjectFrustumCulled=t.perObjectFrustumCulled,this.sortObjects=t.sortObjects,this.boundingBox=t.boundingBox!==null?t.boundingBox.clone():null,this.boundingSphere=t.boundingSphere!==null?t.boundingSphere.clone():null,this._geometryInfo=t._geometryInfo.map(e=>({...e,boundingBox:e.boundingBox!==null?e.boundingBox.clone():null,boundingSphere:e.boundingSphere!==null?e.boundingSphere.clone():null})),this._instanceInfo=t._instanceInfo.map(e=>({...e})),this._availableInstanceIds=t._availableInstanceIds.slice(),this._availableGeometryIds=t._availableGeometryIds.slice(),this._nextIndexStart=t._nextIndexStart,this._nextVertexStart=t._nextVertexStart,this._geometryCount=t._geometryCount,this._maxInstanceCount=t._maxInstanceCount,this._maxVertexCount=t._maxVertexCount,this._maxIndexCount=t._maxIndexCount,this._geometryInitialized=t._geometryInitialized,this._multiDrawCounts=t._multiDrawCounts.slice(),this._multiDrawStarts=t._multiDrawStarts.slice(),this._indirectTexture=t._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=t._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=t._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(t,e,i,s,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const l=s.getIndex(),c=l===null?1:l.array.BYTES_PER_ELEMENT,d=this._instanceInfo,p=this._multiDrawStarts,m=this._multiDrawCounts,g=this._geometryInfo,v=this.perObjectFrustumCulled,b=this._indirectTexture,x=b.image.data,S=i.isArrayCamera?JM:xv;v&&!i.isArrayCamera&&(qe.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),xv.setFromProjectionMatrix(qe,t.coordinateSystem));let _=0;if(this.sortObjects){qe.copy(this.matrixWorld).invert(),_o.setFromMatrixPosition(i.matrixWorld).applyMatrix4(qe),wv.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(qe);for(let C=0,A=d.length;C<A;C++)if(d[C].visible&&d[C].active){const O=d[C].geometryIndex;this.getMatrixAt(C,qe),this.getBoundingSphereAt(O,Tn).applyMatrix4(qe);let B=!1;if(v&&(B=!S.intersectsSphere(Tn,i)),!B){const j=g[O],D=XM.subVectors(Tn.center,_o).dot(wv);hp.push(j.start,j.count,D,C)}}const M=hp.list,T=this.customSort;T===null?M.sort(o.transparent?GM:qM):T.call(this,M,i);for(let C=0,A=M.length;C<A;C++){const O=M[C];p[_]=O.start*c,m[_]=O.count,x[_]=O.index,_++}hp.reset()}else for(let M=0,T=d.length;M<T;M++)if(d[M].visible&&d[M].active){const C=d[M].geometryIndex;let A=!1;if(v&&(this.getMatrixAt(M,qe),this.getBoundingSphereAt(C,Tn).applyMatrix4(qe),A=!S.intersectsSphere(Tn,i)),!A){const O=g[C];p[_]=O.start*c,m[_]=O.count,x[_]=M,_++}}b.needsUpdate=!0,this._multiDrawCount=_,this._visibilityChanged=!1}onBeforeShadow(t,e,i,s,o,l){this.onBeforeRender(t,null,s,o,l)}}class Ye extends De{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new bt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const sh=new z,ah=new z,Sv=new St,ko=new Ho,Ru=new Ee,cp=new z,Mv=new z;class Bn extends Bt{constructor(t=new Ct,e=new Ye){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[0];for(let s=1,o=e.count;s<o;s++)sh.fromBufferAttribute(e,s-1),ah.fromBufferAttribute(e,s),i[s]=i[s-1],i[s]+=sh.distanceTo(ah);t.setAttribute("lineDistance",new ot(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const i=this.geometry,s=this.matrixWorld,o=t.params.Line.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Ru.copy(i.boundingSphere),Ru.applyMatrix4(s),Ru.radius+=o,t.ray.intersectsSphere(Ru)===!1)return;Sv.copy(s).invert(),ko.copy(t.ray).applyMatrix4(Sv);const c=o/((this.scale.x+this.scale.y+this.scale.z)/3),d=c*c,p=this.isLineSegments?2:1,m=i.index,g=i.attributes.position;if(m!==null){const v=Math.max(0,l.start),b=Math.min(m.count,l.start+l.count);for(let x=v,S=b-1;x<S;x+=p){const _=m.getX(x),M=m.getX(x+1),T=Lu(this,t,ko,d,_,M,x);T&&e.push(T)}if(this.isLineLoop){const x=m.getX(b-1),S=m.getX(v),_=Lu(this,t,ko,d,x,S,b-1);_&&e.push(_)}}else{const v=Math.max(0,l.start),b=Math.min(g.count,l.start+l.count);for(let x=v,S=b-1;x<S;x+=p){const _=Lu(this,t,ko,d,x,x+1,x);_&&e.push(_)}if(this.isLineLoop){const x=Lu(this,t,ko,d,b-1,v,b-1);x&&e.push(x)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const i=t[e[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}function Lu(h,t,e,i,s,o,l){const c=h.geometry.attributes.position;if(sh.fromBufferAttribute(c,s),ah.fromBufferAttribute(c,o),e.distanceSqToSegment(sh,ah,cp,Mv)>i)return;cp.applyMatrix4(h.matrixWorld);const d=t.ray.origin.distanceTo(cp);if(!(d<t.near||d>t.far))return{distance:d,point:Mv.clone().applyMatrix4(h.matrixWorld),index:l,face:null,faceIndex:null,barycoord:null,object:h}}const _v=new z,kv=new z;class xi extends Bn{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[];for(let s=0,o=e.count;s<o;s+=2)_v.fromBufferAttribute(e,s),kv.fromBufferAttribute(e,s+1),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+_v.distanceTo(kv);t.setAttribute("lineDistance",new ot(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class KM extends Bn{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class Sb extends De{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new bt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const Tv=new St,Cp=new Ho,Nu=new Ee,Bu=new z;class t2 extends Bt{constructor(t=new Ct,e=new Sb){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const i=this.geometry,s=this.matrixWorld,o=t.params.Points.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Nu.copy(i.boundingSphere),Nu.applyMatrix4(s),Nu.radius+=o,t.ray.intersectsSphere(Nu)===!1)return;Tv.copy(s).invert(),Cp.copy(t.ray).applyMatrix4(Tv);const c=o/((this.scale.x+this.scale.y+this.scale.z)/3),d=c*c,p=i.index,m=i.attributes.position;if(p!==null){const g=Math.max(0,l.start),v=Math.min(p.count,l.start+l.count);for(let b=g,x=v;b<x;b++){const S=p.getX(b);Bu.fromBufferAttribute(m,S),Cv(Bu,S,d,s,t,e,this)}}else{const g=Math.max(0,l.start),v=Math.min(m.count,l.start+l.count);for(let b=g,x=v;b<x;b++)Bu.fromBufferAttribute(m,b),Cv(Bu,b,d,s,t,e,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const i=t[e[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}function Cv(h,t,e,i,s,o,l){const c=Cp.distanceSqToPoint(h);if(c<e){const d=new z;Cp.closestPointToPoint(h,d),d.applyMatrix4(i);const p=s.ray.origin.distanceTo(d);if(p<s.near||p>s.far)return;o.push({distance:p,distanceToRay:Math.sqrt(c),point:d,index:t,face:null,faceIndex:null,barycoord:null,object:l})}}class e2 extends de{constructor(t,e,i,s,o=wr,l=wr,c,d,p){super(t,e,i,s,o,l,c,d,p),this.isVideoTexture=!0,this.generateMipmaps=!1;const m=this;function g(){m.needsUpdate=!0,t.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(g)}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;!("requestVideoFrameCallback"in t)&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class L3 extends e2{constructor(t,e,i,s,o,l,c,d){super({},t,e,i,s,o,l,c,d),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(t){this.image=t,this.needsUpdate=!0}}class N3 extends de{constructor(t,e){super({width:t,height:e}),this.isFramebufferTexture=!0,this.magFilter=Er,this.minFilter=Er,this.generateMipmaps=!1,this.needsUpdate=!0}}class tf extends de{constructor(t,e,i,s,o,l,c,d,p,m,g,v){super(null,l,c,d,p,m,s,o,g,v),this.isCompressedTexture=!0,this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class B3 extends tf{constructor(t,e,i,s,o,l){super(t,e,i,o,l),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=Fr,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class D3 extends tf{constructor(t,e,i){super(void 0,t[0].width,t[0].height,e,i,Dp),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=t}}class F3 extends de{constructor(t,e,i,s,o,l,c,d,p){super(t,e,i,s,o,l,c,d,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class r2 extends de{constructor(t,e,i=Vp,s,o,l,c=Er,d=Er,p,m=U0){if(m!==U0&&m!==oS)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,s,o,l,c,d,m,i,p),this.isDepthTexture=!0,this.image={width:t,height:e},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.source=new Rn(Object.assign({},t.image)),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return this.compareFunction!==null&&(e.compareFunction=this.compareFunction),e}}class V3 extends r2{constructor(t=1,e=1,i=1){super(t,e),this.isDepthArrayTexture=!0,this.image={width:t,height:e,depth:i},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class ef extends Ct{constructor(t=1,e=1,i=4,s=8,o=1){super(),this.type="CapsuleGeometry",this.parameters={radius:t,height:e,capSegments:i,radialSegments:s,heightSegments:o},e=Math.max(0,e),i=Math.max(1,Math.floor(i)),s=Math.max(3,Math.floor(s)),o=Math.max(1,Math.floor(o));const l=[],c=[],d=[],p=[],m=e/2,g=Math.PI/2*t,v=e,b=2*g+v,x=i*2+o,S=s+1,_=new z,M=new z;for(let T=0;T<=x;T++){let C=0,A=0,O=0,B=0;if(T<=i){const Y=T/i,J=Y*Math.PI/2;A=-m-t*Math.cos(J),O=t*Math.sin(J),B=-t*Math.cos(J),C=Y*g}else if(T<=i+o){const Y=(T-i)/o;A=-m+Y*e,O=t,B=0,C=g+Y*v}else{const Y=(T-i-o)/i,J=Y*Math.PI/2;A=m+t*Math.sin(J),O=t*Math.cos(J),B=t*Math.sin(J),C=g+v+Y*g}const j=Math.max(0,Math.min(1,C/b));let D=0;T===0?D=.5/s:T===x&&(D=-.5/s);for(let Y=0;Y<=s;Y++){const J=Y/s,it=J*Math.PI*2,lt=Math.sin(it),mt=Math.cos(it);M.x=-O*mt,M.y=A,M.z=O*lt,c.push(M.x,M.y,M.z),_.set(-O*mt,B,O*lt),_.normalize(),d.push(_.x,_.y,_.z),p.push(J+D,j)}if(T>0){const Y=(T-1)*S;for(let J=0;J<s;J++){const it=Y+J,lt=Y+J+1,mt=T*S+J,xt=T*S+J+1;l.push(it,lt,mt),l.push(lt,xt,mt)}}}this.setIndex(l),this.setAttribute("position",new ot(c,3)),this.setAttribute("normal",new ot(d,3)),this.setAttribute("uv",new ot(p,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new ef(t.radius,t.height,t.capSegments,t.radialSegments,t.heightSegments)}}class rf extends Ct{constructor(t=1,e=32,i=0,s=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:s},e=Math.max(3,e);const o=[],l=[],c=[],d=[],p=new z,m=new X;l.push(0,0,0),c.push(0,0,1),d.push(.5,.5);for(let g=0,v=3;g<=e;g++,v+=3){const b=i+g/e*s;p.x=t*Math.cos(b),p.y=t*Math.sin(b),l.push(p.x,p.y,p.z),c.push(0,0,1),m.x=(l[v]/t+1)/2,m.y=(l[v+1]/t+1)/2,d.push(m.x,m.y)}for(let g=1;g<=e;g++)o.push(g,g+1,0);this.setIndex(o),this.setAttribute("position",new ot(l,3)),this.setAttribute("normal",new ot(c,3)),this.setAttribute("uv",new ot(d,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new rf(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class yh extends Ct{constructor(t=1,e=1,i=1,s=32,o=1,l=!1,c=0,d=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:s,heightSegments:o,openEnded:l,thetaStart:c,thetaLength:d};const p=this;s=Math.floor(s),o=Math.floor(o);const m=[],g=[],v=[],b=[];let x=0;const S=[],_=i/2;let M=0;T(),l===!1&&(t>0&&C(!0),e>0&&C(!1)),this.setIndex(m),this.setAttribute("position",new ot(g,3)),this.setAttribute("normal",new ot(v,3)),this.setAttribute("uv",new ot(b,2));function T(){const A=new z,O=new z;let B=0;const j=(e-t)/i;for(let D=0;D<=o;D++){const Y=[],J=D/o,it=J*(e-t)+t;for(let lt=0;lt<=s;lt++){const mt=lt/s,xt=mt*d+c,_t=Math.sin(xt),U=Math.cos(xt);O.x=it*_t,O.y=-J*i+_,O.z=it*U,g.push(O.x,O.y,O.z),A.set(_t,j,U).normalize(),v.push(A.x,A.y,A.z),b.push(mt,1-J),Y.push(x++)}S.push(Y)}for(let D=0;D<s;D++)for(let Y=0;Y<o;Y++){const J=S[Y][D],it=S[Y+1][D],lt=S[Y+1][D+1],mt=S[Y][D+1];(t>0||Y!==0)&&(m.push(J,it,mt),B+=3),(e>0||Y!==o-1)&&(m.push(it,lt,mt),B+=3)}p.addGroup(M,B,0),M+=B}function C(A){const O=x,B=new X,j=new z;let D=0;const Y=A===!0?t:e,J=A===!0?1:-1;for(let lt=1;lt<=s;lt++)g.push(0,_*J,0),v.push(0,J,0),b.push(.5,.5),x++;const it=x;for(let lt=0;lt<=s;lt++){const mt=lt/s*d+c,xt=Math.cos(mt),_t=Math.sin(mt);j.x=Y*_t,j.y=_*J,j.z=Y*xt,g.push(j.x,j.y,j.z),v.push(0,J,0),B.x=xt*.5+.5,B.y=_t*.5*J+.5,b.push(B.x,B.y),x++}for(let lt=0;lt<s;lt++){const mt=O+lt,xt=it+lt;A===!0?m.push(xt,xt+1,mt):m.push(xt+1,xt,mt),D+=3}p.addGroup(M,D,A===!0?1:2),M+=D}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new yh(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class gh extends yh{constructor(t=1,e=1,i=32,s=1,o=!1,l=0,c=Math.PI*2){super(0,t,e,i,s,o,l,c),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:l,thetaLength:c}}static fromJSON(t){return new gh(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class Vn extends Ct{constructor(t=[],e=[],i=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:s};const o=[],l=[];c(s),p(i),m(),this.setAttribute("position",new ot(o,3)),this.setAttribute("normal",new ot(o.slice(),3)),this.setAttribute("uv",new ot(l,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function c(T){const C=new z,A=new z,O=new z;for(let B=0;B<e.length;B+=3)b(e[B+0],C),b(e[B+1],A),b(e[B+2],O),d(C,A,O,T)}function d(T,C,A,O){const B=O+1,j=[];for(let D=0;D<=B;D++){j[D]=[];const Y=T.clone().lerp(A,D/B),J=C.clone().lerp(A,D/B),it=B-D;for(let lt=0;lt<=it;lt++)lt===0&&D===B?j[D][lt]=Y:j[D][lt]=Y.clone().lerp(J,lt/it)}for(let D=0;D<B;D++)for(let Y=0;Y<2*(B-D)-1;Y++){const J=Math.floor(Y/2);Y%2===0?(v(j[D][J+1]),v(j[D+1][J]),v(j[D][J])):(v(j[D][J+1]),v(j[D+1][J+1]),v(j[D+1][J]))}}function p(T){const C=new z;for(let A=0;A<o.length;A+=3)C.x=o[A+0],C.y=o[A+1],C.z=o[A+2],C.normalize().multiplyScalar(T),o[A+0]=C.x,o[A+1]=C.y,o[A+2]=C.z}function m(){const T=new z;for(let C=0;C<o.length;C+=3){T.x=o[C+0],T.y=o[C+1],T.z=o[C+2];const A=_(T)/2/Math.PI+.5,O=M(T)/Math.PI+.5;l.push(A,1-O)}x(),g()}function g(){for(let T=0;T<l.length;T+=6){const C=l[T+0],A=l[T+2],O=l[T+4],B=Math.max(C,A,O),j=Math.min(C,A,O);B>.9&&j<.1&&(C<.2&&(l[T+0]+=1),A<.2&&(l[T+2]+=1),O<.2&&(l[T+4]+=1))}}function v(T){o.push(T.x,T.y,T.z)}function b(T,C){const A=T*3;C.x=t[A+0],C.y=t[A+1],C.z=t[A+2]}function x(){const T=new z,C=new z,A=new z,O=new z,B=new X,j=new X,D=new X;for(let Y=0,J=0;Y<o.length;Y+=9,J+=6){T.set(o[Y+0],o[Y+1],o[Y+2]),C.set(o[Y+3],o[Y+4],o[Y+5]),A.set(o[Y+6],o[Y+7],o[Y+8]),B.set(l[J+0],l[J+1]),j.set(l[J+2],l[J+3]),D.set(l[J+4],l[J+5]),O.copy(T).add(C).add(A).divideScalar(3);const it=_(O);S(B,J+0,T,it),S(j,J+2,C,it),S(D,J+4,A,it)}}function S(T,C,A,O){O<0&&T.x===1&&(l[C]=T.x-1),A.x===0&&A.z===0&&(l[C]=O/2/Math.PI+.5)}function _(T){return Math.atan2(T.z,-T.x)}function M(T){return Math.atan2(-T.y,Math.sqrt(T.x*T.x+T.z*T.z))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Vn(t.vertices,t.indices,t.radius,t.details)}}class nf extends Vn{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,s=1/i,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-i,0,-s,i,0,s,-i,0,s,i,-s,-i,0,-s,i,0,s,-i,0,s,i,0,-i,0,-s,i,0,-s,-i,0,s,i,0,s],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,l,t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new nf(t.radius,t.detail)}}const Du=new z,Fu=new z,dp=new z,Vu=new ar;class i2 extends Ct{constructor(t=null,e=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:e},t!==null){const i=Math.pow(10,4),s=Math.cos(Nn*e),o=t.getIndex(),l=t.getAttribute("position"),c=o?o.count:l.count,d=[0,0,0],p=["a","b","c"],m=new Array(3),g={},v=[];for(let b=0;b<c;b+=3){o?(d[0]=o.getX(b),d[1]=o.getX(b+1),d[2]=o.getX(b+2)):(d[0]=b,d[1]=b+1,d[2]=b+2);const{a:x,b:S,c:_}=Vu;if(x.fromBufferAttribute(l,d[0]),S.fromBufferAttribute(l,d[1]),_.fromBufferAttribute(l,d[2]),Vu.getNormal(dp),m[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,m[1]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,m[2]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,!(m[0]===m[1]||m[1]===m[2]||m[2]===m[0]))for(let M=0;M<3;M++){const T=(M+1)%3,C=m[M],A=m[T],O=Vu[p[M]],B=Vu[p[T]],j=`${C}_${A}`,D=`${A}_${C}`;D in g&&g[D]?(dp.dot(g[D].normal)<=s&&(v.push(O.x,O.y,O.z),v.push(B.x,B.y,B.z)),g[D]=null):j in g||(g[j]={index0:d[M],index1:d[T],normal:dp.clone()})}}for(const b in g)if(g[b]){const{index0:x,index1:S}=g[b];Du.fromBufferAttribute(l,x),Fu.fromBufferAttribute(l,S),v.push(Du.x,Du.y,Du.z),v.push(Fu.x,Fu.y,Fu.z)}this.setAttribute("position",new ot(v,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}class qr{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(t,e){const i=this.getUtoTmapping(t);return this.getPoint(i,e)}getPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return e}getSpacedPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let i,s=this.getPoint(0),o=0;e.push(0);for(let l=1;l<=t;l++)i=this.getPoint(l/t),o+=i.distanceTo(s),e.push(o),s=i;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e=null){const i=this.getLengths();let s=0;const o=i.length;let l;e?l=e:l=t*i[o-1];let c=0,d=o-1,p;for(;c<=d;)if(s=Math.floor(c+(d-c)/2),p=i[s]-l,p<0)c=s+1;else if(p>0)d=s-1;else{d=s;break}if(s=d,i[s]===l)return s/(o-1);const m=i[s],g=i[s+1]-m,v=(l-m)/g;return(s+v)/(o-1)}getTangent(t,e){let i=t-1e-4,s=t+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),l=this.getPoint(s),c=e||(o.isVector2?new X:new z);return c.copy(l).sub(o).normalize(),c}getTangentAt(t,e){const i=this.getUtoTmapping(t);return this.getTangent(i,e)}computeFrenetFrames(t,e=!1){const i=new z,s=[],o=[],l=[],c=new z,d=new St;for(let b=0;b<=t;b++){const x=b/t;s[b]=this.getTangentAt(x,new z)}o[0]=new z,l[0]=new z;let p=Number.MAX_VALUE;const m=Math.abs(s[0].x),g=Math.abs(s[0].y),v=Math.abs(s[0].z);m<=p&&(p=m,i.set(1,0,0)),g<=p&&(p=g,i.set(0,1,0)),v<=p&&i.set(0,0,1),c.crossVectors(s[0],i).normalize(),o[0].crossVectors(s[0],c),l[0].crossVectors(s[0],o[0]);for(let b=1;b<=t;b++){if(o[b]=o[b-1].clone(),l[b]=l[b-1].clone(),c.crossVectors(s[b-1],s[b]),c.length()>Number.EPSILON){c.normalize();const x=Math.acos(vt(s[b-1].dot(s[b]),-1,1));o[b].applyMatrix4(d.makeRotationAxis(c,x))}l[b].crossVectors(s[b],o[b])}if(e===!0){let b=Math.acos(vt(o[0].dot(o[t]),-1,1));b/=t,s[0].dot(c.crossVectors(o[0],o[t]))>0&&(b=-b);for(let x=1;x<=t;x++)o[x].applyMatrix4(d.makeRotationAxis(s[x],b*x)),l[x].crossVectors(s[x],o[x])}return{tangents:s,normals:o,binormals:l}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class sf extends qr{constructor(t=0,e=0,i=1,s=1,o=0,l=Math.PI*2,c=!1,d=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=s,this.aStartAngle=o,this.aEndAngle=l,this.aClockwise=c,this.aRotation=d}getPoint(t,e=new X){const i=e,s=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const l=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=s;for(;o>s;)o-=s;o<Number.EPSILON&&(l?o=0:o=s),this.aClockwise===!0&&!l&&(o===s?o=-s:o=o-s);const c=this.aStartAngle+t*o;let d=this.aX+this.xRadius*Math.cos(c),p=this.aY+this.yRadius*Math.sin(c);if(this.aRotation!==0){const m=Math.cos(this.aRotation),g=Math.sin(this.aRotation),v=d-this.aX,b=p-this.aY;d=v*m-b*g+this.aX,p=v*g+b*m+this.aY}return i.set(d,p)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class n2 extends sf{constructor(t,e,i,s,o,l){super(t,e,i,i,s,o,l),this.isArcCurve=!0,this.type="ArcCurve"}}function af(){let h=0,t=0,e=0,i=0;function s(o,l,c,d){h=o,t=c,e=-3*o+3*l-2*c-d,i=2*o-2*l+c+d}return{initCatmullRom:function(o,l,c,d,p){s(l,c,p*(c-o),p*(d-l))},initNonuniformCatmullRom:function(o,l,c,d,p,m,g){let v=(l-o)/p-(c-o)/(p+m)+(c-l)/m,b=(c-l)/m-(d-l)/(m+g)+(d-c)/g;v*=m,b*=m,s(l,c,v,b)},calc:function(o){const l=o*o,c=l*o;return h+t*o+e*l+i*c}}}const Uu=new z,pp=new af,fp=new af,mp=new af;class s2 extends qr{constructor(t=[],e=!1,i="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=i,this.tension=s}getPoint(t,e=new z){const i=e,s=this.points,o=s.length,l=(o-(this.closed?0:1))*t;let c=Math.floor(l),d=l-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/o)+1)*o:d===0&&c===o-1&&(c=o-2,d=1);let p,m;this.closed||c>0?p=s[(c-1)%o]:(Uu.subVectors(s[0],s[1]).add(s[0]),p=Uu);const g=s[c%o],v=s[(c+1)%o];if(this.closed||c+2<o?m=s[(c+2)%o]:(Uu.subVectors(s[o-1],s[o-2]).add(s[o-1]),m=Uu),this.curveType==="centripetal"||this.curveType==="chordal"){const b=this.curveType==="chordal"?.5:.25;let x=Math.pow(p.distanceToSquared(g),b),S=Math.pow(g.distanceToSquared(v),b),_=Math.pow(v.distanceToSquared(m),b);S<1e-4&&(S=1),x<1e-4&&(x=S),_<1e-4&&(_=S),pp.initNonuniformCatmullRom(p.x,g.x,v.x,m.x,x,S,_),fp.initNonuniformCatmullRom(p.y,g.y,v.y,m.y,x,S,_),mp.initNonuniformCatmullRom(p.z,g.z,v.z,m.z,x,S,_)}else this.curveType==="catmullrom"&&(pp.initCatmullRom(p.x,g.x,v.x,m.x,this.tension),fp.initCatmullRom(p.y,g.y,v.y,m.y,this.tension),mp.initCatmullRom(p.z,g.z,v.z,m.z,this.tension));return i.set(pp.calc(d),fp.calc(d),mp.calc(d)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(s.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const s=this.points[e];t.points.push(s.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(new z().fromArray(s))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function Av(h,t,e,i,s){const o=(i-t)*.5,l=(s-e)*.5,c=h*h,d=h*c;return(2*e-2*i+o+l)*d+(-3*e+3*i-2*o-l)*c+o*h+e}function a2(h,t){const e=1-h;return e*e*t}function o2(h,t){return 2*(1-h)*h*t}function l2(h,t){return h*h*t}function Lo(h,t,e,i){return a2(h,t)+o2(h,e)+l2(h,i)}function u2(h,t){const e=1-h;return e*e*e*t}function h2(h,t){const e=1-h;return 3*e*e*h*t}function c2(h,t){return 3*(1-h)*h*h*t}function d2(h,t){return h*h*h*t}function No(h,t,e,i,s){return u2(h,t)+h2(h,e)+c2(h,i)+d2(h,s)}class Mb extends qr{constructor(t=new X,e=new X,i=new X,s=new X){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=i,this.v3=s}getPoint(t,e=new X){const i=e,s=this.v0,o=this.v1,l=this.v2,c=this.v3;return i.set(No(t,s.x,o.x,l.x,c.x),No(t,s.y,o.y,l.y,c.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class p2 extends qr{constructor(t=new z,e=new z,i=new z,s=new z){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=i,this.v3=s}getPoint(t,e=new z){const i=e,s=this.v0,o=this.v1,l=this.v2,c=this.v3;return i.set(No(t,s.x,o.x,l.x,c.x),No(t,s.y,o.y,l.y,c.y),No(t,s.z,o.z,l.z,c.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class _b extends qr{constructor(t=new X,e=new X){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new X){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new X){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class f2 extends qr{constructor(t=new z,e=new z){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=e}getPoint(t,e=new z){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new z){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class kb extends qr{constructor(t=new X,e=new X,i=new X){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new X){const i=e,s=this.v0,o=this.v1,l=this.v2;return i.set(Lo(t,s.x,o.x,l.x),Lo(t,s.y,o.y,l.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class Tb extends qr{constructor(t=new z,e=new z,i=new z){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new z){const i=e,s=this.v0,o=this.v1,l=this.v2;return i.set(Lo(t,s.x,o.x,l.x),Lo(t,s.y,o.y,l.y),Lo(t,s.z,o.z,l.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class Cb extends qr{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,e=new X){const i=e,s=this.points,o=(s.length-1)*t,l=Math.floor(o),c=o-l,d=s[l===0?l:l-1],p=s[l],m=s[l>s.length-2?s.length-1:l+1],g=s[l>s.length-3?s.length-1:l+2];return i.set(Av(c,d.x,p.x,m.x,g.x),Av(c,d.y,p.y,m.y,g.y)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(s.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const s=this.points[e];t.points.push(s.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(new X().fromArray(s))}return this}}var oh=Object.freeze({__proto__:null,ArcCurve:n2,CatmullRomCurve3:s2,CubicBezierCurve:Mb,CubicBezierCurve3:p2,EllipseCurve:sf,LineCurve:_b,LineCurve3:f2,QuadraticBezierCurve:kb,QuadraticBezierCurve3:Tb,SplineCurve:Cb});class m2 extends qr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);if(!t.equals(e)){const i=t.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new oh[i](e,t))}return this}getPoint(t,e){const i=t*this.getLength(),s=this.getCurveLengths();let o=0;for(;o<s.length;){if(s[o]>=i){const l=s[o]-i,c=this.curves[o],d=c.getLength(),p=d===0?0:1-l/d;return c.getPointAt(p,e)}o++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,s=this.curves.length;i<s;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let i;for(let s=0,o=this.curves;s<o.length;s++){const l=o[s],c=l.isEllipseCurve?t*2:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?t*l.points.length:t,d=l.getPoints(c);for(let p=0;p<d.length;p++){const m=d[p];i&&i.equals(m)||(e.push(m),i=m)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const s=t.curves[e];this.curves.push(s.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,i=this.curves.length;e<i;e++){const s=this.curves[e];t.curves.push(s.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const s=t.curves[e];this.curves.push(new oh[s.type]().fromJSON(s))}return this}}class Ap extends m2{constructor(t){super(),this.type="Path",this.currentPoint=new X,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const i=new _b(this.currentPoint.clone(),new X(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,i,s){const o=new kb(this.currentPoint.clone(),new X(t,e),new X(i,s));return this.curves.push(o),this.currentPoint.set(i,s),this}bezierCurveTo(t,e,i,s,o,l){const c=new Mb(this.currentPoint.clone(),new X(t,e),new X(i,s),new X(o,l));return this.curves.push(c),this.currentPoint.set(o,l),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),i=new Cb(e);return this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,i,s,o,l){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absarc(t+c,e+d,i,s,o,l),this}absarc(t,e,i,s,o,l){return this.absellipse(t,e,i,i,s,o,l),this}ellipse(t,e,i,s,o,l,c,d){const p=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(t+p,e+m,i,s,o,l,c,d),this}absellipse(t,e,i,s,o,l,c,d){const p=new sf(t,e,i,s,o,l,c,d);if(this.curves.length>0){const g=p.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(p);const m=p.getPoint(1);return this.currentPoint.copy(m),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class $s extends Ap{constructor(t){super(t),this.uuid=or(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let i=0,s=this.holes.length;i<s;i++)e[i]=this.holes[i].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const s=t.holes[e];this.holes.push(s.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,i=this.holes.length;e<i;e++){const s=this.holes[e];t.holes.push(s.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const s=t.holes[e];this.holes.push(new Ap().fromJSON(s))}return this}}function y2(h,t,e=2){const i=t&&t.length,s=i?t[0]*e:h.length;let o=Ab(h,0,s,e,!0);const l=[];if(!o||o.next===o.prev)return l;let c,d,p;if(i&&(o=w2(h,t,o,e)),h.length>80*e){c=1/0,d=1/0;let m=-1/0,g=-1/0;for(let v=e;v<s;v+=e){const b=h[v],x=h[v+1];b<c&&(c=b),x<d&&(d=x),b>m&&(m=b),x>g&&(g=x)}p=Math.max(m-c,g-d),p=p!==0?32767/p:0}return Vo(o,l,e,c,d,p,0),l}function Ab(h,t,e,i,s){let o;if(s===P2(h,t,e,i)>0)for(let l=t;l<e;l+=i)o=zv(l/i|0,h[l],h[l+1],o);else for(let l=e-i;l>=t;l-=i)o=zv(l/i|0,h[l],h[l+1],o);return o&&ta(o,o.next)&&(jo(o),o=o.next),o}function Dn(h,t){if(!h)return h;t||(t=h);let e=h,i;do if(i=!1,!e.steiner&&(ta(e,e.next)||$t(e.prev,e,e.next)===0)){if(jo(e),e=t=e.prev,e===e.next)break;i=!0}else e=e.next;while(i||e!==t);return t}function Vo(h,t,e,i,s,o,l){if(!h)return;!l&&o&&T2(h,i,s,o);let c=h;for(;h.prev!==h.next;){const d=h.prev,p=h.next;if(o?v2(h,i,s,o):g2(h)){t.push(d.i,h.i,p.i),jo(h),h=p.next,c=p.next;continue}if(h=p,h===c){l?l===1?(h=b2(Dn(h),t),Vo(h,t,e,i,s,o,2)):l===2&&x2(h,t,e,i,s,o):Vo(Dn(h),t,e,i,s,o,1);break}}}function g2(h){const t=h.prev,e=h,i=h.next;if($t(t,e,i)>=0)return!1;const s=t.x,o=e.x,l=i.x,c=t.y,d=e.y,p=i.y,m=Math.min(s,o,l),g=Math.min(c,d,p),v=Math.max(s,o,l),b=Math.max(c,d,p);let x=i.next;for(;x!==t;){if(x.x>=m&&x.x<=v&&x.y>=g&&x.y<=b&&Po(s,c,o,d,l,p,x.x,x.y)&&$t(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function v2(h,t,e,i){const s=h.prev,o=h,l=h.next;if($t(s,o,l)>=0)return!1;const c=s.x,d=o.x,p=l.x,m=s.y,g=o.y,v=l.y,b=Math.min(c,d,p),x=Math.min(m,g,v),S=Math.max(c,d,p),_=Math.max(m,g,v),M=zp(b,x,t,e,i),T=zp(S,_,t,e,i);let C=h.prevZ,A=h.nextZ;for(;C&&C.z>=M&&A&&A.z<=T;){if(C.x>=b&&C.x<=S&&C.y>=x&&C.y<=_&&C!==s&&C!==l&&Po(c,m,d,g,p,v,C.x,C.y)&&$t(C.prev,C,C.next)>=0||(C=C.prevZ,A.x>=b&&A.x<=S&&A.y>=x&&A.y<=_&&A!==s&&A!==l&&Po(c,m,d,g,p,v,A.x,A.y)&&$t(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;C&&C.z>=M;){if(C.x>=b&&C.x<=S&&C.y>=x&&C.y<=_&&C!==s&&C!==l&&Po(c,m,d,g,p,v,C.x,C.y)&&$t(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;A&&A.z<=T;){if(A.x>=b&&A.x<=S&&A.y>=x&&A.y<=_&&A!==s&&A!==l&&Po(c,m,d,g,p,v,A.x,A.y)&&$t(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function b2(h,t){let e=h;do{const i=e.prev,s=e.next.next;!ta(i,s)&&Eb(i,e,e.next,s)&&Uo(i,s)&&Uo(s,i)&&(t.push(i.i,e.i,s.i),jo(e),jo(e.next),e=h=s),e=e.next}while(e!==h);return Dn(e)}function x2(h,t,e,i,s,o){let l=h;do{let c=l.next.next;for(;c!==l.prev;){if(l.i!==c.i&&z2(l,c)){let d=Ib(l,c);l=Dn(l,l.next),d=Dn(d,d.next),Vo(l,t,e,i,s,o,0),Vo(d,t,e,i,s,o,0);return}c=c.next}l=l.next}while(l!==h)}function w2(h,t,e,i){const s=[];for(let o=0,l=t.length;o<l;o++){const c=t[o]*i,d=o<l-1?t[o+1]*i:h.length,p=Ab(h,c,d,i,!1);p===p.next&&(p.steiner=!0),s.push(A2(p))}s.sort(S2);for(let o=0;o<s.length;o++)e=M2(s[o],e);return e}function S2(h,t){let e=h.x-t.x;if(e===0&&(e=h.y-t.y,e===0)){const i=(h.next.y-h.y)/(h.next.x-h.x),s=(t.next.y-t.y)/(t.next.x-t.x);e=i-s}return e}function M2(h,t){const e=_2(h,t);if(!e)return t;const i=Ib(e,h);return Dn(i,i.next),Dn(e,e.next)}function _2(h,t){let e=t;const i=h.x,s=h.y;let o=-1/0,l;if(ta(h,e))return e;do{if(ta(h,e.next))return e.next;if(s<=e.y&&s>=e.next.y&&e.next.y!==e.y){const g=e.x+(s-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(g<=i&&g>o&&(o=g,l=e.x<e.next.x?e:e.next,g===i))return l}e=e.next}while(e!==t);if(!l)return null;const c=l,d=l.x,p=l.y;let m=1/0;e=l;do{if(i>=e.x&&e.x>=d&&i!==e.x&&zb(s<p?i:o,s,d,p,s<p?o:i,s,e.x,e.y)){const g=Math.abs(s-e.y)/(i-e.x);Uo(e,h)&&(g<m||g===m&&(e.x>l.x||e.x===l.x&&k2(l,e)))&&(l=e,m=g)}e=e.next}while(e!==c);return l}function k2(h,t){return $t(h.prev,h,t.prev)<0&&$t(t.next,h,h.next)<0}function T2(h,t,e,i){let s=h;do s.z===0&&(s.z=zp(s.x,s.y,t,e,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==h);s.prevZ.nextZ=null,s.prevZ=null,C2(s)}function C2(h){let t,e=1;do{let i=h,s;h=null;let o=null;for(t=0;i;){t++;let l=i,c=0;for(let p=0;p<e&&(c++,l=l.nextZ,!!l);p++);let d=e;for(;c>0||d>0&&l;)c!==0&&(d===0||!l||i.z<=l.z)?(s=i,i=i.nextZ,c--):(s=l,l=l.nextZ,d--),o?o.nextZ=s:h=s,s.prevZ=o,o=s;i=l}o.nextZ=null,e*=2}while(t>1);return h}function zp(h,t,e,i,s){return h=(h-e)*s|0,t=(t-i)*s|0,h=(h|h<<8)&16711935,h=(h|h<<4)&252645135,h=(h|h<<2)&858993459,h=(h|h<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,h|t<<1}function A2(h){let t=h,e=h;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==h);return e}function zb(h,t,e,i,s,o,l,c){return(s-l)*(t-c)>=(h-l)*(o-c)&&(h-l)*(i-c)>=(e-l)*(t-c)&&(e-l)*(o-c)>=(s-l)*(i-c)}function Po(h,t,e,i,s,o,l,c){return!(h===l&&t===c)&&zb(h,t,e,i,s,o,l,c)}function z2(h,t){return h.next.i!==t.i&&h.prev.i!==t.i&&!E2(h,t)&&(Uo(h,t)&&Uo(t,h)&&I2(h,t)&&($t(h.prev,h,t.prev)||$t(h,t.prev,t))||ta(h,t)&&$t(h.prev,h,h.next)>0&&$t(t.prev,t,t.next)>0)}function $t(h,t,e){return(t.y-h.y)*(e.x-t.x)-(t.x-h.x)*(e.y-t.y)}function ta(h,t){return h.x===t.x&&h.y===t.y}function Eb(h,t,e,i){const s=Wu($t(h,t,e)),o=Wu($t(h,t,i)),l=Wu($t(e,i,h)),c=Wu($t(e,i,t));return!!(s!==o&&l!==c||s===0&&ju(h,e,t)||o===0&&ju(h,i,t)||l===0&&ju(e,h,i)||c===0&&ju(e,t,i))}function ju(h,t,e){return t.x<=Math.max(h.x,e.x)&&t.x>=Math.min(h.x,e.x)&&t.y<=Math.max(h.y,e.y)&&t.y>=Math.min(h.y,e.y)}function Wu(h){return h>0?1:h<0?-1:0}function E2(h,t){let e=h;do{if(e.i!==h.i&&e.next.i!==h.i&&e.i!==t.i&&e.next.i!==t.i&&Eb(e,e.next,h,t))return!0;e=e.next}while(e!==h);return!1}function Uo(h,t){return $t(h.prev,h,h.next)<0?$t(h,t,h.next)>=0&&$t(h,h.prev,t)>=0:$t(h,t,h.prev)<0||$t(h,h.next,t)<0}function I2(h,t){let e=h,i=!1;const s=(h.x+t.x)/2,o=(h.y+t.y)/2;do e.y>o!=e.next.y>o&&e.next.y!==e.y&&s<(e.next.x-e.x)*(o-e.y)/(e.next.y-e.y)+e.x&&(i=!i),e=e.next;while(e!==h);return i}function Ib(h,t){const e=Ep(h.i,h.x,h.y),i=Ep(t.i,t.x,t.y),s=h.next,o=t.prev;return h.next=t,t.prev=h,e.next=s,s.prev=e,i.next=e,e.prev=i,o.next=i,i.prev=o,i}function zv(h,t,e,i){const s=Ep(h,t,e);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function jo(h){h.next.prev=h.prev,h.prev.next=h.next,h.prevZ&&(h.prevZ.nextZ=h.nextZ),h.nextZ&&(h.nextZ.prevZ=h.prevZ)}function Ep(h,t,e){return{i:h,x:t,y:e,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function P2(h,t,e,i){let s=0;for(let o=t,l=e-i;o<e;o+=i)s+=(h[l]-h[o])*(h[o+1]+h[l+1]),l=o;return s}class O2{static triangulate(t,e,i=2){return y2(t,e,i)}}class Ur{static area(t){const e=t.length;let i=0;for(let s=e-1,o=0;o<e;s=o++)i+=t[s].x*t[o].y-t[o].x*t[s].y;return i*.5}static isClockWise(t){return Ur.area(t)<0}static triangulateShape(t,e){const i=[],s=[],o=[];Ev(t),Iv(i,t);let l=t.length;e.forEach(Ev);for(let d=0;d<e.length;d++)s.push(l),l+=e[d].length,Iv(i,e[d]);const c=O2.triangulate(i,s);for(let d=0;d<c.length;d+=3)o.push(c.slice(d,d+3));return o}}function Ev(h){const t=h.length;t>2&&h[t-1].equals(h[0])&&h.pop()}function Iv(h,t){for(let e=0;e<t.length;e++)h.push(t[e].x),h.push(t[e].y)}class of extends Ct{constructor(t=new $s([new X(.5,.5),new X(-.5,.5),new X(-.5,-.5),new X(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const i=this,s=[],o=[];for(let c=0,d=t.length;c<d;c++){const p=t[c];l(p)}this.setAttribute("position",new ot(s,3)),this.setAttribute("uv",new ot(o,2)),this.computeVertexNormals();function l(c){const d=[],p=e.curveSegments!==void 0?e.curveSegments:12,m=e.steps!==void 0?e.steps:1,g=e.depth!==void 0?e.depth:1;let v=e.bevelEnabled!==void 0?e.bevelEnabled:!0,b=e.bevelThickness!==void 0?e.bevelThickness:.2,x=e.bevelSize!==void 0?e.bevelSize:b-.1,S=e.bevelOffset!==void 0?e.bevelOffset:0,_=e.bevelSegments!==void 0?e.bevelSegments:3;const M=e.extrudePath,T=e.UVGenerator!==void 0?e.UVGenerator:R2;let C,A=!1,O,B,j,D;M&&(C=M.getSpacedPoints(m),A=!0,v=!1,O=M.computeFrenetFrames(m,!1),B=new z,j=new z,D=new z),v||(_=0,b=0,x=0,S=0);const Y=c.extractPoints(p);let J=Y.shape;const it=Y.holes;if(!Ur.isClockWise(J)){J=J.reverse();for(let tt=0,et=it.length;tt<et;tt++){const rt=it[tt];Ur.isClockWise(rt)&&(it[tt]=rt.reverse())}}function lt(tt){const et=10000000000000001e-36;let rt=tt[0];for(let ct=1;ct<=tt.length;ct++){const nt=ct%tt.length,Et=tt[nt],kt=Et.x-rt.x,Ht=Et.y-rt.y,qt=kt*kt+Ht*Ht,te=Math.max(Math.abs(Et.x),Math.abs(Et.y),Math.abs(rt.x),Math.abs(rt.y)),Ie=et*te*te;if(qt<=Ie){tt.splice(nt,1),ct--;continue}rt=Et}}lt(J),it.forEach(lt);const mt=it.length,xt=J;for(let tt=0;tt<mt;tt++){const et=it[tt];J=J.concat(et)}function _t(tt,et,rt){return et||console.error("THREE.ExtrudeGeometry: vec does not exist"),tt.clone().addScaledVector(et,rt)}const U=J.length;function $(tt,et,rt){let ct,nt,Et;const kt=tt.x-et.x,Ht=tt.y-et.y,qt=rt.x-tt.x,te=rt.y-tt.y,Ie=kt*kt+Ht*Ht,rn=kt*te-Ht*qt;if(Math.abs(rn)>Number.EPSILON){const Pe=Math.sqrt(Ie),Si=Math.sqrt(qt*qt+te*te),Me=et.x-Ht/Pe,Sr=et.y+kt/Pe,Oe=rt.x-te/Si,_h=rt.y+qt/Si,Zo=((Oe-Me)*te-(_h-Sr)*qt)/(kt*te-Ht*qt);ct=Me+kt*Zo-tt.x,nt=Sr+Ht*Zo-tt.y;const Jo=ct*ct+nt*nt;if(Jo<=2)return new X(ct,nt);Et=Math.sqrt(Jo/2)}else{let Pe=!1;kt>Number.EPSILON?qt>Number.EPSILON&&(Pe=!0):kt<-Number.EPSILON?qt<-Number.EPSILON&&(Pe=!0):Math.sign(Ht)===Math.sign(te)&&(Pe=!0),Pe?(ct=-Ht,nt=kt,Et=Math.sqrt(Ie)):(ct=kt,nt=Ht,Et=Math.sqrt(Ie/2))}return new X(ct/Et,nt/Et)}const at=[];for(let tt=0,et=xt.length,rt=et-1,ct=tt+1;tt<et;tt++,rt++,ct++)rt===et&&(rt=0),ct===et&&(ct=0),at[tt]=$(xt[tt],xt[rt],xt[ct]);const ft=[];let I,q=at.concat();for(let tt=0,et=mt;tt<et;tt++){const rt=it[tt];I=[];for(let ct=0,nt=rt.length,Et=nt-1,kt=ct+1;ct<nt;ct++,Et++,kt++)Et===nt&&(Et=0),kt===nt&&(kt=0),I[ct]=$(rt[ct],rt[Et],rt[kt]);ft.push(I),q=q.concat(I)}let Q;if(_===0)Q=Ur.triangulateShape(xt,it);else{const tt=[],et=[];for(let rt=0;rt<_;rt++){const ct=rt/_,nt=b*Math.cos(ct*Math.PI/2),Et=x*Math.sin(ct*Math.PI/2)+S;for(let kt=0,Ht=xt.length;kt<Ht;kt++){const qt=_t(xt[kt],at[kt],Et);Ot(qt.x,qt.y,-nt),ct===0&&tt.push(qt)}for(let kt=0,Ht=mt;kt<Ht;kt++){const qt=it[kt];I=ft[kt];const te=[];for(let Ie=0,rn=qt.length;Ie<rn;Ie++){const Pe=_t(qt[Ie],I[Ie],Et);Ot(Pe.x,Pe.y,-nt),ct===0&&te.push(Pe)}ct===0&&et.push(te)}}Q=Ur.triangulateShape(tt,et)}const K=Q.length,ht=x+S;for(let tt=0;tt<U;tt++){const et=v?_t(J[tt],q[tt],ht):J[tt];A?(j.copy(O.normals[0]).multiplyScalar(et.x),B.copy(O.binormals[0]).multiplyScalar(et.y),D.copy(C[0]).add(j).add(B),Ot(D.x,D.y,D.z)):Ot(et.x,et.y,0)}for(let tt=1;tt<=m;tt++)for(let et=0;et<U;et++){const rt=v?_t(J[et],q[et],ht):J[et];A?(j.copy(O.normals[tt]).multiplyScalar(rt.x),B.copy(O.binormals[tt]).multiplyScalar(rt.y),D.copy(C[tt]).add(j).add(B),Ot(D.x,D.y,D.z)):Ot(rt.x,rt.y,g/m*tt)}for(let tt=_-1;tt>=0;tt--){const et=tt/_,rt=b*Math.cos(et*Math.PI/2),ct=x*Math.sin(et*Math.PI/2)+S;for(let nt=0,Et=xt.length;nt<Et;nt++){const kt=_t(xt[nt],at[nt],ct);Ot(kt.x,kt.y,g+rt)}for(let nt=0,Et=it.length;nt<Et;nt++){const kt=it[nt];I=ft[nt];for(let Ht=0,qt=kt.length;Ht<qt;Ht++){const te=_t(kt[Ht],I[Ht],ct);A?Ot(te.x,te.y+C[m-1].y,C[m-1].x+rt):Ot(te.x,te.y,g+rt)}}}zt(),gt();function zt(){const tt=s.length/3;if(v){let et=0,rt=U*et;for(let ct=0;ct<K;ct++){const nt=Q[ct];Ze(nt[2]+rt,nt[1]+rt,nt[0]+rt)}et=m+_*2,rt=U*et;for(let ct=0;ct<K;ct++){const nt=Q[ct];Ze(nt[0]+rt,nt[1]+rt,nt[2]+rt)}}else{for(let et=0;et<K;et++){const rt=Q[et];Ze(rt[2],rt[1],rt[0])}for(let et=0;et<K;et++){const rt=Q[et];Ze(rt[0]+U*m,rt[1]+U*m,rt[2]+U*m)}}i.addGroup(tt,s.length/3-tt,0)}function gt(){const tt=s.length/3;let et=0;Se(xt,et),et+=xt.length;for(let rt=0,ct=it.length;rt<ct;rt++){const nt=it[rt];Se(nt,et),et+=nt.length}i.addGroup(tt,s.length/3-tt,1)}function Se(tt,et){let rt=tt.length;for(;--rt>=0;){const ct=rt;let nt=rt-1;nt<0&&(nt=tt.length-1);for(let Et=0,kt=m+_*2;Et<kt;Et++){const Ht=U*Et,qt=U*(Et+1),te=et+ct+Ht,Ie=et+nt+Ht,rn=et+nt+qt,Pe=et+ct+qt;ma(te,Ie,rn,Pe)}}}function Ot(tt,et,rt){d.push(tt),d.push(et),d.push(rt)}function Ze(tt,et,rt){Fe(tt),Fe(et),Fe(rt);const ct=s.length/3,nt=T.generateTopUV(i,s,ct-3,ct-2,ct-1);Je(nt[0]),Je(nt[1]),Je(nt[2])}function ma(tt,et,rt,ct){Fe(tt),Fe(et),Fe(ct),Fe(et),Fe(rt),Fe(ct);const nt=s.length/3,Et=T.generateSideWallUV(i,s,nt-6,nt-3,nt-2,nt-1);Je(Et[0]),Je(Et[1]),Je(Et[3]),Je(Et[1]),Je(Et[2]),Je(Et[3])}function Fe(tt){s.push(d[tt*3+0]),s.push(d[tt*3+1]),s.push(d[tt*3+2])}function Je(tt){o.push(tt.x),o.push(tt.y)}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes,i=this.parameters.options;return L2(e,i,t)}static fromJSON(t,e){const i=[];for(let o=0,l=t.shapes.length;o<l;o++){const c=e[t.shapes[o]];i.push(c)}const s=t.options.extrudePath;return s!==void 0&&(t.options.extrudePath=new oh[s.type]().fromJSON(s)),new of(i,t.options)}}const R2={generateTopUV:function(h,t,e,i,s){const o=t[e*3],l=t[e*3+1],c=t[i*3],d=t[i*3+1],p=t[s*3],m=t[s*3+1];return[new X(o,l),new X(c,d),new X(p,m)]},generateSideWallUV:function(h,t,e,i,s,o){const l=t[e*3],c=t[e*3+1],d=t[e*3+2],p=t[i*3],m=t[i*3+1],g=t[i*3+2],v=t[s*3],b=t[s*3+1],x=t[s*3+2],S=t[o*3],_=t[o*3+1],M=t[o*3+2];return Math.abs(c-m)<Math.abs(l-p)?[new X(l,1-d),new X(p,1-g),new X(v,1-x),new X(S,1-M)]:[new X(c,1-d),new X(m,1-g),new X(b,1-x),new X(_,1-M)]}};function L2(h,t,e){if(e.shapes=[],Array.isArray(h))for(let i=0,s=h.length;i<s;i++){const o=h[i];e.shapes.push(o.uuid)}else e.shapes.push(h.uuid);return e.options=Object.assign({},t),t.extrudePath!==void 0&&(e.options.extrudePath=t.extrudePath.toJSON()),e}class lf extends Vn{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,s=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,o,t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new lf(t.radius,t.detail)}}class uf extends Ct{constructor(t=[new X(0,-.5),new X(.5,0),new X(0,.5)],e=12,i=0,s=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:s},e=Math.floor(e),s=vt(s,0,Math.PI*2);const o=[],l=[],c=[],d=[],p=[],m=1/e,g=new z,v=new X,b=new z,x=new z,S=new z;let _=0,M=0;for(let T=0;T<=t.length-1;T++)switch(T){case 0:_=t[T+1].x-t[T].x,M=t[T+1].y-t[T].y,b.x=M*1,b.y=-_,b.z=M*0,S.copy(b),b.normalize(),d.push(b.x,b.y,b.z);break;case t.length-1:d.push(S.x,S.y,S.z);break;default:_=t[T+1].x-t[T].x,M=t[T+1].y-t[T].y,b.x=M*1,b.y=-_,b.z=M*0,x.copy(b),b.x+=S.x,b.y+=S.y,b.z+=S.z,b.normalize(),d.push(b.x,b.y,b.z),S.copy(x)}for(let T=0;T<=e;T++){const C=i+T*m*s,A=Math.sin(C),O=Math.cos(C);for(let B=0;B<=t.length-1;B++){g.x=t[B].x*A,g.y=t[B].y,g.z=t[B].x*O,l.push(g.x,g.y,g.z),v.x=T/e,v.y=B/(t.length-1),c.push(v.x,v.y);const j=d[3*B+0]*A,D=d[3*B+1],Y=d[3*B+0]*O;p.push(j,D,Y)}}for(let T=0;T<e;T++)for(let C=0;C<t.length-1;C++){const A=C+T*t.length,O=A,B=A+t.length,j=A+t.length+1,D=A+1;o.push(O,B,D),o.push(j,D,B)}this.setIndex(o),this.setAttribute("position",new ot(l,3)),this.setAttribute("uv",new ot(c,2)),this.setAttribute("normal",new ot(p,3))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new uf(t.points,t.segments,t.phiStart,t.phiLength)}}class vh extends Vn{constructor(t=1,e=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,s,t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new vh(t.radius,t.detail)}}class hf extends Ct{constructor(t=1,e=1,i=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:s};const o=t/2,l=e/2,c=Math.floor(i),d=Math.floor(s),p=c+1,m=d+1,g=t/c,v=e/d,b=[],x=[],S=[],_=[];for(let M=0;M<m;M++){const T=M*v-l;for(let C=0;C<p;C++){const A=C*g-o;x.push(A,-T,0),S.push(0,0,1),_.push(C/c),_.push(1-M/d)}}for(let M=0;M<d;M++)for(let T=0;T<c;T++){const C=T+p*M,A=T+p*(M+1),O=T+1+p*(M+1),B=T+1+p*M;b.push(C,A,B),b.push(A,O,B)}this.setIndex(b),this.setAttribute("position",new ot(x,3)),this.setAttribute("normal",new ot(S,3)),this.setAttribute("uv",new ot(_,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new hf(t.width,t.height,t.widthSegments,t.heightSegments)}}class cf extends Ct{constructor(t=.5,e=1,i=32,s=1,o=0,l=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:s,thetaStart:o,thetaLength:l},i=Math.max(3,i),s=Math.max(1,s);const c=[],d=[],p=[],m=[];let g=t;const v=(e-t)/s,b=new z,x=new X;for(let S=0;S<=s;S++){for(let _=0;_<=i;_++){const M=o+_/i*l;b.x=g*Math.cos(M),b.y=g*Math.sin(M),d.push(b.x,b.y,b.z),p.push(0,0,1),x.x=(b.x/e+1)/2,x.y=(b.y/e+1)/2,m.push(x.x,x.y)}g+=v}for(let S=0;S<s;S++){const _=S*(i+1);for(let M=0;M<i;M++){const T=M+_,C=T,A=T+i+1,O=T+i+2,B=T+1;c.push(C,A,B),c.push(A,O,B)}}this.setIndex(c),this.setAttribute("position",new ot(d,3)),this.setAttribute("normal",new ot(p,3)),this.setAttribute("uv",new ot(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new cf(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class df extends Ct{constructor(t=new $s([new X(0,.5),new X(-.5,-.5),new X(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const i=[],s=[],o=[],l=[];let c=0,d=0;if(Array.isArray(t)===!1)p(t);else for(let m=0;m<t.length;m++)p(t[m]),this.addGroup(c,d,m),c+=d,d=0;this.setIndex(i),this.setAttribute("position",new ot(s,3)),this.setAttribute("normal",new ot(o,3)),this.setAttribute("uv",new ot(l,2));function p(m){const g=s.length/3,v=m.extractPoints(e);let b=v.shape;const x=v.holes;Ur.isClockWise(b)===!1&&(b=b.reverse());for(let _=0,M=x.length;_<M;_++){const T=x[_];Ur.isClockWise(T)===!0&&(x[_]=T.reverse())}const S=Ur.triangulateShape(b,x);for(let _=0,M=x.length;_<M;_++){const T=x[_];b=b.concat(T)}for(let _=0,M=b.length;_<M;_++){const T=b[_];s.push(T.x,T.y,0),o.push(0,0,1),l.push(T.x,T.y)}for(let _=0,M=S.length;_<M;_++){const T=S[_],C=T[0]+g,A=T[1]+g,O=T[2]+g;i.push(C,A,O),d+=3}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes;return N2(e,t)}static fromJSON(t,e){const i=[];for(let s=0,o=t.shapes.length;s<o;s++){const l=e[t.shapes[s]];i.push(l)}return new df(i,t.curveSegments)}}function N2(h,t){if(t.shapes=[],Array.isArray(h))for(let e=0,i=h.length;e<i;e++){const s=h[e];t.shapes.push(s.uuid)}else t.shapes.push(h.uuid);return t}class bh extends Ct{constructor(t=1,e=32,i=16,s=0,o=Math.PI*2,l=0,c=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:s,phiLength:o,thetaStart:l,thetaLength:c},e=Math.max(3,Math.floor(e)),i=Math.max(2,Math.floor(i));const d=Math.min(l+c,Math.PI);let p=0;const m=[],g=new z,v=new z,b=[],x=[],S=[],_=[];for(let M=0;M<=i;M++){const T=[],C=M/i;let A=0;M===0&&l===0?A=.5/e:M===i&&d===Math.PI&&(A=-.5/e);for(let O=0;O<=e;O++){const B=O/e;g.x=-t*Math.cos(s+B*o)*Math.sin(l+C*c),g.y=t*Math.cos(l+C*c),g.z=t*Math.sin(s+B*o)*Math.sin(l+C*c),x.push(g.x,g.y,g.z),v.copy(g).normalize(),S.push(v.x,v.y,v.z),_.push(B+A,1-C),T.push(p++)}m.push(T)}for(let M=0;M<i;M++)for(let T=0;T<e;T++){const C=m[M][T+1],A=m[M][T],O=m[M+1][T],B=m[M+1][T+1];(M!==0||l>0)&&b.push(C,A,B),(M!==i-1||d<Math.PI)&&b.push(A,O,B)}this.setIndex(b),this.setAttribute("position",new ot(x,3)),this.setAttribute("normal",new ot(S,3)),this.setAttribute("uv",new ot(_,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new bh(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class pf extends Vn{constructor(t=1,e=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,s,t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new pf(t.radius,t.detail)}}class ff extends Ct{constructor(t=1,e=.4,i=12,s=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:s,arc:o},i=Math.floor(i),s=Math.floor(s);const l=[],c=[],d=[],p=[],m=new z,g=new z,v=new z;for(let b=0;b<=i;b++)for(let x=0;x<=s;x++){const S=x/s*o,_=b/i*Math.PI*2;g.x=(t+e*Math.cos(_))*Math.cos(S),g.y=(t+e*Math.cos(_))*Math.sin(S),g.z=e*Math.sin(_),c.push(g.x,g.y,g.z),m.x=t*Math.cos(S),m.y=t*Math.sin(S),v.subVectors(g,m).normalize(),d.push(v.x,v.y,v.z),p.push(x/s),p.push(b/i)}for(let b=1;b<=i;b++)for(let x=1;x<=s;x++){const S=(s+1)*b+x-1,_=(s+1)*(b-1)+x-1,M=(s+1)*(b-1)+x,T=(s+1)*b+x;l.push(S,_,T),l.push(_,M,T)}this.setIndex(l),this.setAttribute("position",new ot(c,3)),this.setAttribute("normal",new ot(d,3)),this.setAttribute("uv",new ot(p,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new ff(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class mf extends Ct{constructor(t=1,e=.4,i=64,s=8,o=2,l=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:s,p:o,q:l},i=Math.floor(i),s=Math.floor(s);const c=[],d=[],p=[],m=[],g=new z,v=new z,b=new z,x=new z,S=new z,_=new z,M=new z;for(let C=0;C<=i;++C){const A=C/i*o*Math.PI*2;T(A,o,l,t,b),T(A+.01,o,l,t,x),_.subVectors(x,b),M.addVectors(x,b),S.crossVectors(_,M),M.crossVectors(S,_),S.normalize(),M.normalize();for(let O=0;O<=s;++O){const B=O/s*Math.PI*2,j=-e*Math.cos(B),D=e*Math.sin(B);g.x=b.x+(j*M.x+D*S.x),g.y=b.y+(j*M.y+D*S.y),g.z=b.z+(j*M.z+D*S.z),d.push(g.x,g.y,g.z),v.subVectors(g,b).normalize(),p.push(v.x,v.y,v.z),m.push(C/i),m.push(O/s)}}for(let C=1;C<=i;C++)for(let A=1;A<=s;A++){const O=(s+1)*(C-1)+(A-1),B=(s+1)*C+(A-1),j=(s+1)*C+A,D=(s+1)*(C-1)+A;c.push(O,B,D),c.push(B,j,D)}this.setIndex(c),this.setAttribute("position",new ot(d,3)),this.setAttribute("normal",new ot(p,3)),this.setAttribute("uv",new ot(m,2));function T(C,A,O,B,j){const D=Math.cos(C),Y=Math.sin(C),J=O/A*C,it=Math.cos(J);j.x=B*(2+it)*.5*D,j.y=B*(2+it)*Y*.5,j.z=B*Math.sin(J)*.5}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new mf(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class yf extends Ct{constructor(t=new Tb(new z(-1,-1,0),new z(-1,1,0),new z(1,1,0)),e=64,i=1,s=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:s,closed:o};const l=t.computeFrenetFrames(e,o);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const c=new z,d=new z,p=new X;let m=new z;const g=[],v=[],b=[],x=[];S(),this.setIndex(x),this.setAttribute("position",new ot(g,3)),this.setAttribute("normal",new ot(v,3)),this.setAttribute("uv",new ot(b,2));function S(){for(let C=0;C<e;C++)_(C);_(o===!1?e:0),T(),M()}function _(C){m=t.getPointAt(C/e,m);const A=l.normals[C],O=l.binormals[C];for(let B=0;B<=s;B++){const j=B/s*Math.PI*2,D=Math.sin(j),Y=-Math.cos(j);d.x=Y*A.x+D*O.x,d.y=Y*A.y+D*O.y,d.z=Y*A.z+D*O.z,d.normalize(),v.push(d.x,d.y,d.z),c.x=m.x+i*d.x,c.y=m.y+i*d.y,c.z=m.z+i*d.z,g.push(c.x,c.y,c.z)}}function M(){for(let C=1;C<=e;C++)for(let A=1;A<=s;A++){const O=(s+1)*(C-1)+(A-1),B=(s+1)*C+(A-1),j=(s+1)*C+A,D=(s+1)*(C-1)+A;x.push(O,B,D),x.push(B,j,D)}}function T(){for(let C=0;C<=e;C++)for(let A=0;A<=s;A++)p.x=C/e,p.y=A/s,b.push(p.x,p.y)}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new yf(new oh[t.path.type]().fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class B2 extends Ct{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},t!==null){const e=[],i=new Set,s=new z,o=new z;if(t.index!==null){const l=t.attributes.position,c=t.index;let d=t.groups;d.length===0&&(d=[{start:0,count:c.count,materialIndex:0}]);for(let p=0,m=d.length;p<m;++p){const g=d[p],v=g.start,b=g.count;for(let x=v,S=v+b;x<S;x+=3)for(let _=0;_<3;_++){const M=c.getX(x+_),T=c.getX(x+(_+1)%3);s.fromBufferAttribute(l,M),o.fromBufferAttribute(l,T),Pv(s,o,i)===!0&&(e.push(s.x,s.y,s.z),e.push(o.x,o.y,o.z))}}}else{const l=t.attributes.position;for(let c=0,d=l.count/3;c<d;c++)for(let p=0;p<3;p++){const m=3*c+p,g=3*c+(p+1)%3;s.fromBufferAttribute(l,m),o.fromBufferAttribute(l,g),Pv(s,o,i)===!0&&(e.push(s.x,s.y,s.z),e.push(o.x,o.y,o.z))}}this.setAttribute("position",new ot(e,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function Pv(h,t,e){const i=`${h.x},${h.y},${h.z}-${t.x},${t.y},${t.z}`,s=`${t.x},${t.y},${t.z}-${h.x},${h.y},${h.z}`;return e.has(i)===!0||e.has(s)===!0?!1:(e.add(i),e.add(s),!0)}var Ov=Object.freeze({__proto__:null,BoxGeometry:fh,CapsuleGeometry:ef,CircleGeometry:rf,ConeGeometry:gh,CylinderGeometry:yh,DodecahedronGeometry:nf,EdgesGeometry:i2,ExtrudeGeometry:of,IcosahedronGeometry:lf,LatheGeometry:uf,OctahedronGeometry:vh,PlaneGeometry:hf,PolyhedronGeometry:Vn,RingGeometry:cf,ShapeGeometry:df,SphereGeometry:bh,TetrahedronGeometry:pf,TorusGeometry:ff,TorusKnotGeometry:mf,TubeGeometry:yf,WireframeGeometry:B2});class D2 extends De{constructor(t){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new bt(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}class F2 extends qp{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Pb extends De{constructor(t){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new bt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ua,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new jr,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class V2 extends Pb{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new X(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return vt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new bt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new bt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new bt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get dispersion(){return this._dispersion}set dispersion(t){this._dispersion>0!=t>0&&this.version++,this._dispersion=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.dispersion=t.dispersion,this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class U2 extends De{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new bt(16777215),this.specular=new bt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ua,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new jr,this.combine=Np,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class j2 extends De{constructor(t){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new bt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ua,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}class W2 extends De{constructor(t){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ua,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}class H2 extends De{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new bt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ua,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new jr,this.combine=Np,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class q2 extends De{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=GS,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class G2 extends De{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}class Y2 extends De{constructor(t){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new bt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ua,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Z2 extends Ye{constructor(t){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}function Ln(h,t){return!h||h.constructor===t?h:typeof t.BYTES_PER_ELEMENT=="number"?new t(h):Array.prototype.slice.call(h)}function Ob(h){return ArrayBuffer.isView(h)&&!(h instanceof DataView)}function Rb(h){function t(s,o){return h[s]-h[o]}const e=h.length,i=new Array(e);for(let s=0;s!==e;++s)i[s]=s;return i.sort(t),i}function Ip(h,t,e){const i=h.length,s=new h.constructor(i);for(let o=0,l=0;l!==i;++o){const c=e[o]*t;for(let d=0;d!==t;++d)s[l++]=h[c+d]}return s}function gf(h,t,e,i){let s=1,o=h[0];for(;o!==void 0&&o[i]===void 0;)o=h[s++];if(o===void 0)return;let l=o[i];if(l!==void 0)if(Array.isArray(l))do l=o[i],l!==void 0&&(t.push(o.time),e.push(...l)),o=h[s++];while(o!==void 0);else if(l.toArray!==void 0)do l=o[i],l!==void 0&&(t.push(o.time),l.toArray(e,e.length)),o=h[s++];while(o!==void 0);else do l=o[i],l!==void 0&&(t.push(o.time),e.push(l)),o=h[s++];while(o!==void 0)}function J2(h,t,e,i,s=30){const o=h.clone();o.name=t;const l=[];for(let d=0;d<o.tracks.length;++d){const p=o.tracks[d],m=p.getValueSize(),g=[],v=[];for(let b=0;b<p.times.length;++b){const x=p.times[b]*s;if(!(x<e||x>=i)){g.push(p.times[b]);for(let S=0;S<m;++S)v.push(p.values[b*m+S])}}g.length!==0&&(p.times=Ln(g,p.times.constructor),p.values=Ln(v,p.values.constructor),l.push(p))}o.tracks=l;let c=1/0;for(let d=0;d<o.tracks.length;++d)c>o.tracks[d].times[0]&&(c=o.tracks[d].times[0]);for(let d=0;d<o.tracks.length;++d)o.tracks[d].shift(-1*c);return o.resetDuration(),o}function X2(h,t=0,e=h,i=30){i<=0&&(i=30);const s=e.tracks.length,o=t/i;for(let l=0;l<s;++l){const c=e.tracks[l],d=c.ValueTypeName;if(d==="bool"||d==="string")continue;const p=h.tracks.find(function(M){return M.name===c.name&&M.ValueTypeName===d});if(p===void 0)continue;let m=0;const g=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);let v=0;const b=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=b/3);const x=c.times.length-1;let S;if(o<=c.times[0]){const M=m,T=g-m;S=c.values.slice(M,T)}else if(o>=c.times[x]){const M=x*g+m,T=M+g-m;S=c.values.slice(M,T)}else{const M=c.createInterpolant(),T=m,C=g-m;M.evaluate(o),S=M.resultBuffer.slice(T,C)}d==="quaternion"&&new lr().fromArray(S).normalize().conjugate().toArray(S);const _=p.times.length;for(let M=0;M<_;++M){const T=M*b+v;if(d==="quaternion")lr.multiplyQuaternionsFlat(p.values,T,S,0,p.values,T);else{const C=b-v*2;for(let A=0;A<C;++A)p.values[T+A]-=S[A]}}}return h.blendMode=pb,h}class U3{static convertArray(t,e){return Ln(t,e)}static isTypedArray(t){return Ob(t)}static getKeyframeOrder(t){return Rb(t)}static sortedArray(t,e,i){return Ip(t,e,i)}static flattenJSON(t,e,i,s){gf(t,e,i,s)}static subclip(t,e,i,s,o=30){return J2(t,e,i,s,o)}static makeClipAdditive(t,e=0,i=t,s=30){return X2(t,e,i,s)}}class xh{constructor(t,e,i,s){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,s=e[i],o=e[i-1];t:{e:{let l;r:{i:if(!(t<s)){for(let c=i+2;;){if(s===void 0){if(t<o)break i;return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===c)break;if(o=s,s=e[++i],t<s)break e}l=e.length;break r}if(!(t>=o)){const c=e[1];t<c&&(i=2,o=c);for(let d=i-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===d)break;if(s=o,o=e[--i-1],t>=o)break e}l=i,i=0;break r}break t}for(;i<l;){const c=i+l>>>1;t<e[c]?l=c:i=c+1}if(s=e[i],o=e[i-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,o,s)}return this.interpolate_(i,o,t,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,s=this.valueSize,o=t*s;for(let l=0;l!==s;++l)e[l]=i[o+l];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class $2 extends xh{constructor(t,e,i,s){super(t,e,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ys,endingEnd:Ys}}intervalChanged_(t,e,i){const s=this.parameterPositions;let o=t-2,l=t+1,c=s[o],d=s[l];if(c===void 0)switch(this.getSettings_().endingStart){case Zs:o=t,c=2*e-i;break;case eh:o=s.length-2,c=e+s[o]-s[o+1];break;default:o=t,c=i}if(d===void 0)switch(this.getSettings_().endingEnd){case Zs:l=t,d=2*i-e;break;case eh:l=1,d=i+s[1]-s[0];break;default:l=t-1,d=e}const p=(i-e)*.5,m=this.valueSize;this._weightPrev=p/(e-c),this._weightNext=p/(d-i),this._offsetPrev=o*m,this._offsetNext=l*m}interpolate_(t,e,i,s){const o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,d=t*c,p=d-c,m=this._offsetPrev,g=this._offsetNext,v=this._weightPrev,b=this._weightNext,x=(i-e)/(s-e),S=x*x,_=S*x,M=-v*_+2*v*S-v*x,T=(1+v)*_+(-1.5-2*v)*S+(-.5+v)*x+1,C=(-1-b)*_+(1.5+b)*S+.5*x,A=b*_-b*S;for(let O=0;O!==c;++O)o[O]=M*l[m+O]+T*l[p+O]+C*l[d+O]+A*l[g+O];return o}}class Lb extends xh{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,d=t*c,p=d-c,m=(i-e)/(s-e),g=1-m;for(let v=0;v!==c;++v)o[v]=l[p+v]*g+l[d+v]*m;return o}}class Q2 extends xh{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t){return this.copySampleValue_(t-1)}}class Pr{constructor(t,e,i,s){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Ln(e,this.TimeBufferType),this.values=Ln(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:Ln(t.times,Array),values:Ln(t.values,Array)};const s=t.getInterpolation();s!==t.DefaultInterpolation&&(i.interpolation=s)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new Q2(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new Lb(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new $2(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case th:e=this.InterpolantFactoryMethodDiscrete;break;case Tp:e=this.InterpolantFactoryMethodLinear;break;case Dd:e=this.InterpolantFactoryMethodSmooth;break}if(e===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return th;case this.InterpolantFactoryMethodLinear:return Tp;case this.InterpolantFactoryMethodSmooth:return Dd}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]+=t}return this}scale(t){if(t!==1){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]*=t}return this}trim(t,e){const i=this.times,s=i.length;let o=0,l=s-1;for(;o!==s&&i[o]<t;)++o;for(;l!==-1&&i[l]>e;)--l;if(++l,o!==0||l!==s){o>=l&&(l=Math.max(l,1),o=l-1);const c=this.getValueSize();this.times=i.slice(o,l),this.values=this.values.slice(o*c,l*c)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,s=this.values,o=i.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let l=null;for(let c=0;c!==o;c++){const d=i[c];if(typeof d=="number"&&isNaN(d)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,c,d),t=!1;break}if(l!==null&&l>d){console.error("THREE.KeyframeTrack: Out of order keys.",this,c,d,l),t=!1;break}l=d}if(s!==void 0&&Ob(s))for(let c=0,d=s.length;c!==d;++c){const p=s[c];if(isNaN(p)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,c,p),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),i=this.getValueSize(),s=this.getInterpolation()===Dd,o=t.length-1;let l=1;for(let c=1;c<o;++c){let d=!1;const p=t[c],m=t[c+1];if(p!==m&&(c!==1||p!==t[0]))if(s)d=!0;else{const g=c*i,v=g-i,b=g+i;for(let x=0;x!==i;++x){const S=e[g+x];if(S!==e[v+x]||S!==e[b+x]){d=!0;break}}}if(d){if(c!==l){t[l]=t[c];const g=c*i,v=l*i;for(let b=0;b!==i;++b)e[v+b]=e[g+b]}++l}}if(o>0){t[l]=t[o];for(let c=o*i,d=l*i,p=0;p!==i;++p)e[d+p]=e[c+p];++l}return l!==t.length?(this.times=t.slice(0,l),this.values=e.slice(0,l*i)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),i=this.constructor,s=new i(this.name,t,e);return s.createInterpolant=this.createInterpolant,s}}Pr.prototype.ValueTypeName="";Pr.prototype.TimeBufferType=Float32Array;Pr.prototype.ValueBufferType=Float32Array;Pr.prototype.DefaultInterpolation=Tp;class ca extends Pr{constructor(t,e,i){super(t,e,i)}}ca.prototype.ValueTypeName="bool";ca.prototype.ValueBufferType=Array;ca.prototype.DefaultInterpolation=th;ca.prototype.InterpolantFactoryMethodLinear=void 0;ca.prototype.InterpolantFactoryMethodSmooth=void 0;class Nb extends Pr{constructor(t,e,i,s){super(t,e,i,s)}}Nb.prototype.ValueTypeName="color";class lh extends Pr{constructor(t,e,i,s){super(t,e,i,s)}}lh.prototype.ValueTypeName="number";class K2 extends xh{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,d=(i-e)/(s-e);let p=t*c;for(let m=p+c;p!==m;p+=4)lr.slerpFlat(o,0,l,p-c,l,p,d);return o}}class wh extends Pr{constructor(t,e,i,s){super(t,e,i,s)}InterpolantFactoryMethodLinear(t){return new K2(this.times,this.values,this.getValueSize(),t)}}wh.prototype.ValueTypeName="quaternion";wh.prototype.InterpolantFactoryMethodSmooth=void 0;class da extends Pr{constructor(t,e,i){super(t,e,i)}}da.prototype.ValueTypeName="string";da.prototype.ValueBufferType=Array;da.prototype.DefaultInterpolation=th;da.prototype.InterpolantFactoryMethodLinear=void 0;da.prototype.InterpolantFactoryMethodSmooth=void 0;class uh extends Pr{constructor(t,e,i,s){super(t,e,i,s)}}uh.prototype.ValueTypeName="vector";class hh{constructor(t="",e=-1,i=[],s=Up){this.name=t,this.tracks=i,this.duration=e,this.blendMode=s,this.uuid=or(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],i=t.tracks,s=1/(t.fps||1);for(let l=0,c=i.length;l!==c;++l)e.push(e_(i[l]).scale(s));const o=new this(t.name,t.duration,e,t.blendMode);return o.uuid=t.uuid,o}static toJSON(t){const e=[],i=t.tracks,s={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let o=0,l=i.length;o!==l;++o)e.push(Pr.toJSON(i[o]));return s}static CreateFromMorphTargetSequence(t,e,i,s){const o=e.length,l=[];for(let c=0;c<o;c++){let d=[],p=[];d.push((c+o-1)%o,c,(c+1)%o),p.push(0,1,0);const m=Rb(d);d=Ip(d,1,m),p=Ip(p,1,m),!s&&d[0]===0&&(d.push(o),p.push(p[0])),l.push(new lh(".morphTargetInfluences["+e[c].name+"]",d,p).scale(1/i))}return new this(t,-1,l)}static findByName(t,e){let i=t;if(!Array.isArray(t)){const s=t;i=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<i.length;s++)if(i[s].name===e)return i[s];return null}static CreateClipsFromMorphTargetSequences(t,e,i){const s={},o=/^([\w-]*?)([\d]+)$/;for(let c=0,d=t.length;c<d;c++){const p=t[c],m=p.name.match(o);if(m&&m.length>1){const g=m[1];let v=s[g];v||(s[g]=v=[]),v.push(p)}}const l=[];for(const c in s)l.push(this.CreateFromMorphTargetSequence(c,s[c],e,i));return l}static parseAnimation(t,e){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(m,g,v,b,x){if(v.length!==0){const S=[],_=[];gf(v,S,_,b),S.length!==0&&x.push(new m(g,S,_))}},s=[],o=t.name||"default",l=t.fps||30,c=t.blendMode;let d=t.length||-1;const p=t.hierarchy||[];for(let m=0;m<p.length;m++){const g=p[m].keys;if(!(!g||g.length===0))if(g[0].morphTargets){const v={};let b;for(b=0;b<g.length;b++)if(g[b].morphTargets)for(let x=0;x<g[b].morphTargets.length;x++)v[g[b].morphTargets[x]]=-1;for(const x in v){const S=[],_=[];for(let M=0;M!==g[b].morphTargets.length;++M){const T=g[b];S.push(T.time),_.push(T.morphTarget===x?1:0)}s.push(new lh(".morphTargetInfluence["+x+"]",S,_))}d=v.length*l}else{const v=".bones["+e[m].name+"]";i(uh,v+".position",g,"pos",s),i(wh,v+".quaternion",g,"rot",s),i(uh,v+".scale",g,"scl",s)}}return s.length===0?null:new this(o,d,s,c)}resetDuration(){const t=this.tracks;let e=0;for(let i=0,s=t.length;i!==s;++i){const o=this.tracks[i];e=Math.max(e,o.times[o.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function t_(h){switch(h.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return lh;case"vector":case"vector2":case"vector3":case"vector4":return uh;case"color":return Nb;case"quaternion":return wh;case"bool":case"boolean":return ca;case"string":return da}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+h)}function e_(h){if(h.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=t_(h.type);if(h.times===void 0){const e=[],i=[];gf(h.keys,e,i,"value"),h.times=e,h.values=i}return t.parse!==void 0?t.parse(h):new t(h.name,h.times,h.values,h.interpolation)}const Ki={enabled:!1,files:{},add:function(h,t){this.enabled!==!1&&(this.files[h]=t)},get:function(h){if(this.enabled!==!1)return this.files[h]},remove:function(h){delete this.files[h]},clear:function(){this.files={}}};class Bb{constructor(t,e,i){const s=this;let o=!1,l=0,c=0,d;const p=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(m){c++,o===!1&&s.onStart!==void 0&&s.onStart(m,l,c),o=!0},this.itemEnd=function(m){l++,s.onProgress!==void 0&&s.onProgress(m,l,c),l===c&&(o=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(m){s.onError!==void 0&&s.onError(m)},this.resolveURL=function(m){return d?d(m):m},this.setURLModifier=function(m){return d=m,this},this.addHandler=function(m,g){return p.push(m,g),this},this.removeHandler=function(m){const g=p.indexOf(m);return g!==-1&&p.splice(g,2),this},this.getHandler=function(m){for(let g=0,v=p.length;g<v;g+=2){const b=p[g],x=p[g+1];if(b.global&&(b.lastIndex=0),b.test(m))return x}return null}}}const Oo=new Bb;class ur{constructor(t){this.manager=t!==void 0?t:Oo,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const i=this;return new Promise(function(s,o){i.load(t,s,e,o)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}ur.DEFAULT_MATERIAL_NAME="__DEFAULT";const fi={};class r_ extends Error{constructor(t,e){super(t),this.response=e}}class tn extends ur{constructor(t){super(t),this.mimeType="",this.responseType=""}load(t,e,i,s){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const o=Ki.get(t);if(o!==void 0)return this.manager.itemStart(t),setTimeout(()=>{e&&e(o),this.manager.itemEnd(t)},0),o;if(fi[t]!==void 0){fi[t].push({onLoad:e,onProgress:i,onError:s});return}fi[t]=[],fi[t].push({onLoad:e,onProgress:i,onError:s});const l=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),c=this.mimeType,d=this.responseType;fetch(l).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const m=fi[t],g=p.body.getReader(),v=p.headers.get("X-File-Size")||p.headers.get("Content-Length"),b=v?parseInt(v):0,x=b!==0;let S=0;const _=new ReadableStream({start(M){T();function T(){g.read().then(({done:C,value:A})=>{if(C)M.close();else{S+=A.byteLength;const O=new ProgressEvent("progress",{lengthComputable:x,loaded:S,total:b});for(let B=0,j=m.length;B<j;B++){const D=m[B];D.onProgress&&D.onProgress(O)}M.enqueue(A),T()}},C=>{M.error(C)})}}});return new Response(_)}else throw new r_(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(d){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(m=>new DOMParser().parseFromString(m,c));case"json":return p.json();default:if(c==="")return p.text();{const m=/charset="?([^;"\s]*)"?/i.exec(c),g=m&&m[1]?m[1].toLowerCase():void 0,v=new TextDecoder(g);return p.arrayBuffer().then(b=>v.decode(b))}}}).then(p=>{Ki.add(t,p);const m=fi[t];delete fi[t];for(let g=0,v=m.length;g<v;g++){const b=m[g];b.onLoad&&b.onLoad(p)}}).catch(p=>{const m=fi[t];if(m===void 0)throw this.manager.itemError(t),p;delete fi[t];for(let g=0,v=m.length;g<v;g++){const b=m[g];b.onError&&b.onError(p)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class j3 extends ur{constructor(t){super(t)}load(t,e,i,s){const o=this,l=new tn(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,function(c){try{e(o.parse(JSON.parse(c)))}catch(d){s?s(d):console.error(d),o.manager.itemError(t)}},i,s)}parse(t){const e=[];for(let i=0;i<t.length;i++){const s=hh.parse(t[i]);e.push(s)}return e}}class W3 extends ur{constructor(t){super(t)}load(t,e,i,s){const o=this,l=[],c=new tf,d=new tn(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(o.withCredentials);let p=0;function m(g){d.load(t[g],function(v){const b=o.parse(v,!0);l[g]={width:b.width,height:b.height,format:b.format,mipmaps:b.mipmaps},p+=1,p===6&&(b.mipmapCount===1&&(c.minFilter=wr),c.image=l,c.format=b.format,c.needsUpdate=!0,e&&e(c))},i,s)}if(Array.isArray(t))for(let g=0,v=t.length;g<v;++g)m(g);else d.load(t,function(g){const v=o.parse(g,!0);if(v.isCubemap){const b=v.mipmaps.length/v.mipmapCount;for(let x=0;x<b;x++){l[x]={mipmaps:[]};for(let S=0;S<v.mipmapCount;S++)l[x].mipmaps.push(v.mipmaps[x*v.mipmapCount+S]),l[x].format=v.format,l[x].width=v.width,l[x].height=v.height}c.image=l}else c.image.width=v.width,c.image.height=v.height,c.mipmaps=v.mipmaps;v.mipmapCount===1&&(c.minFilter=wr),c.format=v.format,c.needsUpdate=!0,e&&e(c)},i,s);return c}}class ch extends ur{constructor(t){super(t)}load(t,e,i,s){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const o=this,l=Ki.get(t);if(l!==void 0)return o.manager.itemStart(t),setTimeout(function(){e&&e(l),o.manager.itemEnd(t)},0),l;const c=nh("img");function d(){m(),Ki.add(t,this),e&&e(this),o.manager.itemEnd(t)}function p(g){m(),s&&s(g),o.manager.itemError(t),o.manager.itemEnd(t)}function m(){c.removeEventListener("load",d,!1),c.removeEventListener("error",p,!1)}return c.addEventListener("load",d,!1),c.addEventListener("error",p,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(c.crossOrigin=this.crossOrigin),o.manager.itemStart(t),c.src=t,c}}class H3 extends ur{constructor(t){super(t)}load(t,e,i,s){const o=new Yp;o.colorSpace=br;const l=new ch(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let c=0;function d(p){l.load(t[p],function(m){o.images[p]=m,c++,c===6&&(o.needsUpdate=!0,e&&e(o))},void 0,s)}for(let p=0;p<t.length;++p)d(p);return o}}class q3 extends ur{constructor(t){super(t)}load(t,e,i,s){const o=this,l=new gi,c=new tn(this.manager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(o.withCredentials),c.load(t,function(d){let p;try{p=o.parse(d)}catch(m){if(s!==void 0)s(m);else{console.error(m);return}}p.image!==void 0?l.image=p.image:p.data!==void 0&&(l.image.width=p.width,l.image.height=p.height,l.image.data=p.data),l.wrapS=p.wrapS!==void 0?p.wrapS:Fr,l.wrapT=p.wrapT!==void 0?p.wrapT:Fr,l.magFilter=p.magFilter!==void 0?p.magFilter:wr,l.minFilter=p.minFilter!==void 0?p.minFilter:wr,l.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(l.colorSpace=p.colorSpace),p.flipY!==void 0&&(l.flipY=p.flipY),p.format!==void 0&&(l.format=p.format),p.type!==void 0&&(l.type=p.type),p.mipmaps!==void 0&&(l.mipmaps=p.mipmaps,l.minFilter=ph),p.mipmapCount===1&&(l.minFilter=wr),p.generateMipmaps!==void 0&&(l.generateMipmaps=p.generateMipmaps),l.needsUpdate=!0,e&&e(l,p)},i,s),l}}class G3 extends ur{constructor(t){super(t)}load(t,e,i,s){const o=new de,l=new ch(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(t,function(c){o.image=c,o.needsUpdate=!0,e!==void 0&&e(o)},i,s),o}}class Un extends Bt{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new bt(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(e.object.target=this.target.uuid),e}}class i_ extends Un{constructor(t,e,i){super(t,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new bt(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}}const yp=new St,Rv=new z,Lv=new z;class vf{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new X(512,512),this.mapType=Fp,this.map=null,this.mapPass=null,this.matrix=new St,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Qp,this._frameExtents=new X(1,1),this._viewportCount=1,this._viewports=[new ve(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,i=this.matrix;Rv.setFromMatrixPosition(t.matrixWorld),e.position.copy(Rv),Lv.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(Lv),e.updateMatrixWorld(),yp.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(yp),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(yp)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.autoUpdate=t.autoUpdate,this.needsUpdate=t.needsUpdate,this.normalBias=t.normalBias,this.blurSamples=t.blurSamples,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.intensity!==1&&(t.intensity=this.intensity),this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class n_ extends vf{constructor(){super(new xr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const e=this.camera,i=Do*2*t.angle*this.focus,s=this.mapSize.width/this.mapSize.height,o=t.distance||e.far;(i!==e.fov||s!==e.aspect||o!==e.far)&&(e.fov=i,e.aspect=s,e.far=o,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class s_ extends Un{constructor(t,e,i=0,s=Math.PI/3,o=0,l=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.target=new Bt,this.distance=i,this.angle=s,this.penumbra=o,this.decay=l,this.map=null,this.shadow=new n_}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const Nv=new St,To=new z,gp=new z;class a_ extends vf{constructor(){super(new xr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new X(4,2),this._viewportCount=6,this._viewports=[new ve(2,1,1,1),new ve(0,1,1,1),new ve(3,1,1,1),new ve(1,1,1,1),new ve(3,0,1,1),new ve(1,0,1,1)],this._cubeDirections=[new z(1,0,0),new z(-1,0,0),new z(0,0,1),new z(0,0,-1),new z(0,1,0),new z(0,-1,0)],this._cubeUps=[new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,0,1),new z(0,0,-1)]}updateMatrices(t,e=0){const i=this.camera,s=this.matrix,o=t.distance||i.far;o!==i.far&&(i.far=o,i.updateProjectionMatrix()),To.setFromMatrixPosition(t.matrixWorld),i.position.copy(To),gp.copy(i.position),gp.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(gp),i.updateMatrixWorld(),s.makeTranslation(-To.x,-To.y,-To.z),Nv.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Nv)}}class o_ extends Un{constructor(t,e,i=0,s=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=s,this.shadow=new a_}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class Db extends Gp{constructor(t=-1,e=1,i=1,s=-1,o=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=s,this.near=o,this.far=l,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,i,s,o,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=s,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let o=i-t,l=i+t,c=s+e,d=s-e;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=p*this.view.offsetX,l=o+p*this.view.width,c-=m*this.view.offsetY,d=c-m*this.view.height}this.projectionMatrix.makeOrthographic(o,l,c,d,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}class l_ extends vf{constructor(){super(new Db(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class u_ extends Un{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.target=new Bt,this.shadow=new l_}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class h_ extends Un{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class c_ extends Un{constructor(t,e,i=10,s=10){super(t,e),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}class d_{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new z)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const i=t.x,s=t.y,o=t.z,l=this.coefficients;return e.copy(l[0]).multiplyScalar(.282095),e.addScaledVector(l[1],.488603*s),e.addScaledVector(l[2],.488603*o),e.addScaledVector(l[3],.488603*i),e.addScaledVector(l[4],1.092548*(i*s)),e.addScaledVector(l[5],1.092548*(s*o)),e.addScaledVector(l[6],.315392*(3*o*o-1)),e.addScaledVector(l[7],1.092548*(i*o)),e.addScaledVector(l[8],.546274*(i*i-s*s)),e}getIrradianceAt(t,e){const i=t.x,s=t.y,o=t.z,l=this.coefficients;return e.copy(l[0]).multiplyScalar(.886227),e.addScaledVector(l[1],2*.511664*s),e.addScaledVector(l[2],2*.511664*o),e.addScaledVector(l[3],2*.511664*i),e.addScaledVector(l[4],2*.429043*i*s),e.addScaledVector(l[5],2*.429043*s*o),e.addScaledVector(l[6],.743125*o*o-.247708),e.addScaledVector(l[7],2*.429043*i*o),e.addScaledVector(l[8],.429043*(i*i-s*s)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,e=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].fromArray(t,e+s*3);return this}toArray(t=[],e=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].toArray(t,e+s*3);return t}static getBasisAt(t,e){const i=t.x,s=t.y,o=t.z;e[0]=.282095,e[1]=.488603*s,e[2]=.488603*o,e[3]=.488603*i,e[4]=1.092548*i*s,e[5]=1.092548*s*o,e[6]=.315392*(3*o*o-1),e[7]=1.092548*i*o,e[8]=.546274*(i*i-s*s)}}class p_ extends Un{constructor(t=new d_,e=1){super(void 0,e),this.isLightProbe=!0,this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}class bf extends ur{constructor(t){super(t),this.textures={}}load(t,e,i,s){const o=this,l=new tn(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(t,function(c){try{e(o.parse(JSON.parse(c)))}catch(d){s?s(d):console.error(d),o.manager.itemError(t)}},i,s)}parse(t){const e=this.textures;function i(o){return e[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),e[o]}const s=this.createMaterialFromType(t.type);if(t.uuid!==void 0&&(s.uuid=t.uuid),t.name!==void 0&&(s.name=t.name),t.color!==void 0&&s.color!==void 0&&s.color.setHex(t.color),t.roughness!==void 0&&(s.roughness=t.roughness),t.metalness!==void 0&&(s.metalness=t.metalness),t.sheen!==void 0&&(s.sheen=t.sheen),t.sheenColor!==void 0&&(s.sheenColor=new bt().setHex(t.sheenColor)),t.sheenRoughness!==void 0&&(s.sheenRoughness=t.sheenRoughness),t.emissive!==void 0&&s.emissive!==void 0&&s.emissive.setHex(t.emissive),t.specular!==void 0&&s.specular!==void 0&&s.specular.setHex(t.specular),t.specularIntensity!==void 0&&(s.specularIntensity=t.specularIntensity),t.specularColor!==void 0&&s.specularColor!==void 0&&s.specularColor.setHex(t.specularColor),t.shininess!==void 0&&(s.shininess=t.shininess),t.clearcoat!==void 0&&(s.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=t.clearcoatRoughness),t.dispersion!==void 0&&(s.dispersion=t.dispersion),t.iridescence!==void 0&&(s.iridescence=t.iridescence),t.iridescenceIOR!==void 0&&(s.iridescenceIOR=t.iridescenceIOR),t.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=t.iridescenceThicknessRange),t.transmission!==void 0&&(s.transmission=t.transmission),t.thickness!==void 0&&(s.thickness=t.thickness),t.attenuationDistance!==void 0&&(s.attenuationDistance=t.attenuationDistance),t.attenuationColor!==void 0&&s.attenuationColor!==void 0&&s.attenuationColor.setHex(t.attenuationColor),t.anisotropy!==void 0&&(s.anisotropy=t.anisotropy),t.anisotropyRotation!==void 0&&(s.anisotropyRotation=t.anisotropyRotation),t.fog!==void 0&&(s.fog=t.fog),t.flatShading!==void 0&&(s.flatShading=t.flatShading),t.blending!==void 0&&(s.blending=t.blending),t.combine!==void 0&&(s.combine=t.combine),t.side!==void 0&&(s.side=t.side),t.shadowSide!==void 0&&(s.shadowSide=t.shadowSide),t.opacity!==void 0&&(s.opacity=t.opacity),t.transparent!==void 0&&(s.transparent=t.transparent),t.alphaTest!==void 0&&(s.alphaTest=t.alphaTest),t.alphaHash!==void 0&&(s.alphaHash=t.alphaHash),t.depthFunc!==void 0&&(s.depthFunc=t.depthFunc),t.depthTest!==void 0&&(s.depthTest=t.depthTest),t.depthWrite!==void 0&&(s.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(s.colorWrite=t.colorWrite),t.blendSrc!==void 0&&(s.blendSrc=t.blendSrc),t.blendDst!==void 0&&(s.blendDst=t.blendDst),t.blendEquation!==void 0&&(s.blendEquation=t.blendEquation),t.blendSrcAlpha!==void 0&&(s.blendSrcAlpha=t.blendSrcAlpha),t.blendDstAlpha!==void 0&&(s.blendDstAlpha=t.blendDstAlpha),t.blendEquationAlpha!==void 0&&(s.blendEquationAlpha=t.blendEquationAlpha),t.blendColor!==void 0&&s.blendColor!==void 0&&s.blendColor.setHex(t.blendColor),t.blendAlpha!==void 0&&(s.blendAlpha=t.blendAlpha),t.stencilWriteMask!==void 0&&(s.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(s.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(s.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(s.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(s.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(s.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(s.stencilZPass=t.stencilZPass),t.stencilWrite!==void 0&&(s.stencilWrite=t.stencilWrite),t.wireframe!==void 0&&(s.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(s.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(s.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(s.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(s.rotation=t.rotation),t.linewidth!==void 0&&(s.linewidth=t.linewidth),t.dashSize!==void 0&&(s.dashSize=t.dashSize),t.gapSize!==void 0&&(s.gapSize=t.gapSize),t.scale!==void 0&&(s.scale=t.scale),t.polygonOffset!==void 0&&(s.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(s.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(s.polygonOffsetUnits=t.polygonOffsetUnits),t.dithering!==void 0&&(s.dithering=t.dithering),t.alphaToCoverage!==void 0&&(s.alphaToCoverage=t.alphaToCoverage),t.premultipliedAlpha!==void 0&&(s.premultipliedAlpha=t.premultipliedAlpha),t.forceSinglePass!==void 0&&(s.forceSinglePass=t.forceSinglePass),t.visible!==void 0&&(s.visible=t.visible),t.toneMapped!==void 0&&(s.toneMapped=t.toneMapped),t.userData!==void 0&&(s.userData=t.userData),t.vertexColors!==void 0&&(typeof t.vertexColors=="number"?s.vertexColors=t.vertexColors>0:s.vertexColors=t.vertexColors),t.uniforms!==void 0)for(const o in t.uniforms){const l=t.uniforms[o];switch(s.uniforms[o]={},l.type){case"t":s.uniforms[o].value=i(l.value);break;case"c":s.uniforms[o].value=new bt().setHex(l.value);break;case"v2":s.uniforms[o].value=new X().fromArray(l.value);break;case"v3":s.uniforms[o].value=new z().fromArray(l.value);break;case"v4":s.uniforms[o].value=new ve().fromArray(l.value);break;case"m3":s.uniforms[o].value=new Hr().fromArray(l.value);break;case"m4":s.uniforms[o].value=new St().fromArray(l.value);break;default:s.uniforms[o].value=l.value}}if(t.defines!==void 0&&(s.defines=t.defines),t.vertexShader!==void 0&&(s.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(s.fragmentShader=t.fragmentShader),t.glslVersion!==void 0&&(s.glslVersion=t.glslVersion),t.extensions!==void 0)for(const o in t.extensions)s.extensions[o]=t.extensions[o];if(t.lights!==void 0&&(s.lights=t.lights),t.clipping!==void 0&&(s.clipping=t.clipping),t.size!==void 0&&(s.size=t.size),t.sizeAttenuation!==void 0&&(s.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(s.map=i(t.map)),t.matcap!==void 0&&(s.matcap=i(t.matcap)),t.alphaMap!==void 0&&(s.alphaMap=i(t.alphaMap)),t.bumpMap!==void 0&&(s.bumpMap=i(t.bumpMap)),t.bumpScale!==void 0&&(s.bumpScale=t.bumpScale),t.normalMap!==void 0&&(s.normalMap=i(t.normalMap)),t.normalMapType!==void 0&&(s.normalMapType=t.normalMapType),t.normalScale!==void 0){let o=t.normalScale;Array.isArray(o)===!1&&(o=[o,o]),s.normalScale=new X().fromArray(o)}return t.displacementMap!==void 0&&(s.displacementMap=i(t.displacementMap)),t.displacementScale!==void 0&&(s.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(s.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(s.roughnessMap=i(t.roughnessMap)),t.metalnessMap!==void 0&&(s.metalnessMap=i(t.metalnessMap)),t.emissiveMap!==void 0&&(s.emissiveMap=i(t.emissiveMap)),t.emissiveIntensity!==void 0&&(s.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(s.specularMap=i(t.specularMap)),t.specularIntensityMap!==void 0&&(s.specularIntensityMap=i(t.specularIntensityMap)),t.specularColorMap!==void 0&&(s.specularColorMap=i(t.specularColorMap)),t.envMap!==void 0&&(s.envMap=i(t.envMap)),t.envMapRotation!==void 0&&s.envMapRotation.fromArray(t.envMapRotation),t.envMapIntensity!==void 0&&(s.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(s.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(s.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(s.lightMap=i(t.lightMap)),t.lightMapIntensity!==void 0&&(s.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(s.aoMap=i(t.aoMap)),t.aoMapIntensity!==void 0&&(s.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(s.gradientMap=i(t.gradientMap)),t.clearcoatMap!==void 0&&(s.clearcoatMap=i(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(s.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(s.clearcoatNormalMap=i(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(s.clearcoatNormalScale=new X().fromArray(t.clearcoatNormalScale)),t.iridescenceMap!==void 0&&(s.iridescenceMap=i(t.iridescenceMap)),t.iridescenceThicknessMap!==void 0&&(s.iridescenceThicknessMap=i(t.iridescenceThicknessMap)),t.transmissionMap!==void 0&&(s.transmissionMap=i(t.transmissionMap)),t.thicknessMap!==void 0&&(s.thicknessMap=i(t.thicknessMap)),t.anisotropyMap!==void 0&&(s.anisotropyMap=i(t.anisotropyMap)),t.sheenColorMap!==void 0&&(s.sheenColorMap=i(t.sheenColorMap)),t.sheenRoughnessMap!==void 0&&(s.sheenRoughnessMap=i(t.sheenRoughnessMap)),s}setTextures(t){return this.textures=t,this}createMaterialFromType(t){return bf.createMaterialFromType(t)}static createMaterialFromType(t){const e={ShadowMaterial:D2,SpriteMaterial:bb,RawShaderMaterial:F2,ShaderMaterial:qp,PointsMaterial:Sb,MeshPhysicalMaterial:V2,MeshStandardMaterial:Pb,MeshPhongMaterial:U2,MeshToonMaterial:j2,MeshNormalMaterial:W2,MeshLambertMaterial:H2,MeshDepthMaterial:q2,MeshDistanceMaterial:G2,MeshBasicMaterial:ha,MeshMatcapMaterial:Y2,LineDashedMaterial:Z2,LineBasicMaterial:Ye,Material:De};return new e[t]}}class Bv{static extractUrlBase(t){const e=t.lastIndexOf("/");return e===-1?"./":t.slice(0,e+1)}static resolveURL(t,e){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class f_ extends Ct{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class m_ extends ur{constructor(t){super(t)}load(t,e,i,s){const o=this,l=new tn(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(t,function(c){try{e(o.parse(JSON.parse(c)))}catch(d){s?s(d):console.error(d),o.manager.itemError(t)}},i,s)}parse(t){const e={},i={};function s(v,b){if(e[b]!==void 0)return e[b];const x=v.interleavedBuffers[b],S=o(v,x.buffer),_=Js(x.type,S),M=new Xp(_,x.stride);return M.uuid=x.uuid,e[b]=M,M}function o(v,b){if(i[b]!==void 0)return i[b];const x=v.arrayBuffers[b],S=new Uint32Array(x).buffer;return i[b]=S,S}const l=t.isInstancedBufferGeometry?new f_:new Ct,c=t.data.index;if(c!==void 0){const v=Js(c.type,c.array);l.setIndex(new Qt(v,1))}const d=t.data.attributes;for(const v in d){const b=d[v];let x;if(b.isInterleavedBufferAttribute){const S=s(t.data,b.data);x=new Ks(S,b.itemSize,b.offset,b.normalized)}else{const S=Js(b.type,b.array),_=b.isInstancedBufferAttribute?Fo:Qt;x=new _(S,b.itemSize,b.normalized)}b.name!==void 0&&(x.name=b.name),b.usage!==void 0&&x.setUsage(b.usage),l.setAttribute(v,x)}const p=t.data.morphAttributes;if(p)for(const v in p){const b=p[v],x=[];for(let S=0,_=b.length;S<_;S++){const M=b[S];let T;if(M.isInterleavedBufferAttribute){const C=s(t.data,M.data);T=new Ks(C,M.itemSize,M.offset,M.normalized)}else{const C=Js(M.type,M.array);T=new Qt(C,M.itemSize,M.normalized)}M.name!==void 0&&(T.name=M.name),x.push(T)}l.morphAttributes[v]=x}t.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const m=t.data.groups||t.data.drawcalls||t.data.offsets;if(m!==void 0)for(let v=0,b=m.length;v!==b;++v){const x=m[v];l.addGroup(x.start,x.count,x.materialIndex)}const g=t.data.boundingSphere;if(g!==void 0){const v=new z;g.center!==void 0&&v.fromArray(g.center),l.boundingSphere=new Ee(v,g.radius)}return t.name&&(l.name=t.name),t.userData&&(l.userData=t.userData),l}}class Y3 extends ur{constructor(t){super(t)}load(t,e,i,s){const o=this,l=this.path===""?Bv.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||l;const c=new tn(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(t,function(d){let p=null;try{p=JSON.parse(d)}catch(g){s!==void 0&&s(g),console.error("THREE:ObjectLoader: Can't parse "+t+".",g.message);return}const m=p.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){s!==void 0&&s(new Error("THREE.ObjectLoader: Can't load "+t)),console.error("THREE.ObjectLoader: Can't load "+t);return}o.parse(p,e)},i,s)}async loadAsync(t,e){const i=this,s=this.path===""?Bv.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||s;const o=new tn(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const l=await o.loadAsync(t,e),c=JSON.parse(l),d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+t);return await i.parseAsync(c)}parse(t,e){const i=this.parseAnimations(t.animations),s=this.parseShapes(t.shapes),o=this.parseGeometries(t.geometries,s),l=this.parseImages(t.images,function(){e!==void 0&&e(p)}),c=this.parseTextures(t.textures,l),d=this.parseMaterials(t.materials,c),p=this.parseObject(t.object,o,d,c,i),m=this.parseSkeletons(t.skeletons,p);if(this.bindSkeletons(p,m),this.bindLightTargets(p),e!==void 0){let g=!1;for(const v in l)if(l[v].data instanceof HTMLImageElement){g=!0;break}g===!1&&e(p)}return p}async parseAsync(t){const e=this.parseAnimations(t.animations),i=this.parseShapes(t.shapes),s=this.parseGeometries(t.geometries,i),o=await this.parseImagesAsync(t.images),l=this.parseTextures(t.textures,o),c=this.parseMaterials(t.materials,l),d=this.parseObject(t.object,s,c,l,e),p=this.parseSkeletons(t.skeletons,d);return this.bindSkeletons(d,p),this.bindLightTargets(d),d}parseShapes(t){const e={};if(t!==void 0)for(let i=0,s=t.length;i<s;i++){const o=new $s().fromJSON(t[i]);e[o.uuid]=o}return e}parseSkeletons(t,e){const i={},s={};if(e.traverse(function(o){o.isBone&&(s[o.uuid]=o)}),t!==void 0)for(let o=0,l=t.length;o<l;o++){const c=new $p().fromJSON(t[o],s);i[c.uuid]=c}return i}parseGeometries(t,e){const i={};if(t!==void 0){const s=new m_;for(let o=0,l=t.length;o<l;o++){let c;const d=t[o];switch(d.type){case"BufferGeometry":case"InstancedBufferGeometry":c=s.parse(d);break;default:d.type in Ov?c=Ov[d.type].fromJSON(d,e):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${d.type}"`)}c.uuid=d.uuid,d.name!==void 0&&(c.name=d.name),d.userData!==void 0&&(c.userData=d.userData),i[d.uuid]=c}}return i}parseMaterials(t,e){const i={},s={};if(t!==void 0){const o=new bf;o.setTextures(e);for(let l=0,c=t.length;l<c;l++){const d=t[l];i[d.uuid]===void 0&&(i[d.uuid]=o.parse(d)),s[d.uuid]=i[d.uuid]}}return s}parseAnimations(t){const e={};if(t!==void 0)for(let i=0;i<t.length;i++){const s=t[i],o=hh.parse(s);e[o.uuid]=o}return e}parseImages(t,e){const i=this,s={};let o;function l(d){return i.manager.itemStart(d),o.load(d,function(){i.manager.itemEnd(d)},void 0,function(){i.manager.itemError(d),i.manager.itemEnd(d)})}function c(d){if(typeof d=="string"){const p=d,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:i.resourcePath+p;return l(m)}else return d.data?{data:Js(d.type,d.data),width:d.width,height:d.height}:null}if(t!==void 0&&t.length>0){const d=new Bb(e);o=new ch(d),o.setCrossOrigin(this.crossOrigin);for(let p=0,m=t.length;p<m;p++){const g=t[p],v=g.url;if(Array.isArray(v)){const b=[];for(let x=0,S=v.length;x<S;x++){const _=v[x],M=c(_);M!==null&&(M instanceof HTMLImageElement?b.push(M):b.push(new gi(M.data,M.width,M.height)))}s[g.uuid]=new Rn(b)}else{const b=c(g.url);s[g.uuid]=new Rn(b)}}}return s}async parseImagesAsync(t){const e=this,i={};let s;async function o(l){if(typeof l=="string"){const c=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:e.resourcePath+c;return await s.loadAsync(d)}else return l.data?{data:Js(l.type,l.data),width:l.width,height:l.height}:null}if(t!==void 0&&t.length>0){s=new ch(this.manager),s.setCrossOrigin(this.crossOrigin);for(let l=0,c=t.length;l<c;l++){const d=t[l],p=d.url;if(Array.isArray(p)){const m=[];for(let g=0,v=p.length;g<v;g++){const b=p[g],x=await o(b);x!==null&&(x instanceof HTMLImageElement?m.push(x):m.push(new gi(x.data,x.width,x.height)))}i[d.uuid]=new Rn(m)}else{const m=await o(d.url);i[d.uuid]=new Rn(m)}}}return i}parseTextures(t,e){function i(o,l){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),l[o])}const s={};if(t!==void 0)for(let o=0,l=t.length;o<l;o++){const c=t[o];c.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',c.uuid),e[c.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",c.image);const d=e[c.image],p=d.data;let m;Array.isArray(p)?(m=new Yp,p.length===6&&(m.needsUpdate=!0)):(p&&p.data?m=new gi:m=new de,p&&(m.needsUpdate=!0)),m.source=d,m.uuid=c.uuid,c.name!==void 0&&(m.name=c.name),c.mapping!==void 0&&(m.mapping=i(c.mapping,y_)),c.channel!==void 0&&(m.channel=c.channel),c.offset!==void 0&&m.offset.fromArray(c.offset),c.repeat!==void 0&&m.repeat.fromArray(c.repeat),c.center!==void 0&&m.center.fromArray(c.center),c.rotation!==void 0&&(m.rotation=c.rotation),c.wrap!==void 0&&(m.wrapS=i(c.wrap[0],Dv),m.wrapT=i(c.wrap[1],Dv)),c.format!==void 0&&(m.format=c.format),c.internalFormat!==void 0&&(m.internalFormat=c.internalFormat),c.type!==void 0&&(m.type=c.type),c.colorSpace!==void 0&&(m.colorSpace=c.colorSpace),c.minFilter!==void 0&&(m.minFilter=i(c.minFilter,Fv)),c.magFilter!==void 0&&(m.magFilter=i(c.magFilter,Fv)),c.anisotropy!==void 0&&(m.anisotropy=c.anisotropy),c.flipY!==void 0&&(m.flipY=c.flipY),c.generateMipmaps!==void 0&&(m.generateMipmaps=c.generateMipmaps),c.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=c.premultiplyAlpha),c.unpackAlignment!==void 0&&(m.unpackAlignment=c.unpackAlignment),c.compareFunction!==void 0&&(m.compareFunction=c.compareFunction),c.userData!==void 0&&(m.userData=c.userData),s[c.uuid]=m}return s}parseObject(t,e,i,s,o){let l;function c(v){return e[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",v),e[v]}function d(v){if(v!==void 0){if(Array.isArray(v)){const b=[];for(let x=0,S=v.length;x<S;x++){const _=v[x];i[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),b.push(i[_])}return b}return i[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),i[v]}}function p(v){return s[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",v),s[v]}let m,g;switch(t.type){case"Scene":l=new LM,t.background!==void 0&&(Number.isInteger(t.background)?l.background=new bt(t.background):l.background=p(t.background)),t.environment!==void 0&&(l.environment=p(t.environment)),t.fog!==void 0&&(t.fog.type==="Fog"?l.fog=new Jp(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&&(l.fog=new Zp(t.fog.color,t.fog.density)),t.fog.name!==""&&(l.fog.name=t.fog.name)),t.backgroundBlurriness!==void 0&&(l.backgroundBlurriness=t.backgroundBlurriness),t.backgroundIntensity!==void 0&&(l.backgroundIntensity=t.backgroundIntensity),t.backgroundRotation!==void 0&&l.backgroundRotation.fromArray(t.backgroundRotation),t.environmentIntensity!==void 0&&(l.environmentIntensity=t.environmentIntensity),t.environmentRotation!==void 0&&l.environmentRotation.fromArray(t.environmentRotation);break;case"PerspectiveCamera":l=new xr(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&&(l.focus=t.focus),t.zoom!==void 0&&(l.zoom=t.zoom),t.filmGauge!==void 0&&(l.filmGauge=t.filmGauge),t.filmOffset!==void 0&&(l.filmOffset=t.filmOffset),t.view!==void 0&&(l.view=Object.assign({},t.view));break;case"OrthographicCamera":l=new Db(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&&(l.zoom=t.zoom),t.view!==void 0&&(l.view=Object.assign({},t.view));break;case"AmbientLight":l=new h_(t.color,t.intensity);break;case"DirectionalLight":l=new u_(t.color,t.intensity),l.target=t.target||"";break;case"PointLight":l=new o_(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":l=new c_(t.color,t.intensity,t.width,t.height);break;case"SpotLight":l=new s_(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay),l.target=t.target||"";break;case"HemisphereLight":l=new i_(t.color,t.groundColor,t.intensity);break;case"LightProbe":l=new p_().fromJSON(t);break;case"SkinnedMesh":m=c(t.geometry),g=d(t.material),l=new FM(m,g),t.bindMode!==void 0&&(l.bindMode=t.bindMode),t.bindMatrix!==void 0&&l.bindMatrix.fromArray(t.bindMatrix),t.skeleton!==void 0&&(l.skeleton=t.skeleton);break;case"Mesh":m=c(t.geometry),g=d(t.material),l=new Ir(m,g);break;case"InstancedMesh":m=c(t.geometry),g=d(t.material);const v=t.count,b=t.instanceMatrix,x=t.instanceColor;l=new jM(m,g,v),l.instanceMatrix=new Fo(new Float32Array(b.array),16),x!==void 0&&(l.instanceColor=new Fo(new Float32Array(x.array),x.itemSize));break;case"BatchedMesh":m=c(t.geometry),g=d(t.material),l=new QM(t.maxInstanceCount,t.maxVertexCount,t.maxIndexCount,g),l.geometry=m,l.perObjectFrustumCulled=t.perObjectFrustumCulled,l.sortObjects=t.sortObjects,l._drawRanges=t.drawRanges,l._reservedRanges=t.reservedRanges,l._geometryInfo=t.geometryInfo.map(S=>{let _=null,M=null;return S.boundingBox!==void 0&&(_=new Be,_.min.fromArray(S.boundingBox.min),_.max.fromArray(S.boundingBox.max)),S.boundingSphere!==void 0&&(M=new Ee,M.radius=S.boundingSphere.radius,M.center.fromArray(S.boundingSphere.center)),{...S,boundingBox:_,boundingSphere:M}}),l._instanceInfo=t.instanceInfo,l._availableInstanceIds=t._availableInstanceIds,l._availableGeometryIds=t._availableGeometryIds,l._nextIndexStart=t.nextIndexStart,l._nextVertexStart=t.nextVertexStart,l._geometryCount=t.geometryCount,l._maxInstanceCount=t.maxInstanceCount,l._maxVertexCount=t.maxVertexCount,l._maxIndexCount=t.maxIndexCount,l._geometryInitialized=t.geometryInitialized,l._matricesTexture=p(t.matricesTexture.uuid),l._indirectTexture=p(t.indirectTexture.uuid),t.colorsTexture!==void 0&&(l._colorsTexture=p(t.colorsTexture.uuid)),t.boundingSphere!==void 0&&(l.boundingSphere=new Ee,l.boundingSphere.center.fromArray(t.boundingSphere.center),l.boundingSphere.radius=t.boundingSphere.radius),t.boundingBox!==void 0&&(l.boundingBox=new Be,l.boundingBox.min.fromArray(t.boundingBox.min),l.boundingBox.max.fromArray(t.boundingBox.max));break;case"LOD":l=new BM;break;case"Line":l=new Bn(c(t.geometry),d(t.material));break;case"LineLoop":l=new KM(c(t.geometry),d(t.material));break;case"LineSegments":l=new xi(c(t.geometry),d(t.material));break;case"PointCloud":case"Points":l=new t2(c(t.geometry),d(t.material));break;case"Sprite":l=new NM(d(t.material));break;case"Group":l=new Io;break;case"Bone":l=new wb;break;default:l=new Bt}if(l.uuid=t.uuid,t.name!==void 0&&(l.name=t.name),t.matrix!==void 0?(l.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&&(l.matrixAutoUpdate=t.matrixAutoUpdate),l.matrixAutoUpdate&&l.matrix.decompose(l.position,l.quaternion,l.scale)):(t.position!==void 0&&l.position.fromArray(t.position),t.rotation!==void 0&&l.rotation.fromArray(t.rotation),t.quaternion!==void 0&&l.quaternion.fromArray(t.quaternion),t.scale!==void 0&&l.scale.fromArray(t.scale)),t.up!==void 0&&l.up.fromArray(t.up),t.castShadow!==void 0&&(l.castShadow=t.castShadow),t.receiveShadow!==void 0&&(l.receiveShadow=t.receiveShadow),t.shadow&&(t.shadow.intensity!==void 0&&(l.shadow.intensity=t.shadow.intensity),t.shadow.bias!==void 0&&(l.shadow.bias=t.shadow.bias),t.shadow.normalBias!==void 0&&(l.shadow.normalBias=t.shadow.normalBias),t.shadow.radius!==void 0&&(l.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&&l.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&&(l.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&&(l.visible=t.visible),t.frustumCulled!==void 0&&(l.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&&(l.renderOrder=t.renderOrder),t.userData!==void 0&&(l.userData=t.userData),t.layers!==void 0&&(l.layers.mask=t.layers),t.children!==void 0){const v=t.children;for(let b=0;b<v.length;b++)l.add(this.parseObject(v[b],e,i,s,o))}if(t.animations!==void 0){const v=t.animations;for(let b=0;b<v.length;b++){const x=v[b];l.animations.push(o[x])}}if(t.type==="LOD"){t.autoUpdate!==void 0&&(l.autoUpdate=t.autoUpdate);const v=t.levels;for(let b=0;b<v.length;b++){const x=v[b],S=l.getObjectByProperty("uuid",x.object);S!==void 0&&l.addLevel(S,x.distance,x.hysteresis)}}return l}bindSkeletons(t,e){Object.keys(e).length!==0&&t.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const s=e[i.skeleton];s===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(s,i.bindMatrix)}})}bindLightTargets(t){t.traverse(function(e){if(e.isDirectionalLight||e.isSpotLight){const i=e.target,s=t.getObjectByProperty("uuid",i);s!==void 0?e.target=s:e.target=new Bt}})}}const y_={UVMapping:Bp,CubeReflectionMapping:Dp,CubeRefractionMapping:Hw,EquirectangularReflectionMapping:qw,EquirectangularRefractionMapping:Gw,CubeUVReflectionMapping:Yw},Dv={RepeatWrapping:_p,ClampToEdgeWrapping:Fr,MirroredRepeatWrapping:kp},Fv={NearestFilter:Er,NearestMipmapNearestFilter:Zw,NearestMipmapLinearFilter:Jw,LinearFilter:wr,LinearMipmapNearestFilter:Xw,LinearMipmapLinearFilter:ph};class Z3 extends ur{constructor(t){super(t),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,i,s){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const o=this,l=Ki.get(t);if(l!==void 0){if(o.manager.itemStart(t),l.then){l.then(p=>{e&&e(p),o.manager.itemEnd(t)}).catch(p=>{s&&s(p)});return}return setTimeout(function(){e&&e(l),o.manager.itemEnd(t)},0),l}const c={};c.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",c.headers=this.requestHeader;const d=fetch(t,c).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(p){return Ki.add(t,p),e&&e(p),o.manager.itemEnd(t),p}).catch(function(p){s&&s(p),Ki.remove(t),o.manager.itemError(t),o.manager.itemEnd(t)});Ki.add(t,d),o.manager.itemStart(t)}}let Hu;class Fb{static getContext(){return Hu===void 0&&(Hu=new(window.AudioContext||window.webkitAudioContext)),Hu}static setContext(t){Hu=t}}class J3 extends ur{constructor(t){super(t)}load(t,e,i,s){const o=this,l=new tn(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,function(d){try{const p=d.slice(0);Fb.getContext().decodeAudioData(p,function(m){e(m)}).catch(c)}catch(p){c(p)}},i,s);function c(d){s?s(d):console.error(d),o.manager.itemError(t)}}}const Vv=new St,Uv=new St,An=new St;class X3{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new xr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new xr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,An.copy(t.projectionMatrix);const i=e.eyeSep/2,s=i*e.near/e.focus,o=e.near*Math.tan(Nn*e.fov*.5)/e.zoom;let l,c;Uv.elements[12]=-i,Vv.elements[12]=i,l=-o*e.aspect+s,c=o*e.aspect+s,An.elements[0]=2*e.near/(c-l),An.elements[8]=(c+l)/(c-l),this.cameraL.projectionMatrix.copy(An),l=-o*e.aspect-s,c=o*e.aspect-s,An.elements[0]=2*e.near/(c-l),An.elements[8]=(c+l)/(c-l),this.cameraR.projectionMatrix.copy(An)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Uv),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Vv)}}class $3 extends xr{constructor(t=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=t}}class g_{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=jv(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=jv();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function jv(){return performance.now()}const zn=new z,Wv=new lr,v_=new z,En=new z;class Q3 extends Bt{constructor(){super(),this.type="AudioListener",this.context=Fb.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new g_}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(zn,Wv,v_),En.set(0,0,-1).applyQuaternion(Wv),e.positionX){const s=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(zn.x,s),e.positionY.linearRampToValueAtTime(zn.y,s),e.positionZ.linearRampToValueAtTime(zn.z,s),e.forwardX.linearRampToValueAtTime(En.x,s),e.forwardY.linearRampToValueAtTime(En.y,s),e.forwardZ.linearRampToValueAtTime(En.z,s),e.upX.linearRampToValueAtTime(i.x,s),e.upY.linearRampToValueAtTime(i.y,s),e.upZ.linearRampToValueAtTime(i.z,s)}else e.setPosition(zn.x,zn.y,zn.z),e.setOrientation(En.x,En.y,En.z,i.x,i.y,i.z)}}class b_ extends Bt{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(t=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+t),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){return this.detune=t,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}copy(t,e){return super.copy(t,e),t.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=t.autoplay,this.buffer=t.buffer,this.detune=t.detune,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.offset=t.offset,this.duration=t.duration,this.playbackRate=t.playbackRate,this.hasPlaybackControl=t.hasPlaybackControl,this.sourceType=t.sourceType,this.filters=t.filters.slice(),this)}clone(t){return new this.constructor(this.listener).copy(this,t)}}const In=new z,Hv=new lr,x_=new z,Pn=new z;class K3 extends b_{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=i,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(In,Hv,x_),Pn.set(0,0,1).applyQuaternion(Hv);const e=this.panner;if(e.positionX){const i=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(In.x,i),e.positionY.linearRampToValueAtTime(In.y,i),e.positionZ.linearRampToValueAtTime(In.z,i),e.orientationX.linearRampToValueAtTime(Pn.x,i),e.orientationY.linearRampToValueAtTime(Pn.y,i),e.orientationZ.linearRampToValueAtTime(Pn.z,i)}else e.setPosition(In.x,In.y,In.z),e.setOrientation(Pn.x,Pn.y,Pn.z)}}class tA{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let i=0;i<e.length;i++)t+=e[i];return t/e.length}}class w_{constructor(t,e,i){this.binding=t,this.valueSize=i;let s,o,l;switch(e){case"quaternion":s=this._slerp,o=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":s=this._select,o=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:s=this._lerp,o=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=o,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const i=this.buffer,s=this.valueSize,o=t*s+s;let l=this.cumulativeWeight;if(l===0){for(let c=0;c!==s;++c)i[o+c]=i[c];l=e}else{l+=e;const c=e/l;this._mixBufferRegion(i,o,0,c,s)}this.cumulativeWeight=l}accumulateAdditive(t){const e=this.buffer,i=this.valueSize,s=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(e,s,0,t,i),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,i=this.buffer,s=t*e+e,o=this.cumulativeWeight,l=this.cumulativeWeightAdditive,c=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const d=e*this._origIndex;this._mixBufferRegion(i,s,d,1-o,e)}l>0&&this._mixBufferRegionAdditive(i,s,this._addIndex*e,1,e);for(let d=e,p=e+e;d!==p;++d)if(i[d]!==i[d+e]){c.setValue(i,s);break}}saveOriginalState(){const t=this.binding,e=this.buffer,i=this.valueSize,s=i*this._origIndex;t.getValue(e,s);for(let o=i,l=s;o!==l;++o)e[o]=e[s+o%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i<e;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]}_select(t,e,i,s,o){if(s>=.5)for(let l=0;l!==o;++l)t[e+l]=t[i+l]}_slerp(t,e,i,s){lr.slerpFlat(t,e,t,e,t,i,s)}_slerpAdditive(t,e,i,s,o){const l=this._workIndex*o;lr.multiplyQuaternionsFlat(t,l,t,e,t,i),lr.slerpFlat(t,e,t,e,t,l,s)}_lerp(t,e,i,s,o){const l=1-s;for(let c=0;c!==o;++c){const d=e+c;t[d]=t[d]*l+t[i+c]*s}}_lerpAdditive(t,e,i,s,o){for(let l=0;l!==o;++l){const c=e+l;t[c]=t[c]+t[i+l]*s}}}const xf="\\[\\]\\.:\\/",S_=new RegExp("["+xf+"]","g"),wf="[^"+xf+"]",M_="[^"+xf.replace("\\.","")+"]",__=/((?:WC+[\/:])*)/.source.replace("WC",wf),k_=/(WCOD+)?/.source.replace("WCOD",M_),T_=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",wf),C_=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",wf),A_=new RegExp("^"+__+k_+T_+C_+"$"),z_=["material","materials","bones","map"];class E_{constructor(t,e,i){const s=i||Nt.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,s)}getValue(t,e){this.bind();const i=this._targetGroup.nCachedObjects_,s=this._bindings[i];s!==void 0&&s.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,o=i.length;s!==o;++s)i[s].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}class Nt{constructor(t,e,i){this.path=e,this.parsedPath=i||Nt.parseTrackName(e),this.node=Nt.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,i){return t&&t.isAnimationObjectGroup?new Nt.Composite(t,e,i):new Nt(t,e,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(S_,"")}static parseTrackName(t){const e=A_.exec(t);if(e===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const o=i.nodeName.substring(s+1);z_.indexOf(o)!==-1&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=o)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,e){if(e===void 0||e===""||e==="."||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(e);if(i!==void 0)return i}if(t.children){const i=function(o){for(let l=0;l<o.length;l++){const c=o[l];if(c.name===e||c.uuid===e)return c;const d=i(c.children);if(d)return d}return null},s=i(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)t[e++]=i[s]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,i=e.objectName,s=e.propertyName;let o=e.propertyIndex;if(t||(t=Nt.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let p=e.objectIndex;switch(i){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let m=0;m<t.length;m++)if(t[m].name===p){p=m;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}t=t.material.map;break;default:if(t[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[i]}if(p!==void 0){if(t[p]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[p]}}const l=t[s];if(l===void 0){const p=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+p+"."+s+" but it wasn't found.",t);return}let c=this.Versioning.None;this.targetObject=t,t.isMaterial===!0?c=this.Versioning.NeedsUpdate:t.isObject3D===!0&&(c=this.Versioning.MatrixWorldNeedsUpdate);let d=this.BindingType.Direct;if(o!==void 0){if(s==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[o]!==void 0&&(o=t.morphTargetDictionary[o])}d=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=o}else l.fromArray!==void 0&&l.toArray!==void 0?(d=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(d=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=s;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Nt.Composite=E_;Nt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Nt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Nt.prototype.GetterByBindingType=[Nt.prototype._getValue_direct,Nt.prototype._getValue_array,Nt.prototype._getValue_arrayElement,Nt.prototype._getValue_toArray];Nt.prototype.SetterByBindingTypeAndVersioning=[[Nt.prototype._setValue_direct,Nt.prototype._setValue_direct_setNeedsUpdate,Nt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_array,Nt.prototype._setValue_array_setNeedsUpdate,Nt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_arrayElement,Nt.prototype._setValue_arrayElement_setNeedsUpdate,Nt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_fromArray,Nt.prototype._setValue_fromArray_setNeedsUpdate,Nt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class eA{constructor(){this.isAnimationObjectGroup=!0,this.uuid=or(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let i=0,s=arguments.length;i!==s;++i)t[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const t=this._objects,e=this._indicesByUUID,i=this._paths,s=this._parsedPaths,o=this._bindings,l=o.length;let c,d=t.length,p=this.nCachedObjects_;for(let m=0,g=arguments.length;m!==g;++m){const v=arguments[m],b=v.uuid;let x=e[b];if(x===void 0){x=d++,e[b]=x,t.push(v);for(let S=0,_=l;S!==_;++S)o[S].push(new Nt(v,i[S],s[S]))}else if(x<p){c=t[x];const S=--p,_=t[S];e[_.uuid]=x,t[x]=_,e[b]=S,t[S]=v;for(let M=0,T=l;M!==T;++M){const C=o[M],A=C[S];let O=C[x];C[x]=A,O===void 0&&(O=new Nt(v,i[M],s[M])),C[S]=O}}else t[x]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,s=i.length;let o=this.nCachedObjects_;for(let l=0,c=arguments.length;l!==c;++l){const d=arguments[l],p=d.uuid,m=e[p];if(m!==void 0&&m>=o){const g=o++,v=t[g];e[v.uuid]=m,t[m]=v,e[p]=g,t[g]=d;for(let b=0,x=s;b!==x;++b){const S=i[b],_=S[g],M=S[m];S[m]=_,S[g]=M}}}this.nCachedObjects_=o}uncache(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,s=i.length;let o=this.nCachedObjects_,l=t.length;for(let c=0,d=arguments.length;c!==d;++c){const p=arguments[c],m=p.uuid,g=e[m];if(g!==void 0)if(delete e[m],g<o){const v=--o,b=t[v],x=--l,S=t[x];e[b.uuid]=g,t[g]=b,e[S.uuid]=v,t[v]=S,t.pop();for(let _=0,M=s;_!==M;++_){const T=i[_],C=T[v],A=T[x];T[g]=C,T[v]=A,T.pop()}}else{const v=--l,b=t[v];v>0&&(e[b.uuid]=g),t[g]=b,t.pop();for(let x=0,S=s;x!==S;++x){const _=i[x];_[g]=_[v],_.pop()}}}this.nCachedObjects_=o}subscribe_(t,e){const i=this._bindingsIndicesByPath;let s=i[t];const o=this._bindings;if(s!==void 0)return o[s];const l=this._paths,c=this._parsedPaths,d=this._objects,p=d.length,m=this.nCachedObjects_,g=new Array(p);s=o.length,i[t]=s,l.push(t),c.push(e),o.push(g);for(let v=m,b=d.length;v!==b;++v){const x=d[v];g[v]=new Nt(x,t,e)}return g}unsubscribe_(t){const e=this._bindingsIndicesByPath,i=e[t];if(i!==void 0){const s=this._paths,o=this._parsedPaths,l=this._bindings,c=l.length-1,d=l[c],p=t[c];e[p]=i,l[i]=d,l.pop(),o[i]=o[c],o.pop(),s[i]=s[c],s.pop()}}}class I_{constructor(t,e,i=null,s=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=i,this.blendMode=s;const o=e.tracks,l=o.length,c=new Array(l),d={endingStart:Ys,endingEnd:Ys};for(let p=0;p!==l;++p){const m=o[p].createInterpolant(null);c[p]=m,m.settings=d}this._interpolantSettings=d,this._interpolants=c,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=HS,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,i=!1){if(t.fadeOut(e),this.fadeIn(e),i===!0){const s=this._clip.duration,o=t._clip.duration,l=o/s,c=s/o;t.warp(1,l,e),this.warp(c,1,e)}return this}crossFadeTo(t,e,i=!1){return t.crossFadeFrom(this,e,i)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,i){const s=this._mixer,o=s.time,l=this.timeScale;let c=this._timeScaleInterpolant;c===null&&(c=s._lendControlInterpolant(),this._timeScaleInterpolant=c);const d=c.parameterPositions,p=c.sampleValues;return d[0]=o,d[1]=o+i,p[0]=t/l,p[1]=e/l,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,i,s){if(!this.enabled){this._updateWeight(t);return}const o=this._startTime;if(o!==null){const d=(t-o)*i;d<0||i===0?e=0:(this._startTime=null,e=i*d)}e*=this._updateTimeScale(t);const l=this._updateTime(e),c=this._updateWeight(t);if(c>0){const d=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case pb:for(let m=0,g=d.length;m!==g;++m)d[m].evaluate(l),p[m].accumulateAdditive(c);break;case Up:default:for(let m=0,g=d.length;m!==g;++m)d[m].evaluate(l),p[m].accumulate(s,c)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const i=this._weightInterpolant;if(i!==null){const s=i.evaluate(t)[0];e*=s,t>i.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const s=i.evaluate(t)[0];e*=s,t>i.parameterPositions[1]&&(this.stopWarping(),e===0?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,i=this.loop;let s=this.time+t,o=this._loopCount;const l=i===qS;if(t===0)return o===-1?s:l&&(o&1)===1?e-s:s;if(i===WS){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(s>=e)s=e;else if(s<0)s=0;else{this.time=s;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(o===-1&&(t>=0?(o=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),s>=e||s<0){const c=Math.floor(s/e);s-=e*c,o+=Math.abs(c);const d=this.repetitions-o;if(d<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=t>0?e:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(d===1){const p=t<0;this._setEndings(p,!p,l)}else this._setEndings(!1,!1,l);this._loopCount=o,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c})}}else this.time=s;if(l&&(o&1)===1)return e-s}return s}_setEndings(t,e,i){const s=this._interpolantSettings;i?(s.endingStart=Zs,s.endingEnd=Zs):(t?s.endingStart=this.zeroSlopeAtStart?Zs:Ys:s.endingStart=eh,e?s.endingEnd=this.zeroSlopeAtEnd?Zs:Ys:s.endingEnd=eh)}_scheduleFading(t,e,i){const s=this._mixer,o=s.time;let l=this._weightInterpolant;l===null&&(l=s._lendControlInterpolant(),this._weightInterpolant=l);const c=l.parameterPositions,d=l.sampleValues;return c[0]=o,d[0]=e,c[1]=o+t,d[1]=i,this}}const P_=new Float32Array(1);class rA extends en{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const i=t._localRoot||this._root,s=t._clip.tracks,o=s.length,l=t._propertyBindings,c=t._interpolants,d=i.uuid,p=this._bindingsByRootAndName;let m=p[d];m===void 0&&(m={},p[d]=m);for(let g=0;g!==o;++g){const v=s[g],b=v.name;let x=m[b];if(x!==void 0)++x.referenceCount,l[g]=x;else{if(x=l[g],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,d,b));continue}const S=e&&e._propertyBindings[g].binding.parsedPath;x=new w_(Nt.create(i,b,S),v.ValueTypeName,v.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,d,b),l[g]=x}c[g].resultBuffer=x.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const i=(t._localRoot||this._root).uuid,s=t._clip.uuid,o=this._actionsByClip[s];this._bindAction(t,o&&o.knownActions[0]),this._addInactiveAction(t,s,i)}const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const o=e[i];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return e!==null&&e<this._nActiveActions}_addInactiveAction(t,e,i){const s=this._actions,o=this._actionsByClip;let l=o[e];if(l===void 0)l={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,o[e]=l;else{const c=l.knownActions;t._byClipCacheIndex=c.length,c.push(t)}t._cacheIndex=s.length,s.push(t),l.actionByRoot[i]=t}_removeInactiveAction(t){const e=this._actions,i=e[e.length-1],s=t._cacheIndex;i._cacheIndex=s,e[s]=i,e.pop(),t._cacheIndex=null;const o=t._clip.uuid,l=this._actionsByClip,c=l[o],d=c.knownActions,p=d[d.length-1],m=t._byClipCacheIndex;p._byClipCacheIndex=m,d[m]=p,d.pop(),t._byClipCacheIndex=null;const g=c.actionByRoot,v=(t._localRoot||this._root).uuid;delete g[v],d.length===0&&delete l[o],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const o=e[i];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(t){const e=this._actions,i=t._cacheIndex,s=this._nActiveActions++,o=e[s];t._cacheIndex=s,e[s]=t,o._cacheIndex=i,e[i]=o}_takeBackAction(t){const e=this._actions,i=t._cacheIndex,s=--this._nActiveActions,o=e[s];t._cacheIndex=s,e[s]=t,o._cacheIndex=i,e[i]=o}_addInactiveBinding(t,e,i){const s=this._bindingsByRootAndName,o=this._bindings;let l=s[e];l===void 0&&(l={},s[e]=l),l[i]=t,t._cacheIndex=o.length,o.push(t)}_removeInactiveBinding(t){const e=this._bindings,i=t.binding,s=i.rootNode.uuid,o=i.path,l=this._bindingsByRootAndName,c=l[s],d=e[e.length-1],p=t._cacheIndex;d._cacheIndex=p,e[p]=d,e.pop(),delete c[o],Object.keys(c).length===0&&delete l[s]}_lendBinding(t){const e=this._bindings,i=t._cacheIndex,s=this._nActiveBindings++,o=e[s];t._cacheIndex=s,e[s]=t,o._cacheIndex=i,e[i]=o}_takeBackBinding(t){const e=this._bindings,i=t._cacheIndex,s=--this._nActiveBindings,o=e[s];t._cacheIndex=s,e[s]=t,o._cacheIndex=i,e[i]=o}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let i=t[e];return i===void 0&&(i=new Lb(new Float32Array(2),new Float32Array(2),1,P_),i.__cacheIndex=e,t[e]=i),i}_takeBackControlInterpolant(t){const e=this._controlInterpolants,i=t.__cacheIndex,s=--this._nActiveControlInterpolants,o=e[s];t.__cacheIndex=s,e[s]=t,o.__cacheIndex=i,e[i]=o}clipAction(t,e,i){const s=e||this._root,o=s.uuid;let l=typeof t=="string"?hh.findByName(s,t):t;const c=l!==null?l.uuid:t,d=this._actionsByClip[c];let p=null;if(i===void 0&&(l!==null?i=l.blendMode:i=Up),d!==void 0){const g=d.actionByRoot[o];if(g!==void 0&&g.blendMode===i)return g;p=d.knownActions[0],l===null&&(l=p._clip)}if(l===null)return null;const m=new I_(this,l,e,i);return this._bindAction(m,p),this._addInactiveAction(m,c,o),m}existingAction(t,e){const i=e||this._root,s=i.uuid,o=typeof t=="string"?hh.findByName(i,t):t,l=o?o.uuid:t,c=this._actionsByClip[l];return c!==void 0&&c.actionByRoot[s]||null}stopAllAction(){const t=this._actions,e=this._nActiveActions;for(let i=e-1;i>=0;--i)t[i].stop();return this}update(t){t*=this.timeScale;const e=this._actions,i=this._nActiveActions,s=this.time+=t,o=Math.sign(t),l=this._accuIndex^=1;for(let p=0;p!==i;++p)e[p]._update(s,t,o,l);const c=this._bindings,d=this._nActiveBindings;for(let p=0;p!==d;++p)c[p].apply(l);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,i=t.uuid,s=this._actionsByClip,o=s[i];if(o!==void 0){const l=o.knownActions;for(let c=0,d=l.length;c!==d;++c){const p=l[c];this._deactivateAction(p);const m=p._cacheIndex,g=e[e.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,g._cacheIndex=m,e[m]=g,e.pop(),this._removeInactiveBindingsForAction(p)}delete s[i]}}uncacheRoot(t){const e=t.uuid,i=this._actionsByClip;for(const l in i){const c=i[l].actionByRoot,d=c[e];d!==void 0&&(this._deactivateAction(d),this._removeInactiveAction(d))}const s=this._bindingsByRootAndName,o=s[e];if(o!==void 0)for(const l in o){const c=o[l];c.restoreOriginalState(),this._removeInactiveBinding(c)}}uncacheAction(t,e){const i=this.existingAction(t,e);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class iA extends Wp{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isRenderTarget3D=!0,this.depth=i,this.texture=new yb(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class nA extends Wp{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isRenderTargetArray=!0,this.depth=i,this.texture=new mb(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class Vb{constructor(t){this.value=t}clone(){return new Vb(this.value.clone===void 0?this.value:this.value.clone())}}let O_=0;class sA extends en{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:O_++}),this.name="",this.usage=rh,this.uniforms=[]}add(t){return this.uniforms.push(t),this}remove(t){const e=this.uniforms.indexOf(t);return e!==-1&&this.uniforms.splice(e,1),this}setName(t){return this.name=t,this}setUsage(t){return this.usage=t,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(t){this.name=t.name,this.usage=t.usage;const e=t.uniforms;this.uniforms.length=0;for(let i=0,s=e.length;i<s;i++){const o=Array.isArray(e[i])?e[i]:[e[i]];for(let l=0;l<o.length;l++)this.uniforms.push(o[l].clone())}return this}clone(){return new this.constructor().copy(this)}}class aA extends Xp{constructor(t,e,i=1){super(t,e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}class oA{constructor(t,e,i,s,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=e,this.itemSize=i,this.elementSize=s,this.count=o,this.version=0}set needsUpdate(t){t===!0&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}const qv=new St;class lA{constructor(t,e,i=0,s=1/0){this.ray=new Ho(t,e),this.near=i,this.far=s,this.camera=null,this.layers=new gb,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}setFromXRController(t){return qv.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(qv),this}intersectObject(t,e=!0,i=[]){return Pp(t,this,i,e),i.sort(Gv),i}intersectObjects(t,e=!0,i=[]){for(let s=0,o=t.length;s<o;s++)Pp(t[s],this,i,e);return i.sort(Gv),i}}function Gv(h,t){return h.distance-t.distance}function Pp(h,t,e,i){let s=!0;if(h.layers.test(t.layers)&&h.raycast(t,e)===!1&&(s=!1),s===!0&&i===!0){const o=h.children;for(let l=0,c=o.length;l<c;l++)Pp(o[l],t,e,!0)}}class uA{constructor(t=1,e=0,i=0){this.radius=t,this.phi=e,this.theta=i}set(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=vt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(vt(e/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class hA{constructor(t=1,e=0,i=0){this.radius=t,this.theta=e,this.y=i}set(t,e,i){return this.radius=t,this.theta=e,this.y=i,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=e,this}clone(){return new this.constructor().copy(this)}}class Ub{constructor(t,e,i,s){Ub.prototype.isMatrix2=!0,this.elements=[1,0,0,1],t!==void 0&&this.set(t,e,i,s)}identity(){return this.set(1,0,0,1),this}fromArray(t,e=0){for(let i=0;i<4;i++)this.elements[i]=t[i+e];return this}set(t,e,i,s){const o=this.elements;return o[0]=t,o[2]=e,o[1]=i,o[3]=s,this}}const Yv=new X;class cA{constructor(t=new X(1/0,1/0),e=new X(-1/0,-1/0)){this.isBox2=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=Yv.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Yv).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const Zv=new z,qu=new z;class dA{constructor(t=new z,e=new z){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){Zv.subVectors(t,this.start),qu.subVectors(this.end,this.start);const i=qu.dot(qu);let s=qu.dot(Zv)/i;return e&&(s=vt(s,0,1)),s}closestPointToPoint(t,e,i){const s=this.closestPointToPointParameter(t,e);return this.delta(i).multiplyScalar(s).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Jv=new z;class pA extends Bt{constructor(t,e){super(),this.light=t,this.matrixAutoUpdate=!1,this.color=e,this.type="SpotLightHelper";const i=new Ct,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,c=1,d=32;l<d;l++,c++){const p=l/d*Math.PI*2,m=c/d*Math.PI*2;s.push(Math.cos(p),Math.sin(p),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new ot(s,3));const o=new Ye({fog:!1,toneMapped:!1});this.cone=new xi(i,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),Jv.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Jv),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Qi=new z,Gu=new St,vp=new St;class fA extends xi{constructor(t){const e=jb(t),i=new Ct,s=[],o=[],l=new bt(0,0,1),c=new bt(0,1,0);for(let p=0;p<e.length;p++){const m=e[p];m.parent&&m.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),o.push(l.r,l.g,l.b),o.push(c.r,c.g,c.b))}i.setAttribute("position",new ot(s,3)),i.setAttribute("color",new ot(o,3));const d=new Ye({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,d),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,i=this.geometry,s=i.getAttribute("position");vp.copy(this.root.matrixWorld).invert();for(let o=0,l=0;o<e.length;o++){const c=e[o];c.parent&&c.parent.isBone&&(Gu.multiplyMatrices(vp,c.matrixWorld),Qi.setFromMatrixPosition(Gu),s.setXYZ(l,Qi.x,Qi.y,Qi.z),Gu.multiplyMatrices(vp,c.parent.matrixWorld),Qi.setFromMatrixPosition(Gu),s.setXYZ(l+1,Qi.x,Qi.y,Qi.z),l+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose()}}function jb(h){const t=[];h.isBone===!0&&t.push(h);for(let e=0;e<h.children.length;e++)t.push(...jb(h.children[e]));return t}class mA extends Ir{constructor(t,e,i){const s=new bh(e,4,2),o=new ha({wireframe:!0,fog:!1,toneMapped:!1});super(s,o),this.light=t,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const R_=new z,Xv=new bt,$v=new bt;class yA extends Bt{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const s=new vh(e);s.rotateY(Math.PI*.5),this.material=new ha({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=s.getAttribute("position"),l=new Float32Array(o.count*3);s.setAttribute("color",new Qt(l,3)),this.add(new Ir(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const e=t.geometry.getAttribute("color");Xv.copy(this.light.color),$v.copy(this.light.groundColor);for(let i=0,s=e.count;i<s;i++){const o=i<s/2?Xv:$v;e.setXYZ(i,o.r,o.g,o.b)}e.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),t.lookAt(R_.setFromMatrixPosition(this.light.matrixWorld).negate())}}class gA extends xi{constructor(t=10,e=10,i=4473924,s=8947848){i=new bt(i),s=new bt(s);const o=e/2,l=t/e,c=t/2,d=[],p=[];for(let v=0,b=0,x=-c;v<=e;v++,x+=l){d.push(-c,0,x,c,0,x),d.push(x,0,-c,x,0,c);const S=v===o?i:s;S.toArray(p,b),b+=3,S.toArray(p,b),b+=3,S.toArray(p,b),b+=3,S.toArray(p,b),b+=3}const m=new Ct;m.setAttribute("position",new ot(d,3)),m.setAttribute("color",new ot(p,3));const g=new Ye({vertexColors:!0,toneMapped:!1});super(m,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class vA extends xi{constructor(t=10,e=16,i=8,s=64,o=4473924,l=8947848){o=new bt(o),l=new bt(l);const c=[],d=[];if(e>1)for(let g=0;g<e;g++){const v=g/e*(Math.PI*2),b=Math.sin(v)*t,x=Math.cos(v)*t;c.push(0,0,0),c.push(b,0,x);const S=g&1?o:l;d.push(S.r,S.g,S.b),d.push(S.r,S.g,S.b)}for(let g=0;g<i;g++){const v=g&1?o:l,b=t-t/i*g;for(let x=0;x<s;x++){let S=x/s*(Math.PI*2),_=Math.sin(S)*b,M=Math.cos(S)*b;c.push(_,0,M),d.push(v.r,v.g,v.b),S=(x+1)/s*(Math.PI*2),_=Math.sin(S)*b,M=Math.cos(S)*b,c.push(_,0,M),d.push(v.r,v.g,v.b)}}const p=new Ct;p.setAttribute("position",new ot(c,3)),p.setAttribute("color",new ot(d,3));const m=new Ye({vertexColors:!0,toneMapped:!1});super(p,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Qv=new z,Yu=new z,Kv=new z;class bA extends Bt{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",e===void 0&&(e=1);let s=new Ct;s.setAttribute("position",new ot([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const o=new Ye({fog:!1,toneMapped:!1});this.lightPlane=new Bn(s,o),this.add(this.lightPlane),s=new Ct,s.setAttribute("position",new ot([0,0,0,0,0,1],3)),this.targetLine=new Bn(s,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Qv.setFromMatrixPosition(this.light.matrixWorld),Yu.setFromMatrixPosition(this.light.target.matrixWorld),Kv.subVectors(Yu,Qv),this.lightPlane.lookAt(Yu),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Yu),this.targetLine.scale.z=Kv.length()}}const Zu=new z,ie=new Gp;class xA extends xi{constructor(t){const e=new Ct,i=new Ye({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],o=[],l={};c("n1","n2"),c("n2","n4"),c("n4","n3"),c("n3","n1"),c("f1","f2"),c("f2","f4"),c("f4","f3"),c("f3","f1"),c("n1","f1"),c("n2","f2"),c("n3","f3"),c("n4","f4"),c("p","n1"),c("p","n2"),c("p","n3"),c("p","n4"),c("u1","u2"),c("u2","u3"),c("u3","u1"),c("c","t"),c("p","c"),c("cn1","cn2"),c("cn3","cn4"),c("cf1","cf2"),c("cf3","cf4");function c(x,S){d(x),d(S)}function d(x){s.push(0,0,0),o.push(0,0,0),l[x]===void 0&&(l[x]=[]),l[x].push(s.length/3-1)}e.setAttribute("position",new ot(s,3)),e.setAttribute("color",new ot(o,3)),super(e,i),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update();const p=new bt(16755200),m=new bt(16711680),g=new bt(43775),v=new bt(16777215),b=new bt(3355443);this.setColors(p,m,g,v,b)}setColors(t,e,i,s,o){const l=this.geometry.getAttribute("color");l.setXYZ(0,t.r,t.g,t.b),l.setXYZ(1,t.r,t.g,t.b),l.setXYZ(2,t.r,t.g,t.b),l.setXYZ(3,t.r,t.g,t.b),l.setXYZ(4,t.r,t.g,t.b),l.setXYZ(5,t.r,t.g,t.b),l.setXYZ(6,t.r,t.g,t.b),l.setXYZ(7,t.r,t.g,t.b),l.setXYZ(8,t.r,t.g,t.b),l.setXYZ(9,t.r,t.g,t.b),l.setXYZ(10,t.r,t.g,t.b),l.setXYZ(11,t.r,t.g,t.b),l.setXYZ(12,t.r,t.g,t.b),l.setXYZ(13,t.r,t.g,t.b),l.setXYZ(14,t.r,t.g,t.b),l.setXYZ(15,t.r,t.g,t.b),l.setXYZ(16,t.r,t.g,t.b),l.setXYZ(17,t.r,t.g,t.b),l.setXYZ(18,t.r,t.g,t.b),l.setXYZ(19,t.r,t.g,t.b),l.setXYZ(20,t.r,t.g,t.b),l.setXYZ(21,t.r,t.g,t.b),l.setXYZ(22,t.r,t.g,t.b),l.setXYZ(23,t.r,t.g,t.b),l.setXYZ(24,e.r,e.g,e.b),l.setXYZ(25,e.r,e.g,e.b),l.setXYZ(26,e.r,e.g,e.b),l.setXYZ(27,e.r,e.g,e.b),l.setXYZ(28,e.r,e.g,e.b),l.setXYZ(29,e.r,e.g,e.b),l.setXYZ(30,e.r,e.g,e.b),l.setXYZ(31,e.r,e.g,e.b),l.setXYZ(32,i.r,i.g,i.b),l.setXYZ(33,i.r,i.g,i.b),l.setXYZ(34,i.r,i.g,i.b),l.setXYZ(35,i.r,i.g,i.b),l.setXYZ(36,i.r,i.g,i.b),l.setXYZ(37,i.r,i.g,i.b),l.setXYZ(38,s.r,s.g,s.b),l.setXYZ(39,s.r,s.g,s.b),l.setXYZ(40,o.r,o.g,o.b),l.setXYZ(41,o.r,o.g,o.b),l.setXYZ(42,o.r,o.g,o.b),l.setXYZ(43,o.r,o.g,o.b),l.setXYZ(44,o.r,o.g,o.b),l.setXYZ(45,o.r,o.g,o.b),l.setXYZ(46,o.r,o.g,o.b),l.setXYZ(47,o.r,o.g,o.b),l.setXYZ(48,o.r,o.g,o.b),l.setXYZ(49,o.r,o.g,o.b),l.needsUpdate=!0}update(){const t=this.geometry,e=this.pointMap,i=1,s=1;ie.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const o=this.camera.coordinateSystem===Vr?-1:0;ae("c",e,t,ie,0,0,o),ae("t",e,t,ie,0,0,1),ae("n1",e,t,ie,-1,-1,o),ae("n2",e,t,ie,i,-1,o),ae("n3",e,t,ie,-1,s,o),ae("n4",e,t,ie,i,s,o),ae("f1",e,t,ie,-1,-1,1),ae("f2",e,t,ie,i,-1,1),ae("f3",e,t,ie,-1,s,1),ae("f4",e,t,ie,i,s,1),ae("u1",e,t,ie,i*.7,s*1.1,o),ae("u2",e,t,ie,-1*.7,s*1.1,o),ae("u3",e,t,ie,0,s*2,o),ae("cf1",e,t,ie,-1,0,1),ae("cf2",e,t,ie,i,0,1),ae("cf3",e,t,ie,0,-1,1),ae("cf4",e,t,ie,0,s,1),ae("cn1",e,t,ie,-1,0,o),ae("cn2",e,t,ie,i,0,o),ae("cn3",e,t,ie,0,-1,o),ae("cn4",e,t,ie,0,s,o),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ae(h,t,e,i,s,o,l){Zu.set(s,o,l).unproject(i);const c=t[h];if(c!==void 0){const d=e.getAttribute("position");for(let p=0,m=c.length;p<m;p++)d.setXYZ(c[p],Zu.x,Zu.y,Zu.z)}}const Ju=new Be;class wA extends xi{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(8*3),o=new Ct;o.setIndex(new Qt(i,1)),o.setAttribute("position",new Qt(s,3)),super(o,new Ye({color:e,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Ju.setFromObject(this.object),Ju.isEmpty())return;const t=Ju.min,e=Ju.max,i=this.geometry.attributes.position,s=i.array;s[0]=e.x,s[1]=e.y,s[2]=e.z,s[3]=t.x,s[4]=e.y,s[5]=e.z,s[6]=t.x,s[7]=t.y,s[8]=e.z,s[9]=e.x,s[10]=t.y,s[11]=e.z,s[12]=e.x,s[13]=e.y,s[14]=t.z,s[15]=t.x,s[16]=e.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=e.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,e){return super.copy(t,e),this.object=t.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class SA extends xi{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Ct;o.setIndex(new Qt(i,1)),o.setAttribute("position",new ot(s,3)),super(o,new Ye({color:e,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}dispose(){this.geometry.dispose(),this.material.dispose()}}class MA extends Bn{constructor(t,e=1,i=16776960){const s=i,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new Ct;l.setAttribute("position",new ot(o,3)),l.computeBoundingSphere(),super(l,new Ye({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=e;const c=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],d=new Ct;d.setAttribute("position",new ot(c,3)),d.computeBoundingSphere(),this.add(new Ir(d,new ha({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const tb=new z;let Xu,bp;class _A extends Bt{constructor(t=new z(0,0,1),e=new z(0,0,0),i=1,s=16776960,o=i*.2,l=o*.2){super(),this.type="ArrowHelper",Xu===void 0&&(Xu=new Ct,Xu.setAttribute("position",new ot([0,0,0,0,1,0],3)),bp=new gh(.5,1,5,1),bp.translate(0,-.5,0)),this.position.copy(e),this.line=new Bn(Xu,new Ye({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ir(bp,new ha({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,o,l)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{tb.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(tb,e)}}setLength(t,e=t*.2,i=e*.2){this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class kA extends xi{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new Ct;s.setAttribute("position",new ot(e,3)),s.setAttribute("color",new ot(i,3));const o=new Ye({vertexColors:!0,toneMapped:!1});super(s,o),this.type="AxesHelper"}setColors(t,e,i){const s=new bt,o=this.geometry.attributes.color.array;return s.set(t),s.toArray(o,0),s.toArray(o,3),s.set(e),s.toArray(o,6),s.toArray(o,9),s.set(i),s.toArray(o,12),s.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class TA{constructor(){this.type="ShapePath",this.color=new bt,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new Ap,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,i,s){return this.currentPath.quadraticCurveTo(t,e,i,s),this}bezierCurveTo(t,e,i,s,o,l){return this.currentPath.bezierCurveTo(t,e,i,s,o,l),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t){function e(M){const T=[];for(let C=0,A=M.length;C<A;C++){const O=M[C],B=new $s;B.curves=O.curves,T.push(B)}return T}function i(M,T){const C=T.length;let A=!1;for(let O=C-1,B=0;B<C;O=B++){let j=T[O],D=T[B],Y=D.x-j.x,J=D.y-j.y;if(Math.abs(J)>Number.EPSILON){if(J<0&&(j=T[B],Y=-Y,D=T[O],J=-J),M.y<j.y||M.y>D.y)continue;if(M.y===j.y){if(M.x===j.x)return!0}else{const it=J*(M.x-j.x)-Y*(M.y-j.y);if(it===0)return!0;if(it<0)continue;A=!A}}else{if(M.y!==j.y)continue;if(D.x<=M.x&&M.x<=j.x||j.x<=M.x&&M.x<=D.x)return!0}}return A}const s=Ur.isClockWise,o=this.subPaths;if(o.length===0)return[];let l,c,d;const p=[];if(o.length===1)return c=o[0],d=new $s,d.curves=c.curves,p.push(d),p;let m=!s(o[0].getPoints());m=t?!m:m;const g=[],v=[];let b=[],x=0,S;v[x]=void 0,b[x]=[];for(let M=0,T=o.length;M<T;M++)c=o[M],S=c.getPoints(),l=s(S),l=t?!l:l,l?(!m&&v[x]&&x++,v[x]={s:new $s,p:S},v[x].s.curves=c.curves,m&&x++,b[x]=[]):b[x].push({h:c,p:S[0]});if(!v[0])return e(o);if(v.length>1){let M=!1,T=0;for(let C=0,A=v.length;C<A;C++)g[C]=[];for(let C=0,A=v.length;C<A;C++){const O=b[C];for(let B=0;B<O.length;B++){const j=O[B];let D=!0;for(let Y=0;Y<v.length;Y++)i(j.p,v[Y].p)&&(C!==Y&&T++,D?(D=!1,g[Y].push(j)):M=!0);D&&g[C].push(j)}}T>0&&M===!1&&(b=g)}let _;for(let M=0,T=v.length;M<T;M++){d=v[M].s,p.push(d),_=b[M];for(let C=0,A=_.length;C<A;C++)d.holes.push(_[C].h)}return p}}class CA extends en{constructor(t,e=null){super(),this.object=t,this.domElement=e,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(t){if(t===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=t}disconnect(){}dispose(){}update(){}}function L_(h,t){const e=h.image&&h.image.width?h.image.width/h.image.height:1;return e>t?(h.repeat.x=1,h.repeat.y=e/t,h.offset.x=0,h.offset.y=(1-h.repeat.y)/2):(h.repeat.x=t/e,h.repeat.y=1,h.offset.x=(1-h.repeat.x)/2,h.offset.y=0),h}function N_(h,t){const e=h.image&&h.image.width?h.image.width/h.image.height:1;return e>t?(h.repeat.x=t/e,h.repeat.y=1,h.offset.x=(1-h.repeat.x)/2,h.offset.y=0):(h.repeat.x=1,h.repeat.y=e/t,h.offset.x=0,h.offset.y=(1-h.repeat.y)/2),h}function B_(h){return h.repeat.x=1,h.repeat.y=1,h.offset.x=0,h.offset.y=0,h}function D_(h,t,e,i){const s=F_(i);switch(e){case sS:return h*t;case cb:return h*t/s.components*s.byteLength;case db:return h*t/s.components*s.byteLength;case lS:return h*t*2/s.components*s.byteLength;case uS:return h*t*2/s.components*s.byteLength;case aS:return h*t*3/s.components*s.byteLength;case Bo:return h*t*4/s.components*s.byteLength;case hS:return h*t*4/s.components*s.byteLength;case cS:case dS:return Math.floor((h+3)/4)*Math.floor((t+3)/4)*8;case pS:case fS:return Math.floor((h+3)/4)*Math.floor((t+3)/4)*16;case yS:case vS:return Math.max(h,16)*Math.max(t,8)/4;case mS:case gS:return Math.max(h,8)*Math.max(t,8)/2;case bS:case xS:return Math.floor((h+3)/4)*Math.floor((t+3)/4)*8;case wS:return Math.floor((h+3)/4)*Math.floor((t+3)/4)*16;case SS:return Math.floor((h+3)/4)*Math.floor((t+3)/4)*16;case MS:return Math.floor((h+4)/5)*Math.floor((t+3)/4)*16;case _S:return Math.floor((h+4)/5)*Math.floor((t+4)/5)*16;case kS:return Math.floor((h+5)/6)*Math.floor((t+4)/5)*16;case TS:return Math.floor((h+5)/6)*Math.floor((t+5)/6)*16;case CS:return Math.floor((h+7)/8)*Math.floor((t+4)/5)*16;case AS:return Math.floor((h+7)/8)*Math.floor((t+5)/6)*16;case zS:return Math.floor((h+7)/8)*Math.floor((t+7)/8)*16;case ES:return Math.floor((h+9)/10)*Math.floor((t+4)/5)*16;case IS:return Math.floor((h+9)/10)*Math.floor((t+5)/6)*16;case PS:return Math.floor((h+9)/10)*Math.floor((t+7)/8)*16;case OS:return Math.floor((h+9)/10)*Math.floor((t+9)/10)*16;case RS:return Math.floor((h+11)/12)*Math.floor((t+9)/10)*16;case LS:return Math.floor((h+11)/12)*Math.floor((t+11)/12)*16;case NS:case BS:case DS:return Math.ceil(h/4)*Math.ceil(t/4)*16;case FS:case VS:return Math.ceil(h/4)*Math.ceil(t/4)*8;case US:case jS:return Math.ceil(h/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${e} format.`)}function F_(h){switch(h){case Fp:case $w:return{byteLength:1,components:1};case Kw:case Qw:case eS:return{byteLength:2,components:1};case rS:case iS:return{byteLength:2,components:4};case Vp:case tS:case Qs:return{byteLength:4,components:1};case nS:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${h}.`)}class AA{static contain(t,e){return L_(t,e)}static cover(t,e){return N_(t,e)}static fill(t){return B_(t)}static getByteLength(t,e,i,s){return D_(t,e,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:ub}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=ub);const eb=h=>{let t;const e=new Set,i=(c,d)=>{const p=typeof c=="function"?c(t):c;if(!Object.is(p,t)){const m=t;t=d??(typeof p!="object"||p===null)?p:Object.assign({},t,p),e.forEach(g=>g(t,m))}},s=()=>t,o={setState:i,getState:s,getInitialState:()=>l,subscribe:c=>(e.add(c),()=>e.delete(c))},l=t=h(i,s,o);return o},V_=h=>h?eb(h):eb,U_=h=>h;function j_(h,t=U_){const e=Sp.useSyncExternalStore(h.subscribe,()=>t(h.getState()),()=>t(h.getInitialState()));return Sp.useDebugValue(e),e}const rb=h=>{const t=V_(h),e=i=>j_(t,i);return Object.assign(e,t),e},W_=h=>h?rb(h):rb;let Co=0;const Wb=W_(h=>(Oo.onStart=(t,e,i)=>{h({active:!0,item:t,loaded:e,total:i,progress:(e-Co)/(i-Co)*100})},Oo.onLoad=()=>{h({active:!1})},Oo.onError=t=>h(e=>({errors:[...e.errors,t]})),Oo.onProgress=(t,e,i)=>{e===i&&(Co=i),h({active:!0,item:t,loaded:e,total:i,progress:(e-Co)/(i-Co)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));var Ao={},ib;function H_(){if(ib)return Ao;ib=1,Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.parse=l,Ao.serialize=p;const h=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function l(v,b){const x=new o,S=v.length;if(S<2)return x;const _=(b==null?void 0:b.decode)||m;let M=0;do{const T=v.indexOf("=",M);if(T===-1)break;const C=v.indexOf(";",M),A=C===-1?S:C;if(T>A){M=v.lastIndexOf(";",T-1)+1;continue}const O=c(v,M,T),B=d(v,T,O),j=v.slice(O,B);if(x[j]===void 0){let D=c(v,T+1,A),Y=d(v,A,D);const J=_(v.slice(D,Y));x[j]=J}M=A+1}while(M<S);return x}function c(v,b,x){do{const S=v.charCodeAt(b);if(S!==32&&S!==9)return b}while(++b<x);return x}function d(v,b,x){for(;b>x;){const S=v.charCodeAt(--b);if(S!==32&&S!==9)return b+1}return x}function p(v,b,x){const S=(x==null?void 0:x.encode)||encodeURIComponent;if(!h.test(v))throw new TypeError(`argument name is invalid: ${v}`);const _=S(b);if(!t.test(_))throw new TypeError(`argument val is invalid: ${b}`);let M=v+"="+_;if(!x)return M;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);M+="; Max-Age="+x.maxAge}if(x.domain){if(!e.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);M+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);M+="; Path="+x.path}if(x.expires){if(!g(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);M+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(M+="; HttpOnly"),x.secure&&(M+="; Secure"),x.partitioned&&(M+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return M}function m(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function g(v){return s.call(v)==="[object Date]"}return Ao}H_();var nb="popstate";function q_(h={}){function t(i,s){let{pathname:o,search:l,hash:c}=i.location;return Op("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(i,s){return typeof s=="string"?s:Wo(s)}return Y_(t,e,null,h)}function Kt(h,t){if(h===!1||h===null||typeof h>"u")throw new Error(t)}function Wr(h,t){if(!h){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function G_(){return Math.random().toString(36).substring(2,10)}function sb(h,t){return{usr:h.state,key:h.key,idx:t}}function Op(h,t,e=null,i){return{pathname:typeof h=="string"?h:h.pathname,search:"",hash:"",...typeof t=="string"?pa(t):t,state:e,key:t&&t.key||i||G_()}}function Wo({pathname:h="/",search:t="",hash:e=""}){return t&&t!=="?"&&(h+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(h+=e.charAt(0)==="#"?e:"#"+e),h}function pa(h){let t={};if(h){let e=h.indexOf("#");e>=0&&(t.hash=h.substring(e),h=h.substring(0,e));let i=h.indexOf("?");i>=0&&(t.search=h.substring(i),h=h.substring(0,i)),h&&(t.pathname=h)}return t}function Y_(h,t,e,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,l=s.history,c="POP",d=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function g(){c="POP";let _=m(),M=_==null?null:_-p;p=_,d&&d({action:c,location:S.location,delta:M})}function v(_,M){c="PUSH";let T=Op(S.location,_,M);p=m()+1;let C=sb(T,p),A=S.createHref(T);try{l.pushState(C,"",A)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(A)}o&&d&&d({action:c,location:S.location,delta:1})}function b(_,M){c="REPLACE";let T=Op(S.location,_,M);p=m();let C=sb(T,p),A=S.createHref(T);l.replaceState(C,"",A),o&&d&&d({action:c,location:S.location,delta:0})}function x(_){return Z_(_)}let S={get action(){return c},get location(){return h(s,l)},listen(_){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(nb,g),d=_,()=>{s.removeEventListener(nb,g),d=null}},createHref(_){return t(s,_)},createURL:x,encodeLocation(_){let M=x(_);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:v,replace:b,go(_){return l.go(_)}};return S}function Z_(h,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Kt(e,"No window.location.(origin|href) available to create URL");let i=typeof h=="string"?h:Wo(h);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function Hb(h,t,e="/"){return J_(h,t,e,!1)}function J_(h,t,e,i){let s=typeof t=="string"?pa(t):t,o=bi(s.pathname||"/",e);if(o==null)return null;let l=qb(h);X_(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let p=ok(o);c=sk(l[d],p,i)}return c}function qb(h,t=[],e=[],i=""){let s=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(Kt(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let p=vi([i,d.relativePath]),m=e.concat(d);o.children&&o.children.length>0&&(Kt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),qb(o.children,t,m,p)),!(o.path==null&&!o.index)&&t.push({path:p,score:ik(p,o.index),routesMeta:m})};return h.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,l);else for(let d of Gb(o.path))s(o,l,d)}),t}function Gb(h){let t=h.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let l=Gb(i.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&c.push(...l),c.map(d=>h.startsWith("/")&&d===""?"/":d)}function X_(h){h.sort((t,e)=>t.score!==e.score?e.score-t.score:nk(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var $_=/^:[\w-]+$/,Q_=3,K_=2,tk=1,ek=10,rk=-2,ab=h=>h==="*";function ik(h,t){let e=h.split("/"),i=e.length;return e.some(ab)&&(i+=rk),t&&(i+=K_),e.filter(s=>!ab(s)).reduce((s,o)=>s+($_.test(o)?Q_:o===""?tk:ek),i)}function nk(h,t){return h.length===t.length&&h.slice(0,-1).every((e,i)=>e===t[i])?h[h.length-1]-t[t.length-1]:0}function sk(h,t,e=!1){let{routesMeta:i}=h,s={},o="/",l=[];for(let c=0;c<i.length;++c){let d=i[c],p=c===i.length-1,m=o==="/"?t:t.slice(o.length)||"/",g=dh({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),v=d.route;if(!g&&p&&e&&!i[i.length-1].route.index&&(g=dh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:vi([o,g.pathname]),pathnameBase:ck(vi([o,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(o=vi([o,g.pathnameBase]))}return l}function dh(h,t){typeof h=="string"&&(h={path:h,caseSensitive:!1,end:!0});let[e,i]=ak(h.path,h.caseSensitive,h.end),s=t.match(e);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((d,{paramName:p,isOptional:m},g)=>{if(p==="*"){let b=c[g]||"";l=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const v=c[g];return m&&!v?d[p]=void 0:d[p]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:h}}function ak(h,t=!1,e=!0){Wr(h==="*"||!h.endsWith("*")||h.endsWith("/*"),`Route path "${h}" will be treated as if it were "${h.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${h.replace(/\*$/,"/*")}".`);let i=[],s="^"+h.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(i.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return h.endsWith("*")?(i.push({paramName:"*"}),s+=h==="*"||h==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":h!==""&&h!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function ok(h){try{return h.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Wr(!1,`The URL path "${h}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),h}}function bi(h,t){if(t==="/")return h;if(!h.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=h.charAt(e);return i&&i!=="/"?null:h.slice(e)||"/"}function lk(h,t="/"){let{pathname:e,search:i="",hash:s=""}=typeof h=="string"?pa(h):h;return{pathname:e?e.startsWith("/")?e:uk(e,t):t,search:dk(i),hash:pk(s)}}function uk(h,t){let e=t.replace(/\/+$/,"").split("/");return h.split("/").forEach(i=>{i===".."?e.length>1&&e.pop():i!=="."&&e.push(i)}),e.length>1?e.join("/"):"/"}function xp(h,t,e,i){return`Cannot include a '${h}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hk(h){return h.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Yb(h){let t=hk(h);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function Zb(h,t,e,i=!1){let s;typeof h=="string"?s=pa(h):(s={...h},Kt(!s.pathname||!s.pathname.includes("?"),xp("?","pathname","search",s)),Kt(!s.pathname||!s.pathname.includes("#"),xp("#","pathname","hash",s)),Kt(!s.search||!s.search.includes("#"),xp("#","search","hash",s)));let o=h===""||s.pathname==="",l=o?"/":s.pathname,c;if(l==null)c=e;else{let g=t.length-1;if(!i&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}c=g>=0?t[g]:"/"}let d=lk(s,c),p=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}var vi=h=>h.join("/").replace(/\/\/+/g,"/"),ck=h=>h.replace(/\/+$/,"").replace(/^\/*/,"/"),dk=h=>!h||h==="?"?"":h.startsWith("?")?h:"?"+h,pk=h=>!h||h==="#"?"":h.startsWith("#")?h:"#"+h;function fk(h){return h!=null&&typeof h.status=="number"&&typeof h.statusText=="string"&&typeof h.internal=="boolean"&&"data"in h}var Jb=["POST","PUT","PATCH","DELETE"];new Set(Jb);var mk=["GET",...Jb];new Set(mk);var fa=W.createContext(null);fa.displayName="DataRouter";var Sh=W.createContext(null);Sh.displayName="DataRouterState";var Xb=W.createContext({isTransitioning:!1});Xb.displayName="ViewTransition";var yk=W.createContext(new Map);yk.displayName="Fetchers";var gk=W.createContext(null);gk.displayName="Await";var Gr=W.createContext(null);Gr.displayName="Navigation";var qo=W.createContext(null);qo.displayName="Location";var wi=W.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var Sf=W.createContext(null);Sf.displayName="RouteError";function vk(h,{relative:t}={}){Kt(Go(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=W.useContext(Gr),{hash:s,pathname:o,search:l}=Yo(h,{relative:t}),c=o;return e!=="/"&&(c=o==="/"?e:vi([e,o])),i.createHref({pathname:c,search:l,hash:s})}function Go(){return W.useContext(qo)!=null}function jn(){return Kt(Go(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(qo).location}var $b="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qb(h){W.useContext(Gr).static||W.useLayoutEffect(h)}function bk(){let{isDataRoute:h}=W.useContext(wi);return h?Pk():xk()}function xk(){Kt(Go(),"useNavigate() may be used only in the context of a <Router> component.");let h=W.useContext(fa),{basename:t,navigator:e}=W.useContext(Gr),{matches:i}=W.useContext(wi),{pathname:s}=jn(),o=JSON.stringify(Yb(i)),l=W.useRef(!1);return Qb(()=>{l.current=!0}),W.useCallback((c,d={})=>{if(Wr(l.current,$b),!l.current)return;if(typeof c=="number"){e.go(c);return}let p=Zb(c,JSON.parse(o),s,d.relative==="path");h==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:vi([t,p.pathname])),(d.replace?e.replace:e.push)(p,d.state,d)},[t,e,o,s,h])}W.createContext(null);function Yo(h,{relative:t}={}){let{matches:e}=W.useContext(wi),{pathname:i}=jn(),s=JSON.stringify(Yb(e));return W.useMemo(()=>Zb(h,JSON.parse(s),i,t==="path"),[h,s,i,t])}function wk(h,t){return Kb(h,t)}function Kb(h,t,e,i){var s;Kt(Go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=W.useContext(Gr),{matches:l}=W.useContext(wi),c=l[l.length-1],d=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",g=c&&c.route;{let T=g&&g.path||"";tx(p,!g||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let v=jn(),b;if(t){let T=typeof t=="string"?pa(t):t;Kt(m==="/"||((s=T.pathname)==null?void 0:s.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${T.pathname}" was given in the \`location\` prop.`),b=T}else b=v;let x=b.pathname||"/",S=x;if(m!=="/"){let T=m.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(T.length).join("/")}let _=Hb(h,{pathname:S});Wr(g||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Wr(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=Tk(_&&_.map(T=>Object.assign({},T,{params:Object.assign({},d,T.params),pathname:vi([m,o.encodeLocation?o.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?m:vi([m,o.encodeLocation?o.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),l,e,i);return t&&M?W.createElement(qo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},M):M}function Sk(){let h=Ik(),t=fk(h)?`${h.status} ${h.statusText}`:h instanceof Error?h.message:JSON.stringify(h),e=h instanceof Error?h.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",h),l=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},t),e?W.createElement("pre",{style:s},e):null,l)}var Mk=W.createElement(Sk,null),_k=class extends W.Component{constructor(h){super(h),this.state={location:h.location,revalidation:h.revalidation,error:h.error}}static getDerivedStateFromError(h){return{error:h}}static getDerivedStateFromProps(h,t){return t.location!==h.location||t.revalidation!=="idle"&&h.revalidation==="idle"?{error:h.error,location:h.location,revalidation:h.revalidation}:{error:h.error!==void 0?h.error:t.error,location:t.location,revalidation:h.revalidation||t.revalidation}}componentDidCatch(h,t){console.error("React Router caught the following error during render",h,t)}render(){return this.state.error!==void 0?W.createElement(wi.Provider,{value:this.props.routeContext},W.createElement(Sf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kk({routeContext:h,match:t,children:e}){let i=W.useContext(fa);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),W.createElement(wi.Provider,{value:h},e)}function Tk(h,t=[],e=null,i=null){if(h==null){if(!e)return null;if(e.errors)h=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)h=e.matches;else return null}let s=h,o=e==null?void 0:e.errors;if(o!=null){let d=s.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);Kt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(e)for(let d=0;d<s.length;d++){let p=s[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:m,errors:g}=e,v=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!g||g[p.route.id]===void 0);if(p.route.lazy||v){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,p,m)=>{let g,v=!1,b=null,x=null;e&&(g=o&&p.route.id?o[p.route.id]:void 0,b=p.route.errorElement||Mk,l&&(c<0&&m===0?(tx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):c===m&&(v=!0,x=p.route.hydrateFallbackElement||null)));let S=t.concat(s.slice(0,m+1)),_=()=>{let M;return g?M=b:v?M=x:p.route.Component?M=W.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=d,W.createElement(kk,{match:p,routeContext:{outlet:d,matches:S,isDataRoute:e!=null},children:M})};return e&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?W.createElement(_k,{location:e.location,revalidation:e.revalidation,component:b,error:g,children:_(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):_()},null)}function Mf(h){return`${h} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ck(h){let t=W.useContext(fa);return Kt(t,Mf(h)),t}function Ak(h){let t=W.useContext(Sh);return Kt(t,Mf(h)),t}function zk(h){let t=W.useContext(wi);return Kt(t,Mf(h)),t}function _f(h){let t=zk(h),e=t.matches[t.matches.length-1];return Kt(e.route.id,`${h} can only be used on routes that contain a unique "id"`),e.route.id}function Ek(){return _f("useRouteId")}function Ik(){var h;let t=W.useContext(Sf),e=Ak("useRouteError"),i=_f("useRouteError");return t!==void 0?t:(h=e.errors)==null?void 0:h[i]}function Pk(){let{router:h}=Ck("useNavigate"),t=_f("useNavigate"),e=W.useRef(!1);return Qb(()=>{e.current=!0}),W.useCallback(async(i,s={})=>{Wr(e.current,$b),e.current&&(typeof i=="number"?h.navigate(i):await h.navigate(i,{fromRouteId:t,...s}))},[h,t])}var ob={};function tx(h,t,e){!t&&!ob[h]&&(ob[h]=!0,Wr(!1,e))}W.memo(Ok);function Ok({routes:h,future:t,state:e}){return Kb(h,void 0,e,t)}function On(h){Kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Rk({basename:h="/",children:t=null,location:e,navigationType:i="POP",navigator:s,static:o=!1}){Kt(!Go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=h.replace(/^\/*/,"/"),c=W.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof e=="string"&&(e=pa(e));let{pathname:d="/",search:p="",hash:m="",state:g=null,key:v="default"}=e,b=W.useMemo(()=>{let x=bi(d,l);return x==null?null:{location:{pathname:x,search:p,hash:m,state:g,key:v},navigationType:i}},[l,d,p,m,g,v,i]);return Wr(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:W.createElement(Gr.Provider,{value:c},W.createElement(qo.Provider,{children:t,value:b}))}function Lk({children:h,location:t}){return wk(Rp(h),t)}function Rp(h,t=[]){let e=[];return W.Children.forEach(h,(i,s)=>{if(!W.isValidElement(i))return;let o=[...t,s];if(i.type===W.Fragment){e.push.apply(e,Rp(i.props.children,o));return}Kt(i.type===On,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Kt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Rp(i.props.children,o)),e.push(l)}),e}var Qu="get",Ku="application/x-www-form-urlencoded";function Mh(h){return h!=null&&typeof h.tagName=="string"}function Nk(h){return Mh(h)&&h.tagName.toLowerCase()==="button"}function Bk(h){return Mh(h)&&h.tagName.toLowerCase()==="form"}function Dk(h){return Mh(h)&&h.tagName.toLowerCase()==="input"}function Fk(h){return!!(h.metaKey||h.altKey||h.ctrlKey||h.shiftKey)}function Vk(h,t){return h.button===0&&(!t||t==="_self")&&!Fk(h)}var $u=null;function Uk(){if($u===null)try{new FormData(document.createElement("form"),0),$u=!1}catch{$u=!0}return $u}var jk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wp(h){return h!=null&&!jk.has(h)?(Wr(!1,`"${h}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ku}"`),null):h}function Wk(h,t){let e,i,s,o,l;if(Bk(h)){let c=h.getAttribute("action");i=c?bi(c,t):null,e=h.getAttribute("method")||Qu,s=wp(h.getAttribute("enctype"))||Ku,o=new FormData(h)}else if(Nk(h)||Dk(h)&&(h.type==="submit"||h.type==="image")){let c=h.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=h.getAttribute("formaction")||c.getAttribute("action");if(i=d?bi(d,t):null,e=h.getAttribute("formmethod")||c.getAttribute("method")||Qu,s=wp(h.getAttribute("formenctype"))||wp(c.getAttribute("enctype"))||Ku,o=new FormData(c,h),!Uk()){let{name:p,type:m,value:g}=h;if(m==="image"){let v=p?`${p}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else p&&o.append(p,g)}}else{if(Mh(h))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Qu,i=null,s=Ku,l=h}return o&&s==="text/plain"&&(l=o,o=void 0),{action:i,method:e.toLowerCase(),encType:s,formData:o,body:l}}function kf(h,t){if(h===!1||h===null||typeof h>"u")throw new Error(t)}async function Hk(h,t){if(h.id in t)return t[h.id];try{let e=await import(h.module);return t[h.id]=e,e}catch(e){return console.error(`Error loading route module \`${h.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qk(h){return h==null?!1:h.href==null?h.rel==="preload"&&typeof h.imageSrcSet=="string"&&typeof h.imageSizes=="string":typeof h.rel=="string"&&typeof h.href=="string"}async function Gk(h,t,e){let i=await Promise.all(h.map(async s=>{let o=t.routes[s.route.id];if(o){let l=await Hk(o,e);return l.links?l.links():[]}return[]}));return Xk(i.flat(1).filter(qk).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function lb(h,t,e,i,s,o){let l=(d,p)=>e[p]?d.route.id!==e[p].route.id:!0,c=(d,p)=>{var m;return e[p].pathname!==d.pathname||((m=e[p].route.path)==null?void 0:m.endsWith("*"))&&e[p].params["*"]!==d.params["*"]};return o==="assets"?t.filter((d,p)=>l(d,p)||c(d,p)):o==="data"?t.filter((d,p)=>{var m;let g=i.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,p)||c(d,p))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=e[0])==null?void 0:m.params)||{},nextUrl:new URL(h,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Yk(h,t,{includeHydrateFallback:e}={}){return Zk(h.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function Zk(h){return[...new Set(h)]}function Jk(h){let t={},e=Object.keys(h).sort();for(let i of e)t[i]=h[i];return t}function Xk(h,t){let e=new Set;return new Set(t),h.reduce((i,s)=>{let o=JSON.stringify(Jk(s));return e.has(o)||(e.add(o),i.push({key:o,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $k=new Set([100,101,204,205]);function Qk(h,t){let e=typeof h=="string"?new URL(h,typeof window>"u"?"server://singlefetch/":window.location.origin):h;return e.pathname==="/"?e.pathname="_root.data":t&&bi(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function ex(){let h=W.useContext(fa);return kf(h,"You must render this element inside a <DataRouterContext.Provider> element"),h}function Kk(){let h=W.useContext(Sh);return kf(h,"You must render this element inside a <DataRouterStateContext.Provider> element"),h}var Tf=W.createContext(void 0);Tf.displayName="FrameworkContext";function rx(){let h=W.useContext(Tf);return kf(h,"You must render this element inside a <HydratedRouter> element"),h}function tT(h,t){let e=W.useContext(Tf),[i,s]=W.useState(!1),[o,l]=W.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:p,onMouseLeave:m,onTouchStart:g}=t,v=W.useRef(null);W.useEffect(()=>{if(h==="render"&&l(!0),h==="viewport"){let S=M=>{M.forEach(T=>{l(T.isIntersecting)})},_=new IntersectionObserver(S,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[h]),W.useEffect(()=>{if(i){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[i]);let b=()=>{s(!0)},x=()=>{s(!1),l(!1)};return e?h!=="intent"?[o,v,{}]:[o,v,{onFocus:zo(c,b),onBlur:zo(d,x),onMouseEnter:zo(p,b),onMouseLeave:zo(m,x),onTouchStart:zo(g,b)}]:[!1,v,{}]}function zo(h,t){return e=>{h&&h(e),e.defaultPrevented||t(e)}}function eT({page:h,...t}){let{router:e}=ex(),i=W.useMemo(()=>Hb(e.routes,h,e.basename),[e.routes,h,e.basename]);return i?W.createElement(iT,{page:h,matches:i,...t}):null}function rT(h){let{manifest:t,routeModules:e}=rx(),[i,s]=W.useState([]);return W.useEffect(()=>{let o=!1;return Gk(h,t,e).then(l=>{o||s(l)}),()=>{o=!0}},[h,t,e]),i}function iT({page:h,matches:t,...e}){let i=jn(),{manifest:s,routeModules:o}=rx(),{basename:l}=ex(),{loaderData:c,matches:d}=Kk(),p=W.useMemo(()=>lb(h,t,d,s,i,"data"),[h,t,d,s,i]),m=W.useMemo(()=>lb(h,t,d,s,i,"assets"),[h,t,d,s,i]),g=W.useMemo(()=>{if(h===i.pathname+i.search+i.hash)return[];let x=new Set,S=!1;if(t.forEach(M=>{var T;let C=s.routes[M.route.id];!C||!C.hasLoader||(!p.some(A=>A.route.id===M.route.id)&&M.route.id in c&&(T=o[M.route.id])!=null&&T.shouldRevalidate||C.hasClientLoader?S=!0:x.add(M.route.id))}),x.size===0)return[];let _=Qk(h,l);return S&&x.size>0&&_.searchParams.set("_routes",t.filter(M=>x.has(M.route.id)).map(M=>M.route.id).join(",")),[_.pathname+_.search]},[l,c,i,s,p,t,h,o]),v=W.useMemo(()=>Yk(m,s),[m,s]),b=rT(m);return W.createElement(W.Fragment,null,g.map(x=>W.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...e})),v.map(x=>W.createElement("link",{key:x,rel:"modulepreload",href:x,...e})),b.map(({key:x,link:S})=>W.createElement("link",{key:x,...S})))}function nT(...h){return t=>{h.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var ix=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ix&&(window.__reactRouterVersion="7.6.1")}catch{}function sT({basename:h,children:t,window:e}){let i=W.useRef();i.current==null&&(i.current=q_({window:e,v5Compat:!0}));let s=i.current,[o,l]=W.useState({action:s.action,location:s.location}),c=W.useCallback(d=>{W.startTransition(()=>l(d))},[l]);return W.useLayoutEffect(()=>s.listen(c),[s,c]),W.createElement(Rk,{basename:h,children:t,location:o.location,navigationType:o.action,navigator:s})}var nx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sx=W.forwardRef(function({onClick:h,discover:t="render",prefetch:e="none",relative:i,reloadDocument:s,replace:o,state:l,target:c,to:d,preventScrollReset:p,viewTransition:m,...g},v){let{basename:b}=W.useContext(Gr),x=typeof d=="string"&&nx.test(d),S,_=!1;if(typeof d=="string"&&x&&(S=d,ix))try{let D=new URL(window.location.href),Y=d.startsWith("//")?new URL(D.protocol+d):new URL(d),J=bi(Y.pathname,b);Y.origin===D.origin&&J!=null?d=J+Y.search+Y.hash:_=!0}catch{Wr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=vk(d,{relative:i}),[T,C,A]=tT(e,g),O=uT(d,{replace:o,state:l,target:c,preventScrollReset:p,relative:i,viewTransition:m});function B(D){h&&h(D),D.defaultPrevented||O(D)}let j=W.createElement("a",{...g,...A,href:S||M,onClick:_||s?h:B,ref:nT(v,C),target:c,"data-discover":!x&&t==="render"?"true":void 0});return T&&!x?W.createElement(W.Fragment,null,j,W.createElement(eT,{page:M})):j});sx.displayName="Link";var aT=W.forwardRef(function({"aria-current":h="page",caseSensitive:t=!1,className:e="",end:i=!1,style:s,to:o,viewTransition:l,children:c,...d},p){let m=Yo(o,{relative:d.relative}),g=jn(),v=W.useContext(Sh),{navigator:b,basename:x}=W.useContext(Gr),S=v!=null&&fT(m)&&l===!0,_=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,M=g.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(M=M.toLowerCase(),T=T?T.toLowerCase():null,_=_.toLowerCase()),T&&x&&(T=bi(T,x)||T);const C=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let A=M===_||!i&&M.startsWith(_)&&M.charAt(C)==="/",O=T!=null&&(T===_||!i&&T.startsWith(_)&&T.charAt(_.length)==="/"),B={isActive:A,isPending:O,isTransitioning:S},j=A?h:void 0,D;typeof e=="function"?D=e(B):D=[e,A?"active":null,O?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let Y=typeof s=="function"?s(B):s;return W.createElement(sx,{...d,"aria-current":j,className:D,ref:p,style:Y,to:o,viewTransition:l},typeof c=="function"?c(B):c)});aT.displayName="NavLink";var oT=W.forwardRef(({discover:h="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:s,state:o,method:l=Qu,action:c,onSubmit:d,relative:p,preventScrollReset:m,viewTransition:g,...v},b)=>{let x=dT(),S=pT(c,{relative:p}),_=l.toLowerCase()==="get"?"get":"post",M=typeof c=="string"&&nx.test(c),T=C=>{if(d&&d(C),C.defaultPrevented)return;C.preventDefault();let A=C.nativeEvent.submitter,O=(A==null?void 0:A.getAttribute("formmethod"))||l;x(A||C.currentTarget,{fetcherKey:t,method:O,navigate:e,replace:s,state:o,relative:p,preventScrollReset:m,viewTransition:g})};return W.createElement("form",{ref:b,method:_,action:S,onSubmit:i?d:T,...v,"data-discover":!M&&h==="render"?"true":void 0})});oT.displayName="Form";function lT(h){return`${h} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ax(h){let t=W.useContext(fa);return Kt(t,lT(h)),t}function uT(h,{target:t,replace:e,state:i,preventScrollReset:s,relative:o,viewTransition:l}={}){let c=bk(),d=jn(),p=Yo(h,{relative:o});return W.useCallback(m=>{if(Vk(m,t)){m.preventDefault();let g=e!==void 0?e:Wo(d)===Wo(p);c(h,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[d,c,p,e,i,t,h,s,o,l])}var hT=0,cT=()=>`__${String(++hT)}__`;function dT(){let{router:h}=ax("useSubmit"),{basename:t}=W.useContext(Gr),e=Ek();return W.useCallback(async(i,s={})=>{let{action:o,method:l,encType:c,formData:d,body:p}=Wk(i,t);if(s.navigate===!1){let m=s.fetcherKey||cT();await h.fetch(m,e,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await h.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[h,t,e])}function pT(h,{relative:t}={}){let{basename:e}=W.useContext(Gr),i=W.useContext(wi);Kt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Yo(h||".",{relative:t})},l=jn();if(h==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();o.search=p?`?${p}`:""}}return(!h||h===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:vi([e,o.pathname])),Wo(o)}function fT(h,t={}){let e=W.useContext(Xb);Kt(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ax("useViewTransitionState"),s=Yo(h,{relative:t.relative});if(!e.isTransitioning)return!1;let o=bi(e.currentLocation.pathname,i)||e.currentLocation.pathname,l=bi(e.nextLocation.pathname,i)||e.nextLocation.pathname;return dh(s.pathname,l)!=null||dh(s.pathname,o)!=null}[...$k];const mT=W.createContext(),yT=({children:h})=>{const[t,e]=W.useState("en");W.useEffect(()=>{const s=navigator.language.slice(0,2);["es","en"].includes(s)&&e(s)},[]);const i=s=>{e(s)};return Zt.jsx(mT.Provider,{value:{idioma:t,cambiarIdioma:i},children:h})},gT=()=>{const{progress:h}=Wb(),[t,e]=W.useState(!0);return W.useEffect(()=>{h>=100&&setTimeout(()=>e(!1),500)},[h]),t?Zt.jsxs("div",{className:`pantalla-carga ${h>=100?"fade-out":""}`,children:[Zt.jsxs("div",{className:"carga-contenedor",children:[Zt.jsx("div",{className:"spinner"}),Zt.jsx("p",{children:"Cargando..."})]}),Zt.jsx("div",{className:"barra-progreso",children:Zt.jsx("div",{className:"barra-progreso-inner",style:{width:`${h}%`}})})]}):null},vT=W.lazy(()=>la(()=>oa(()=>sa(()=>ia(()=>ea(()=>import("./RutaPrincipal-Bq2aptRT-DTltwZHV-CO5MJhz9-nqlFkAv8-Cp8x72qs.js"),__vite__mapDeps([0,1,2])),ra([0,1,2])),na([0,1,2])),aa([0,1,2])).then(h=>h.R),Fn([0,1,2,3,4,5]))),bT=W.lazy(()=>la(()=>oa(()=>sa(()=>ia(()=>ea(()=>import("./RutaGaleria-DBNweeWk-i9hANpid-D89xlyjx-3-SEKzs6-0l_okLAa.js"),__vite__mapDeps([3,1,2])),ra([3,1,2])),na([3,1,2])),aa([3,1,2])),Fn([6,1,2,3,4,7]))),xT=W.lazy(()=>la(()=>oa(()=>sa(()=>ia(()=>ea(()=>import("./RutaPrivacidad-Bef9SSgP-BP2xXnTu-DWpL_POm-B7uq6xzl-CyuLMSl2.js"),__vite__mapDeps([4,1,5])),ra([4,1,5])),na([4,1,5])),aa([4,1,5])),Fn([8,1,2,9,10]))),wT=W.lazy(()=>la(()=>oa(()=>sa(()=>ia(()=>ea(()=>import("./RutaCookies-BXGI4ksc-CbfThwsS-BqO0hWUL-uQIKhm1X-2PqCZ2Fm.js"),__vite__mapDeps([6,1])),ra([6,1])),na([6,1])),aa([6,1])),Fn([11,1,2]))),ST=W.lazy(()=>la(()=>oa(()=>sa(()=>ia(()=>ea(()=>import("./RutaAvisosLegales-yMytLAYF-zOLIQJ9i-BF4QC_zU-BlibF-WD-DOvg1FKB.js"),__vite__mapDeps([7,5,1])),ra([7,5,1])),na([7,5,1])),aa([7,5,1])),Fn([12,9,10,1,2]))),MT=W.lazy(()=>la(()=>oa(()=>sa(()=>ia(()=>ea(()=>import("./Admin-DjU9vF7V-CcEjkFDu-BRZ35i8v-BVjONJib-BArepUf3.js"),[]),[]),[]),[]),Fn([13,14]))),_T=()=>{const[h,t]=W.useState(!0),{progress:e}=Wb();return W.useEffect(()=>{e===100&&setTimeout(()=>t(!1),0)},[e]),Zt.jsx(yT,{children:Zt.jsx(sT,{children:Zt.jsx(W.Suspense,{fallback:Zt.jsx(gT,{}),children:Zt.jsxs(Lk,{children:[Zt.jsx(On,{path:"/",element:Zt.jsx(vT,{cargando:h})}),Zt.jsx(On,{path:"/Privacidad",element:Zt.jsx(xT,{})}),Zt.jsx(On,{path:"/Galeria",element:Zt.jsx(bT,{})}),Zt.jsx(On,{path:"/Cookies",element:Zt.jsx(wT,{})}),Zt.jsx(On,{path:"/AvisosLegales",element:Zt.jsx(ST,{})}),Zt.jsx(On,{path:"/Dashboard",element:Zt.jsx(MT,{})})]})})})})};Fw.createRoot(document.getElementById("root")).render(Zt.jsx(W.StrictMode,{children:Zt.jsx(_T,{})}));export{Gs as $,bt as A,Db as B,OT as C,Qp as D,LM as E,St as F,ub as G,v3 as H,ph as I,r2 as J,hb as K,Mp as L,AT as M,BT as N,Fp as O,NT as P,Qs as Q,Fw as R,CT as S,x3 as T,w3 as U,Hp as V,W,Zt as X,eS as Y,b3 as Z,ea as _,X as a,nS as a$,Vr as a0,gb as a1,Bo as a2,V_ as a3,g_ as a4,en as a5,$3 as a6,R3 as a7,oS as a8,U0 as a9,Xw as aA,Jw as aB,Zw as aC,Er as aD,t3 as aE,KC as aF,e3 as aG,$C as aH,QC as aI,XC as aJ,r3 as aK,JC as aL,Hr as aM,q2 as aN,IC as aO,G2 as aP,qp as aQ,Ct as aR,Qt as aS,Ir as aT,jw as aU,Kw as aV,rS as aW,iS as aX,de as aY,hf as aZ,Lp as a_,TC as aa,Vp as ab,Do as ac,fb as ad,F0 as ae,WT as af,jT as ag,N0 as ah,nC as ai,iC as aj,rC as ak,eC as al,$T as am,KT as an,D0 as ao,JT as ap,XT as aq,QT as ar,tC as as,B0 as at,ZT as au,YT as av,GT as aw,kp as ax,Fr as ay,_p as az,xr as b,zM as b$,$w as b0,Qw as b1,tS as b2,sS as b3,aS as b4,cb as b5,db as b6,lS as b7,uS as b8,hS as b9,NS as bA,BS as bB,DS as bC,FS as bD,VS as bE,US as bF,jS as bG,cC as bH,hC as bI,uC as bJ,lC as bK,oC as bL,aC as bM,sC as bN,zT as bO,ET as bP,IT as bQ,L0 as bR,UT as bS,VT as bT,FT as bU,DT as bV,qw as bW,Gw as bX,O3 as bY,mb as bZ,P3 as b_,cS as ba,dS as bb,pS as bc,fS as bd,Fd as be,mS as bf,yS as bg,gS as bh,vS as bi,bS as bj,xS as bk,wS as bl,SS as bm,MS as bn,_S as bo,kS as bp,TS as bq,CS as br,AS as bs,zS as bt,ES as bu,IS as bv,PS as bw,OS as bx,RS as by,LS as bz,la as c,l3 as c$,Yw as c0,ua as c1,RC as c2,I3 as c3,fh as c4,mh as c5,jr as c6,D_ as c7,W0 as c8,Dp as c9,M3 as cA,e2 as cB,L3 as cC,uh as cD,sA as cE,Vb as cF,C3 as cG,T3 as cH,Bp as cI,yf as cJ,AC as cK,zC as cL,EC as cM,ar as cN,mf as cO,ff as cP,p3 as cQ,AA as cR,G3 as cS,pf as cT,da as cU,o3 as cV,n3 as cW,h3 as cX,X3 as cY,s3 as cZ,rh as c_,Hw as ca,ha as cb,TM as cc,kM as cd,uM as ce,d3 as cf,bC as cg,wC as ch,xC as ci,gC as cj,yC as ck,mC as cl,Yp as cm,yb as cn,pC as co,dC as cp,Np as cq,HT as cr,qT as cs,LC as ct,Zs as cu,Ys as cv,eh as cw,B2 as cx,ih as cy,S3 as cz,gT as d,HS as d$,bb as d0,NM as d1,pA as d2,s_ as d3,Cb as d4,d_ as d5,bh as d6,Ee as d7,Rn as d8,FM as d9,vA as dA,Sb as dB,t2 as dC,mA as dD,o_ as dE,MA as dF,Ap as dG,vh as dH,Y3 as dI,Bt as dJ,lh as dK,YC as dL,Up as dM,jC as dN,SC as dO,MC as dP,j2 as dQ,Pb as dR,V2 as dS,U2 as dT,W2 as dU,Y2 as dV,H2 as dW,Ub as dX,y3 as dY,bf as dZ,De as d_,fA as da,$p as db,Ur as dc,TA as dd,df as de,$s as df,D2 as dg,cf as dh,NC as di,nA as dj,iA as dk,Wp as dl,c_ as dm,F2 as dn,OC as dp,CC as dq,PC as dr,K2 as ds,wh as dt,Tb as du,kb as dv,w_ as dw,Nt as dx,K3 as dy,Vn as dz,TT as e,sf as e$,qS as e0,WS as e1,Bb as e2,Bv as e3,ur as e4,_C as e5,kC as e6,Lb as e7,xi as e8,KM as e9,jM as eA,aA as eB,f_ as eC,Fo as eD,FC as eE,BC as eF,dM as eG,ch as eH,Z3 as eI,lf as eJ,yA as eK,i_ as eL,Io as eM,gA as eN,GC as eO,ZC as eP,c3 as eQ,oA as eR,Kp as eS,N3 as eT,Zp as eU,Jp as eV,ot as eW,E3 as eX,tn as eY,of as eZ,HC as e_,Z2 as ea,f2 as eb,_b as ec,Ye as ed,dA as ee,Bn as ef,p_ as eg,Un as eh,WC as ei,qC as ej,uf as ek,BM as el,Pr as em,As as en,UC as eo,f3 as ep,m3 as eq,Dd as er,Tp as es,th as et,xh as eu,Ks as ev,Xp as ew,k3 as ex,z3 as ey,A3 as ez,lA as f,I_ as f$,i2 as f0,a3 as f1,i3 as f2,u3 as f3,nf as f4,Q2 as f5,bA as f6,u_ as f7,Ww as f8,V3 as f9,F3 as fA,xA as fB,Gp as fC,Ki as fD,m_ as fE,wA as fF,SA as fG,Be as fH,cA as fI,ca as fJ,wb as fK,QM as fL,GS as fM,kA as fN,J3 as fO,Q3 as fP,Fb as fQ,tA as fR,b_ as fS,V0 as fT,_A as fU,n2 as fV,U3 as fW,eA as fX,rA as fY,j3 as fZ,hh as f_,Oo as fa,VC as fb,DC as fc,_3 as fd,q3 as fe,gi as ff,hA as fg,yh as fh,m2 as fi,qr as fj,PT as fk,$2 as fl,p2 as fm,Mb as fn,H3 as fo,OM as fp,CA as fq,gh as fr,W3 as fs,tf as ft,D3 as fu,B3 as fv,Nb as fw,rf as fx,s2 as fy,ef as fz,LT as g,h_ as g0,H0 as g1,pb as g2,nh as g3,mT as g4,kT as g5,RT as h,sa as i,sr as j,j0 as k,lr as l,br as m,uA as n,Ho as o,vC as p,Nw as q,oa as r,zw as s,ia as t,fC as u,g3 as v,wr as w,Sp as x,ve as y,z};
