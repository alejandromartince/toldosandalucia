const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/RutaPrincipal-Bq2aptRT-DTltwZHV-CO5MJhz9-nqlFkAv8.js","assets/RutaPrincipal-BNL2tyW5-CxY54UNU-AsulsZtJ-BaFA-Pm_.js","assets/infoNuestrosTrabajos-oMYqesbl-CZ4GuPae-C4l6GJXy-DPtDylZs.js","assets/RutaGaleria-DBNweeWk-i9hANpid-D89xlyjx-3-SEKzs6.js","assets/RutaPrivacidad-Bef9SSgP-BP2xXnTu-DWpL_POm-B7uq6xzl.js","assets/Enlaces-BAchbKQX-BHDoRq5I-Co_SzKil-5Qz6ocBL.js","assets/RutaCookies-BXGI4ksc-CbfThwsS-BqO0hWUL-uQIKhm1X.js","assets/RutaAvisosLegales-yMytLAYF-zOLIQJ9i-BF4QC_zU-BlibF-WD.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();const yw="modulepreload",vw=function(c){return"/"+c},f0={},ta=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){let l=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));r=l(t.map(p=>{if(p=vw(p),p in f0)return;f0[p]=!0;const m=p.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":yw,m||(v.as="script"),v.crossOrigin="",v.href=p,d&&v.setAttribute("nonce",d),document.head.appendChild(v),m)return new Promise((b,x)=>{v.addEventListener("load",b),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(l){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=l,window.dispatchEvent(h),!h.defaultPrevented)throw l}return r.then(l=>{for(const h of l||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})},sa=(c,e=sa,t=e.f||(e.f=["assets/RutaPrincipal-Bq2aptRT-DTltwZHV-CO5MJhz9.js","assets/RutaPrincipal-BNL2tyW5-CxY54UNU-AsulsZtJ.js","assets/infoNuestrosTrabajos-oMYqesbl-CZ4GuPae-C4l6GJXy.js","assets/RutaGaleria-DBNweeWk-i9hANpid-D89xlyjx.js","assets/RutaPrivacidad-Bef9SSgP-BP2xXnTu-DWpL_POm.js","assets/Enlaces-BAchbKQX-BHDoRq5I-Co_SzKil.js","assets/RutaCookies-BXGI4ksc-CbfThwsS-BqO0hWUL.js","assets/RutaAvisosLegales-yMytLAYF-zOLIQJ9i-BF4QC_zU.js"]))=>c.map(i=>t[i]);(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(i){if(i.ep)return;i.ep=!0;const r=e(i);fetch(i.href,r)}})();const bw="modulepreload",xw=function(c){return"/"+c},m0={},ia=function(c,e,t){let i=Promise.resolve();if(e&&e.length>0){let o=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),h=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=o(e.map(d=>{if(d=xw(d),d in m0)return;m0[d]=!0;const p=d.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":bw,p||(y.as="script"),y.crossOrigin="",y.href=d,h&&y.setAttribute("nonce",h),document.head.appendChild(y),p)return new Promise((v,b)=>{y.addEventListener("load",v),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&r(l.reason);return c().catch(r)})},na=(c,e=na,t=e.f||(e.f=["assets/RutaPrincipal-Bq2aptRT-DTltwZHV.js","assets/RutaPrincipal-BNL2tyW5-CxY54UNU.js","assets/infoNuestrosTrabajos-oMYqesbl-CZ4GuPae.js","assets/RutaGaleria-DBNweeWk-i9hANpid.js","assets/RutaPrivacidad-Bef9SSgP-BP2xXnTu.js","assets/Enlaces-BAchbKQX-BHDoRq5I.js","assets/RutaCookies-BXGI4ksc-CbfThwsS.js","assets/RutaAvisosLegales-yMytLAYF-zOLIQJ9i.js"]))=>c.map(i=>t[i]);(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(i){if(i.ep)return;i.ep=!0;const r=e(i);fetch(i.href,r)}})();const ww="modulepreload",Sw=function(c){return"/"+c},g0={},ra=function(c,e,t){let i=Promise.resolve();if(e&&e.length>0){let o=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),h=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=o(e.map(d=>{if(d=Sw(d),d in g0)return;g0[d]=!0;const p=d.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":ww,p||(y.as="script"),y.crossOrigin="",y.href=d,h&&y.setAttribute("nonce",h),document.head.appendChild(y),p)return new Promise((v,b)=>{y.addEventListener("load",v),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&r(l.reason);return c().catch(r)})},jn=(c,e=jn,t=e.f||(e.f=["assets/RutaPrincipal-Bq2aptRT.js","assets/RutaPrincipal-BNL2tyW5.js","assets/RutaPrincipal-Dx12AUPm.css","assets/infoNuestrosTrabajos-oMYqesbl.js","assets/infoNuestrosTrabajos-BMD19QWe.css","assets/RutaPrincipal-B-p4PSoI.css","assets/RutaGaleria-DBNweeWk.js","assets/RutaGaleria-C7MitIqe.css","assets/RutaPrivacidad-Bef9SSgP.js","assets/Enlaces-BAchbKQX.js","assets/Enlaces-a5_1FaFr.css","assets/RutaCookies-BXGI4ksc.js","assets/RutaAvisosLegales-yMytLAYF.js","assets/Admin-DjU9vF7V.js","assets/Admin-B2Fu8fAo.css"]))=>c.map(i=>t[i]);function Mw(c,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in c)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(c,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}))}(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(i){if(i.ep)return;i.ep=!0;const r=e(i);fetch(i.href,r)}})();var xk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _w(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var y0={exports:{}},co={};/**
* @license React
* react-jsx-runtime.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var v0;function Aw(){if(v0)return co;v0=1;var c=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:c,type:i,key:l,ref:r!==void 0?r:null,props:o}}return co.Fragment=e,co.jsx=t,co.jsxs=t,co}var b0;function kw(){return b0||(b0=1,y0.exports=Aw()),y0.exports}var Xe=kw(),x0={exports:{}},Me={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var w0;function Tw(){if(w0)return Me;w0=1;var c=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(P){return P===null||typeof P!="object"?null:(P=y&&P[y]||P["@@iterator"],typeof P=="function"?P:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function _(P,q,Q){this.props=P,this.context=q,this.refs=S,this.updater=Q||b}_.prototype.isReactComponent={},_.prototype.setState=function(P,q){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,q,"setState")},_.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function M(){}M.prototype=_.prototype;function k(P,q,Q){this.props=P,this.context=q,this.refs=S,this.updater=Q||b}var T=k.prototype=new M;T.constructor=k,x(T,_.prototype),T.isPureReactComponent=!0;var C=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function V(P,q,Q,K,ce,ze){return Q=ze.ref,{$$typeof:c,type:P,key:q,ref:Q!==void 0?Q:null,props:ze}}function D(P,q){return V(P.type,q,void 0,void 0,void 0,P.props)}function G(P){return typeof P=="object"&&P!==null&&P.$$typeof===c}function Z(P){var q={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Q){return q[Q]})}var ie=/\/+/g;function le(P,q){return typeof P=="object"&&P!==null&&P.key!=null?Z(""+P.key):q.toString(36)}function me(){}function xe(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(me,me):(P.status="pending",P.then(function(q){P.status==="pending"&&(P.status="fulfilled",P.value=q)},function(q){P.status==="pending"&&(P.status="rejected",P.reason=q)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function _e(P,q,Q,K,ce){var ze=typeof P;(ze==="undefined"||ze==="boolean")&&(P=null);var ye=!1;if(P===null)ye=!0;else switch(ze){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(P.$$typeof){case c:case e:ye=!0;break;case m:return ye=P._init,_e(ye(P._payload),q,Q,K,ce)}}if(ye)return ce=ce(P),ye=K===""?"."+le(P,0):K,C(ce)?(Q="",ye!=null&&(Q=ye.replace(ie,"$&/")+"/"),_e(ce,q,Q,"",function(Xt){return Xt})):ce!=null&&(G(ce)&&(ce=D(ce,Q+(ce.key==null||P&&P.key===ce.key?"":(""+ce.key).replace(ie,"$&/")+"/")+ye)),q.push(ce)),1;ye=0;var St=K===""?".":K+":";if(C(P))for(var Ie=0;Ie<P.length;Ie++)K=P[Ie],ze=St+le(K,Ie),ye+=_e(K,q,Q,ze,ce);else if(Ie=v(P),typeof Ie=="function")for(P=Ie.call(P),Ie=0;!(K=P.next()).done;)K=K.value,ze=St+le(K,Ie++),ye+=_e(K,q,Q,ze,ce);else if(ze==="object"){if(typeof P.then=="function")return _e(xe(P),q,Q,K,ce);throw q=String(P),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ye}function U(P,q,Q){if(P==null)return P;var K=[],ce=0;return _e(P,K,"","",function(ze){return q.call(Q,ze,ce++)}),K}function J(P){if(P._status===-1){var q=P._result;q=q(),q.then(function(Q){(P._status===0||P._status===-1)&&(P._status=1,P._result=Q)},function(Q){(P._status===0||P._status===-1)&&(P._status=2,P._result=Q)}),P._status===-1&&(P._status=0,P._result=q)}if(P._status===1)return P._result.default;throw P._result}var ae=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function fe(){}return Me.Children={map:U,forEach:function(P,q,Q){U(P,function(){q.apply(this,arguments)},Q)},count:function(P){var q=0;return U(P,function(){q++}),q},toArray:function(P){return U(P,function(q){return q})||[]},only:function(P){if(!G(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Me.Component=_,Me.Fragment=t,Me.Profiler=r,Me.PureComponent=k,Me.StrictMode=i,Me.Suspense=d,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Me.__COMPILER_RUNTIME={__proto__:null,c:function(P){return I.H.useMemoCache(P)}},Me.cache=function(P){return function(){return P.apply(null,arguments)}},Me.cloneElement=function(P,q,Q){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var K=x({},P.props),ce=P.key,ze=void 0;if(q!=null)for(ye in q.ref!==void 0&&(ze=void 0),q.key!==void 0&&(ce=""+q.key),q)!O.call(q,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&q.ref===void 0||(K[ye]=q[ye]);var ye=arguments.length-2;if(ye===1)K.children=Q;else if(1<ye){for(var St=Array(ye),Ie=0;Ie<ye;Ie++)St[Ie]=arguments[Ie+2];K.children=St}return V(P.type,ce,void 0,void 0,ze,K)},Me.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},Me.createElement=function(P,q,Q){var K,ce={},ze=null;if(q!=null)for(K in q.key!==void 0&&(ze=""+q.key),q)O.call(q,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ce[K]=q[K]);var ye=arguments.length-2;if(ye===1)ce.children=Q;else if(1<ye){for(var St=Array(ye),Ie=0;Ie<ye;Ie++)St[Ie]=arguments[Ie+2];ce.children=St}if(P&&P.defaultProps)for(K in ye=P.defaultProps,ye)ce[K]===void 0&&(ce[K]=ye[K]);return V(P,ze,void 0,void 0,null,ce)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(P){return{$$typeof:h,render:P}},Me.isValidElement=G,Me.lazy=function(P){return{$$typeof:m,_payload:{_status:-1,_result:P},_init:J}},Me.memo=function(P,q){return{$$typeof:p,type:P,compare:q===void 0?null:q}},Me.startTransition=function(P){var q=I.T,Q={};I.T=Q;try{var K=P(),ce=I.S;ce!==null&&ce(Q,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(fe,ae)}catch(ze){ae(ze)}finally{I.T=q}},Me.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Me.use=function(P){return I.H.use(P)},Me.useActionState=function(P,q,Q){return I.H.useActionState(P,q,Q)},Me.useCallback=function(P,q){return I.H.useCallback(P,q)},Me.useContext=function(P){return I.H.useContext(P)},Me.useDebugValue=function(){},Me.useDeferredValue=function(P,q){return I.H.useDeferredValue(P,q)},Me.useEffect=function(P,q,Q){var K=I.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(P,q)},Me.useId=function(){return I.H.useId()},Me.useImperativeHandle=function(P,q,Q){return I.H.useImperativeHandle(P,q,Q)},Me.useInsertionEffect=function(P,q){return I.H.useInsertionEffect(P,q)},Me.useLayoutEffect=function(P,q){return I.H.useLayoutEffect(P,q)},Me.useMemo=function(P,q){return I.H.useMemo(P,q)},Me.useOptimistic=function(P,q){return I.H.useOptimistic(P,q)},Me.useReducer=function(P,q,Q){return I.H.useReducer(P,q,Q)},Me.useRef=function(P){return I.H.useRef(P)},Me.useState=function(P){return I.H.useState(P)},Me.useSyncExternalStore=function(P,q,Q){return I.H.useSyncExternalStore(P,q,Q)},Me.useTransition=function(){return I.H.useTransition()},Me.version="19.1.0",Me}var S0;function Ip(){return S0||(S0=1,x0.exports=Tw()),x0.exports}var W=Ip();const xp=_w(W),wk=Mw({__proto__:null,default:xp},[W]);var Rd={exports:{}},ho={},M0={exports:{}},_0={};/**
* @license React
* scheduler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var A0;function Cw(){return A0||(A0=1,function(c){function e(U,J){var ae=U.length;U.push(J);e:for(;0<ae;){var fe=ae-1>>>1,P=U[fe];if(0<r(P,J))U[fe]=J,U[ae]=P,ae=fe;else break e}}function t(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var J=U[0],ae=U.pop();if(ae!==J){U[0]=ae;e:for(var fe=0,P=U.length,q=P>>>1;fe<q;){var Q=2*(fe+1)-1,K=U[Q],ce=Q+1,ze=U[ce];if(0>r(K,ae))ce<P&&0>r(ze,K)?(U[fe]=ze,U[ce]=ae,fe=ce):(U[fe]=K,U[Q]=ae,fe=Q);else if(ce<P&&0>r(ze,ae))U[fe]=ze,U[ce]=ae,fe=ce;else break e}}return J}function r(U,J){var ae=U.sortIndex-J.sortIndex;return ae!==0?ae:U.id-J.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;c.unstable_now=function(){return o.now()}}else{var l=Date,h=l.now();c.unstable_now=function(){return l.now()-h}}var d=[],p=[],m=1,y=null,v=3,b=!1,x=!1,S=!1,_=!1,M=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function C(U){for(var J=t(p);J!==null;){if(J.callback===null)i(p);else if(J.startTime<=U)i(p),J.sortIndex=J.expirationTime,e(d,J);else break;J=t(p)}}function I(U){if(S=!1,C(U),!x)if(t(d)!==null)x=!0,O||(O=!0,le());else{var J=t(p);J!==null&&_e(I,J.startTime-U)}}var O=!1,V=-1,D=5,G=-1;function Z(){return _?!0:!(c.unstable_now()-G<D)}function ie(){if(_=!1,O){var U=c.unstable_now();G=U;var J=!0;try{e:{x=!1,S&&(S=!1,k(V),V=-1),b=!0;var ae=v;try{t:{for(C(U),y=t(d);y!==null&&!(y.expirationTime>U&&Z());){var fe=y.callback;if(typeof fe=="function"){y.callback=null,v=y.priorityLevel;var P=fe(y.expirationTime<=U);if(U=c.unstable_now(),typeof P=="function"){y.callback=P,C(U),J=!0;break t}y===t(d)&&i(d),C(U)}else i(d);y=t(d)}if(y!==null)J=!0;else{var q=t(p);q!==null&&_e(I,q.startTime-U),J=!1}}break e}finally{y=null,v=ae,b=!1}J=void 0}}finally{J?le():O=!1}}}var le;if(typeof T=="function")le=function(){T(ie)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,xe=me.port2;me.port1.onmessage=ie,le=function(){xe.postMessage(null)}}else le=function(){M(ie,0)};function _e(U,J){V=M(function(){U(c.unstable_now())},J)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(U){U.callback=null},c.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<U?Math.floor(1e3/U):5},c.unstable_getCurrentPriorityLevel=function(){return v},c.unstable_next=function(U){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var ae=v;v=J;try{return U()}finally{v=ae}},c.unstable_requestPaint=function(){_=!0},c.unstable_runWithPriority=function(U,J){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ae=v;v=U;try{return J()}finally{v=ae}},c.unstable_scheduleCallback=function(U,J,ae){var fe=c.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?fe+ae:fe):ae=fe,U){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ae+P,U={id:m++,callback:J,priorityLevel:U,startTime:ae,expirationTime:P,sortIndex:-1},ae>fe?(U.sortIndex=ae,e(p,U),t(d)===null&&U===t(p)&&(S?(k(V),V=-1):S=!0,_e(I,ae-fe))):(U.sortIndex=P,e(d,U),x||b||(x=!0,O||(O=!0,le()))),U},c.unstable_shouldYield=Z,c.unstable_wrapCallback=function(U){var J=v;return function(){var ae=v;v=J;try{return U.apply(this,arguments)}finally{v=ae}}}}(_0)),_0}var k0;function zw(){return k0||(k0=1,M0.exports=Cw()),M0.exports}var Bd={exports:{}},kt={};/**
* @license React
* react-dom.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var T0;function Ew(){if(T0)return kt;T0=1;var c=Ip();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,p,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:d,containerInfo:p,implementation:m}}var l=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,kt.createPortal=function(d,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(d,p,null,m)},kt.flushSync=function(d){var p=l.T,m=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=p,i.p=m,i.d.f()}},kt.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},kt.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},kt.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var m=p.as,y=h(m,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:b}):m==="script"&&i.d.X(d,{crossOrigin:y,integrity:v,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},kt.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=h(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(d)},kt.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,y=h(m,p.crossOrigin);i.d.L(d,m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},kt.preloadModule=function(d,p){if(typeof d=="string")if(p){var m=h(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},kt.requestFormReset=function(d){i.d.r(d)},kt.unstable_batchedUpdates=function(d,p){return d(p)},kt.useFormState=function(d,p,m){return l.H.useFormState(d,p,m)},kt.useFormStatus=function(){return l.H.useHostTransitionStatus()},kt.version="19.1.0",kt}var C0;function Pw(){if(C0)return Bd.exports;C0=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(e){console.error(e)}}return c(),Bd.exports=Ew(),Bd.exports}/**
* @license React
* react-dom-client.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var z0;function Nw(){if(z0)return ho;z0=1;var c=zw(),e=Ip(),t=Pw();function i(s){var n="https://react.dev/errors/"+s;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+s+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var n=s,a=s;if(s.alternate)for(;n.return;)n=n.return;else{s=n;do n=s,(n.flags&4098)!==0&&(a=n.return),s=n.return;while(s)}return n.tag===3?a:null}function l(s){if(s.tag===13){var n=s.memoizedState;if(n===null&&(s=s.alternate,s!==null&&(n=s.memoizedState)),n!==null)return n.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function d(s){var n=s.alternate;if(!n){if(n=o(s),n===null)throw Error(i(188));return n!==s?null:s}for(var a=s,u=n;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return h(f),s;if(g===u)return h(f),n;g=g.sibling}throw Error(i(188))}if(a.return!==u.return)a=f,u=g;else{for(var w=!1,A=f.child;A;){if(A===a){w=!0,a=f,u=g;break}if(A===u){w=!0,u=f,a=g;break}A=A.sibling}if(!w){for(A=g.child;A;){if(A===a){w=!0,a=g,u=f;break}if(A===u){w=!0,u=g,a=f;break}A=A.sibling}if(!w)throw Error(i(189))}}if(a.alternate!==u)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?s:n}function p(s){var n=s.tag;if(n===5||n===26||n===27||n===6)return s;for(s=s.child;s!==null;){if(n=p(s),n!==null)return n;s=s.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function le(s){return s===null||typeof s!="object"?null:(s=ie&&s[ie]||s["@@iterator"],typeof s=="function"?s:null)}var me=Symbol.for("react.client.reference");function xe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===me?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case x:return"Fragment";case _:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case O:return"SuspenseList";case G:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case T:return(s.displayName||"Context")+".Provider";case k:return(s._context.displayName||"Context")+".Consumer";case C:var n=s.render;return s=s.displayName,s||(s=n.displayName||n.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case V:return n=s.displayName||null,n!==null?n:xe(s.type)||"Memo";case D:n=s._payload,s=s._init;try{return xe(s(n))}catch{}}return null}var _e=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},fe=[],P=-1;function q(s){return{current:s}}function Q(s){0>P||(s.current=fe[P],fe[P]=null,P--)}function K(s,n){P++,fe[P]=s.current,s.current=n}var ce=q(null),ze=q(null),ye=q(null),St=q(null);function Ie(s,n){switch(K(ye,n),K(ze,s),K(ce,null),n.nodeType){case 9:case 11:s=(s=n.documentElement)&&(s=s.namespaceURI)?Vy(s):0;break;default:if(s=n.tagName,n=n.namespaceURI)n=Vy(n),s=Wy(n,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Q(ce),K(ce,s)}function Xt(){Q(ce),Q(ze),Q(ye)}function pa(s){s.memoizedState!==null&&K(St,s);var n=ce.current,a=Wy(n,s.type);n!==a&&(K(ze,s),K(ce,a))}function jt(s){ze.current===s&&(Q(ce),Q(ze)),St.current===s&&(Q(St),ro._currentValue=ae)}var Zt=Object.prototype.hasOwnProperty,ee=c.unstable_scheduleCallback,te=c.unstable_cancelCallback,se=c.unstable_shouldYield,he=c.unstable_requestPaint,ne=c.unstable_now,Ee=c.unstable_getCurrentPriorityLevel,Ae=c.unstable_ImmediatePriority,He=c.unstable_UserBlockingPriority,qe=c.unstable_NormalPriority,et=c.unstable_LowPriority,Pt=c.unstable_IdlePriority,sn=c.log,Nt=c.unstable_setDisableYieldValue,Si=null,Mt=null;function Ss(s){if(typeof sn=="function"&&Nt(s),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(Si,s)}catch{}}var It=Math.clz32?Math.clz32:Go,Sc=Math.log,$o=Math.LN2;function Go(s){return s>>>=0,s===0?32:31-(Sc(s)/$o|0)|0}var Xo=256,Zo=4194304;function nn(s){var n=s&42;if(n!==0)return n;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Yo(s,n,a){var u=s.pendingLanes;if(u===0)return 0;var f=0,g=s.suspendedLanes,w=s.pingedLanes;s=s.warmLanes;var A=u&134217727;return A!==0?(u=A&~g,u!==0?f=nn(u):(w&=A,w!==0?f=nn(w):a||(a=A&~s,a!==0&&(f=nn(a))))):(A=u&~g,A!==0?f=nn(A):w!==0?f=nn(w):a||(a=u&~s,a!==0&&(f=nn(a)))),f===0?0:n!==0&&n!==f&&(n&g)===0&&(g=f&-f,a=n&-n,g>=a||g===32&&(a&4194048)!==0)?n:f}function fa(s,n){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&n)===0}function nx(s,n){switch(s){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Af(){var s=Xo;return Xo<<=1,(Xo&4194048)===0&&(Xo=256),s}function kf(){var s=Zo;return Zo<<=1,(Zo&62914560)===0&&(Zo=4194304),s}function Mc(s){for(var n=[],a=0;31>a;a++)n.push(s);return n}function ma(s,n){s.pendingLanes|=n,n!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function rx(s,n,a,u,f,g){var w=s.pendingLanes;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=a,s.entangledLanes&=a,s.errorRecoveryDisabledLanes&=a,s.shellSuspendCounter=0;var A=s.entanglements,E=s.expirationTimes,L=s.hiddenUpdates;for(a=w&~a;0<a;){var H=31-It(a),X=1<<H;A[H]=0,E[H]=-1;var j=L[H];if(j!==null)for(L[H]=null,H=0;H<j.length;H++){var F=j[H];F!==null&&(F.lane&=-536870913)}a&=~X}u!==0&&Tf(s,u,0),g!==0&&f===0&&s.tag!==0&&(s.suspendedLanes|=g&~(w&~n))}function Tf(s,n,a){s.pendingLanes|=n,s.suspendedLanes&=~n;var u=31-It(n);s.entangledLanes|=n,s.entanglements[u]=s.entanglements[u]|1073741824|a&4194090}function Cf(s,n){var a=s.entangledLanes|=n;for(s=s.entanglements;a;){var u=31-It(a),f=1<<u;f&n|s[u]&n&&(s[u]|=n),a&=~f}}function _c(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ac(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function zf(){var s=J.p;return s!==0?s:(s=window.event,s===void 0?32:l0(s.type))}function ax(s,n){var a=J.p;try{return J.p=s,n()}finally{J.p=a}}var Mi=Math.random().toString(36).slice(2),_t="__reactFiber$"+Mi,Ft="__reactProps$"+Mi,Wn="__reactContainer$"+Mi,kc="__reactEvents$"+Mi,ox="__reactListeners$"+Mi,lx="__reactHandles$"+Mi,Ef="__reactResources$"+Mi,ga="__reactMarker$"+Mi;function Tc(s){delete s[_t],delete s[Ft],delete s[kc],delete s[ox],delete s[lx]}function Hn(s){var n=s[_t];if(n)return n;for(var a=s.parentNode;a;){if(n=a[Wn]||a[_t]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(s=Gy(s);s!==null;){if(a=s[_t])return a;s=Gy(s)}return n}s=a,a=s.parentNode}return null}function qn(s){if(s=s[_t]||s[Wn]){var n=s.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return s}return null}function ya(s){var n=s.tag;if(n===5||n===26||n===27||n===6)return s.stateNode;throw Error(i(33))}function $n(s){var n=s[Ef];return n||(n=s[Ef]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function pt(s){s[ga]=!0}var Pf=new Set,Nf={};function rn(s,n){Gn(s,n),Gn(s+"Capture",n)}function Gn(s,n){for(Nf[s]=n,s=0;s<n.length;s++)Pf.add(n[s])}var ux=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),If={},Rf={};function cx(s){return Zt.call(Rf,s)?!0:Zt.call(If,s)?!1:ux.test(s)?Rf[s]=!0:(If[s]=!0,!1)}function Jo(s,n,a){if(cx(n))if(a===null)s.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":s.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(n);return}}s.setAttribute(n,""+a)}}function Qo(s,n,a){if(a===null)s.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(n);return}s.setAttribute(n,""+a)}}function Gs(s,n,a,u){if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttributeNS(n,a,""+u)}}var Cc,Bf;function Xn(s){if(Cc===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Cc=n&&n[1]||"",Bf=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cc+s+Bf}var zc=!1;function Ec(s,n){if(!s||zc)return"";zc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(F){var j=F}Reflect.construct(s,[],X)}else{try{X.call()}catch(F){j=F}s.call(X.prototype)}}else{try{throw Error()}catch(F){j=F}(X=s())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(F){if(F&&j&&typeof F.stack=="string")return[F.stack,j.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),w=g[0],A=g[1];if(w&&A){var E=w.split(`
`),L=A.split(`
`);for(f=u=0;u<E.length&&!E[u].includes("DetermineComponentFrameRoot");)u++;for(;f<L.length&&!L[f].includes("DetermineComponentFrameRoot");)f++;if(u===E.length||f===L.length)for(u=E.length-1,f=L.length-1;1<=u&&0<=f&&E[u]!==L[f];)f--;for(;1<=u&&0<=f;u--,f--)if(E[u]!==L[f]){if(u!==1||f!==1)do if(u--,f--,0>f||E[u]!==L[f]){var H=`
`+E[u].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=u&&0<=f);break}}}finally{zc=!1,Error.prepareStackTrace=a}return(a=s?s.displayName||s.name:"")?Xn(a):""}function hx(s){switch(s.tag){case 26:case 27:case 5:return Xn(s.type);case 16:return Xn("Lazy");case 13:return Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return Ec(s.type,!1);case 11:return Ec(s.type.render,!1);case 1:return Ec(s.type,!0);case 31:return Xn("Activity");default:return""}}function Lf(s){try{var n="";do n+=hx(s),s=s.return;while(s);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function cs(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Of(s){var n=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function dx(s){var n=Of(s)?"checked":"value",a=Object.getOwnPropertyDescriptor(s.constructor.prototype,n),u=""+s[n];if(!s.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(s,n,{configurable:!0,get:function(){return f.call(this)},set:function(w){u=""+w,g.call(this,w)}}),Object.defineProperty(s,n,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){s._valueTracker=null,delete s[n]}}}}function Ko(s){s._valueTracker||(s._valueTracker=dx(s))}function Df(s){if(!s)return!1;var n=s._valueTracker;if(!n)return!0;var a=n.getValue(),u="";return s&&(u=Of(s)?s.checked?"true":"false":s.value),s=u,s!==a?(n.setValue(s),!0):!1}function el(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var px=/[\n"\\]/g;function Ms(s){return s.replace(px,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Pc(s,n,a,u,f,g,w,A){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),n!=null?w==="number"?(n===0&&s.value===""||s.value!=n)&&(s.value=""+cs(n)):s.value!==""+cs(n)&&(s.value=""+cs(n)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),n!=null?Nc(s,w,cs(n)):a!=null?Nc(s,w,cs(a)):u!=null&&s.removeAttribute("value"),f==null&&g!=null&&(s.defaultChecked=!!g),f!=null&&(s.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.name=""+cs(A):s.removeAttribute("name")}function jf(s,n,a,u,f,g,w,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),n!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||n!=null))return;a=a!=null?""+cs(a):"",n=n!=null?""+cs(n):a,A||n===s.value||(s.value=n),s.defaultValue=n}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=A?s.checked:!!u,s.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w)}function Nc(s,n,a){n==="number"&&el(s.ownerDocument)===s||s.defaultValue===""+a||(s.defaultValue=""+a)}function Zn(s,n,a,u){if(s=s.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<s.length;a++)f=n.hasOwnProperty("$"+s[a].value),s[a].selected!==f&&(s[a].selected=f),f&&u&&(s[a].defaultSelected=!0)}else{for(a=""+cs(a),n=null,f=0;f<s.length;f++){if(s[f].value===a){s[f].selected=!0,u&&(s[f].defaultSelected=!0);return}n!==null||s[f].disabled||(n=s[f])}n!==null&&(n.selected=!0)}}function Ff(s,n,a){if(n!=null&&(n=""+cs(n),n!==s.value&&(s.value=n),a==null)){s.defaultValue!==n&&(s.defaultValue=n);return}s.defaultValue=a!=null?""+cs(a):""}function Uf(s,n,a,u){if(n==null){if(u!=null){if(a!=null)throw Error(i(92));if(_e(u)){if(1<u.length)throw Error(i(93));u=u[0]}a=u}a==null&&(a=""),n=a}a=cs(n),s.defaultValue=a,u=s.textContent,u===a&&u!==""&&u!==null&&(s.value=u)}function Yn(s,n){if(n){var a=s.firstChild;if(a&&a===s.lastChild&&a.nodeType===3){a.nodeValue=n;return}}s.textContent=n}var fx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vf(s,n,a){var u=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?s.setProperty(n,""):n==="float"?s.cssFloat="":s[n]="":u?s.setProperty(n,a):typeof a!="number"||a===0||fx.has(n)?n==="float"?s.cssFloat=a:s[n]=(""+a).trim():s[n]=a+"px"}function Wf(s,n,a){if(n!=null&&typeof n!="object")throw Error(i(62));if(s=s.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var f in n)u=n[f],n.hasOwnProperty(f)&&a[f]!==u&&Vf(s,f,u)}else for(var g in n)n.hasOwnProperty(g)&&Vf(s,g,n[g])}function Ic(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tl(s){return gx.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Rc=null;function Bc(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Jn=null,Qn=null;function Hf(s){var n=qn(s);if(n&&(s=n.stateNode)){var a=s[Ft]||null;e:switch(s=n.stateNode,n.type){case"input":if(Pc(s,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=s;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ms(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var u=a[n];if(u!==s&&u.form===s.form){var f=u[Ft]||null;if(!f)throw Error(i(90));Pc(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)u=a[n],u.form===s.form&&Df(u)}break e;case"textarea":Ff(s,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Zn(s,!!a.multiple,n,!1)}}}var Lc=!1;function qf(s,n,a){if(Lc)return s(n,a);Lc=!0;try{var u=s(n);return u}finally{if(Lc=!1,(Jn!==null||Qn!==null)&&(Fl(),Jn&&(n=Jn,s=Qn,Qn=Jn=null,Hf(n),s)))for(n=0;n<s.length;n++)Hf(s[n])}}function va(s,n){var a=s.stateNode;if(a===null)return null;var u=a[Ft]||null;if(u===null)return null;a=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(a&&typeof a!="function")throw Error(i(231,n,typeof a));return a}var Xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oc=!1;if(Xs)try{var ba={};Object.defineProperty(ba,"passive",{get:function(){Oc=!0}}),window.addEventListener("test",ba,ba),window.removeEventListener("test",ba,ba)}catch{Oc=!1}var _i=null,Dc=null,sl=null;function $f(){if(sl)return sl;var s,n=Dc,a=n.length,u,f="value"in _i?_i.value:_i.textContent,g=f.length;for(s=0;s<a&&n[s]===f[s];s++);var w=a-s;for(u=1;u<=w&&n[a-u]===f[g-u];u++);return sl=f.slice(s,1<u?1-u:void 0)}function il(s){var n=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&n===13&&(s=13)):s=n,s===10&&(s=13),32<=s||s===13?s:0}function nl(){return!0}function Gf(){return!1}function Ut(s){function n(a,u,f,g,w){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(a=s[A],this[A]=a?a(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?nl:Gf,this.isPropagationStopped=Gf,this}return m(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),n}var an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rl=Ut(an),xa=m({},an,{view:0,detail:0}),yx=Ut(xa),jc,Fc,wa,al=m({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vc,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==wa&&(wa&&s.type==="mousemove"?(jc=s.screenX-wa.screenX,Fc=s.screenY-wa.screenY):Fc=jc=0,wa=s),jc)},movementY:function(s){return"movementY"in s?s.movementY:Fc}}),Xf=Ut(al),vx=m({},al,{dataTransfer:0}),bx=Ut(vx),xx=m({},xa,{relatedTarget:0}),Uc=Ut(xx),wx=m({},an,{animationName:0,elapsedTime:0,pseudoElement:0}),Sx=Ut(wx),Mx=m({},an,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),_x=Ut(Mx),Ax=m({},an,{data:0}),Zf=Ut(Ax),kx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zx(s){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(s):(s=Cx[s])?!!n[s]:!1}function Vc(){return zx}var Ex=m({},xa,{key:function(s){if(s.key){var n=kx[s.key]||s.key;if(n!=="Unidentified")return n}return s.type==="keypress"?(s=il(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Tx[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vc,charCode:function(s){return s.type==="keypress"?il(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?il(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Px=Ut(Ex),Nx=m({},al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yf=Ut(Nx),Ix=m({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vc}),Rx=Ut(Ix),Bx=m({},an,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lx=Ut(Bx),Ox=m({},al,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Dx=Ut(Ox),jx=m({},an,{newState:0,oldState:0}),Fx=Ut(jx),Ux=[9,13,27,32],Wc=Xs&&"CompositionEvent"in window,Sa=null;Xs&&"documentMode"in document&&(Sa=document.documentMode);var Vx=Xs&&"TextEvent"in window&&!Sa,Jf=Xs&&(!Wc||Sa&&8<Sa&&11>=Sa),Qf=" ",Kf=!1;function em(s,n){switch(s){case"keyup":return Ux.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Kn=!1;function Wx(s,n){switch(s){case"compositionend":return tm(n);case"keypress":return n.which!==32?null:(Kf=!0,Qf);case"textInput":return s=n.data,s===Qf&&Kf?null:s;default:return null}}function Hx(s,n){if(Kn)return s==="compositionend"||!Wc&&em(s,n)?(s=$f(),sl=Dc=_i=null,Kn=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Jf&&n.locale!=="ko"?null:n.data;default:return null}}var qx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sm(s){var n=s&&s.nodeName&&s.nodeName.toLowerCase();return n==="input"?!!qx[s.type]:n==="textarea"}function im(s,n,a,u){Jn?Qn?Qn.push(u):Qn=[u]:Jn=u,n=$l(n,"onChange"),0<n.length&&(a=new rl("onChange","change",null,a,u),s.push({event:a,listeners:n}))}var Ma=null,_a=null;function $x(s){Oy(s,0)}function ol(s){var n=ya(s);if(Df(n))return s}function nm(s,n){if(s==="change")return n}var rm=!1;if(Xs){var Hc;if(Xs){var qc="oninput"in document;if(!qc){var am=document.createElement("div");am.setAttribute("oninput","return;"),qc=typeof am.oninput=="function"}Hc=qc}else Hc=!1;rm=Hc&&(!document.documentMode||9<document.documentMode)}function om(){Ma&&(Ma.detachEvent("onpropertychange",lm),_a=Ma=null)}function lm(s){if(s.propertyName==="value"&&ol(_a)){var n=[];im(n,_a,s,Bc(s)),qf($x,n)}}function Gx(s,n,a){s==="focusin"?(om(),Ma=n,_a=a,Ma.attachEvent("onpropertychange",lm)):s==="focusout"&&om()}function Xx(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ol(_a)}function Zx(s,n){if(s==="click")return ol(n)}function Yx(s,n){if(s==="input"||s==="change")return ol(n)}function Jx(s,n){return s===n&&(s!==0||1/s===1/n)||s!==s&&n!==n}var Yt=typeof Object.is=="function"?Object.is:Jx;function Aa(s,n){if(Yt(s,n))return!0;if(typeof s!="object"||s===null||typeof n!="object"||n===null)return!1;var a=Object.keys(s),u=Object.keys(n);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!Zt.call(n,f)||!Yt(s[f],n[f]))return!1}return!0}function um(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function cm(s,n){var a=um(s);s=0;for(var u;a;){if(a.nodeType===3){if(u=s+a.textContent.length,s<=n&&u>=n)return{node:a,offset:n-s};s=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=um(a)}}function hm(s,n){return s&&n?s===n?!0:s&&s.nodeType===3?!1:n&&n.nodeType===3?hm(s,n.parentNode):"contains"in s?s.contains(n):s.compareDocumentPosition?!!(s.compareDocumentPosition(n)&16):!1:!1}function dm(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var n=el(s.document);n instanceof s.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)s=n.contentWindow;else break;n=el(s.document)}return n}function $c(s){var n=s&&s.nodeName&&s.nodeName.toLowerCase();return n&&(n==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||n==="textarea"||s.contentEditable==="true")}var Qx=Xs&&"documentMode"in document&&11>=document.documentMode,er=null,Gc=null,ka=null,Xc=!1;function pm(s,n,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xc||er==null||er!==el(u)||(u=er,"selectionStart"in u&&$c(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ka&&Aa(ka,u)||(ka=u,u=$l(Gc,"onSelect"),0<u.length&&(n=new rl("onSelect","select",null,n,a),s.push({event:n,listeners:u}),n.target=er)))}function on(s,n){var a={};return a[s.toLowerCase()]=n.toLowerCase(),a["Webkit"+s]="webkit"+n,a["Moz"+s]="moz"+n,a}var tr={animationend:on("Animation","AnimationEnd"),animationiteration:on("Animation","AnimationIteration"),animationstart:on("Animation","AnimationStart"),transitionrun:on("Transition","TransitionRun"),transitionstart:on("Transition","TransitionStart"),transitioncancel:on("Transition","TransitionCancel"),transitionend:on("Transition","TransitionEnd")},Zc={},fm={};Xs&&(fm=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);function ln(s){if(Zc[s])return Zc[s];if(!tr[s])return s;var n=tr[s],a;for(a in n)if(n.hasOwnProperty(a)&&a in fm)return Zc[s]=n[a];return s}var mm=ln("animationend"),gm=ln("animationiteration"),ym=ln("animationstart"),Kx=ln("transitionrun"),e1=ln("transitionstart"),t1=ln("transitioncancel"),vm=ln("transitionend"),bm=new Map,Yc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yc.push("scrollEnd");function _s(s,n){bm.set(s,n),rn(n,[s])}var xm=new WeakMap;function hs(s,n){if(typeof s=="object"&&s!==null){var a=xm.get(s);return a!==void 0?a:(n={value:s,source:n,stack:Lf(n)},xm.set(s,n),n)}return{value:s,source:n,stack:Lf(n)}}var ds=[],sr=0,Jc=0;function ll(){for(var s=sr,n=Jc=sr=0;n<s;){var a=ds[n];ds[n++]=null;var u=ds[n];ds[n++]=null;var f=ds[n];ds[n++]=null;var g=ds[n];if(ds[n++]=null,u!==null&&f!==null){var w=u.pending;w===null?f.next=f:(f.next=w.next,w.next=f),u.pending=f}g!==0&&wm(a,f,g)}}function ul(s,n,a,u){ds[sr++]=s,ds[sr++]=n,ds[sr++]=a,ds[sr++]=u,Jc|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Qc(s,n,a,u){return ul(s,n,a,u),cl(s)}function ir(s,n){return ul(s,null,null,n),cl(s)}function wm(s,n,a){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a);for(var f=!1,g=s.return;g!==null;)g.childLanes|=a,u=g.alternate,u!==null&&(u.childLanes|=a),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(f=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,f&&n!==null&&(f=31-It(a),s=g.hiddenUpdates,u=s[f],u===null?s[f]=[n]:u.push(n),n.lane=a|536870912),g):null}function cl(s){if(50<Ja)throw Ja=0,nd=null,Error(i(185));for(var n=s.return;n!==null;)s=n,n=s.return;return s.tag===3?s.stateNode:null}var nr={};function s1(s,n,a,u){this.tag=s,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(s,n,a,u){return new s1(s,n,a,u)}function Kc(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Zs(s,n){var a=s.alternate;return a===null?(a=Jt(s.tag,n,s.key,s.mode),a.elementType=s.elementType,a.type=s.type,a.stateNode=s.stateNode,a.alternate=s,s.alternate=a):(a.pendingProps=n,a.type=s.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=s.flags&65011712,a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,n=s.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=s.sibling,a.index=s.index,a.ref=s.ref,a.refCleanup=s.refCleanup,a}function Sm(s,n){s.flags&=65011714;var a=s.alternate;return a===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,n=a.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),s}function hl(s,n,a,u,f,g){var w=0;if(u=s,typeof s=="function")Kc(s)&&(w=1);else if(typeof s=="string")w=nw(s,a,ce.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case G:return s=Jt(31,a,n,f),s.elementType=G,s.lanes=g,s;case x:return un(a.children,f,g,n);case S:w=8,f|=24;break;case _:return s=Jt(12,a,n,f|2),s.elementType=_,s.lanes=g,s;case I:return s=Jt(13,a,n,f),s.elementType=I,s.lanes=g,s;case O:return s=Jt(19,a,n,f),s.elementType=O,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:case T:w=10;break e;case k:w=9;break e;case C:w=11;break e;case V:w=14;break e;case D:w=16,u=null;break e}w=29,a=Error(i(130,s===null?"null":typeof s,"")),u=null}return n=Jt(w,a,n,f),n.elementType=s,n.type=u,n.lanes=g,n}function un(s,n,a,u){return s=Jt(7,s,u,n),s.lanes=a,s}function eh(s,n,a){return s=Jt(6,s,null,n),s.lanes=a,s}function th(s,n,a){return n=Jt(4,s.children!==null?s.children:[],s.key,n),n.lanes=a,n.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},n}var rr=[],ar=0,dl=null,pl=0,ps=[],fs=0,cn=null,Ys=1,Js="";function hn(s,n){rr[ar++]=pl,rr[ar++]=dl,dl=s,pl=n}function Mm(s,n,a){ps[fs++]=Ys,ps[fs++]=Js,ps[fs++]=cn,cn=s;var u=Ys;s=Js;var f=32-It(u)-1;u&=~(1<<f),a+=1;var g=32-It(n)+f;if(30<g){var w=f-f%5;g=(u&(1<<w)-1).toString(32),u>>=w,f-=w,Ys=1<<32-It(n)+f|a<<f|u,Js=g+s}else Ys=1<<g|a<<f|u,Js=s}function sh(s){s.return!==null&&(hn(s,1),Mm(s,1,0))}function ih(s){for(;s===dl;)dl=rr[--ar],rr[ar]=null,pl=rr[--ar],rr[ar]=null;for(;s===cn;)cn=ps[--fs],ps[fs]=null,Js=ps[--fs],ps[fs]=null,Ys=ps[--fs],ps[fs]=null}var Rt=null,tt=null,De=!1,dn=null,Is=!1,nh=Error(i(519));function pn(s){var n=Error(i(418,""));throw za(hs(n,s)),nh}function _m(s){var n=s.stateNode,a=s.type,u=s.memoizedProps;switch(n[_t]=s,n[Ft]=u,a){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(a=0;a<Ka.length;a++)Ne(Ka[a],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":Ne("invalid",n),jf(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ko(n);break;case"select":Ne("invalid",n);break;case"textarea":Ne("invalid",n),Uf(n,u.value,u.defaultValue,u.children),Ko(n)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||u.suppressHydrationWarning===!0||Uy(n.textContent,a)?(u.popover!=null&&(Ne("beforetoggle",n),Ne("toggle",n)),u.onScroll!=null&&Ne("scroll",n),u.onScrollEnd!=null&&Ne("scrollend",n),u.onClick!=null&&(n.onclick=Gl),n=!0):n=!1,n||pn(s)}function Am(s){for(Rt=s.return;Rt;)switch(Rt.tag){case 5:case 13:Is=!1;return;case 27:case 3:Is=!0;return;default:Rt=Rt.return}}function Ta(s){if(s!==Rt)return!1;if(!De)return Am(s),De=!0,!1;var n=s.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=s.type,a=!(a!=="form"&&a!=="button")||xd(s.type,s.memoizedProps)),a=!a),a&&tt&&pn(s),Am(s),n===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,n=0;s;){if(s.nodeType===8)if(a=s.data,a==="/$"){if(n===0){tt=ks(s.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;s=s.nextSibling}tt=null}}else n===27?(n=tt,Fi(s.type)?(s=_d,_d=null,tt=s):tt=n):tt=Rt?ks(s.stateNode.nextSibling):null;return!0}function Ca(){tt=Rt=null,De=!1}function km(){var s=dn;return s!==null&&(Ht===null?Ht=s:Ht.push.apply(Ht,s),dn=null),s}function za(s){dn===null?dn=[s]:dn.push(s)}var rh=q(null),fn=null,Qs=null;function Ai(s,n,a){K(rh,n._currentValue),n._currentValue=a}function Ks(s){s._currentValue=rh.current,Q(rh)}function ah(s,n,a){for(;s!==null;){var u=s.alternate;if((s.childLanes&n)!==n?(s.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),s===a)break;s=s.return}}function oh(s,n,a,u){var f=s.child;for(f!==null&&(f.return=s);f!==null;){var g=f.dependencies;if(g!==null){var w=f.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=f;for(var E=0;E<n.length;E++)if(A.context===n[E]){g.lanes|=a,A=g.alternate,A!==null&&(A.lanes|=a),ah(g.return,a,s),u||(w=null);break e}g=A.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(i(341));w.lanes|=a,g=w.alternate,g!==null&&(g.lanes|=a),ah(w,a,s),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===s){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function Ea(s,n,a,u){s=null;for(var f=n,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var A=f.type;Yt(f.pendingProps.value,w.value)||(s!==null?s.push(A):s=[A])}}else if(f===St.current){if(w=f.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(s!==null?s.push(ro):s=[ro])}f=f.return}s!==null&&oh(n,s,a,u),n.flags|=262144}function fl(s){for(s=s.firstContext;s!==null;){if(!Yt(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function mn(s){fn=s,Qs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function At(s){return Tm(fn,s)}function ml(s,n){return fn===null&&mn(s),Tm(s,n)}function Tm(s,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Qs===null){if(s===null)throw Error(i(308));Qs=n,s.dependencies={lanes:0,firstContext:n},s.flags|=524288}else Qs=Qs.next=n;return a}var i1=typeof AbortController<"u"?AbortController:function(){var s=[],n=this.signal={aborted:!1,addEventListener:function(a,u){s.push(u)}};this.abort=function(){n.aborted=!0,s.forEach(function(a){return a()})}},n1=c.unstable_scheduleCallback,r1=c.unstable_NormalPriority,ct={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lh(){return{controller:new i1,data:new Map,refCount:0}}function Pa(s){s.refCount--,s.refCount===0&&n1(r1,function(){s.controller.abort()})}var Na=null,uh=0,or=0,lr=null;function a1(s,n){if(Na===null){var a=Na=[];uh=0,or=hd(),lr={status:"pending",value:void 0,then:function(u){a.push(u)}}}return uh++,n.then(Cm,Cm),n}function Cm(){if(--uh===0&&Na!==null){lr!==null&&(lr.status="fulfilled");var s=Na;Na=null,or=0,lr=null;for(var n=0;n<s.length;n++)(0,s[n])()}}function o1(s,n){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return s.then(function(){u.status="fulfilled",u.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var zm=U.S;U.S=function(s,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&a1(s,n),zm!==null&&zm(s,n)};var gn=q(null);function ch(){var s=gn.current;return s!==null?s:Ge.pooledCache}function gl(s,n){n===null?K(gn,gn.current):K(gn,n.pool)}function Em(){var s=ch();return s===null?null:{parent:ct._currentValue,pool:s}}var Ia=Error(i(460)),Pm=Error(i(474)),yl=Error(i(542)),hh={then:function(){}};function Nm(s){return s=s.status,s==="fulfilled"||s==="rejected"}function vl(){}function Im(s,n,a){switch(a=s[a],a===void 0?s.push(n):a!==n&&(n.then(vl,vl),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw s=n.reason,Bm(s),s;default:if(typeof n.status=="string")n.then(vl,vl);else{if(s=Ge,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=n,s.status="pending",s.then(function(u){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=u}},function(u){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw s=n.reason,Bm(s),s}throw Ra=n,Ia}}var Ra=null;function Rm(){if(Ra===null)throw Error(i(459));var s=Ra;return Ra=null,s}function Bm(s){if(s===Ia||s===yl)throw Error(i(483))}var ki=!1;function dh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ph(s,n){s=s.updateQueue,n.updateQueue===s&&(n.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ti(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ci(s,n,a){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(je&2)!==0){var f=u.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),u.pending=n,n=cl(s),wm(s,null,a),n}return ul(s,u,n,a),cl(s)}function Ba(s,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var u=n.lanes;u&=s.pendingLanes,a|=u,n.lanes=a,Cf(s,a)}}function fh(s,n){var a=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?f=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?f=g=n:g=g.next=n}else f=g=n;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},s.updateQueue=a;return}s=a.lastBaseUpdate,s===null?a.firstBaseUpdate=n:s.next=n,a.lastBaseUpdate=n}var mh=!1;function La(){if(mh){var s=lr;if(s!==null)throw s}}function Oa(s,n,a,u){mh=!1;var f=s.updateQueue;ki=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var E=A,L=E.next;E.next=null,w===null?g=L:w.next=L,w=E;var H=s.alternate;H!==null&&(H=H.updateQueue,A=H.lastBaseUpdate,A!==w&&(A===null?H.firstBaseUpdate=L:A.next=L,H.lastBaseUpdate=E))}if(g!==null){var X=f.baseState;w=0,H=L=E=null,A=g;do{var j=A.lane&-536870913,F=j!==A.lane;if(F?(Re&j)===j:(u&j)===j){j!==0&&j===or&&(mh=!0),H!==null&&(H=H.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ge=s,de=A;j=n;var We=a;switch(de.tag){case 1:if(ge=de.payload,typeof ge=="function"){X=ge.call(We,X,j);break e}X=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=de.payload,j=typeof ge=="function"?ge.call(We,X,j):ge,j==null)break e;X=m({},X,j);break e;case 2:ki=!0}}j=A.callback,j!==null&&(s.flags|=64,F&&(s.flags|=8192),F=f.callbacks,F===null?f.callbacks=[j]:F.push(j))}else F={lane:j,tag:A.tag,payload:A.payload,callback:A.callback,next:null},H===null?(L=H=F,E=X):H=H.next=F,w|=j;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;F=A,A=F.next,F.next=null,f.lastBaseUpdate=F,f.shared.pending=null}}while(!0);H===null&&(E=X),f.baseState=E,f.firstBaseUpdate=L,f.lastBaseUpdate=H,g===null&&(f.shared.lanes=0),Li|=w,s.lanes=w,s.memoizedState=X}}function Lm(s,n){if(typeof s!="function")throw Error(i(191,s));s.call(n)}function Om(s,n){var a=s.callbacks;if(a!==null)for(s.callbacks=null,s=0;s<a.length;s++)Lm(a[s],n)}var ur=q(null),bl=q(0);function Dm(s,n){s=oi,K(bl,s),K(ur,n),oi=s|n.baseLanes}function gh(){K(bl,oi),K(ur,ur.current)}function yh(){oi=bl.current,Q(ur),Q(bl)}var zi=0,ke=null,Ue=null,ot=null,xl=!1,cr=!1,yn=!1,wl=0,Da=0,hr=null,l1=0;function nt(){throw Error(i(321))}function vh(s,n){if(n===null)return!1;for(var a=0;a<n.length&&a<s.length;a++)if(!Yt(s[a],n[a]))return!1;return!0}function bh(s,n,a,u,f,g){return zi=g,ke=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=s===null||s.memoizedState===null?wg:Sg,yn=!1,g=a(u,f),yn=!1,cr&&(g=Fm(n,a,u,f)),jm(s),g}function jm(s){U.H=Tl;var n=Ue!==null&&Ue.next!==null;if(zi=0,ot=Ue=ke=null,xl=!1,Da=0,hr=null,n)throw Error(i(300));s===null||ft||(s=s.dependencies,s!==null&&fl(s)&&(ft=!0))}function Fm(s,n,a,u){ke=s;var f=0;do{if(cr&&(hr=null),Da=0,cr=!1,25<=f)throw Error(i(301));if(f+=1,ot=Ue=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}U.H=m1,g=n(a,u)}while(cr);return g}function u1(){var s=U.H,n=s.useState()[0];return n=typeof n.then=="function"?ja(n):n,s=s.useState()[0],(Ue!==null?Ue.memoizedState:null)!==s&&(ke.flags|=1024),n}function xh(){var s=wl!==0;return wl=0,s}function wh(s,n,a){n.updateQueue=s.updateQueue,n.flags&=-2053,s.lanes&=~a}function Sh(s){if(xl){for(s=s.memoizedState;s!==null;){var n=s.queue;n!==null&&(n.pending=null),s=s.next}xl=!1}zi=0,ot=Ue=ke=null,cr=!1,Da=wl=0,hr=null}function Vt(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?ke.memoizedState=ot=s:ot=ot.next=s,ot}function lt(){if(Ue===null){var s=ke.alternate;s=s!==null?s.memoizedState:null}else s=Ue.next;var n=ot===null?ke.memoizedState:ot.next;if(n!==null)ot=n,Ue=s;else{if(s===null)throw ke.alternate===null?Error(i(467)):Error(i(310));Ue=s,s={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},ot===null?ke.memoizedState=ot=s:ot=ot.next=s}return ot}function Mh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ja(s){var n=Da;return Da+=1,hr===null&&(hr=[]),s=Im(hr,s,n),n=ke,(ot===null?n.memoizedState:ot.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?wg:Sg),s}function Sl(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ja(s);if(s.$$typeof===T)return At(s)}throw Error(i(438,String(s)))}function _h(s){var n=null,a=ke.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var u=ke.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Mh(),ke.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(s),u=0;u<s;u++)a[u]=Z;return n.index++,a}function ei(s,n){return typeof n=="function"?n(s):n}function Ml(s){var n=lt();return Ah(n,Ue,s)}function Ah(s,n,a){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=a;var f=s.baseQueue,g=u.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}n.baseQueue=f=g,u.pending=null}if(g=s.baseState,f===null)s.memoizedState=g;else{n=f.next;var A=w=null,E=null,L=n,H=!1;do{var X=L.lane&-536870913;if(X!==L.lane?(Re&X)===X:(zi&X)===X){var j=L.revertLane;if(j===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),X===or&&(H=!0);else if((zi&j)===j){L=L.next,j===or&&(H=!0);continue}else X={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},E===null?(A=E=X,w=g):E=E.next=X,ke.lanes|=j,Li|=j;X=L.action,yn&&a(g,X),g=L.hasEagerState?L.eagerState:a(g,X)}else j={lane:X,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},E===null?(A=E=j,w=g):E=E.next=j,ke.lanes|=X,Li|=X;L=L.next}while(L!==null&&L!==n);if(E===null?w=g:E.next=A,!Yt(g,s.memoizedState)&&(ft=!0,H&&(a=lr,a!==null)))throw a;s.memoizedState=g,s.baseState=w,s.baseQueue=E,u.lastRenderedState=g}return f===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function kh(s){var n=lt(),a=n.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=s;var u=a.dispatch,f=a.pending,g=n.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do g=s(g,w.action),w=w.next;while(w!==f);Yt(g,n.memoizedState)||(ft=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),a.lastRenderedState=g}return[g,u]}function Um(s,n,a){var u=ke,f=lt(),g=De;if(g){if(a===void 0)throw Error(i(407));a=a()}else a=n();var w=!Yt((Ue||f).memoizedState,a);w&&(f.memoizedState=a,ft=!0),f=f.queue;var A=Hm.bind(null,u,f,s);if(Fa(2048,8,A,[s]),f.getSnapshot!==n||w||ot!==null&&ot.memoizedState.tag&1){if(u.flags|=2048,dr(9,_l(),Wm.bind(null,u,f,a,n),null),Ge===null)throw Error(i(349));g||(zi&124)!==0||Vm(u,n,a)}return a}function Vm(s,n,a){s.flags|=16384,s={getSnapshot:n,value:a},n=ke.updateQueue,n===null?(n=Mh(),ke.updateQueue=n,n.stores=[s]):(a=n.stores,a===null?n.stores=[s]:a.push(s))}function Wm(s,n,a,u){n.value=a,n.getSnapshot=u,qm(n)&&$m(s)}function Hm(s,n,a){return a(function(){qm(n)&&$m(s)})}function qm(s){var n=s.getSnapshot;s=s.value;try{var a=n();return!Yt(s,a)}catch{return!0}}function $m(s){var n=ir(s,2);n!==null&&ss(n,s,2)}function Th(s){var n=Vt();if(typeof s=="function"){var a=s;if(s=a(),yn){Ss(!0);try{a()}finally{Ss(!1)}}}return n.memoizedState=n.baseState=s,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:s},n}function Gm(s,n,a,u){return s.baseState=a,Ah(s,Ue,typeof u=="function"?u:ei)}function c1(s,n,a,u,f){if(kl(s))throw Error(i(485));if(s=n.action,s!==null){var g={payload:f,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};U.T!==null?a(!0):g.isTransition=!1,u(g),a=n.pending,a===null?(g.next=n.pending=g,Xm(n,g)):(g.next=a.next,n.pending=a.next=g)}}function Xm(s,n){var a=n.action,u=n.payload,f=s.state;if(n.isTransition){var g=U.T,w={};U.T=w;try{var A=a(f,u),E=U.S;E!==null&&E(w,A),Zm(s,n,A)}catch(L){Ch(s,n,L)}finally{U.T=g}}else try{g=a(f,u),Zm(s,n,g)}catch(L){Ch(s,n,L)}}function Zm(s,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Ym(s,n,u)},function(u){return Ch(s,n,u)}):Ym(s,n,a)}function Ym(s,n,a){n.status="fulfilled",n.value=a,Jm(n),s.state=a,n=s.pending,n!==null&&(a=n.next,a===n?s.pending=null:(a=a.next,n.next=a,Xm(s,a)))}function Ch(s,n,a){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=a,Jm(n),n=n.next;while(n!==u)}s.action=null}function Jm(s){s=s.listeners;for(var n=0;n<s.length;n++)(0,s[n])()}function Qm(s,n){return n}function Km(s,n){if(De){var a=Ge.formState;if(a!==null){e:{var u=ke;if(De){if(tt){t:{for(var f=tt,g=Is;f.nodeType!==8;){if(!g){f=null;break t}if(f=ks(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){tt=ks(f.nextSibling),u=f.data==="F!";break e}}pn(u)}u=!1}u&&(n=a[0])}}return a=Vt(),a.memoizedState=a.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qm,lastRenderedState:n},a.queue=u,a=vg.bind(null,ke,u),u.dispatch=a,u=Th(!1),g=Ih.bind(null,ke,!1,u.queue),u=Vt(),f={state:n,dispatch:null,action:s,pending:null},u.queue=f,a=c1.bind(null,ke,f,g,a),f.dispatch=a,u.memoizedState=s,[n,a,!1]}function eg(s){var n=lt();return tg(n,Ue,s)}function tg(s,n,a){if(n=Ah(s,n,Qm)[0],s=Ml(ei)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=ja(n)}catch(w){throw w===Ia?yl:w}else u=n;n=lt();var f=n.queue,g=f.dispatch;return a!==n.memoizedState&&(ke.flags|=2048,dr(9,_l(),h1.bind(null,f,a),null)),[u,g,s]}function h1(s,n){s.action=n}function sg(s){var n=lt(),a=Ue;if(a!==null)return tg(n,a,s);lt(),n=n.memoizedState,a=lt();var u=a.queue.dispatch;return a.memoizedState=s,[n,u,!1]}function dr(s,n,a,u){return s={tag:s,create:a,deps:u,inst:n,next:null},n=ke.updateQueue,n===null&&(n=Mh(),ke.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=s.next=s:(u=a.next,a.next=s,s.next=u,n.lastEffect=s),s}function _l(){return{destroy:void 0,resource:void 0}}function ig(){return lt().memoizedState}function Al(s,n,a,u){var f=Vt();u=u===void 0?null:u,ke.flags|=s,f.memoizedState=dr(1|n,_l(),a,u)}function Fa(s,n,a,u){var f=lt();u=u===void 0?null:u;var g=f.memoizedState.inst;Ue!==null&&u!==null&&vh(u,Ue.memoizedState.deps)?f.memoizedState=dr(n,g,a,u):(ke.flags|=s,f.memoizedState=dr(1|n,g,a,u))}function ng(s,n){Al(8390656,8,s,n)}function rg(s,n){Fa(2048,8,s,n)}function ag(s,n){return Fa(4,2,s,n)}function og(s,n){return Fa(4,4,s,n)}function lg(s,n){if(typeof n=="function"){s=s();var a=n(s);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return s=s(),n.current=s,function(){n.current=null}}function ug(s,n,a){a=a!=null?a.concat([s]):null,Fa(4,4,lg.bind(null,n,s),a)}function zh(){}function cg(s,n){var a=lt();n=n===void 0?null:n;var u=a.memoizedState;return n!==null&&vh(n,u[1])?u[0]:(a.memoizedState=[s,n],s)}function hg(s,n){var a=lt();n=n===void 0?null:n;var u=a.memoizedState;if(n!==null&&vh(n,u[1]))return u[0];if(u=s(),yn){Ss(!0);try{s()}finally{Ss(!1)}}return a.memoizedState=[u,n],u}function Eh(s,n,a){return a===void 0||(zi&1073741824)!==0?s.memoizedState=n:(s.memoizedState=a,s=fy(),ke.lanes|=s,Li|=s,a)}function dg(s,n,a,u){return Yt(a,n)?a:ur.current!==null?(s=Eh(s,a,u),Yt(s,n)||(ft=!0),s):(zi&42)===0?(ft=!0,s.memoizedState=a):(s=fy(),ke.lanes|=s,Li|=s,n)}function pg(s,n,a,u,f){var g=J.p;J.p=g!==0&&8>g?g:8;var w=U.T,A={};U.T=A,Ih(s,!1,n,a);try{var E=f(),L=U.S;if(L!==null&&L(A,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var H=o1(E,u);Ua(s,n,H,ts(s))}else Ua(s,n,u,ts(s))}catch(X){Ua(s,n,{then:function(){},status:"rejected",reason:X},ts())}finally{J.p=g,U.T=w}}function d1(){}function Ph(s,n,a,u){if(s.tag!==5)throw Error(i(476));var f=fg(s).queue;pg(s,f,n,ae,a===null?d1:function(){return mg(s),a(u)})}function fg(s){var n=s.memoizedState;if(n!==null)return n;n={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:ae},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:a},next:null},s.memoizedState=n,s=s.alternate,s!==null&&(s.memoizedState=n),n}function mg(s){var n=fg(s).next.queue;Ua(s,n,{},ts())}function Nh(){return At(ro)}function gg(){return lt().memoizedState}function yg(){return lt().memoizedState}function p1(s){for(var n=s.return;n!==null;){switch(n.tag){case 24:case 3:var a=ts();s=Ti(a);var u=Ci(n,s,a);u!==null&&(ss(u,n,a),Ba(u,n,a)),n={cache:lh()},s.payload=n;return}n=n.return}}function f1(s,n,a){var u=ts();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},kl(s)?bg(n,a):(a=Qc(s,n,a,u),a!==null&&(ss(a,s,u),xg(a,n,u)))}function vg(s,n,a){var u=ts();Ua(s,n,a,u)}function Ua(s,n,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(kl(s))bg(n,f);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var w=n.lastRenderedState,A=g(w,a);if(f.hasEagerState=!0,f.eagerState=A,Yt(A,w))return ul(s,n,f,0),Ge===null&&ll(),!1}catch{}finally{}if(a=Qc(s,n,f,u),a!==null)return ss(a,s,u),xg(a,n,u),!0}return!1}function Ih(s,n,a,u){if(u={lane:2,revertLane:hd(),action:u,hasEagerState:!1,eagerState:null,next:null},kl(s)){if(n)throw Error(i(479))}else n=Qc(s,a,u,2),n!==null&&ss(n,s,2)}function kl(s){var n=s.alternate;return s===ke||n!==null&&n===ke}function bg(s,n){cr=xl=!0;var a=s.pending;a===null?n.next=n:(n.next=a.next,a.next=n),s.pending=n}function xg(s,n,a){if((a&4194048)!==0){var u=n.lanes;u&=s.pendingLanes,a|=u,n.lanes=a,Cf(s,a)}}var Tl={readContext:At,use:Sl,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt},wg={readContext:At,use:Sl,useCallback:function(s,n){return Vt().memoizedState=[s,n===void 0?null:n],s},useContext:At,useEffect:ng,useImperativeHandle:function(s,n,a){a=a!=null?a.concat([s]):null,Al(4194308,4,lg.bind(null,n,s),a)},useLayoutEffect:function(s,n){return Al(4194308,4,s,n)},useInsertionEffect:function(s,n){Al(4,2,s,n)},useMemo:function(s,n){var a=Vt();n=n===void 0?null:n;var u=s();if(yn){Ss(!0);try{s()}finally{Ss(!1)}}return a.memoizedState=[u,n],u},useReducer:function(s,n,a){var u=Vt();if(a!==void 0){var f=a(n);if(yn){Ss(!0);try{a(n)}finally{Ss(!1)}}}else f=n;return u.memoizedState=u.baseState=f,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:f},u.queue=s,s=s.dispatch=f1.bind(null,ke,s),[u.memoizedState,s]},useRef:function(s){var n=Vt();return s={current:s},n.memoizedState=s},useState:function(s){s=Th(s);var n=s.queue,a=vg.bind(null,ke,n);return n.dispatch=a,[s.memoizedState,a]},useDebugValue:zh,useDeferredValue:function(s,n){var a=Vt();return Eh(a,s,n)},useTransition:function(){var s=Th(!1);return s=pg.bind(null,ke,s.queue,!0,!1),Vt().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,n,a){var u=ke,f=Vt();if(De){if(a===void 0)throw Error(i(407));a=a()}else{if(a=n(),Ge===null)throw Error(i(349));(Re&124)!==0||Vm(u,n,a)}f.memoizedState=a;var g={value:a,getSnapshot:n};return f.queue=g,ng(Hm.bind(null,u,g,s),[s]),u.flags|=2048,dr(9,_l(),Wm.bind(null,u,g,a,n),null),a},useId:function(){var s=Vt(),n=Ge.identifierPrefix;if(De){var a=Js,u=Ys;a=(u&~(1<<32-It(u)-1)).toString(32)+a,n=""+n+"R"+a,a=wl++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=l1++,n=""+n+"r"+a.toString(32)+"";return s.memoizedState=n},useHostTransitionStatus:Nh,useFormState:Km,useActionState:Km,useOptimistic:function(s){var n=Vt();n.memoizedState=n.baseState=s;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Ih.bind(null,ke,!0,a),a.dispatch=n,[s,n]},useMemoCache:_h,useCacheRefresh:function(){return Vt().memoizedState=p1.bind(null,ke)}},Sg={readContext:At,use:Sl,useCallback:cg,useContext:At,useEffect:rg,useImperativeHandle:ug,useInsertionEffect:ag,useLayoutEffect:og,useMemo:hg,useReducer:Ml,useRef:ig,useState:function(){return Ml(ei)},useDebugValue:zh,useDeferredValue:function(s,n){var a=lt();return dg(a,Ue.memoizedState,s,n)},useTransition:function(){var s=Ml(ei)[0],n=lt().memoizedState;return[typeof s=="boolean"?s:ja(s),n]},useSyncExternalStore:Um,useId:gg,useHostTransitionStatus:Nh,useFormState:eg,useActionState:eg,useOptimistic:function(s,n){var a=lt();return Gm(a,Ue,s,n)},useMemoCache:_h,useCacheRefresh:yg},m1={readContext:At,use:Sl,useCallback:cg,useContext:At,useEffect:rg,useImperativeHandle:ug,useInsertionEffect:ag,useLayoutEffect:og,useMemo:hg,useReducer:kh,useRef:ig,useState:function(){return kh(ei)},useDebugValue:zh,useDeferredValue:function(s,n){var a=lt();return Ue===null?Eh(a,s,n):dg(a,Ue.memoizedState,s,n)},useTransition:function(){var s=kh(ei)[0],n=lt().memoizedState;return[typeof s=="boolean"?s:ja(s),n]},useSyncExternalStore:Um,useId:gg,useHostTransitionStatus:Nh,useFormState:sg,useActionState:sg,useOptimistic:function(s,n){var a=lt();return Ue!==null?Gm(a,Ue,s,n):(a.baseState=s,[s,a.queue.dispatch])},useMemoCache:_h,useCacheRefresh:yg},pr=null,Va=0;function Cl(s){var n=Va;return Va+=1,pr===null&&(pr=[]),Im(pr,s,n)}function Wa(s,n){n=n.props.ref,s.ref=n!==void 0?n:null}function zl(s,n){throw n.$$typeof===y?Error(i(525)):(s=Object.prototype.toString.call(n),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":s)))}function Mg(s){var n=s._init;return n(s._payload)}function _g(s){function n(R,N){if(s){var B=R.deletions;B===null?(R.deletions=[N],R.flags|=16):B.push(N)}}function a(R,N){if(!s)return null;for(;N!==null;)n(R,N),N=N.sibling;return null}function u(R){for(var N=new Map;R!==null;)R.key!==null?N.set(R.key,R):N.set(R.index,R),R=R.sibling;return N}function f(R,N){return R=Zs(R,N),R.index=0,R.sibling=null,R}function g(R,N,B){return R.index=B,s?(B=R.alternate,B!==null?(B=B.index,B<N?(R.flags|=67108866,N):B):(R.flags|=67108866,N)):(R.flags|=1048576,N)}function w(R){return s&&R.alternate===null&&(R.flags|=67108866),R}function A(R,N,B,$){return N===null||N.tag!==6?(N=eh(B,R.mode,$),N.return=R,N):(N=f(N,B),N.return=R,N)}function E(R,N,B,$){var re=B.type;return re===x?H(R,N,B.props.children,$,B.key):N!==null&&(N.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===D&&Mg(re)===N.type)?(N=f(N,B.props),Wa(N,B),N.return=R,N):(N=hl(B.type,B.key,B.props,null,R.mode,$),Wa(N,B),N.return=R,N)}function L(R,N,B,$){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=th(B,R.mode,$),N.return=R,N):(N=f(N,B.children||[]),N.return=R,N)}function H(R,N,B,$,re){return N===null||N.tag!==7?(N=un(B,R.mode,$,re),N.return=R,N):(N=f(N,B),N.return=R,N)}function X(R,N,B){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=eh(""+N,R.mode,B),N.return=R,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case v:return B=hl(N.type,N.key,N.props,null,R.mode,B),Wa(B,N),B.return=R,B;case b:return N=th(N,R.mode,B),N.return=R,N;case D:var $=N._init;return N=$(N._payload),X(R,N,B)}if(_e(N)||le(N))return N=un(N,R.mode,B,null),N.return=R,N;if(typeof N.then=="function")return X(R,Cl(N),B);if(N.$$typeof===T)return X(R,ml(R,N),B);zl(R,N)}return null}function j(R,N,B,$){var re=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return re!==null?null:A(R,N,""+B,$);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case v:return B.key===re?E(R,N,B,$):null;case b:return B.key===re?L(R,N,B,$):null;case D:return re=B._init,B=re(B._payload),j(R,N,B,$)}if(_e(B)||le(B))return re!==null?null:H(R,N,B,$,null);if(typeof B.then=="function")return j(R,N,Cl(B),$);if(B.$$typeof===T)return j(R,N,ml(R,B),$);zl(R,B)}return null}function F(R,N,B,$,re){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return R=R.get(B)||null,A(N,R,""+$,re);if(typeof $=="object"&&$!==null){switch($.$$typeof){case v:return R=R.get($.key===null?B:$.key)||null,E(N,R,$,re);case b:return R=R.get($.key===null?B:$.key)||null,L(N,R,$,re);case D:var Ce=$._init;return $=Ce($._payload),F(R,N,B,$,re)}if(_e($)||le($))return R=R.get(B)||null,H(N,R,$,re,null);if(typeof $.then=="function")return F(R,N,B,Cl($),re);if($.$$typeof===T)return F(R,N,B,ml(N,$),re);zl(N,$)}return null}function ge(R,N,B,$){for(var re=null,Ce=null,ue=N,pe=N=0,gt=null;ue!==null&&pe<B.length;pe++){ue.index>pe?(gt=ue,ue=null):gt=ue.sibling;var Be=j(R,ue,B[pe],$);if(Be===null){ue===null&&(ue=gt);break}s&&ue&&Be.alternate===null&&n(R,ue),N=g(Be,N,pe),Ce===null?re=Be:Ce.sibling=Be,Ce=Be,ue=gt}if(pe===B.length)return a(R,ue),De&&hn(R,pe),re;if(ue===null){for(;pe<B.length;pe++)ue=X(R,B[pe],$),ue!==null&&(N=g(ue,N,pe),Ce===null?re=ue:Ce.sibling=ue,Ce=ue);return De&&hn(R,pe),re}for(ue=u(ue);pe<B.length;pe++)gt=F(ue,R,pe,B[pe],$),gt!==null&&(s&&gt.alternate!==null&&ue.delete(gt.key===null?pe:gt.key),N=g(gt,N,pe),Ce===null?re=gt:Ce.sibling=gt,Ce=gt);return s&&ue.forEach(function(qi){return n(R,qi)}),De&&hn(R,pe),re}function de(R,N,B,$){if(B==null)throw Error(i(151));for(var re=null,Ce=null,ue=N,pe=N=0,gt=null,Be=B.next();ue!==null&&!Be.done;pe++,Be=B.next()){ue.index>pe?(gt=ue,ue=null):gt=ue.sibling;var qi=j(R,ue,Be.value,$);if(qi===null){ue===null&&(ue=gt);break}s&&ue&&qi.alternate===null&&n(R,ue),N=g(qi,N,pe),Ce===null?re=qi:Ce.sibling=qi,Ce=qi,ue=gt}if(Be.done)return a(R,ue),De&&hn(R,pe),re;if(ue===null){for(;!Be.done;pe++,Be=B.next())Be=X(R,Be.value,$),Be!==null&&(N=g(Be,N,pe),Ce===null?re=Be:Ce.sibling=Be,Ce=Be);return De&&hn(R,pe),re}for(ue=u(ue);!Be.done;pe++,Be=B.next())Be=F(ue,R,pe,Be.value,$),Be!==null&&(s&&Be.alternate!==null&&ue.delete(Be.key===null?pe:Be.key),N=g(Be,N,pe),Ce===null?re=Be:Ce.sibling=Be,Ce=Be);return s&&ue.forEach(function(gw){return n(R,gw)}),De&&hn(R,pe),re}function We(R,N,B,$){if(typeof B=="object"&&B!==null&&B.type===x&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case v:e:{for(var re=B.key;N!==null;){if(N.key===re){if(re=B.type,re===x){if(N.tag===7){a(R,N.sibling),$=f(N,B.props.children),$.return=R,R=$;break e}}else if(N.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===D&&Mg(re)===N.type){a(R,N.sibling),$=f(N,B.props),Wa($,B),$.return=R,R=$;break e}a(R,N);break}else n(R,N);N=N.sibling}B.type===x?($=un(B.props.children,R.mode,$,B.key),$.return=R,R=$):($=hl(B.type,B.key,B.props,null,R.mode,$),Wa($,B),$.return=R,R=$)}return w(R);case b:e:{for(re=B.key;N!==null;){if(N.key===re)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){a(R,N.sibling),$=f(N,B.children||[]),$.return=R,R=$;break e}else{a(R,N);break}else n(R,N);N=N.sibling}$=th(B,R.mode,$),$.return=R,R=$}return w(R);case D:return re=B._init,B=re(B._payload),We(R,N,B,$)}if(_e(B))return ge(R,N,B,$);if(le(B)){if(re=le(B),typeof re!="function")throw Error(i(150));return B=re.call(B),de(R,N,B,$)}if(typeof B.then=="function")return We(R,N,Cl(B),$);if(B.$$typeof===T)return We(R,N,ml(R,B),$);zl(R,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,N!==null&&N.tag===6?(a(R,N.sibling),$=f(N,B),$.return=R,R=$):(a(R,N),$=eh(B,R.mode,$),$.return=R,R=$),w(R)):a(R,N)}return function(R,N,B,$){try{Va=0;var re=We(R,N,B,$);return pr=null,re}catch(ue){if(ue===Ia||ue===yl)throw ue;var Ce=Jt(29,ue,null,R.mode);return Ce.lanes=$,Ce.return=R,Ce}finally{}}}var fr=_g(!0),Ag=_g(!1),ms=q(null),ti=null;function Ei(s){var n=s.alternate;K(ht,ht.current&1),K(ms,s),ti===null&&(n===null||ur.current!==null||n.memoizedState!==null)&&(ti=s)}function kg(s){if(s.tag===22){if(K(ht,ht.current),K(ms,s),ti===null){var n=s.alternate;n!==null&&n.memoizedState!==null&&(ti=s)}}else Pi()}function Pi(){K(ht,ht.current),K(ms,ms.current)}function si(s){Q(ms),ti===s&&(ti=null),Q(ht)}var ht=q(0);function El(s){for(var n=s;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Md(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Rh(s,n,a,u){n=s.memoizedState,a=a(u,n),a=a==null?n:m({},n,a),s.memoizedState=a,s.lanes===0&&(s.updateQueue.baseState=a)}var Bh={enqueueSetState:function(s,n,a){s=s._reactInternals;var u=ts(),f=Ti(u);f.payload=n,a!=null&&(f.callback=a),n=Ci(s,f,u),n!==null&&(ss(n,s,u),Ba(n,s,u))},enqueueReplaceState:function(s,n,a){s=s._reactInternals;var u=ts(),f=Ti(u);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=Ci(s,f,u),n!==null&&(ss(n,s,u),Ba(n,s,u))},enqueueForceUpdate:function(s,n){s=s._reactInternals;var a=ts(),u=Ti(a);u.tag=2,n!=null&&(u.callback=n),n=Ci(s,u,a),n!==null&&(ss(n,s,a),Ba(n,s,a))}};function Tg(s,n,a,u,f,g,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,g,w):n.prototype&&n.prototype.isPureReactComponent?!Aa(a,u)||!Aa(f,g):!0}function Cg(s,n,a,u){s=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,u),n.state!==s&&Bh.enqueueReplaceState(n,n.state,null)}function vn(s,n){var a=n;if("ref"in n){a={};for(var u in n)u!=="ref"&&(a[u]=n[u])}if(s=s.defaultProps){a===n&&(a=m({},a));for(var f in s)a[f]===void 0&&(a[f]=s[f])}return a}var Pl=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function zg(s){Pl(s)}function Eg(s){console.error(s)}function Pg(s){Pl(s)}function Nl(s,n){try{var a=s.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function Ng(s,n,a){try{var u=s.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Lh(s,n,a){return a=Ti(a),a.tag=3,a.payload={element:null},a.callback=function(){Nl(s,n)},a}function Ig(s){return s=Ti(s),s.tag=3,s}function Rg(s,n,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;s.payload=function(){return f(g)},s.callback=function(){Ng(n,a,u)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){Ng(n,a,u),typeof f!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function g1(s,n,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=a.alternate,n!==null&&Ea(n,a,f,!0),a=ms.current,a!==null){switch(a.tag){case 13:return ti===null?ad():a.alternate===null&&st===0&&(st=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===hh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([u]):n.add(u),ld(s,u,f)),!1;case 22:return a.flags|=65536,u===hh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([u]):a.add(u)),ld(s,u,f)),!1}throw Error(i(435,a.tag))}return ld(s,u,f),ad(),!1}if(De)return n=ms.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,u!==nh&&(s=Error(i(422),{cause:u}),za(hs(s,a)))):(u!==nh&&(n=Error(i(423),{cause:u}),za(hs(n,a))),s=s.current.alternate,s.flags|=65536,f&=-f,s.lanes|=f,u=hs(u,a),f=Lh(s.stateNode,u,f),fh(s,f),st!==4&&(st=2)),!1;var g=Error(i(520),{cause:u});if(g=hs(g,a),Ya===null?Ya=[g]:Ya.push(g),st!==4&&(st=2),n===null)return!0;u=hs(u,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,s=f&-f,a.lanes|=s,s=Lh(a.stateNode,u,s),fh(a,s),!1;case 1:if(n=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Oi===null||!Oi.has(g))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Ig(f),Rg(f,s,a,u),fh(a,f),!1}a=a.return}while(a!==null);return!1}var Bg=Error(i(461)),ft=!1;function bt(s,n,a,u){n.child=s===null?Ag(n,null,a,u):fr(n,s.child,a,u)}function Lg(s,n,a,u,f){a=a.render;var g=n.ref;if("ref"in u){var w={};for(var A in u)A!=="ref"&&(w[A]=u[A])}else w=u;return mn(n),u=bh(s,n,a,w,g,f),A=xh(),s!==null&&!ft?(wh(s,n,f),ii(s,n,f)):(De&&A&&sh(n),n.flags|=1,bt(s,n,u,f),n.child)}function Og(s,n,a,u,f){if(s===null){var g=a.type;return typeof g=="function"&&!Kc(g)&&g.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=g,Dg(s,n,g,u,f)):(s=hl(a.type,null,u,n,n.mode,f),s.ref=n.ref,s.return=n,n.child=s)}if(g=s.child,!Hh(s,f)){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:Aa,a(w,u)&&s.ref===n.ref)return ii(s,n,f)}return n.flags|=1,s=Zs(g,u),s.ref=n.ref,s.return=n,n.child=s}function Dg(s,n,a,u,f){if(s!==null){var g=s.memoizedProps;if(Aa(g,u)&&s.ref===n.ref)if(ft=!1,n.pendingProps=u=g,Hh(s,f))(s.flags&131072)!==0&&(ft=!0);else return n.lanes=s.lanes,ii(s,n,f)}return Oh(s,n,a,u,f)}function jg(s,n,a){var u=n.pendingProps,f=u.children,g=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((n.flags&128)!==0){if(u=g!==null?g.baseLanes|a:a,s!==null){for(f=n.child=s.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;n.childLanes=g&~u}else n.childLanes=0,n.child=null;return Fg(s,n,u,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},s!==null&&gl(n,g!==null?g.cachePool:null),g!==null?Dm(n,g):gh(),kg(n);else return n.lanes=n.childLanes=536870912,Fg(s,n,g!==null?g.baseLanes|a:a,a)}else g!==null?(gl(n,g.cachePool),Dm(n,g),Pi(),n.memoizedState=null):(s!==null&&gl(n,null),gh(),Pi());return bt(s,n,f,a),n.child}function Fg(s,n,a,u){var f=ch();return f=f===null?null:{parent:ct._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},s!==null&&gl(n,null),gh(),kg(n),s!==null&&Ea(s,n,u,!0),null}function Il(s,n){var a=n.ref;if(a===null)s!==null&&s.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(s===null||s.ref!==a)&&(n.flags|=4194816)}}function Oh(s,n,a,u,f){return mn(n),a=bh(s,n,a,u,void 0,f),u=xh(),s!==null&&!ft?(wh(s,n,f),ii(s,n,f)):(De&&u&&sh(n),n.flags|=1,bt(s,n,a,f),n.child)}function Ug(s,n,a,u,f,g){return mn(n),n.updateQueue=null,a=Fm(n,u,a,f),jm(s),u=xh(),s!==null&&!ft?(wh(s,n,g),ii(s,n,g)):(De&&u&&sh(n),n.flags|=1,bt(s,n,a,g),n.child)}function Vg(s,n,a,u,f){if(mn(n),n.stateNode===null){var g=nr,w=a.contextType;typeof w=="object"&&w!==null&&(g=At(w)),g=new a(u,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Bh,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=u,g.state=n.memoizedState,g.refs={},dh(n),w=a.contextType,g.context=typeof w=="object"&&w!==null?At(w):nr,g.state=n.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(Rh(n,a,w,u),g.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&Bh.enqueueReplaceState(g,g.state,null),Oa(n,u,g,f),La(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(s===null){g=n.stateNode;var A=n.memoizedProps,E=vn(a,A);g.props=E;var L=g.context,H=a.contextType;w=nr,typeof H=="object"&&H!==null&&(w=At(H));var X=a.getDerivedStateFromProps;H=typeof X=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=n.pendingProps!==A,H||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||L!==w)&&Cg(n,g,u,w),ki=!1;var j=n.memoizedState;g.state=j,Oa(n,u,g,f),La(),L=n.memoizedState,A||j!==L||ki?(typeof X=="function"&&(Rh(n,a,X,u),L=n.memoizedState),(E=ki||Tg(n,a,E,u,j,L,w))?(H||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=L),g.props=u,g.state=L,g.context=w,u=E):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{g=n.stateNode,ph(s,n),w=n.memoizedProps,H=vn(a,w),g.props=H,X=n.pendingProps,j=g.context,L=a.contextType,E=nr,typeof L=="object"&&L!==null&&(E=At(L)),A=a.getDerivedStateFromProps,(L=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==X||j!==E)&&Cg(n,g,u,E),ki=!1,j=n.memoizedState,g.state=j,Oa(n,u,g,f),La();var F=n.memoizedState;w!==X||j!==F||ki||s!==null&&s.dependencies!==null&&fl(s.dependencies)?(typeof A=="function"&&(Rh(n,a,A,u),F=n.memoizedState),(H=ki||Tg(n,a,H,u,j,F,E)||s!==null&&s.dependencies!==null&&fl(s.dependencies))?(L||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,F,E),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,F,E)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===s.memoizedProps&&j===s.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&j===s.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=F),g.props=u,g.state=F,g.context=E,u=H):(typeof g.componentDidUpdate!="function"||w===s.memoizedProps&&j===s.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&j===s.memoizedState||(n.flags|=1024),u=!1)}return g=u,Il(s,n),u=(n.flags&128)!==0,g||u?(g=n.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,s!==null&&u?(n.child=fr(n,s.child,null,f),n.child=fr(n,null,a,f)):bt(s,n,a,f),n.memoizedState=g.state,s=n.child):s=ii(s,n,f),s}function Wg(s,n,a,u){return Ca(),n.flags|=256,bt(s,n,a,u),n.child}var Dh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jh(s){return{baseLanes:s,cachePool:Em()}}function Fh(s,n,a){return s=s!==null?s.childLanes&~a:0,n&&(s|=gs),s}function Hg(s,n,a){var u=n.pendingProps,f=!1,g=(n.flags&128)!==0,w;if((w=g)||(w=s!==null&&s.memoizedState===null?!1:(ht.current&2)!==0),w&&(f=!0,n.flags&=-129),w=(n.flags&32)!==0,n.flags&=-33,s===null){if(De){if(f?Ei(n):Pi(),De){var A=tt,E;if(E=A){e:{for(E=A,A=Is;E.nodeType!==8;){if(!A){A=null;break e}if(E=ks(E.nextSibling),E===null){A=null;break e}}A=E}A!==null?(n.memoizedState={dehydrated:A,treeContext:cn!==null?{id:Ys,overflow:Js}:null,retryLane:536870912,hydrationErrors:null},E=Jt(18,null,null,0),E.stateNode=A,E.return=n,n.child=E,Rt=n,tt=null,E=!0):E=!1}E||pn(n)}if(A=n.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Md(A)?n.lanes=32:n.lanes=536870912,null;si(n)}return A=u.children,u=u.fallback,f?(Pi(),f=n.mode,A=Rl({mode:"hidden",children:A},f),u=un(u,f,a,null),A.return=n,u.return=n,A.sibling=u,n.child=A,f=n.child,f.memoizedState=jh(a),f.childLanes=Fh(s,w,a),n.memoizedState=Dh,u):(Ei(n),Uh(n,A))}if(E=s.memoizedState,E!==null&&(A=E.dehydrated,A!==null)){if(g)n.flags&256?(Ei(n),n.flags&=-257,n=Vh(s,n,a)):n.memoizedState!==null?(Pi(),n.child=s.child,n.flags|=128,n=null):(Pi(),f=u.fallback,A=n.mode,u=Rl({mode:"visible",children:u.children},A),f=un(f,A,a,null),f.flags|=2,u.return=n,f.return=n,u.sibling=f,n.child=u,fr(n,s.child,null,a),u=n.child,u.memoizedState=jh(a),u.childLanes=Fh(s,w,a),n.memoizedState=Dh,n=f);else if(Ei(n),Md(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var L=w.dgst;w=L,u=Error(i(419)),u.stack="",u.digest=w,za({value:u,source:null,stack:null}),n=Vh(s,n,a)}else if(ft||Ea(s,n,a,!1),w=(a&s.childLanes)!==0,ft||w){if(w=Ge,w!==null&&(u=a&-a,u=(u&42)!==0?1:_c(u),u=(u&(w.suspendedLanes|a))!==0?0:u,u!==0&&u!==E.retryLane))throw E.retryLane=u,ir(s,u),ss(w,s,u),Bg;A.data==="$?"||ad(),n=Vh(s,n,a)}else A.data==="$?"?(n.flags|=192,n.child=s.child,n=null):(s=E.treeContext,tt=ks(A.nextSibling),Rt=n,De=!0,dn=null,Is=!1,s!==null&&(ps[fs++]=Ys,ps[fs++]=Js,ps[fs++]=cn,Ys=s.id,Js=s.overflow,cn=n),n=Uh(n,u.children),n.flags|=4096);return n}return f?(Pi(),f=u.fallback,A=n.mode,E=s.child,L=E.sibling,u=Zs(E,{mode:"hidden",children:u.children}),u.subtreeFlags=E.subtreeFlags&65011712,L!==null?f=Zs(L,f):(f=un(f,A,a,null),f.flags|=2),f.return=n,u.return=n,u.sibling=f,n.child=u,u=f,f=n.child,A=s.child.memoizedState,A===null?A=jh(a):(E=A.cachePool,E!==null?(L=ct._currentValue,E=E.parent!==L?{parent:L,pool:L}:E):E=Em(),A={baseLanes:A.baseLanes|a,cachePool:E}),f.memoizedState=A,f.childLanes=Fh(s,w,a),n.memoizedState=Dh,u):(Ei(n),a=s.child,s=a.sibling,a=Zs(a,{mode:"visible",children:u.children}),a.return=n,a.sibling=null,s!==null&&(w=n.deletions,w===null?(n.deletions=[s],n.flags|=16):w.push(s)),n.child=a,n.memoizedState=null,a)}function Uh(s,n){return n=Rl({mode:"visible",children:n},s.mode),n.return=s,s.child=n}function Rl(s,n){return s=Jt(22,s,null,n),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Vh(s,n,a){return fr(n,s.child,null,a),s=Uh(n,n.pendingProps.children),s.flags|=2,n.memoizedState=null,s}function qg(s,n,a){s.lanes|=n;var u=s.alternate;u!==null&&(u.lanes|=n),ah(s.return,n,a)}function Wh(s,n,a,u,f){var g=s.memoizedState;g===null?s.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=a,g.tailMode=f)}function $g(s,n,a){var u=n.pendingProps,f=u.revealOrder,g=u.tail;if(bt(s,n,u.children,a),u=ht.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=n.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&qg(s,a,n);else if(s.tag===19)qg(s,a,n);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(K(ht,u),f){case"forwards":for(a=n.child,f=null;a!==null;)s=a.alternate,s!==null&&El(s)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),Wh(n,!1,f,a,g);break;case"backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(s=f.alternate,s!==null&&El(s)===null){n.child=f;break}s=f.sibling,f.sibling=a,a=f,f=s}Wh(n,!0,a,null,g);break;case"together":Wh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ii(s,n,a){if(s!==null&&(n.dependencies=s.dependencies),Li|=n.lanes,(a&n.childLanes)===0)if(s!==null){if(Ea(s,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(s!==null&&n.child!==s.child)throw Error(i(153));if(n.child!==null){for(s=n.child,a=Zs(s,s.pendingProps),n.child=a,a.return=n;s.sibling!==null;)s=s.sibling,a=a.sibling=Zs(s,s.pendingProps),a.return=n;a.sibling=null}return n.child}function Hh(s,n){return(s.lanes&n)!==0?!0:(s=s.dependencies,!!(s!==null&&fl(s)))}function y1(s,n,a){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),Ai(n,ct,s.memoizedState.cache),Ca();break;case 27:case 5:pa(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:Ai(n,n.type,n.memoizedProps.value);break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(Ei(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Hg(s,n,a):(Ei(n),s=ii(s,n,a),s!==null?s.sibling:null);Ei(n);break;case 19:var f=(s.flags&128)!==0;if(u=(a&n.childLanes)!==0,u||(Ea(s,n,a,!1),u=(a&n.childLanes)!==0),f){if(u)return $g(s,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),K(ht,ht.current),u)break;return null;case 22:case 23:return n.lanes=0,jg(s,n,a);case 24:Ai(n,ct,s.memoizedState.cache)}return ii(s,n,a)}function Gg(s,n,a){if(s!==null)if(s.memoizedProps!==n.pendingProps)ft=!0;else{if(!Hh(s,a)&&(n.flags&128)===0)return ft=!1,y1(s,n,a);ft=(s.flags&131072)!==0}else ft=!1,De&&(n.flags&1048576)!==0&&Mm(n,pl,n.index);switch(n.lanes=0,n.tag){case 16:e:{s=n.pendingProps;var u=n.elementType,f=u._init;if(u=f(u._payload),n.type=u,typeof u=="function")Kc(u)?(s=vn(u,s),n.tag=1,n=Vg(null,n,u,s,a)):(n.tag=0,n=Oh(null,n,u,s,a));else{if(u!=null){if(f=u.$$typeof,f===C){n.tag=11,n=Lg(null,n,u,s,a);break e}else if(f===V){n.tag=14,n=Og(null,n,u,s,a);break e}}throw n=xe(u)||u,Error(i(306,n,""))}}return n;case 0:return Oh(s,n,n.type,n.pendingProps,a);case 1:return u=n.type,f=vn(u,n.pendingProps),Vg(s,n,u,f,a);case 3:e:{if(Ie(n,n.stateNode.containerInfo),s===null)throw Error(i(387));u=n.pendingProps;var g=n.memoizedState;f=g.element,ph(s,n),Oa(n,u,null,a);var w=n.memoizedState;if(u=w.cache,Ai(n,ct,u),u!==g.cache&&oh(n,[ct],a,!0),La(),u=w.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:w.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=Wg(s,n,u,a);break e}else if(u!==f){f=hs(Error(i(424)),n),za(f),n=Wg(s,n,u,a);break e}else{switch(s=n.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(tt=ks(s.firstChild),Rt=n,De=!0,dn=null,Is=!0,a=Ag(n,null,u,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ca(),u===f){n=ii(s,n,a);break e}bt(s,n,u,a)}n=n.child}return n;case 26:return Il(s,n),s===null?(a=Jy(n.type,null,n.pendingProps,null))?n.memoizedState=a:De||(a=n.type,s=n.pendingProps,u=Xl(ye.current).createElement(a),u[_t]=n,u[Ft]=s,wt(u,a,s),pt(u),n.stateNode=u):n.memoizedState=Jy(n.type,s.memoizedProps,n.pendingProps,s.memoizedState),null;case 27:return pa(n),s===null&&De&&(u=n.stateNode=Xy(n.type,n.pendingProps,ye.current),Rt=n,Is=!0,f=tt,Fi(n.type)?(_d=f,tt=ks(u.firstChild)):tt=f),bt(s,n,n.pendingProps.children,a),Il(s,n),s===null&&(n.flags|=4194304),n.child;case 5:return s===null&&De&&((f=u=tt)&&(u=q1(u,n.type,n.pendingProps,Is),u!==null?(n.stateNode=u,Rt=n,tt=ks(u.firstChild),Is=!1,f=!0):f=!1),f||pn(n)),pa(n),f=n.type,g=n.pendingProps,w=s!==null?s.memoizedProps:null,u=g.children,xd(f,g)?u=null:w!==null&&xd(f,w)&&(n.flags|=32),n.memoizedState!==null&&(f=bh(s,n,u1,null,null,a),ro._currentValue=f),Il(s,n),bt(s,n,u,a),n.child;case 6:return s===null&&De&&((s=a=tt)&&(a=$1(a,n.pendingProps,Is),a!==null?(n.stateNode=a,Rt=n,tt=null,s=!0):s=!1),s||pn(n)),null;case 13:return Hg(s,n,a);case 4:return Ie(n,n.stateNode.containerInfo),u=n.pendingProps,s===null?n.child=fr(n,null,u,a):bt(s,n,u,a),n.child;case 11:return Lg(s,n,n.type,n.pendingProps,a);case 7:return bt(s,n,n.pendingProps,a),n.child;case 8:return bt(s,n,n.pendingProps.children,a),n.child;case 12:return bt(s,n,n.pendingProps.children,a),n.child;case 10:return u=n.pendingProps,Ai(n,n.type,u.value),bt(s,n,u.children,a),n.child;case 9:return f=n.type._context,u=n.pendingProps.children,mn(n),f=At(f),u=u(f),n.flags|=1,bt(s,n,u,a),n.child;case 14:return Og(s,n,n.type,n.pendingProps,a);case 15:return Dg(s,n,n.type,n.pendingProps,a);case 19:return $g(s,n,a);case 31:return u=n.pendingProps,a=n.mode,u={mode:u.mode,children:u.children},s===null?(a=Rl(u,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Zs(s.child,u),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return jg(s,n,a);case 24:return mn(n),u=At(ct),s===null?(f=ch(),f===null&&(f=Ge,g=lh(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=a),f=g),n.memoizedState={parent:u,cache:f},dh(n),Ai(n,ct,f)):((s.lanes&a)!==0&&(ph(s,n),Oa(n,null,null,a),La()),f=s.memoizedState,g=n.memoizedState,f.parent!==u?(f={parent:u,cache:u},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Ai(n,ct,u)):(u=g.cache,Ai(n,ct,u),u!==f.cache&&oh(n,[ct],a,!0))),bt(s,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function ni(s){s.flags|=4}function Xg(s,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!s0(n)){if(n=ms.current,n!==null&&((Re&4194048)===Re?ti!==null:(Re&62914560)!==Re&&(Re&536870912)===0||n!==ti))throw Ra=hh,Pm;s.flags|=8192}}function Bl(s,n){n!==null&&(s.flags|=4),s.flags&16384&&(n=s.tag!==22?kf():536870912,s.lanes|=n,vr|=n)}function Ha(s,n){if(!De)switch(s.tailMode){case"hidden":n=s.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?s.tail=null:a.sibling=null;break;case"collapsed":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?n||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function Ye(s){var n=s.alternate!==null&&s.alternate.child===s.child,a=0,u=0;if(n)for(var f=s.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=s,f=f.sibling;else for(f=s.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=s,f=f.sibling;return s.subtreeFlags|=u,s.childLanes=a,n}function v1(s,n,a){var u=n.pendingProps;switch(ih(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(n),null;case 1:return Ye(n),null;case 3:return a=n.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),Ks(ct),Xt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(s===null||s.child===null)&&(Ta(n)?ni(n):s===null||s.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,km())),Ye(n),null;case 26:return a=n.memoizedState,s===null?(ni(n),a!==null?(Ye(n),Xg(n,a)):(Ye(n),n.flags&=-16777217)):a?a!==s.memoizedState?(ni(n),Ye(n),Xg(n,a)):(Ye(n),n.flags&=-16777217):(s.memoizedProps!==u&&ni(n),Ye(n),n.flags&=-16777217),null;case 27:jt(n),a=ye.current;var f=n.type;if(s!==null&&n.stateNode!=null)s.memoizedProps!==u&&ni(n);else{if(!u){if(n.stateNode===null)throw Error(i(166));return Ye(n),null}s=ce.current,Ta(n)?_m(n):(s=Xy(f,u,a),n.stateNode=s,ni(n))}return Ye(n),null;case 5:if(jt(n),a=n.type,s!==null&&n.stateNode!=null)s.memoizedProps!==u&&ni(n);else{if(!u){if(n.stateNode===null)throw Error(i(166));return Ye(n),null}if(s=ce.current,Ta(n))_m(n);else{switch(f=Xl(ye.current),s){case 1:s=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:s=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":s=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":s=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":s=f.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}s[_t]=n,s[Ft]=u;e:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=s;e:switch(wt(s,a,u),a){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ni(n)}}return Ye(n),n.flags&=-16777217,null;case 6:if(s&&n.stateNode!=null)s.memoizedProps!==u&&ni(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(i(166));if(s=ye.current,Ta(n)){if(s=n.stateNode,a=n.memoizedProps,u=null,f=Rt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}s[_t]=n,s=!!(s.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Uy(s.nodeValue,a)),s||pn(n)}else s=Xl(s).createTextNode(u),s[_t]=n,n.stateNode=s}return Ye(n),null;case 13:if(u=n.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(f=Ta(n),u!==null&&u.dehydrated!==null){if(s===null){if(!f)throw Error(i(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[_t]=n}else Ca(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ye(n),f=!1}else f=km(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(si(n),n):(si(n),null)}if(si(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=u!==null,s=s!==null&&s.memoizedState!==null,a){u=n.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return a!==s&&a&&(n.child.flags|=8192),Bl(n,n.updateQueue),Ye(n),null;case 4:return Xt(),s===null&&md(n.stateNode.containerInfo),Ye(n),null;case 10:return Ks(n.type),Ye(n),null;case 19:if(Q(ht),f=n.memoizedState,f===null)return Ye(n),null;if(u=(n.flags&128)!==0,g=f.rendering,g===null)if(u)Ha(f,!1);else{if(st!==0||s!==null&&(s.flags&128)!==0)for(s=n.child;s!==null;){if(g=El(s),g!==null){for(n.flags|=128,Ha(f,!1),s=g.updateQueue,n.updateQueue=s,Bl(n,s),n.subtreeFlags=0,s=a,a=n.child;a!==null;)Sm(a,s),a=a.sibling;return K(ht,ht.current&1|2),n.child}s=s.sibling}f.tail!==null&&ne()>Dl&&(n.flags|=128,u=!0,Ha(f,!1),n.lanes=4194304)}else{if(!u)if(s=El(g),s!==null){if(n.flags|=128,u=!0,s=s.updateQueue,n.updateQueue=s,Bl(n,s),Ha(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!De)return Ye(n),null}else 2*ne()-f.renderingStartTime>Dl&&a!==536870912&&(n.flags|=128,u=!0,Ha(f,!1),n.lanes=4194304);f.isBackwards?(g.sibling=n.child,n.child=g):(s=f.last,s!==null?s.sibling=g:n.child=g,f.last=g)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=ne(),n.sibling=null,s=ht.current,K(ht,u?s&1|2:s&1),n):(Ye(n),null);case 22:case 23:return si(n),yh(),u=n.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(a&536870912)!==0&&(n.flags&128)===0&&(Ye(n),n.subtreeFlags&6&&(n.flags|=8192)):Ye(n),a=n.updateQueue,a!==null&&Bl(n,a.retryQueue),a=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==a&&(n.flags|=2048),s!==null&&Q(gn),null;case 24:return a=null,s!==null&&(a=s.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ks(ct),Ye(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function b1(s,n){switch(ih(n),n.tag){case 1:return s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 3:return Ks(ct),Xt(),s=n.flags,(s&65536)!==0&&(s&128)===0?(n.flags=s&-65537|128,n):null;case 26:case 27:case 5:return jt(n),null;case 13:if(si(n),s=n.memoizedState,s!==null&&s.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Ca()}return s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 19:return Q(ht),null;case 4:return Xt(),null;case 10:return Ks(n.type),null;case 22:case 23:return si(n),yh(),s!==null&&Q(gn),s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 24:return Ks(ct),null;case 25:return null;default:return null}}function Zg(s,n){switch(ih(n),n.tag){case 3:Ks(ct),Xt();break;case 26:case 27:case 5:jt(n);break;case 4:Xt();break;case 13:si(n);break;case 19:Q(ht);break;case 10:Ks(n.type);break;case 22:case 23:si(n),yh(),s!==null&&Q(gn);break;case 24:Ks(ct)}}function qa(s,n){try{var a=n.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&s)===s){u=void 0;var g=a.create,w=a.inst;u=g(),w.destroy=u}a=a.next}while(a!==f)}}catch(A){$e(n,n.return,A)}}function Ni(s,n,a){try{var u=n.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&s)===s){var w=u.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,f=n;var E=a,L=A;try{L()}catch(H){$e(f,E,H)}}}u=u.next}while(u!==g)}}catch(H){$e(n,n.return,H)}}function Yg(s){var n=s.updateQueue;if(n!==null){var a=s.stateNode;try{Om(n,a)}catch(u){$e(s,s.return,u)}}}function Jg(s,n,a){a.props=vn(s.type,s.memoizedProps),a.state=s.memoizedState;try{a.componentWillUnmount()}catch(u){$e(s,n,u)}}function $a(s,n){try{var a=s.ref;if(a!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof a=="function"?s.refCleanup=a(u):a.current=u}}catch(f){$e(s,n,f)}}function Rs(s,n){var a=s.ref,u=s.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){$e(s,n,f)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){$e(s,n,f)}else a.current=null}function Qg(s){var n=s.type,a=s.memoizedProps,u=s.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){$e(s,s.return,f)}}function qh(s,n,a){try{var u=s.stateNode;F1(u,s.type,a,n),u[Ft]=n}catch(f){$e(s,s.return,f)}}function Kg(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Fi(s.type)||s.tag===4}function $h(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Kg(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Fi(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Gh(s,n,a){var u=s.tag;if(u===5||u===6)s=s.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(s,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(s),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Gl));else if(u!==4&&(u===27&&Fi(s.type)&&(a=s.stateNode,n=null),s=s.child,s!==null))for(Gh(s,n,a),s=s.sibling;s!==null;)Gh(s,n,a),s=s.sibling}function Ll(s,n,a){var u=s.tag;if(u===5||u===6)s=s.stateNode,n?a.insertBefore(s,n):a.appendChild(s);else if(u!==4&&(u===27&&Fi(s.type)&&(a=s.stateNode),s=s.child,s!==null))for(Ll(s,n,a),s=s.sibling;s!==null;)Ll(s,n,a),s=s.sibling}function ey(s){var n=s.stateNode,a=s.memoizedProps;try{for(var u=s.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);wt(n,u,a),n[_t]=s,n[Ft]=a}catch(g){$e(s,s.return,g)}}var ri=!1,rt=!1,Xh=!1,ty=typeof WeakSet=="function"?WeakSet:Set,mt=null;function x1(s,n){if(s=s.containerInfo,vd=eu,s=dm(s),$c(s)){if("selectionStart"in s)var a={start:s.selectionStart,end:s.selectionEnd};else e:{a=(a=s.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,A=-1,E=-1,L=0,H=0,X=s,j=null;t:for(;;){for(var F;X!==a||f!==0&&X.nodeType!==3||(A=w+f),X!==g||u!==0&&X.nodeType!==3||(E=w+u),X.nodeType===3&&(w+=X.nodeValue.length),(F=X.firstChild)!==null;)j=X,X=F;for(;;){if(X===s)break t;if(j===a&&++L===f&&(A=w),j===g&&++H===u&&(E=w),(F=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=F}a=A===-1||E===-1?null:{start:A,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(bd={focusedElem:s,selectionRange:a},eu=!1,mt=n;mt!==null;)if(n=mt,s=n.child,(n.subtreeFlags&1024)!==0&&s!==null)s.return=n,mt=s;else for(;mt!==null;){switch(n=mt,g=n.alternate,s=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,a=n,f=g.memoizedProps,g=g.memoizedState,u=a.stateNode;try{var ge=vn(a.type,f,a.elementType===a.type);s=u.getSnapshotBeforeUpdate(ge,g),u.__reactInternalSnapshotBeforeUpdate=s}catch(de){$e(a,a.return,de)}}break;case 3:if((s&1024)!==0){if(s=n.stateNode.containerInfo,a=s.nodeType,a===9)Sd(s);else if(a===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Sd(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=n.sibling,s!==null){s.return=n.return,mt=s;break}mt=n.return}}function sy(s,n,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Ii(s,a),u&4&&qa(5,a);break;case 1:if(Ii(s,a),u&4)if(s=a.stateNode,n===null)try{s.componentDidMount()}catch(w){$e(a,a.return,w)}else{var f=vn(a.type,n.memoizedProps);n=n.memoizedState;try{s.componentDidUpdate(f,n,s.__reactInternalSnapshotBeforeUpdate)}catch(w){$e(a,a.return,w)}}u&64&&Yg(a),u&512&&$a(a,a.return);break;case 3:if(Ii(s,a),u&64&&(s=a.updateQueue,s!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Om(s,n)}catch(w){$e(a,a.return,w)}}break;case 27:n===null&&u&4&&ey(a);case 26:case 5:Ii(s,a),n===null&&u&4&&Qg(a),u&512&&$a(a,a.return);break;case 12:Ii(s,a);break;case 13:Ii(s,a),u&4&&ry(s,a),u&64&&(s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(a=z1.bind(null,a),G1(s,a))));break;case 22:if(u=a.memoizedState!==null||ri,!u){n=n!==null&&n.memoizedState!==null||rt,f=ri;var g=rt;ri=u,(rt=n)&&!g?Ri(s,a,(a.subtreeFlags&8772)!==0):Ii(s,a),ri=f,rt=g}break;case 30:break;default:Ii(s,a)}}function iy(s){var n=s.alternate;n!==null&&(s.alternate=null,iy(n)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(n=s.stateNode,n!==null&&Tc(n)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ze=null,Wt=!1;function ai(s,n,a){for(a=a.child;a!==null;)ny(s,n,a),a=a.sibling}function ny(s,n,a){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Si,a)}catch{}switch(a.tag){case 26:rt||Rs(a,n),ai(s,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:rt||Rs(a,n);var u=Ze,f=Wt;Fi(a.type)&&(Ze=a.stateNode,Wt=!1),ai(s,n,a),to(a.stateNode),Ze=u,Wt=f;break;case 5:rt||Rs(a,n);case 6:if(u=Ze,f=Wt,Ze=null,ai(s,n,a),Ze=u,Wt=f,Ze!==null)if(Wt)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(a.stateNode)}catch(g){$e(a,n,g)}else try{Ze.removeChild(a.stateNode)}catch(g){$e(a,n,g)}break;case 18:Ze!==null&&(Wt?(s=Ze,$y(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.stateNode),uo(s)):$y(Ze,a.stateNode));break;case 4:u=Ze,f=Wt,Ze=a.stateNode.containerInfo,Wt=!0,ai(s,n,a),Ze=u,Wt=f;break;case 0:case 11:case 14:case 15:rt||Ni(2,a,n),rt||Ni(4,a,n),ai(s,n,a);break;case 1:rt||(Rs(a,n),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Jg(a,n,u)),ai(s,n,a);break;case 21:ai(s,n,a);break;case 22:rt=(u=rt)||a.memoizedState!==null,ai(s,n,a),rt=u;break;default:ai(s,n,a)}}function ry(s,n){if(n.memoizedState===null&&(s=n.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{uo(s)}catch(a){$e(n,n.return,a)}}function w1(s){switch(s.tag){case 13:case 19:var n=s.stateNode;return n===null&&(n=s.stateNode=new ty),n;case 22:return s=s.stateNode,n=s._retryCache,n===null&&(n=s._retryCache=new ty),n;default:throw Error(i(435,s.tag))}}function Zh(s,n){var a=w1(s);n.forEach(function(u){var f=E1.bind(null,s,u);a.has(u)||(a.add(u),u.then(f,f))})}function Qt(s,n){var a=n.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],g=s,w=n,A=w;e:for(;A!==null;){switch(A.tag){case 27:if(Fi(A.type)){Ze=A.stateNode,Wt=!1;break e}break;case 5:Ze=A.stateNode,Wt=!1;break e;case 3:case 4:Ze=A.stateNode.containerInfo,Wt=!0;break e}A=A.return}if(Ze===null)throw Error(i(160));ny(g,w,f),Ze=null,Wt=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ay(n,s),n=n.sibling}var As=null;function ay(s,n){var a=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Qt(n,s),Kt(s),u&4&&(Ni(3,s,s.return),qa(3,s),Ni(5,s,s.return));break;case 1:Qt(n,s),Kt(s),u&512&&(rt||a===null||Rs(a,a.return)),u&64&&ri&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(a=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=As;if(Qt(n,s),Kt(s),u&512&&(rt||a===null||Rs(a,a.return)),u&4){var g=a!==null?a.memoizedState:null;if(u=s.memoizedState,a===null)if(u===null)if(s.stateNode===null){e:{u=s.type,a=s.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[ga]||g[_t]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),wt(g,u,a),g[_t]=s,pt(g),u=g;break e;case"link":var w=e0("link","href",f).get(u+(a.href||""));if(w){for(var A=0;A<w.length;A++)if(g=w[A],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(A,1);break t}}g=f.createElement(u),wt(g,u,a),f.head.appendChild(g);break;case"meta":if(w=e0("meta","content",f).get(u+(a.content||""))){for(A=0;A<w.length;A++)if(g=w[A],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(A,1);break t}}g=f.createElement(u),wt(g,u,a),f.head.appendChild(g);break;default:throw Error(i(468,u))}g[_t]=s,pt(g),u=g}s.stateNode=u}else t0(f,s.type,s.stateNode);else s.stateNode=Ky(f,u,s.memoizedProps);else g!==u?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,u===null?t0(f,s.type,s.stateNode):Ky(f,u,s.memoizedProps)):u===null&&s.stateNode!==null&&qh(s,s.memoizedProps,a.memoizedProps)}break;case 27:Qt(n,s),Kt(s),u&512&&(rt||a===null||Rs(a,a.return)),a!==null&&u&4&&qh(s,s.memoizedProps,a.memoizedProps);break;case 5:if(Qt(n,s),Kt(s),u&512&&(rt||a===null||Rs(a,a.return)),s.flags&32){f=s.stateNode;try{Yn(f,"")}catch(F){$e(s,s.return,F)}}u&4&&s.stateNode!=null&&(f=s.memoizedProps,qh(s,f,a!==null?a.memoizedProps:f)),u&1024&&(Xh=!0);break;case 6:if(Qt(n,s),Kt(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,a=s.stateNode;try{a.nodeValue=u}catch(F){$e(s,s.return,F)}}break;case 3:if(Jl=null,f=As,As=Zl(n.containerInfo),Qt(n,s),As=f,Kt(s),u&4&&a!==null&&a.memoizedState.isDehydrated)try{uo(n.containerInfo)}catch(F){$e(s,s.return,F)}Xh&&(Xh=!1,oy(s));break;case 4:u=As,As=Zl(s.stateNode.containerInfo),Qt(n,s),Kt(s),As=u;break;case 12:Qt(n,s),Kt(s);break;case 13:Qt(n,s),Kt(s),s.child.flags&8192&&s.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(td=ne()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Zh(s,u)));break;case 22:f=s.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,L=ri,H=rt;if(ri=L||f,rt=H||E,Qt(n,s),rt=H,ri=L,Kt(s),u&8192)e:for(n=s.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(a===null||E||ri||rt||bn(s)),a=null,n=s;;){if(n.tag===5||n.tag===26){if(a===null){E=a=n;try{if(g=E.stateNode,f)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=E.stateNode;var X=E.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;A.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(F){$e(E,E.return,F)}}}else if(n.tag===6){if(a===null){E=n;try{E.stateNode.nodeValue=f?"":E.memoizedProps}catch(F){$e(E,E.return,F)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===s)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=s.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Zh(s,a))));break;case 19:Qt(n,s),Kt(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Zh(s,u)));break;case 30:break;case 21:break;default:Qt(n,s),Kt(s)}}function Kt(s){var n=s.flags;if(n&2){try{for(var a,u=s.return;u!==null;){if(Kg(u)){a=u;break}u=u.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,g=$h(s);Ll(s,g,f);break;case 5:var w=a.stateNode;a.flags&32&&(Yn(w,""),a.flags&=-33);var A=$h(s);Ll(s,A,w);break;case 3:case 4:var E=a.stateNode.containerInfo,L=$h(s);Gh(s,L,E);break;default:throw Error(i(161))}}catch(H){$e(s,s.return,H)}s.flags&=-3}n&4096&&(s.flags&=-4097)}function oy(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var n=s;oy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),s=s.sibling}}function Ii(s,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)sy(s,n.alternate,n),n=n.sibling}function bn(s){for(s=s.child;s!==null;){var n=s;switch(n.tag){case 0:case 11:case 14:case 15:Ni(4,n,n.return),bn(n);break;case 1:Rs(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Jg(n,n.return,a),bn(n);break;case 27:to(n.stateNode);case 26:case 5:Rs(n,n.return),bn(n);break;case 22:n.memoizedState===null&&bn(n);break;case 30:bn(n);break;default:bn(n)}s=s.sibling}}function Ri(s,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,f=s,g=n,w=g.flags;switch(g.tag){case 0:case 11:case 15:Ri(f,g,a),qa(4,g);break;case 1:if(Ri(f,g,a),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(L){$e(u,u.return,L)}if(u=g,f=u.updateQueue,f!==null){var A=u.stateNode;try{var E=f.shared.hiddenCallbacks;if(E!==null)for(f.shared.hiddenCallbacks=null,f=0;f<E.length;f++)Lm(E[f],A)}catch(L){$e(u,u.return,L)}}a&&w&64&&Yg(g),$a(g,g.return);break;case 27:ey(g);case 26:case 5:Ri(f,g,a),a&&u===null&&w&4&&Qg(g),$a(g,g.return);break;case 12:Ri(f,g,a);break;case 13:Ri(f,g,a),a&&w&4&&ry(f,g);break;case 22:g.memoizedState===null&&Ri(f,g,a),$a(g,g.return);break;case 30:break;default:Ri(f,g,a)}n=n.sibling}}function Yh(s,n){var a=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==a&&(s!=null&&s.refCount++,a!=null&&Pa(a))}function Jh(s,n){s=null,n.alternate!==null&&(s=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==s&&(n.refCount++,s!=null&&Pa(s))}function Bs(s,n,a,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ly(s,n,a,u),n=n.sibling}function ly(s,n,a,u){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Bs(s,n,a,u),f&2048&&qa(9,n);break;case 1:Bs(s,n,a,u);break;case 3:Bs(s,n,a,u),f&2048&&(s=null,n.alternate!==null&&(s=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==s&&(n.refCount++,s!=null&&Pa(s)));break;case 12:if(f&2048){Bs(s,n,a,u),s=n.stateNode;try{var g=n.memoizedProps,w=g.id,A=g.onPostCommit;typeof A=="function"&&A(w,n.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(E){$e(n,n.return,E)}}else Bs(s,n,a,u);break;case 13:Bs(s,n,a,u);break;case 23:break;case 22:g=n.stateNode,w=n.alternate,n.memoizedState!==null?g._visibility&2?Bs(s,n,a,u):Ga(s,n):g._visibility&2?Bs(s,n,a,u):(g._visibility|=2,mr(s,n,a,u,(n.subtreeFlags&10256)!==0)),f&2048&&Yh(w,n);break;case 24:Bs(s,n,a,u),f&2048&&Jh(n.alternate,n);break;default:Bs(s,n,a,u)}}function mr(s,n,a,u,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var g=s,w=n,A=a,E=u,L=w.flags;switch(w.tag){case 0:case 11:case 15:mr(g,w,A,E,f),qa(8,w);break;case 23:break;case 22:var H=w.stateNode;w.memoizedState!==null?H._visibility&2?mr(g,w,A,E,f):Ga(g,w):(H._visibility|=2,mr(g,w,A,E,f)),f&&L&2048&&Yh(w.alternate,w);break;case 24:mr(g,w,A,E,f),f&&L&2048&&Jh(w.alternate,w);break;default:mr(g,w,A,E,f)}n=n.sibling}}function Ga(s,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=s,u=n,f=u.flags;switch(u.tag){case 22:Ga(a,u),f&2048&&Yh(u.alternate,u);break;case 24:Ga(a,u),f&2048&&Jh(u.alternate,u);break;default:Ga(a,u)}n=n.sibling}}var Xa=8192;function gr(s){if(s.subtreeFlags&Xa)for(s=s.child;s!==null;)uy(s),s=s.sibling}function uy(s){switch(s.tag){case 26:gr(s),s.flags&Xa&&s.memoizedState!==null&&aw(As,s.memoizedState,s.memoizedProps);break;case 5:gr(s);break;case 3:case 4:var n=As;As=Zl(s.stateNode.containerInfo),gr(s),As=n;break;case 22:s.memoizedState===null&&(n=s.alternate,n!==null&&n.memoizedState!==null?(n=Xa,Xa=16777216,gr(s),Xa=n):gr(s));break;default:gr(s)}}function cy(s){var n=s.alternate;if(n!==null&&(s=n.child,s!==null)){n.child=null;do n=s.sibling,s.sibling=null,s=n;while(s!==null)}}function Za(s){var n=s.deletions;if((s.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var u=n[a];mt=u,dy(u,s)}cy(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)hy(s),s=s.sibling}function hy(s){switch(s.tag){case 0:case 11:case 15:Za(s),s.flags&2048&&Ni(9,s,s.return);break;case 3:Za(s);break;case 12:Za(s);break;case 22:var n=s.stateNode;s.memoizedState!==null&&n._visibility&2&&(s.return===null||s.return.tag!==13)?(n._visibility&=-3,Ol(s)):Za(s);break;default:Za(s)}}function Ol(s){var n=s.deletions;if((s.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var u=n[a];mt=u,dy(u,s)}cy(s)}for(s=s.child;s!==null;){switch(n=s,n.tag){case 0:case 11:case 15:Ni(8,n,n.return),Ol(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Ol(n));break;default:Ol(n)}s=s.sibling}}function dy(s,n){for(;mt!==null;){var a=mt;switch(a.tag){case 0:case 11:case 15:Ni(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Pa(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,mt=u;else e:for(a=s;mt!==null;){u=mt;var f=u.sibling,g=u.return;if(iy(u),u===a){mt=null;break e}if(f!==null){f.return=g,mt=f;break e}mt=g}}}var S1={getCacheForType:function(s){var n=At(ct),a=n.data.get(s);return a===void 0&&(a=s(),n.data.set(s,a)),a}},M1=typeof WeakMap=="function"?WeakMap:Map,je=0,Ge=null,Pe=null,Re=0,Fe=0,es=null,Bi=!1,yr=!1,Qh=!1,oi=0,st=0,Li=0,xn=0,Kh=0,gs=0,vr=0,Ya=null,Ht=null,ed=!1,td=0,Dl=1/0,jl=null,Oi=null,xt=0,Di=null,br=null,xr=0,sd=0,id=null,py=null,Ja=0,nd=null;function ts(){if((je&2)!==0&&Re!==0)return Re&-Re;if(U.T!==null){var s=or;return s!==0?s:hd()}return zf()}function fy(){gs===0&&(gs=(Re&536870912)===0||De?Af():536870912);var s=ms.current;return s!==null&&(s.flags|=32),gs}function ss(s,n,a){(s===Ge&&(Fe===2||Fe===9)||s.cancelPendingCommit!==null)&&(wr(s,0),ji(s,Re,gs,!1)),ma(s,a),((je&2)===0||s!==Ge)&&(s===Ge&&((je&2)===0&&(xn|=a),st===4&&ji(s,Re,gs,!1)),Ls(s))}function my(s,n,a){if((je&6)!==0)throw Error(i(327));var u=!a&&(n&124)===0&&(n&s.expiredLanes)===0||fa(s,n),f=u?k1(s,n):od(s,n,!0),g=u;do{if(f===0){yr&&!u&&ji(s,n,0,!1);break}else{if(a=s.current.alternate,g&&!_1(a)){f=od(s,n,!1),g=!1;continue}if(f===2){if(g=n,s.errorRecoveryDisabledLanes&g)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){n=w;e:{var A=s;f=Ya;var E=A.current.memoizedState.isDehydrated;if(E&&(wr(A,w).flags|=256),w=od(A,w,!1),w!==2){if(Qh&&!E){A.errorRecoveryDisabledLanes|=g,xn|=g,f=4;break e}g=Ht,Ht=f,g!==null&&(Ht===null?Ht=g:Ht.push.apply(Ht,g))}f=w}if(g=!1,f!==2)continue}}if(f===1){wr(s,0),ji(s,n,0,!0);break}e:{switch(u=s,g=f,g){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:ji(u,n,gs,!Bi);break e;case 2:Ht=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(f=td+300-ne(),10<f)){if(ji(u,n,gs,!Bi),Yo(u,0,!0)!==0)break e;u.timeoutHandle=Hy(gy.bind(null,u,a,Ht,jl,ed,n,gs,xn,vr,Bi,g,2,-0,0),f);break e}gy(u,a,Ht,jl,ed,n,gs,xn,vr,Bi,g,0,-0,0)}}break}while(!0);Ls(s)}function gy(s,n,a,u,f,g,w,A,E,L,H,X,j,F){if(s.timeoutHandle=-1,X=n.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(no={stylesheets:null,count:0,unsuspend:rw},uy(n),X=ow(),X!==null)){s.cancelPendingCommit=X(My.bind(null,s,n,g,a,u,f,w,A,E,H,1,j,F)),ji(s,g,w,!L);return}My(s,n,g,a,u,f,w,A,E)}function _1(s){for(var n=s;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],g=f.getSnapshot;f=f.value;try{if(!Yt(g(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ji(s,n,a,u){n&=~Kh,n&=~xn,s.suspendedLanes|=n,s.pingedLanes&=~n,u&&(s.warmLanes|=n),u=s.expirationTimes;for(var f=n;0<f;){var g=31-It(f),w=1<<g;u[g]=-1,f&=~w}a!==0&&Tf(s,a,n)}function Fl(){return(je&6)===0?(Qa(0),!1):!0}function rd(){if(Pe!==null){if(Fe===0)var s=Pe.return;else s=Pe,Qs=fn=null,Sh(s),pr=null,Va=0,s=Pe;for(;s!==null;)Zg(s.alternate,s),s=s.return;Pe=null}}function wr(s,n){var a=s.timeoutHandle;a!==-1&&(s.timeoutHandle=-1,V1(a)),a=s.cancelPendingCommit,a!==null&&(s.cancelPendingCommit=null,a()),rd(),Ge=s,Pe=a=Zs(s.current,null),Re=n,Fe=0,es=null,Bi=!1,yr=fa(s,n),Qh=!1,vr=gs=Kh=xn=Li=st=0,Ht=Ya=null,ed=!1,(n&8)!==0&&(n|=n&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=n;0<u;){var f=31-It(u),g=1<<f;n|=s[f],u&=~g}return oi=n,ll(),a}function yy(s,n){ke=null,U.H=Tl,n===Ia||n===yl?(n=Rm(),Fe=3):n===Pm?(n=Rm(),Fe=4):Fe=n===Bg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,es=n,Pe===null&&(st=1,Nl(s,hs(n,s.current)))}function vy(){var s=U.H;return U.H=Tl,s===null?Tl:s}function by(){var s=U.A;return U.A=S1,s}function ad(){st=4,Bi||(Re&4194048)!==Re&&ms.current!==null||(yr=!0),(Li&134217727)===0&&(xn&134217727)===0||Ge===null||ji(Ge,Re,gs,!1)}function od(s,n,a){var u=je;je|=2;var f=vy(),g=by();(Ge!==s||Re!==n)&&(jl=null,wr(s,n)),n=!1;var w=st;e:do try{if(Fe!==0&&Pe!==null){var A=Pe,E=es;switch(Fe){case 8:rd(),w=6;break e;case 3:case 2:case 9:case 6:ms.current===null&&(n=!0);var L=Fe;if(Fe=0,es=null,Sr(s,A,E,L),a&&yr){w=0;break e}break;default:L=Fe,Fe=0,es=null,Sr(s,A,E,L)}}A1(),w=st;break}catch(H){yy(s,H)}while(!0);return n&&s.shellSuspendCounter++,Qs=fn=null,je=u,U.H=f,U.A=g,Pe===null&&(Ge=null,Re=0,ll()),w}function A1(){for(;Pe!==null;)xy(Pe)}function k1(s,n){var a=je;je|=2;var u=vy(),f=by();Ge!==s||Re!==n?(jl=null,Dl=ne()+500,wr(s,n)):yr=fa(s,n);e:do try{if(Fe!==0&&Pe!==null){n=Pe;var g=es;t:switch(Fe){case 1:Fe=0,es=null,Sr(s,n,g,1);break;case 2:case 9:if(Nm(g)){Fe=0,es=null,wy(n);break}n=function(){Fe!==2&&Fe!==9||Ge!==s||(Fe=7),Ls(s)},g.then(n,n);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Nm(g)?(Fe=0,es=null,wy(n)):(Fe=0,es=null,Sr(s,n,g,7));break;case 5:var w=null;switch(Pe.tag){case 26:w=Pe.memoizedState;case 5:case 27:var A=Pe;if(!w||s0(w)){Fe=0,es=null;var E=A.sibling;if(E!==null)Pe=E;else{var L=A.return;L!==null?(Pe=L,Ul(L)):Pe=null}break t}}Fe=0,es=null,Sr(s,n,g,5);break;case 6:Fe=0,es=null,Sr(s,n,g,6);break;case 8:rd(),st=6;break e;default:throw Error(i(462))}}T1();break}catch(H){yy(s,H)}while(!0);return Qs=fn=null,U.H=u,U.A=f,je=a,Pe!==null?0:(Ge=null,Re=0,ll(),st)}function T1(){for(;Pe!==null&&!se();)xy(Pe)}function xy(s){var n=Gg(s.alternate,s,oi);s.memoizedProps=s.pendingProps,n===null?Ul(s):Pe=n}function wy(s){var n=s,a=n.alternate;switch(n.tag){case 15:case 0:n=Ug(a,n,n.pendingProps,n.type,void 0,Re);break;case 11:n=Ug(a,n,n.pendingProps,n.type.render,n.ref,Re);break;case 5:Sh(n);default:Zg(a,n),n=Pe=Sm(n,oi),n=Gg(a,n,oi)}s.memoizedProps=s.pendingProps,n===null?Ul(s):Pe=n}function Sr(s,n,a,u){Qs=fn=null,Sh(n),pr=null,Va=0;var f=n.return;try{if(g1(s,f,n,a,Re)){st=1,Nl(s,hs(a,s.current)),Pe=null;return}}catch(g){if(f!==null)throw Pe=f,g;st=1,Nl(s,hs(a,s.current)),Pe=null;return}n.flags&32768?(De||u===1?s=!0:yr||(Re&536870912)!==0?s=!1:(Bi=s=!0,(u===2||u===9||u===3||u===6)&&(u=ms.current,u!==null&&u.tag===13&&(u.flags|=16384))),Sy(n,s)):Ul(n)}function Ul(s){var n=s;do{if((n.flags&32768)!==0){Sy(n,Bi);return}s=n.return;var a=v1(n.alternate,n,oi);if(a!==null){Pe=a;return}if(n=n.sibling,n!==null){Pe=n;return}Pe=n=s}while(n!==null);st===0&&(st=5)}function Sy(s,n){do{var a=b1(s.alternate,s);if(a!==null){a.flags&=32767,Pe=a;return}if(a=s.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(s=s.sibling,s!==null)){Pe=s;return}Pe=s=a}while(s!==null);st=6,Pe=null}function My(s,n,a,u,f,g,w,A,E){s.cancelPendingCommit=null;do Vl();while(xt!==0);if((je&6)!==0)throw Error(i(327));if(n!==null){if(n===s.current)throw Error(i(177));if(g=n.lanes|n.childLanes,g|=Jc,rx(s,a,g,w,A,E),s===Ge&&(Pe=Ge=null,Re=0),br=n,Di=s,xr=a,sd=g,id=f,py=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,P1(qe,function(){return Cy(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=U.T,U.T=null,f=J.p,J.p=2,w=je,je|=4;try{x1(s,n,a)}finally{je=w,J.p=f,U.T=u}}xt=1,_y(),Ay(),ky()}}function _y(){if(xt===1){xt=0;var s=Di,n=br,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var u=J.p;J.p=2;var f=je;je|=4;try{ay(n,s);var g=bd,w=dm(s.containerInfo),A=g.focusedElem,E=g.selectionRange;if(w!==A&&A&&A.ownerDocument&&hm(A.ownerDocument.documentElement,A)){if(E!==null&&$c(A)){var L=E.start,H=E.end;if(H===void 0&&(H=L),"selectionStart"in A)A.selectionStart=L,A.selectionEnd=Math.min(H,A.value.length);else{var X=A.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var F=j.getSelection(),ge=A.textContent.length,de=Math.min(E.start,ge),We=E.end===void 0?de:Math.min(E.end,ge);!F.extend&&de>We&&(w=We,We=de,de=w);var R=cm(A,de),N=cm(A,We);if(R&&N&&(F.rangeCount!==1||F.anchorNode!==R.node||F.anchorOffset!==R.offset||F.focusNode!==N.node||F.focusOffset!==N.offset)){var B=X.createRange();B.setStart(R.node,R.offset),F.removeAllRanges(),de>We?(F.addRange(B),F.extend(N.node,N.offset)):(B.setEnd(N.node,N.offset),F.addRange(B))}}}}for(X=[],F=A;F=F.parentNode;)F.nodeType===1&&X.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<X.length;A++){var $=X[A];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}eu=!!vd,bd=vd=null}finally{je=f,J.p=u,U.T=a}}s.current=n,xt=2}}function Ay(){if(xt===2){xt=0;var s=Di,n=br,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var u=J.p;J.p=2;var f=je;je|=4;try{sy(s,n.alternate,n)}finally{je=f,J.p=u,U.T=a}}xt=3}}function ky(){if(xt===4||xt===3){xt=0,he();var s=Di,n=br,a=xr,u=py;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xt=5:(xt=0,br=Di=null,Ty(s,s.pendingLanes));var f=s.pendingLanes;if(f===0&&(Oi=null),Ac(a),n=n.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Si,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=U.T,f=J.p,J.p=2,U.T=null;try{for(var g=s.onRecoverableError,w=0;w<u.length;w++){var A=u[w];g(A.value,{componentStack:A.stack})}}finally{U.T=n,J.p=f}}(xr&3)!==0&&Vl(),Ls(s),f=s.pendingLanes,(a&4194090)!==0&&(f&42)!==0?s===nd?Ja++:(Ja=0,nd=s):Ja=0,Qa(0)}}function Ty(s,n){(s.pooledCacheLanes&=n)===0&&(n=s.pooledCache,n!=null&&(s.pooledCache=null,Pa(n)))}function Vl(s){return _y(),Ay(),ky(),Cy()}function Cy(){if(xt!==5)return!1;var s=Di,n=sd;sd=0;var a=Ac(xr),u=U.T,f=J.p;try{J.p=32>a?32:a,U.T=null,a=id,id=null;var g=Di,w=xr;if(xt=0,br=Di=null,xr=0,(je&6)!==0)throw Error(i(331));var A=je;if(je|=4,hy(g.current),ly(g,g.current,w,a),je=A,Qa(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Si,g)}catch{}return!0}finally{J.p=f,U.T=u,Ty(s,n)}}function zy(s,n,a){n=hs(a,n),n=Lh(s.stateNode,n,2),s=Ci(s,n,2),s!==null&&(ma(s,2),Ls(s))}function $e(s,n,a){if(s.tag===3)zy(s,s,a);else for(;n!==null;){if(n.tag===3){zy(n,s,a);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Oi===null||!Oi.has(u))){s=hs(a,s),a=Ig(2),u=Ci(n,a,2),u!==null&&(Rg(a,u,n,s),ma(u,2),Ls(u));break}}n=n.return}}function ld(s,n,a){var u=s.pingCache;if(u===null){u=s.pingCache=new M1;var f=new Set;u.set(n,f)}else f=u.get(n),f===void 0&&(f=new Set,u.set(n,f));f.has(a)||(Qh=!0,f.add(a),s=C1.bind(null,s,n,a),n.then(s,s))}function C1(s,n,a){var u=s.pingCache;u!==null&&u.delete(n),s.pingedLanes|=s.suspendedLanes&a,s.warmLanes&=~a,Ge===s&&(Re&a)===a&&(st===4||st===3&&(Re&62914560)===Re&&300>ne()-td?(je&2)===0&&wr(s,0):Kh|=a,vr===Re&&(vr=0)),Ls(s)}function Ey(s,n){n===0&&(n=kf()),s=ir(s,n),s!==null&&(ma(s,n),Ls(s))}function z1(s){var n=s.memoizedState,a=0;n!==null&&(a=n.retryLane),Ey(s,a)}function E1(s,n){var a=0;switch(s.tag){case 13:var u=s.stateNode,f=s.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(n),Ey(s,a)}function P1(s,n){return ee(s,n)}var Wl=null,Mr=null,ud=!1,Hl=!1,cd=!1,wn=0;function Ls(s){s!==Mr&&s.next===null&&(Mr===null?Wl=Mr=s:Mr=Mr.next=s),Hl=!0,ud||(ud=!0,I1())}function Qa(s,n){if(!cd&&Hl){cd=!0;do for(var a=!1,u=Wl;u!==null;){if(s!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var w=u.suspendedLanes,A=u.pingedLanes;g=(1<<31-It(42|s)+1)-1,g&=f&~(w&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,Ry(u,g))}else g=Re,g=Yo(u,u===Ge?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||fa(u,g)||(a=!0,Ry(u,g));u=u.next}while(a);cd=!1}}function N1(){Py()}function Py(){Hl=ud=!1;var s=0;wn!==0&&(U1()&&(s=wn),wn=0);for(var n=ne(),a=null,u=Wl;u!==null;){var f=u.next,g=Ny(u,n);g===0?(u.next=null,a===null?Wl=f:a.next=f,f===null&&(Mr=a)):(a=u,(s!==0||(g&3)!==0)&&(Hl=!0)),u=f}Qa(s)}function Ny(s,n){for(var a=s.suspendedLanes,u=s.pingedLanes,f=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var w=31-It(g),A=1<<w,E=f[w];E===-1?((A&a)===0||(A&u)!==0)&&(f[w]=nx(A,n)):E<=n&&(s.expiredLanes|=A),g&=~A}if(n=Ge,a=Re,a=Yo(s,s===n?a:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,a===0||s===n&&(Fe===2||Fe===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&te(u),s.callbackNode=null,s.callbackPriority=0;if((a&3)===0||fa(s,a)){if(n=a&-a,n===s.callbackPriority)return n;switch(u!==null&&te(u),Ac(a)){case 2:case 8:a=He;break;case 32:a=qe;break;case 268435456:a=Pt;break;default:a=qe}return u=Iy.bind(null,s),a=ee(a,u),s.callbackPriority=n,s.callbackNode=a,n}return u!==null&&u!==null&&te(u),s.callbackPriority=2,s.callbackNode=null,2}function Iy(s,n){if(xt!==0&&xt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var a=s.callbackNode;if(Vl()&&s.callbackNode!==a)return null;var u=Re;return u=Yo(s,s===Ge?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(my(s,u,n),Ny(s,ne()),s.callbackNode!=null&&s.callbackNode===a?Iy.bind(null,s):null)}function Ry(s,n){if(Vl())return null;my(s,n,!0)}function I1(){W1(function(){(je&6)!==0?ee(Ae,N1):Py()})}function hd(){return wn===0&&(wn=Af()),wn}function By(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:tl(""+s)}function Ly(s,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,s.id&&a.setAttribute("form",s.id),n.parentNode.insertBefore(a,n),s=new FormData(s),a.parentNode.removeChild(a),s}function R1(s,n,a,u,f){if(n==="submit"&&a&&a.stateNode===f){var g=By((f[Ft]||null).action),w=u.submitter;w&&(n=(n=w[Ft]||null)?By(n.formAction):w.getAttribute("formAction"),n!==null&&(g=n,w=null));var A=new rl("action","action",null,u,f);s.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(wn!==0){var E=w?Ly(f,w):new FormData(f);Ph(a,{pending:!0,data:E,method:f.method,action:g},null,E)}}else typeof g=="function"&&(A.preventDefault(),E=w?Ly(f,w):new FormData(f),Ph(a,{pending:!0,data:E,method:f.method,action:g},g,E))},currentTarget:f}]})}}for(var dd=0;dd<Yc.length;dd++){var pd=Yc[dd],B1=pd.toLowerCase(),L1=pd[0].toUpperCase()+pd.slice(1);_s(B1,"on"+L1)}_s(mm,"onAnimationEnd"),_s(gm,"onAnimationIteration"),_s(ym,"onAnimationStart"),_s("dblclick","onDoubleClick"),_s("focusin","onFocus"),_s("focusout","onBlur"),_s(Kx,"onTransitionRun"),_s(e1,"onTransitionStart"),_s(t1,"onTransitionCancel"),_s(vm,"onTransitionEnd"),Gn("onMouseEnter",["mouseout","mouseover"]),Gn("onMouseLeave",["mouseout","mouseover"]),Gn("onPointerEnter",["pointerout","pointerover"]),Gn("onPointerLeave",["pointerout","pointerover"]),rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ka));function Oy(s,n){n=(n&4)!==0;for(var a=0;a<s.length;a++){var u=s[a],f=u.event;u=u.listeners;e:{var g=void 0;if(n)for(var w=u.length-1;0<=w;w--){var A=u[w],E=A.instance,L=A.currentTarget;if(A=A.listener,E!==g&&f.isPropagationStopped())break e;g=A,f.currentTarget=L;try{g(f)}catch(H){Pl(H)}f.currentTarget=null,g=E}else for(w=0;w<u.length;w++){if(A=u[w],E=A.instance,L=A.currentTarget,A=A.listener,E!==g&&f.isPropagationStopped())break e;g=A,f.currentTarget=L;try{g(f)}catch(H){Pl(H)}f.currentTarget=null,g=E}}}}function Ne(s,n){var a=n[kc];a===void 0&&(a=n[kc]=new Set);var u=s+"__bubble";a.has(u)||(Dy(n,s,2,!1),a.add(u))}function fd(s,n,a){var u=0;n&&(u|=4),Dy(a,s,u,n)}var ql="_reactListening"+Math.random().toString(36).slice(2);function md(s){if(!s[ql]){s[ql]=!0,Pf.forEach(function(a){a!=="selectionchange"&&(O1.has(a)||fd(a,!1,s),fd(a,!0,s))});var n=s.nodeType===9?s:s.ownerDocument;n===null||n[ql]||(n[ql]=!0,fd("selectionchange",!1,n))}}function Dy(s,n,a,u){switch(l0(n)){case 2:var f=cw;break;case 8:f=hw;break;default:f=zd}a=f.bind(null,n,a,s),f=void 0,!Oc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),u?f!==void 0?s.addEventListener(n,a,{capture:!0,passive:f}):s.addEventListener(n,a,!0):f!==void 0?s.addEventListener(n,a,{passive:f}):s.addEventListener(n,a,!1)}function gd(s,n,a,u,f){var g=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var A=u.stateNode.containerInfo;if(A===f)break;if(w===4)for(w=u.return;w!==null;){var E=w.tag;if((E===3||E===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;A!==null;){if(w=Hn(A),w===null)return;if(E=w.tag,E===5||E===6||E===26||E===27){u=g=w;continue e}A=A.parentNode}}u=u.return}qf(function(){var L=g,H=Bc(a),X=[];e:{var j=bm.get(s);if(j!==void 0){var F=rl,ge=s;switch(s){case"keypress":if(il(a)===0)break e;case"keydown":case"keyup":F=Px;break;case"focusin":ge="focus",F=Uc;break;case"focusout":ge="blur",F=Uc;break;case"beforeblur":case"afterblur":F=Uc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Xf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=bx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Rx;break;case mm:case gm:case ym:F=Sx;break;case vm:F=Lx;break;case"scroll":case"scrollend":F=yx;break;case"wheel":F=Dx;break;case"copy":case"cut":case"paste":F=_x;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Yf;break;case"toggle":case"beforetoggle":F=Fx}var de=(n&4)!==0,We=!de&&(s==="scroll"||s==="scrollend"),R=de?j!==null?j+"Capture":null:j;de=[];for(var N=L,B;N!==null;){var $=N;if(B=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||B===null||R===null||($=va(N,R),$!=null&&de.push(eo(N,$,B))),We)break;N=N.return}0<de.length&&(j=new F(j,ge,null,a,H),X.push({event:j,listeners:de}))}}if((n&7)===0){e:{if(j=s==="mouseover"||s==="pointerover",F=s==="mouseout"||s==="pointerout",j&&a!==Rc&&(ge=a.relatedTarget||a.fromElement)&&(Hn(ge)||ge[Wn]))break e;if((F||j)&&(j=H.window===H?H:(j=H.ownerDocument)?j.defaultView||j.parentWindow:window,F?(ge=a.relatedTarget||a.toElement,F=L,ge=ge?Hn(ge):null,ge!==null&&(We=o(ge),de=ge.tag,ge!==We||de!==5&&de!==27&&de!==6)&&(ge=null)):(F=null,ge=L),F!==ge)){if(de=Xf,$="onMouseLeave",R="onMouseEnter",N="mouse",(s==="pointerout"||s==="pointerover")&&(de=Yf,$="onPointerLeave",R="onPointerEnter",N="pointer"),We=F==null?j:ya(F),B=ge==null?j:ya(ge),j=new de($,N+"leave",F,a,H),j.target=We,j.relatedTarget=B,$=null,Hn(H)===L&&(de=new de(R,N+"enter",ge,a,H),de.target=B,de.relatedTarget=We,$=de),We=$,F&&ge)t:{for(de=F,R=ge,N=0,B=de;B;B=_r(B))N++;for(B=0,$=R;$;$=_r($))B++;for(;0<N-B;)de=_r(de),N--;for(;0<B-N;)R=_r(R),B--;for(;N--;){if(de===R||R!==null&&de===R.alternate)break t;de=_r(de),R=_r(R)}de=null}else de=null;F!==null&&jy(X,j,F,de,!1),ge!==null&&We!==null&&jy(X,We,ge,de,!0)}}e:{if(j=L?ya(L):window,F=j.nodeName&&j.nodeName.toLowerCase(),F==="select"||F==="input"&&j.type==="file")var re=nm;else if(sm(j))if(rm)re=Yx;else{re=Xx;var Ce=Gx}else F=j.nodeName,!F||F.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?L&&Ic(L.elementType)&&(re=nm):re=Zx;if(re&&(re=re(s,L))){im(X,re,a,H);break e}Ce&&Ce(s,j,L),s==="focusout"&&L&&j.type==="number"&&L.memoizedProps.value!=null&&Nc(j,"number",j.value)}switch(Ce=L?ya(L):window,s){case"focusin":(sm(Ce)||Ce.contentEditable==="true")&&(er=Ce,Gc=L,ka=null);break;case"focusout":ka=Gc=er=null;break;case"mousedown":Xc=!0;break;case"contextmenu":case"mouseup":case"dragend":Xc=!1,pm(X,a,H);break;case"selectionchange":if(Qx)break;case"keydown":case"keyup":pm(X,a,H)}var ue;if(Wc)e:{switch(s){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Kn?em(s,a)&&(pe="onCompositionEnd"):s==="keydown"&&a.keyCode===229&&(pe="onCompositionStart");pe&&(Jf&&a.locale!=="ko"&&(Kn||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Kn&&(ue=$f()):(_i=H,Dc="value"in _i?_i.value:_i.textContent,Kn=!0)),Ce=$l(L,pe),0<Ce.length&&(pe=new Zf(pe,s,null,a,H),X.push({event:pe,listeners:Ce}),ue?pe.data=ue:(ue=tm(a),ue!==null&&(pe.data=ue)))),(ue=Vx?Wx(s,a):Hx(s,a))&&(pe=$l(L,"onBeforeInput"),0<pe.length&&(Ce=new Zf("onBeforeInput","beforeinput",null,a,H),X.push({event:Ce,listeners:pe}),Ce.data=ue)),R1(X,s,L,a,H)}Oy(X,n)})}function eo(s,n,a){return{instance:s,listener:n,currentTarget:a}}function $l(s,n){for(var a=n+"Capture",u=[];s!==null;){var f=s,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=va(s,a),f!=null&&u.unshift(eo(s,f,g)),f=va(s,n),f!=null&&u.push(eo(s,f,g))),s.tag===3)return u;s=s.return}return[]}function _r(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function jy(s,n,a,u,f){for(var g=n._reactName,w=[];a!==null&&a!==u;){var A=a,E=A.alternate,L=A.stateNode;if(A=A.tag,E!==null&&E===u)break;A!==5&&A!==26&&A!==27||L===null||(E=L,f?(L=va(a,g),L!=null&&w.unshift(eo(a,L,E))):f||(L=va(a,g),L!=null&&w.push(eo(a,L,E)))),a=a.return}w.length!==0&&s.push({event:n,listeners:w})}var D1=/\r\n?/g,j1=/\u0000|\uFFFD/g;function Fy(s){return(typeof s=="string"?s:""+s).replace(D1,`
`).replace(j1,"")}function Uy(s,n){return n=Fy(n),Fy(s)===n}function Gl(){}function Ve(s,n,a,u,f,g){switch(a){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||Yn(s,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&Yn(s,""+u);break;case"className":Qo(s,"class",u);break;case"tabIndex":Qo(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Qo(s,a,u);break;case"style":Wf(s,u,g);break;case"data":if(n!=="object"){Qo(s,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||a!=="href")){s.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(a);break}u=tl(""+u),s.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(n!=="input"&&Ve(s,n,"name",f.name,f,null),Ve(s,n,"formEncType",f.formEncType,f,null),Ve(s,n,"formMethod",f.formMethod,f,null),Ve(s,n,"formTarget",f.formTarget,f,null)):(Ve(s,n,"encType",f.encType,f,null),Ve(s,n,"method",f.method,f,null),Ve(s,n,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(a);break}u=tl(""+u),s.setAttribute(a,u);break;case"onClick":u!=null&&(s.onclick=Gl);break;case"onScroll":u!=null&&Ne("scroll",s);break;case"onScrollEnd":u!=null&&Ne("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=a}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}a=tl(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(a,""+u):s.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(a,""):s.removeAttribute(a);break;case"capture":case"download":u===!0?s.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(a,u):s.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(a,u):s.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(a):s.setAttribute(a,u);break;case"popover":Ne("beforetoggle",s),Ne("toggle",s),Jo(s,"popover",u);break;case"xlinkActuate":Gs(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Gs(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Gs(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Gs(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Gs(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Gs(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Gs(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Gs(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Gs(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Jo(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mx.get(a)||a,Jo(s,a,u))}}function yd(s,n,a,u,f,g){switch(a){case"style":Wf(s,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=a}}break;case"children":typeof u=="string"?Yn(s,u):(typeof u=="number"||typeof u=="bigint")&&Yn(s,""+u);break;case"onScroll":u!=null&&Ne("scroll",s);break;case"onScrollEnd":u!=null&&Ne("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Gl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nf.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),g=s[Ft]||null,g=g!=null?g[a]:null,typeof g=="function"&&s.removeEventListener(n,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(a in s?s[a]=null:s.hasAttribute(a)&&s.removeAttribute(a)),s.addEventListener(n,u,f);break e}a in s?s[a]=u:u===!0?s.setAttribute(a,""):Jo(s,a,u)}}}function wt(s,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",s),Ne("load",s);var u=!1,f=!1,g;for(g in a)if(a.hasOwnProperty(g)){var w=a[g];if(w!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Ve(s,n,g,w,a,null)}}f&&Ve(s,n,"srcSet",a.srcSet,a,null),u&&Ve(s,n,"src",a.src,a,null);return;case"input":Ne("invalid",s);var A=g=w=f=null,E=null,L=null;for(u in a)if(a.hasOwnProperty(u)){var H=a[u];if(H!=null)switch(u){case"name":f=H;break;case"type":w=H;break;case"checked":E=H;break;case"defaultChecked":L=H;break;case"value":g=H;break;case"defaultValue":A=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,n));break;default:Ve(s,n,u,H,a,null)}}jf(s,g,A,E,L,w,f,!1),Ko(s);return;case"select":Ne("invalid",s),u=w=g=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":g=A;break;case"defaultValue":w=A;break;case"multiple":u=A;default:Ve(s,n,f,A,a,null)}n=g,a=w,s.multiple=!!u,n!=null?Zn(s,!!u,n,!1):a!=null&&Zn(s,!!u,a,!0);return;case"textarea":Ne("invalid",s),g=f=u=null;for(w in a)if(a.hasOwnProperty(w)&&(A=a[w],A!=null))switch(w){case"value":u=A;break;case"defaultValue":f=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:Ve(s,n,w,A,a,null)}Uf(s,u,f,g),Ko(s);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(u=a[E],u!=null))switch(E){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ve(s,n,E,u,a,null)}return;case"dialog":Ne("beforetoggle",s),Ne("toggle",s),Ne("cancel",s),Ne("close",s);break;case"iframe":case"object":Ne("load",s);break;case"video":case"audio":for(u=0;u<Ka.length;u++)Ne(Ka[u],s);break;case"image":Ne("error",s),Ne("load",s);break;case"details":Ne("toggle",s);break;case"embed":case"source":case"link":Ne("error",s),Ne("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(u=a[L],u!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Ve(s,n,L,u,a,null)}return;default:if(Ic(n)){for(H in a)a.hasOwnProperty(H)&&(u=a[H],u!==void 0&&yd(s,n,H,u,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(u=a[A],u!=null&&Ve(s,n,A,u,a,null))}function F1(s,n,a,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,w=null,A=null,E=null,L=null,H=null;for(F in a){var X=a[F];if(a.hasOwnProperty(F)&&X!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":E=X;default:u.hasOwnProperty(F)||Ve(s,n,F,null,u,X)}}for(var j in u){var F=u[j];if(X=a[j],u.hasOwnProperty(j)&&(F!=null||X!=null))switch(j){case"type":g=F;break;case"name":f=F;break;case"checked":L=F;break;case"defaultChecked":H=F;break;case"value":w=F;break;case"defaultValue":A=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,n));break;default:F!==X&&Ve(s,n,j,F,u,X)}}Pc(s,w,A,E,L,H,g,f);return;case"select":F=w=A=j=null;for(g in a)if(E=a[g],a.hasOwnProperty(g)&&E!=null)switch(g){case"value":break;case"multiple":F=E;default:u.hasOwnProperty(g)||Ve(s,n,g,null,u,E)}for(f in u)if(g=u[f],E=a[f],u.hasOwnProperty(f)&&(g!=null||E!=null))switch(f){case"value":j=g;break;case"defaultValue":A=g;break;case"multiple":w=g;default:g!==E&&Ve(s,n,f,g,u,E)}n=A,a=w,u=F,j!=null?Zn(s,!!a,j,!1):!!u!=!!a&&(n!=null?Zn(s,!!a,n,!0):Zn(s,!!a,a?[]:"",!1));return;case"textarea":F=j=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ve(s,n,A,null,u,f)}for(w in u)if(f=u[w],g=a[w],u.hasOwnProperty(w)&&(f!=null||g!=null))switch(w){case"value":j=f;break;case"defaultValue":F=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==g&&Ve(s,n,w,f,u,g)}Ff(s,j,F);return;case"option":for(var ge in a)if(j=a[ge],a.hasOwnProperty(ge)&&j!=null&&!u.hasOwnProperty(ge))switch(ge){case"selected":s.selected=!1;break;default:Ve(s,n,ge,null,u,j)}for(E in u)if(j=u[E],F=a[E],u.hasOwnProperty(E)&&j!==F&&(j!=null||F!=null))switch(E){case"selected":s.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Ve(s,n,E,j,u,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in a)j=a[de],a.hasOwnProperty(de)&&j!=null&&!u.hasOwnProperty(de)&&Ve(s,n,de,null,u,j);for(L in u)if(j=u[L],F=a[L],u.hasOwnProperty(L)&&j!==F&&(j!=null||F!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(137,n));break;default:Ve(s,n,L,j,u,F)}return;default:if(Ic(n)){for(var We in a)j=a[We],a.hasOwnProperty(We)&&j!==void 0&&!u.hasOwnProperty(We)&&yd(s,n,We,void 0,u,j);for(H in u)j=u[H],F=a[H],!u.hasOwnProperty(H)||j===F||j===void 0&&F===void 0||yd(s,n,H,j,u,F);return}}for(var R in a)j=a[R],a.hasOwnProperty(R)&&j!=null&&!u.hasOwnProperty(R)&&Ve(s,n,R,null,u,j);for(X in u)j=u[X],F=a[X],!u.hasOwnProperty(X)||j===F||j==null&&F==null||Ve(s,n,X,j,u,F)}var vd=null,bd=null;function Xl(s){return s.nodeType===9?s:s.ownerDocument}function Vy(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(s,n){if(s===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&n==="foreignObject"?0:s}function xd(s,n){return s==="textarea"||s==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wd=null;function U1(){var s=window.event;return s&&s.type==="popstate"?s===wd?!1:(wd=s,!0):(wd=null,!1)}var Hy=typeof setTimeout=="function"?setTimeout:void 0,V1=typeof clearTimeout=="function"?clearTimeout:void 0,qy=typeof Promise=="function"?Promise:void 0,W1=typeof queueMicrotask=="function"?queueMicrotask:typeof qy<"u"?function(s){return qy.resolve(null).then(s).catch(H1)}:Hy;function H1(s){setTimeout(function(){throw s})}function Fi(s){return s==="head"}function $y(s,n){var a=n,u=0,f=0;do{var g=a.nextSibling;if(s.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<u&&8>u){a=u;var w=s.ownerDocument;if(a&1&&to(w.documentElement),a&2&&to(w.body),a&4)for(a=w.head,to(a),w=a.firstChild;w;){var A=w.nextSibling,E=w.nodeName;w[ga]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&w.rel.toLowerCase()==="stylesheet"||a.removeChild(w),w=A}}if(f===0){s.removeChild(g),uo(n);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:u=a.charCodeAt(0)-48;else u=0;a=g}while(a);uo(n)}function Sd(s){var n=s.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sd(a),Tc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}s.removeChild(a)}}function q1(s,n,a,u){for(;s.nodeType===1;){var f=a;if(s.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[ga])switch(n){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence")||g!==f.rel||s.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||s.getAttribute("title")!==(f.title==null?null:f.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(f.src==null?null:f.src)||s.getAttribute("type")!==(f.type==null?null:f.type)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(n==="input"&&s.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=ks(s.nextSibling),s===null)break}return null}function $1(s,n,a){if(n==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=ks(s.nextSibling),s===null))return null;return s}function Md(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function G1(s,n){var a=s.ownerDocument;if(s.data!=="$?"||a.readyState==="complete")n();else{var u=function(){n(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function ks(s){for(;s!=null;s=s.nextSibling){var n=s.nodeType;if(n===1||n===3)break;if(n===8){if(n=s.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return s}var _d=null;function Gy(s){s=s.previousSibling;for(var n=0;s;){if(s.nodeType===8){var a=s.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return s;n--}else a==="/$"&&n++}s=s.previousSibling}return null}function Xy(s,n,a){switch(n=Xl(a),s){case"html":if(s=n.documentElement,!s)throw Error(i(452));return s;case"head":if(s=n.head,!s)throw Error(i(453));return s;case"body":if(s=n.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function to(s){for(var n=s.attributes;n.length;)s.removeAttributeNode(n[0]);Tc(s)}var ys=new Map,Zy=new Set;function Zl(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var li=J.d;J.d={f:X1,r:Z1,D:Y1,C:J1,L:Q1,m:K1,X:tw,S:ew,M:sw};function X1(){var s=li.f(),n=Fl();return s||n}function Z1(s){var n=qn(s);n!==null&&n.tag===5&&n.type==="form"?mg(n):li.r(s)}var Ar=typeof document>"u"?null:document;function Yy(s,n,a){var u=Ar;if(u&&typeof n=="string"&&n){var f=Ms(n);f='link[rel="'+s+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Zy.has(f)||(Zy.add(f),s={rel:s,crossOrigin:a,href:n},u.querySelector(f)===null&&(n=u.createElement("link"),wt(n,"link",s),pt(n),u.head.appendChild(n)))}}function Y1(s){li.D(s),Yy("dns-prefetch",s,null)}function J1(s,n){li.C(s,n),Yy("preconnect",s,n)}function Q1(s,n,a){li.L(s,n,a);var u=Ar;if(u&&s&&n){var f='link[rel="preload"][as="'+Ms(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Ms(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Ms(a.imageSizes)+'"]')):f+='[href="'+Ms(s)+'"]';var g=f;switch(n){case"style":g=kr(s);break;case"script":g=Tr(s)}ys.has(g)||(s=m({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:s,as:n},a),ys.set(g,s),u.querySelector(f)!==null||n==="style"&&u.querySelector(so(g))||n==="script"&&u.querySelector(io(g))||(n=u.createElement("link"),wt(n,"link",s),pt(n),u.head.appendChild(n)))}}function K1(s,n){li.m(s,n);var a=Ar;if(a&&s){var u=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Ms(u)+'"][href="'+Ms(s)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Tr(s)}if(!ys.has(g)&&(s=m({rel:"modulepreload",href:s},n),ys.set(g,s),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(io(g)))return}u=a.createElement("link"),wt(u,"link",s),pt(u),a.head.appendChild(u)}}}function ew(s,n,a){li.S(s,n,a);var u=Ar;if(u&&s){var f=$n(u).hoistableStyles,g=kr(s);n=n||"default";var w=f.get(g);if(!w){var A={loading:0,preload:null};if(w=u.querySelector(so(g)))A.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":n},a),(a=ys.get(g))&&Ad(s,a);var E=w=u.createElement("link");pt(E),wt(E,"link",s),E._p=new Promise(function(L,H){E.onload=L,E.onerror=H}),E.addEventListener("load",function(){A.loading|=1}),E.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Yl(w,n,u)}w={type:"stylesheet",instance:w,count:1,state:A},f.set(g,w)}}}function tw(s,n){li.X(s,n);var a=Ar;if(a&&s){var u=$n(a).hoistableScripts,f=Tr(s),g=u.get(f);g||(g=a.querySelector(io(f)),g||(s=m({src:s,async:!0},n),(n=ys.get(f))&&kd(s,n),g=a.createElement("script"),pt(g),wt(g,"link",s),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function sw(s,n){li.M(s,n);var a=Ar;if(a&&s){var u=$n(a).hoistableScripts,f=Tr(s),g=u.get(f);g||(g=a.querySelector(io(f)),g||(s=m({src:s,async:!0,type:"module"},n),(n=ys.get(f))&&kd(s,n),g=a.createElement("script"),pt(g),wt(g,"link",s),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function Jy(s,n,a,u){var f=(f=ye.current)?Zl(f):null;if(!f)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=kr(a.href),a=$n(f).hoistableStyles,u=a.get(n),u||(u={type:"style",instance:null,count:0,state:null},a.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){s=kr(a.href);var g=$n(f).hoistableStyles,w=g.get(s);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,w),(g=f.querySelector(so(s)))&&!g._p&&(w.instance=g,w.state.loading=5),ys.has(s)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ys.set(s,a),g||iw(f,s,a,w.state))),n&&u===null)throw Error(i(528,""));return w}if(n&&u!==null)throw Error(i(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Tr(a),a=$n(f).hoistableScripts,u=a.get(n),u||(u={type:"script",instance:null,count:0,state:null},a.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function kr(s){return'href="'+Ms(s)+'"'}function so(s){return'link[rel="stylesheet"]['+s+"]"}function Qy(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function iw(s,n,a,u){s.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=s.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),wt(n,"link",a),pt(n),s.head.appendChild(n))}function Tr(s){return'[src="'+Ms(s)+'"]'}function io(s){return"script[async]"+s}function Ky(s,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var u=s.querySelector('style[data-href~="'+Ms(a.href)+'"]');if(u)return n.instance=u,pt(u),u;var f=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),pt(u),wt(u,"style",f),Yl(u,a.precedence,s),n.instance=u;case"stylesheet":f=kr(a.href);var g=s.querySelector(so(f));if(g)return n.state.loading|=4,n.instance=g,pt(g),g;u=Qy(a),(f=ys.get(f))&&Ad(u,f),g=(s.ownerDocument||s).createElement("link"),pt(g);var w=g;return w._p=new Promise(function(A,E){w.onload=A,w.onerror=E}),wt(g,"link",u),n.state.loading|=4,Yl(g,a.precedence,s),n.instance=g;case"script":return g=Tr(a.src),(f=s.querySelector(io(g)))?(n.instance=f,pt(f),f):(u=a,(f=ys.get(g))&&(u=m({},a),kd(u,f)),s=s.ownerDocument||s,f=s.createElement("script"),pt(f),wt(f,"link",u),s.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,Yl(u,a.precedence,s));return n.instance}function Yl(s,n,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,w=0;w<u.length;w++){var A=u[w];if(A.dataset.precedence===n)g=A;else if(g!==f)break}g?g.parentNode.insertBefore(s,g.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(s,n.firstChild))}function Ad(s,n){s.crossOrigin==null&&(s.crossOrigin=n.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=n.referrerPolicy),s.title==null&&(s.title=n.title)}function kd(s,n){s.crossOrigin==null&&(s.crossOrigin=n.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=n.referrerPolicy),s.integrity==null&&(s.integrity=n.integrity)}var Jl=null;function e0(s,n,a){if(Jl===null){var u=new Map,f=Jl=new Map;f.set(a,u)}else f=Jl,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(s))return u;for(u.set(s,null),a=a.getElementsByTagName(s),f=0;f<a.length;f++){var g=a[f];if(!(g[ga]||g[_t]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(n)||"";w=s+w;var A=u.get(w);A?A.push(g):u.set(w,[g])}}return u}function t0(s,n,a){s=s.ownerDocument||s,s.head.insertBefore(a,n==="title"?s.querySelector("head > title"):null)}function nw(s,n,a){if(a===1||n.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return s=n.disabled,typeof n.precedence=="string"&&s==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function s0(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var no=null;function rw(){}function aw(s,n,a){if(no===null)throw Error(i(475));var u=no;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=kr(a.href),g=s.querySelector(so(f));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=Ql.bind(u),s.then(u,u)),n.state.loading|=4,n.instance=g,pt(g);return}g=s.ownerDocument||s,a=Qy(a),(f=ys.get(f))&&Ad(a,f),g=g.createElement("link"),pt(g);var w=g;w._p=new Promise(function(A,E){w.onload=A,w.onerror=E}),wt(g,"link",a),n.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(n,s),(s=n.state.preload)&&(n.state.loading&3)===0&&(u.count++,n=Ql.bind(u),s.addEventListener("load",n),s.addEventListener("error",n))}}function ow(){if(no===null)throw Error(i(475));var s=no;return s.stylesheets&&s.count===0&&Td(s,s.stylesheets),0<s.count?function(n){var a=setTimeout(function(){if(s.stylesheets&&Td(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=n,function(){s.unsuspend=null,clearTimeout(a)}}:null}function Ql(){if(this.count--,this.count===0){if(this.stylesheets)Td(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Kl=null;function Td(s,n){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Kl=new Map,n.forEach(lw,s),Kl=null,Ql.call(s))}function lw(s,n){if(!(n.state.loading&4)){var a=Kl.get(s);if(a)var u=a.get(null);else{a=new Map,Kl.set(s,a);for(var f=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var w=f[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),u=w)}u&&a.set(null,u)}f=n.instance,w=f.getAttribute("data-precedence"),g=a.get(w)||u,g===u&&a.set(null,f),a.set(w,f),this.count++,u=Ql.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(f,s.firstChild)),n.state.loading|=4}}var ro={$$typeof:T,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function uw(s,n,a,u,f,g,w,A){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mc(0),this.hiddenUpdates=Mc(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function i0(s,n,a,u,f,g,w,A,E,L,H,X){return s=new uw(s,n,a,w,A,E,L,X),n=1,g===!0&&(n|=24),g=Jt(3,null,null,n),s.current=g,g.stateNode=s,n=lh(),n.refCount++,s.pooledCache=n,n.refCount++,g.memoizedState={element:u,isDehydrated:a,cache:n},dh(g),s}function n0(s){return s?(s=nr,s):nr}function r0(s,n,a,u,f,g){f=n0(f),u.context===null?u.context=f:u.pendingContext=f,u=Ti(n),u.payload={element:a},g=g===void 0?null:g,g!==null&&(u.callback=g),a=Ci(s,u,n),a!==null&&(ss(a,s,n),Ba(a,s,n))}function a0(s,n){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var a=s.retryLane;s.retryLane=a!==0&&a<n?a:n}}function Cd(s,n){a0(s,n),(s=s.alternate)&&a0(s,n)}function o0(s){if(s.tag===13){var n=ir(s,67108864);n!==null&&ss(n,s,67108864),Cd(s,67108864)}}var eu=!0;function cw(s,n,a,u){var f=U.T;U.T=null;var g=J.p;try{J.p=2,zd(s,n,a,u)}finally{J.p=g,U.T=f}}function hw(s,n,a,u){var f=U.T;U.T=null;var g=J.p;try{J.p=8,zd(s,n,a,u)}finally{J.p=g,U.T=f}}function zd(s,n,a,u){if(eu){var f=Ed(u);if(f===null)gd(s,n,u,tu,a),u0(s,u);else if(pw(f,s,n,a,u))u.stopPropagation();else if(u0(s,u),n&4&&-1<dw.indexOf(s)){for(;f!==null;){var g=qn(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=nn(g.pendingLanes);if(w!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var E=1<<31-It(w);A.entanglements[1]|=E,w&=~E}Ls(g),(je&6)===0&&(Dl=ne()+500,Qa(0))}}break;case 13:A=ir(g,2),A!==null&&ss(A,g,2),Fl(),Cd(g,2)}if(g=Ed(u),g===null&&gd(s,n,u,tu,a),g===f)break;f=g}f!==null&&u.stopPropagation()}else gd(s,n,u,null,a)}}function Ed(s){return s=Bc(s),Pd(s)}var tu=null;function Pd(s){if(tu=null,s=Hn(s),s!==null){var n=o(s);if(n===null)s=null;else{var a=n.tag;if(a===13){if(s=l(n),s!==null)return s;s=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;s=null}else n!==s&&(s=null)}}return tu=s,null}function l0(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ee()){case Ae:return 2;case He:return 8;case qe:case et:return 32;case Pt:return 268435456;default:return 32}default:return 32}}var Nd=!1,Ui=null,Vi=null,Wi=null,ao=new Map,oo=new Map,Hi=[],dw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u0(s,n){switch(s){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":ao.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(n.pointerId)}}function lo(s,n,a,u,f,g){return s===null||s.nativeEvent!==g?(s={blockedOn:n,domEventName:a,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},n!==null&&(n=qn(n),n!==null&&o0(n)),s):(s.eventSystemFlags|=u,n=s.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),s)}function pw(s,n,a,u,f){switch(n){case"focusin":return Ui=lo(Ui,s,n,a,u,f),!0;case"dragenter":return Vi=lo(Vi,s,n,a,u,f),!0;case"mouseover":return Wi=lo(Wi,s,n,a,u,f),!0;case"pointerover":var g=f.pointerId;return ao.set(g,lo(ao.get(g)||null,s,n,a,u,f)),!0;case"gotpointercapture":return g=f.pointerId,oo.set(g,lo(oo.get(g)||null,s,n,a,u,f)),!0}return!1}function c0(s){var n=Hn(s.target);if(n!==null){var a=o(n);if(a!==null){if(n=a.tag,n===13){if(n=l(a),n!==null){s.blockedOn=n,ax(s.priority,function(){if(a.tag===13){var u=ts();u=_c(u);var f=ir(a,u);f!==null&&ss(f,a,u),Cd(a,u)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){s.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}s.blockedOn=null}function su(s){if(s.blockedOn!==null)return!1;for(var n=s.targetContainers;0<n.length;){var a=Ed(s.nativeEvent);if(a===null){a=s.nativeEvent;var u=new a.constructor(a.type,a);Rc=u,a.target.dispatchEvent(u),Rc=null}else return n=qn(a),n!==null&&o0(n),s.blockedOn=a,!1;n.shift()}return!0}function h0(s,n,a){su(s)&&a.delete(n)}function fw(){Nd=!1,Ui!==null&&su(Ui)&&(Ui=null),Vi!==null&&su(Vi)&&(Vi=null),Wi!==null&&su(Wi)&&(Wi=null),ao.forEach(h0),oo.forEach(h0)}function iu(s,n){s.blockedOn===n&&(s.blockedOn=null,Nd||(Nd=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,fw)))}var nu=null;function d0(s){nu!==s&&(nu=s,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){nu===s&&(nu=null);for(var n=0;n<s.length;n+=3){var a=s[n],u=s[n+1],f=s[n+2];if(typeof u!="function"){if(Pd(u||a)===null)continue;break}var g=qn(a);g!==null&&(s.splice(n,3),n-=3,Ph(g,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function uo(s){function n(E){return iu(E,s)}Ui!==null&&iu(Ui,s),Vi!==null&&iu(Vi,s),Wi!==null&&iu(Wi,s),ao.forEach(n),oo.forEach(n);for(var a=0;a<Hi.length;a++){var u=Hi[a];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Hi.length&&(a=Hi[0],a.blockedOn===null);)c0(a),a.blockedOn===null&&Hi.shift();if(a=(s.ownerDocument||s).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],g=a[u+1],w=f[Ft]||null;if(typeof g=="function")w||d0(a);else if(w){var A=null;if(g&&g.hasAttribute("formAction")){if(f=g,w=g[Ft]||null)A=w.formAction;else if(Pd(f)!==null)continue}else A=w.action;typeof A=="function"?a[u+1]=A:(a.splice(u,3),u-=3),d0(a)}}}function Id(s){this._internalRoot=s}ru.prototype.render=Id.prototype.render=function(s){var n=this._internalRoot;if(n===null)throw Error(i(409));var a=n.current,u=ts();r0(a,u,s,n,null,null)},ru.prototype.unmount=Id.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var n=s.containerInfo;r0(s.current,2,null,s,null,null),Fl(),n[Wn]=null}};function ru(s){this._internalRoot=s}ru.prototype.unstable_scheduleHydration=function(s){if(s){var n=zf();s={blockedOn:null,target:s,priority:n};for(var a=0;a<Hi.length&&n!==0&&n<Hi[a].priority;a++);Hi.splice(a,0,s),a===0&&c0(s)}};var p0=e.version;if(p0!=="19.1.0")throw Error(i(527,p0,"19.1.0"));J.findDOMNode=function(s){var n=s._reactInternals;if(n===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(n),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var mw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{Si=au.inject(mw),Mt=au}catch{}}return ho.createRoot=function(s,n){if(!r(s))throw Error(i(299));var a=!1,u="",f=zg,g=Eg,w=Pg,A=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(w=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(A=n.unstable_transitionCallbacks)),n=i0(s,1,!1,null,null,a,u,f,g,w,A,null),s[Wn]=n.current,md(s),new Id(n)},ho.hydrateRoot=function(s,n,a){if(!r(s))throw Error(i(299));var u=!1,f="",g=zg,w=Eg,A=Pg,E=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(E=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),n=i0(s,1,!0,n,a??null,u,f,g,w,A,E,L),n.context=n0(null),a=n.current,u=ts(),u=_c(u),f=Ti(u),f.callback=null,Ci(a,f,u),a=u,n.current.lanes=a,ma(n,a),Ls(n),s[Wn]=n.current,md(s),new ru(n)},ho.version="19.1.0",ho}var E0;function Iw(){if(E0)return Rd.exports;E0=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(e){console.error(e)}}return c(),Rd.exports=Nw(),Rd.exports}var Rw=Iw();const Bw="modulepreload",Lw=function(c){return"/"+c},P0={},aa=function(c,e,t){let i=Promise.resolve();if(e&&e.length>0){let o=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),h=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=o(e.map(d=>{if(d=Lw(d),d in P0)return;P0[d]=!0;const p=d.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":Bw,p||(y.as="script"),y.crossOrigin="",y.href=d,h&&y.setAttribute("nonce",h),document.head.appendChild(y),p)return new Promise((v,b)=>{y.addEventListener("load",v),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&r(l.reason);return c().catch(r)})};/**
* @license
* Copyright 2010-2025 Three.js Authors
* SPDX-License-Identifier: MIT
*/const ab="176",Sk={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Mk={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},_k=0,Ak=1,kk=2,Tk=3,Ck=0,zk=1,Ek=2,Pk=3,wp=0,ob=1,Nk=2,Ow=0,N0=1,Ik=2,Rk=3,Bk=4,Lk=5,I0=100,Ok=101,Dk=102,jk=103,Fk=104,Uk=200,Vk=201,Wk=202,Hk=203,R0=204,B0=205,qk=206,$k=207,Gk=208,Xk=209,Zk=210,Yk=211,Jk=212,Qk=213,Kk=214,eT=0,tT=1,sT=2,L0=3,iT=4,nT=5,rT=6,aT=7,Rp=0,oT=1,lT=2,uT=0,cT=1,hT=2,dT=3,pT=4,fT=5,mT=6,gT=7,O0="attached",Dw="detached",Bp=300,Lp=301,jw=302,Fw=303,Uw=304,Vw=306,Sp=1e3,js=1001,Mp=1002,Es=1003,Ww=1004,yT=1004,Hw=1005,vT=1005,ws=1006,qw=1007,bT=1007,hc=1008,xT=1008,Op=1009,$w=1010,Gw=1011,Xw=1012,Zw=1013,Dp=1014,Qr=1015,Yw=1016,Jw=1017,Qw=1018,wT=1020,Kw=35902,eS=1021,tS=1022,Bo=1023,D0=1026,sS=1027,lb=1028,ub=1029,iS=1030,nS=1031,ST=1032,rS=1033,aS=33776,oS=33777,lS=33778,uS=33779,cS=35840,hS=35841,dS=35842,pS=35843,fS=36196,mS=37492,gS=37496,yS=37808,vS=37809,bS=37810,xS=37811,wS=37812,SS=37813,MS=37814,_S=37815,AS=37816,kS=37817,TS=37818,CS=37819,zS=37820,ES=37821,PS=36492,NS=36494,IS=36495,RS=36283,BS=36284,LS=36285,OS=36286,DS=2200,jS=2201,FS=2202,Qu=2300,_p=2301,Ld=2302,Gr=2400,Xr=2401,Ku=2402,jp=2500,cb=2501,MT=0,_T=1,AT=2,US=3200,kT=3201,TT=3202,CT=3203,oa=0,zT=1,hb="",bs="srgb",j0="srgb-linear",F0="linear",Od="srgb",ET=0,Cr=7680,PT=7681,NT=7682,IT=7683,RT=34055,BT=34056,LT=5386,OT=512,DT=513,jT=514,FT=515,UT=516,VT=517,WT=518,U0=519,HT=512,qT=513,$T=514,GT=515,XT=516,ZT=517,YT=518,JT=519,ec=35044,QT=35048,KT=35040,eC=35045,tC=35049,sC=35041,iC=35046,nC=35050,rC=35042,aC="100",oC="300 es",Fs=2e3,tc=2001,lC={COMPUTE:"compute",RENDER:"render"},uC={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},cC={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FLAT_FIRST:"flat first",FLAT_EITHER:"flat either"};class tn{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let o=0,l=r.length;o<l;o++)r[o].call(this,e);e.target=null}}}const Tt=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let V0=1234567;const Ln=Math.PI/180,Lo=180/Math.PI;function os(){const c=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Tt[c&255]+Tt[c>>8&255]+Tt[c>>16&255]+Tt[c>>24&255]+"-"+Tt[e&255]+Tt[e>>8&255]+"-"+Tt[e>>16&15|64]+Tt[e>>24&255]+"-"+Tt[t&63|128]+Tt[t>>8&255]+"-"+Tt[t>>16&255]+Tt[t>>24&255]+Tt[i&255]+Tt[i>>8&255]+Tt[i>>16&255]+Tt[i>>24&255]).toLowerCase()}function ve(c,e,t){return Math.max(e,Math.min(t,c))}function Fp(c,e){return(c%e+e)%e}function VS(c,e,t,i,r){return i+(c-e)*(r-i)/(t-e)}function WS(c,e,t){return c!==e?(t-c)/(e-c):0}function No(c,e,t){return(1-t)*c+t*e}function HS(c,e,t,i){return No(c,e,1-Math.exp(-t*i))}function qS(c,e=1){return e-Math.abs(Fp(c,e*2)-e)}function $S(c,e,t){return c<=e?0:c>=t?1:(c=(c-e)/(t-e),c*c*(3-2*c))}function GS(c,e,t){return c<=e?0:c>=t?1:(c=(c-e)/(t-e),c*c*c*(c*(c*6-15)+10))}function XS(c,e){return c+Math.floor(Math.random()*(e-c+1))}function ZS(c,e){return c+Math.random()*(e-c)}function YS(c){return c*(.5-Math.random())}function JS(c){c!==void 0&&(V0=c);let e=V0+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function QS(c){return c*Ln}function KS(c){return c*Lo}function eM(c){return(c&c-1)===0&&c!==0}function tM(c){return Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))}function sM(c){return Math.pow(2,Math.floor(Math.log(c)/Math.LN2))}function iM(c,e,t,i,r){const o=Math.cos,l=Math.sin,h=o(t/2),d=l(t/2),p=o((e+i)/2),m=l((e+i)/2),y=o((e-i)/2),v=l((e-i)/2),b=o((i-e)/2),x=l((i-e)/2);switch(r){case"XYX":c.set(h*m,d*y,d*v,h*p);break;case"YZY":c.set(d*v,h*m,d*y,h*p);break;case"ZXZ":c.set(d*y,d*v,h*m,h*p);break;case"XZX":c.set(h*m,d*x,d*b,h*p);break;case"YXY":c.set(d*b,h*m,d*x,h*p);break;case"ZYZ":c.set(d*x,d*b,h*m,h*p);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Lt(c,e){switch(e.constructor){case Float32Array:return c;case Uint32Array:return c/4294967295;case Uint16Array:return c/65535;case Uint8Array:return c/255;case Int32Array:return Math.max(c/2147483647,-1);case Int16Array:return Math.max(c/32767,-1);case Int8Array:return Math.max(c/127,-1);default:throw new Error("Invalid component type.")}}function we(c,e){switch(e.constructor){case Float32Array:return c;case Uint32Array:return Math.round(c*4294967295);case Uint16Array:return Math.round(c*65535);case Uint8Array:return Math.round(c*255);case Int32Array:return Math.round(c*2147483647);case Int16Array:return Math.round(c*32767);case Int8Array:return Math.round(c*127);default:throw new Error("Invalid component type.")}}const hC={DEG2RAD:Ln,RAD2DEG:Lo,generateUUID:os,clamp:ve,euclideanModulo:Fp,mapLinear:VS,inverseLerp:WS,lerp:No,damp:HS,pingpong:qS,smoothstep:$S,smootherstep:GS,randInt:XS,randFloat:ZS,randFloatSpread:YS,seededRandom:JS,degToRad:QS,radToDeg:KS,isPowerOfTwo:eM,ceilPowerOfTwo:tM,floorPowerOfTwo:sM,setQuaternionFromProperEuler:iM,normalize:we,denormalize:Lt};class Y{constructor(e=0,t=0){Y.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=ve(this.x,e.x,t.x),this.y=ve(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=ve(this.x,e,t),this.y=ve(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(ve(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(ve(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),o=this.x-e.x,l=this.y-e.y;return this.x=o*i-l*r+e.x,this.y=o*r+l*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Hs{constructor(e,t,i,r,o,l,h,d,p){Hs.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,o,l,h,d,p)}set(e,t,i,r,o,l,h,d,p){const m=this.elements;return m[0]=e,m[1]=r,m[2]=h,m[3]=t,m[4]=o,m[5]=d,m[6]=i,m[7]=l,m[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,o=this.elements,l=i[0],h=i[3],d=i[6],p=i[1],m=i[4],y=i[7],v=i[2],b=i[5],x=i[8],S=r[0],_=r[3],M=r[6],k=r[1],T=r[4],C=r[7],I=r[2],O=r[5],V=r[8];return o[0]=l*S+h*k+d*I,o[3]=l*_+h*T+d*O,o[6]=l*M+h*C+d*V,o[1]=p*S+m*k+y*I,o[4]=p*_+m*T+y*O,o[7]=p*M+m*C+y*V,o[2]=v*S+b*k+x*I,o[5]=v*_+b*T+x*O,o[8]=v*M+b*C+x*V,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],o=e[3],l=e[4],h=e[5],d=e[6],p=e[7],m=e[8];return t*l*m-t*h*p-i*o*m+i*h*d+r*o*p-r*l*d}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],o=e[3],l=e[4],h=e[5],d=e[6],p=e[7],m=e[8],y=m*l-h*p,v=h*d-m*o,b=p*o-l*d,x=t*y+i*v+r*b;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/x;return e[0]=y*S,e[1]=(r*p-m*i)*S,e[2]=(h*i-r*l)*S,e[3]=v*S,e[4]=(m*t-r*d)*S,e[5]=(r*o-h*t)*S,e[6]=b*S,e[7]=(i*d-p*t)*S,e[8]=(l*t-i*o)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,o,l,h){const d=Math.cos(o),p=Math.sin(o);return this.set(i*d,i*p,-i*(d*l+p*h)+l+e,-r*p,r*d,-r*(-p*l+d*h)+h+t,0,0,1),this}scale(e,t){return this.premultiply(Dd.makeScale(e,t)),this}rotate(e){return this.premultiply(Dd.makeRotation(-e)),this}translate(e,t){return this.premultiply(Dd.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Dd=new Hs;function nM(c){for(let e=c.length-1;e>=0;--e)if(c[e]>=65535)return!0;return!1}const rM={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Zr(c,e){return new rM[c](e)}function sc(c){return document.createElementNS("http://www.w3.org/1999/xhtml",c)}function dC(){const c=sc("canvas");return c.style.display="block",c}const W0={};function pC(c){c in W0||(W0[c]=!0,console.warn(c))}function fC(c,e,t){return new Promise(function(i,r){function o(){switch(c.clientWaitSync(e,c.SYNC_FLUSH_COMMANDS_BIT,0)){case c.WAIT_FAILED:r();break;case c.TIMEOUT_EXPIRED:setTimeout(o,t);break;default:i()}}setTimeout(o,t)})}function mC(c){const e=c.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function gC(c){const e=c.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const H0=new Hs().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),q0=new Hs().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function aM(){const c={enabled:!0,workingColorSpace:j0,spaces:{},convert:function(r,o,l){return this.enabled===!1||o===l||!o||!l||(this.spaces[o].transfer===Od&&(r.r=gi(r.r),r.g=gi(r.g),r.b=gi(r.b)),this.spaces[o].primaries!==this.spaces[l].primaries&&(r.applyMatrix3(this.spaces[o].toXYZ),r.applyMatrix3(this.spaces[l].fromXYZ)),this.spaces[l].transfer===Od&&(r.r=Yr(r.r),r.g=Yr(r.g),r.b=Yr(r.b))),r},fromWorkingColorSpace:function(r,o){return this.convert(r,this.workingColorSpace,o)},toWorkingColorSpace:function(r,o){return this.convert(r,o,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===hb?F0:this.spaces[r].transfer},getLuminanceCoefficients:function(r,o=this.workingColorSpace){return r.fromArray(this.spaces[o].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,o,l){return r.copy(this.spaces[o].toXYZ).multiply(this.spaces[l].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return c.define({[j0]:{primaries:e,whitePoint:i,transfer:F0,toXYZ:H0,fromXYZ:q0,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:bs},outputColorSpaceConfig:{drawingBufferColorSpace:bs}},[bs]:{primaries:e,whitePoint:i,transfer:Od,toXYZ:H0,fromXYZ:q0,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:bs}}}),c}const rs=aM();function gi(c){return c<.04045?c*.0773993808:Math.pow(c*.9478672986+.0521327014,2.4)}function Yr(c){return c<.0031308?c*12.92:1.055*Math.pow(c,.41666)-.055}let zr;class oM{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{zr===void 0&&(zr=sc("canvas")),zr.width=e.width,zr.height=e.height;const r=zr.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=zr}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=sc("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),o=r.data;for(let l=0;l<o.length;l++)o[l]=gi(o[l]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(gi(t[i]/255)*255):t[i]=gi(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let lM=0;class Rn{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:lM++}),this.uuid=os(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let o;if(Array.isArray(r)){o=[];for(let l=0,h=r.length;l<h;l++)r[l].isDataTexture?o.push(jd(r[l].image)):o.push(jd(r[l]))}else o=jd(r);i.url=o}return t||(e.images[this.uuid]=i),i}}function jd(c){return typeof HTMLImageElement<"u"&&c instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&c instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&c instanceof ImageBitmap?oM.getDataURL(c):c.data?{data:Array.from(c.data),width:c.width,height:c.height,type:c.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let uM=0;class dt extends tn{constructor(e=dt.DEFAULT_IMAGE,t=dt.DEFAULT_MAPPING,i=js,r=js,o=ws,l=hc,h=Bo,d=Op,p=dt.DEFAULT_ANISOTROPY,m=hb){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:uM++}),this.uuid=os(),this.name="",this.source=new Rn(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=o,this.minFilter=l,this.anisotropy=p,this.format=h,this.internalFormat=null,this.type=d,this.offset=new Y(0,0),this.repeat=new Y(1,1),this.center=new Y(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Hs,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isTextureArray=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isTextureArray=e.isTextureArray,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Bp)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Sp:e.x=e.x-Math.floor(e.x);break;case js:e.x=e.x<0?0:1;break;case Mp:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Sp:e.y=e.y-Math.floor(e.y);break;case js:e.y=e.y<0?0:1;break;case Mp:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}dt.DEFAULT_IMAGE=null;dt.DEFAULT_MAPPING=Bp;dt.DEFAULT_ANISOTROPY=1;class vt{constructor(e=0,t=0,i=0,r=1){vt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,o=this.w,l=e.elements;return this.x=l[0]*t+l[4]*i+l[8]*r+l[12]*o,this.y=l[1]*t+l[5]*i+l[9]*r+l[13]*o,this.z=l[2]*t+l[6]*i+l[10]*r+l[14]*o,this.w=l[3]*t+l[7]*i+l[11]*r+l[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,o;const l=e.elements,h=l[0],d=l[4],p=l[8],m=l[1],y=l[5],v=l[9],b=l[2],x=l[6],S=l[10];if(Math.abs(d-m)<.01&&Math.abs(p-b)<.01&&Math.abs(v-x)<.01){if(Math.abs(d+m)<.1&&Math.abs(p+b)<.1&&Math.abs(v+x)<.1&&Math.abs(h+y+S-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const M=(h+1)/2,k=(y+1)/2,T=(S+1)/2,C=(d+m)/4,I=(p+b)/4,O=(v+x)/4;return M>k&&M>T?M<.01?(i=0,r=.707106781,o=.707106781):(i=Math.sqrt(M),r=C/i,o=I/i):k>T?k<.01?(i=.707106781,r=0,o=.707106781):(r=Math.sqrt(k),i=C/r,o=O/r):T<.01?(i=.707106781,r=.707106781,o=0):(o=Math.sqrt(T),i=I/o,r=O/o),this.set(i,r,o,t),this}let _=Math.sqrt((x-v)*(x-v)+(p-b)*(p-b)+(m-d)*(m-d));return Math.abs(_)<.001&&(_=1),this.x=(x-v)/_,this.y=(p-b)/_,this.z=(m-d)/_,this.w=Math.acos((h+y+S-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=ve(this.x,e.x,t.x),this.y=ve(this.y,e.y,t.y),this.z=ve(this.z,e.z,t.z),this.w=ve(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=ve(this.x,e,t),this.y=ve(this.y,e,t),this.z=ve(this.z,e,t),this.w=ve(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(ve(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Up extends tn{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth?i.depth:1,this.scissor=new vt(0,0,e,t),this.scissorTest=!1,this.viewport=new vt(0,0,e,t);const r={width:e,height:t,depth:this.depth};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ws,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,multiview:!1},i);const o=new dt(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);o.flipY=!1,o.generateMipmaps=i.generateMipmaps,o.internalFormat=i.internalFormat,this.textures=[];const l=i.count;for(let h=0;h<l;h++)this.textures[h]=o.clone(),this.textures[h].isRenderTargetTexture=!0,this.textures[h].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,o=this.textures.length;r<o;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new Rn(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Vp extends Up{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class db extends dt{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Es,this.minFilter=Es,this.wrapR=js,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class yC extends Vp{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new db(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class pb extends dt{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Es,this.minFilter=Es,this.wrapR=js,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class vC extends Vp{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new pb(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class ls{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,o,l,h){let d=i[r+0],p=i[r+1],m=i[r+2],y=i[r+3];const v=o[l+0],b=o[l+1],x=o[l+2],S=o[l+3];if(h===0){e[t+0]=d,e[t+1]=p,e[t+2]=m,e[t+3]=y;return}if(h===1){e[t+0]=v,e[t+1]=b,e[t+2]=x,e[t+3]=S;return}if(y!==S||d!==v||p!==b||m!==x){let _=1-h;const M=d*v+p*b+m*x+y*S,k=M>=0?1:-1,T=1-M*M;if(T>Number.EPSILON){const I=Math.sqrt(T),O=Math.atan2(I,M*k);_=Math.sin(_*O)/I,h=Math.sin(h*O)/I}const C=h*k;if(d=d*_+v*C,p=p*_+b*C,m=m*_+x*C,y=y*_+S*C,_===1-h){const I=1/Math.sqrt(d*d+p*p+m*m+y*y);d*=I,p*=I,m*=I,y*=I}}e[t]=d,e[t+1]=p,e[t+2]=m,e[t+3]=y}static multiplyQuaternionsFlat(e,t,i,r,o,l){const h=i[r],d=i[r+1],p=i[r+2],m=i[r+3],y=o[l],v=o[l+1],b=o[l+2],x=o[l+3];return e[t]=h*x+m*y+d*b-p*v,e[t+1]=d*x+m*v+p*y-h*b,e[t+2]=p*x+m*b+h*v-d*y,e[t+3]=m*x-h*y-d*v-p*b,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,o=e._z,l=e._order,h=Math.cos,d=Math.sin,p=h(i/2),m=h(r/2),y=h(o/2),v=d(i/2),b=d(r/2),x=d(o/2);switch(l){case"XYZ":this._x=v*m*y+p*b*x,this._y=p*b*y-v*m*x,this._z=p*m*x+v*b*y,this._w=p*m*y-v*b*x;break;case"YXZ":this._x=v*m*y+p*b*x,this._y=p*b*y-v*m*x,this._z=p*m*x-v*b*y,this._w=p*m*y+v*b*x;break;case"ZXY":this._x=v*m*y-p*b*x,this._y=p*b*y+v*m*x,this._z=p*m*x+v*b*y,this._w=p*m*y-v*b*x;break;case"ZYX":this._x=v*m*y-p*b*x,this._y=p*b*y+v*m*x,this._z=p*m*x-v*b*y,this._w=p*m*y+v*b*x;break;case"YZX":this._x=v*m*y+p*b*x,this._y=p*b*y+v*m*x,this._z=p*m*x-v*b*y,this._w=p*m*y-v*b*x;break;case"XZY":this._x=v*m*y-p*b*x,this._y=p*b*y-v*m*x,this._z=p*m*x+v*b*y,this._w=p*m*y+v*b*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],o=t[8],l=t[1],h=t[5],d=t[9],p=t[2],m=t[6],y=t[10],v=i+h+y;if(v>0){const b=.5/Math.sqrt(v+1);this._w=.25/b,this._x=(m-d)*b,this._y=(o-p)*b,this._z=(l-r)*b}else if(i>h&&i>y){const b=2*Math.sqrt(1+i-h-y);this._w=(m-d)/b,this._x=.25*b,this._y=(r+l)/b,this._z=(o+p)/b}else if(h>y){const b=2*Math.sqrt(1+h-i-y);this._w=(o-p)/b,this._x=(r+l)/b,this._y=.25*b,this._z=(d+m)/b}else{const b=2*Math.sqrt(1+y-i-h);this._w=(l-r)/b,this._x=(o+p)/b,this._y=(d+m)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ve(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,o=e._z,l=e._w,h=t._x,d=t._y,p=t._z,m=t._w;return this._x=i*m+l*h+r*p-o*d,this._y=r*m+l*d+o*h-i*p,this._z=o*m+l*p+i*d-r*h,this._w=l*m-i*h-r*d-o*p,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,o=this._z,l=this._w;let h=l*e._w+i*e._x+r*e._y+o*e._z;if(h<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,h=-h):this.copy(e),h>=1)return this._w=l,this._x=i,this._y=r,this._z=o,this;const d=1-h*h;if(d<=Number.EPSILON){const b=1-t;return this._w=b*l+t*this._w,this._x=b*i+t*this._x,this._y=b*r+t*this._y,this._z=b*o+t*this._z,this.normalize(),this}const p=Math.sqrt(d),m=Math.atan2(p,h),y=Math.sin((1-t)*m)/p,v=Math.sin(t*m)/p;return this._w=l*y+this._w*v,this._x=i*y+this._x*v,this._y=r*y+this._y*v,this._z=o*y+this._z*v,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),o=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),o*Math.sin(t),o*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class z{constructor(e=0,t=0,i=0){z.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion($0.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion($0.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[3]*i+o[6]*r,this.y=o[1]*t+o[4]*i+o[7]*r,this.z=o[2]*t+o[5]*i+o[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,o=e.elements,l=1/(o[3]*t+o[7]*i+o[11]*r+o[15]);return this.x=(o[0]*t+o[4]*i+o[8]*r+o[12])*l,this.y=(o[1]*t+o[5]*i+o[9]*r+o[13])*l,this.z=(o[2]*t+o[6]*i+o[10]*r+o[14])*l,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,o=e.x,l=e.y,h=e.z,d=e.w,p=2*(l*r-h*i),m=2*(h*t-o*r),y=2*(o*i-l*t);return this.x=t+d*p+l*y-h*m,this.y=i+d*m+h*p-o*y,this.z=r+d*y+o*m-l*p,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r,this.y=o[1]*t+o[5]*i+o[9]*r,this.z=o[2]*t+o[6]*i+o[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=ve(this.x,e.x,t.x),this.y=ve(this.y,e.y,t.y),this.z=ve(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=ve(this.x,e,t),this.y=ve(this.y,e,t),this.z=ve(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(ve(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,o=e.z,l=t.x,h=t.y,d=t.z;return this.x=r*d-o*h,this.y=o*l-i*d,this.z=i*h-r*l,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Fd.copy(this).projectOnVector(e),this.sub(Fd)}reflect(e){return this.sub(Fd.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(ve(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Fd=new z,$0=new ls;class Ot{constructor(e=new z(1/0,1/0,1/0),t=new z(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Ts.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Ts.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Ts.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const o=i.getAttribute("position");if(t===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let l=0,h=o.count;l<h;l++)e.isMesh===!0?e.getVertexPosition(l,Ts):Ts.fromBufferAttribute(o,l),Ts.applyMatrix4(e.matrixWorld),this.expandByPoint(Ts);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),ou.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),ou.copy(i.boundingBox)),ou.applyMatrix4(e.matrixWorld),this.union(ou)}const r=e.children;for(let o=0,l=r.length;o<l;o++)this.expandByObject(r[o],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ts),Ts.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(po),lu.subVectors(this.max,po),Er.subVectors(e.a,po),Pr.subVectors(e.b,po),Nr.subVectors(e.c,po),$i.subVectors(Pr,Er),Gi.subVectors(Nr,Pr),Sn.subVectors(Er,Nr);let t=[0,-$i.z,$i.y,0,-Gi.z,Gi.y,0,-Sn.z,Sn.y,$i.z,0,-$i.x,Gi.z,0,-Gi.x,Sn.z,0,-Sn.x,-$i.y,$i.x,0,-Gi.y,Gi.x,0,-Sn.y,Sn.x,0];return!Ud(t,Er,Pr,Nr,lu)||(t=[1,0,0,0,1,0,0,0,1],!Ud(t,Er,Pr,Nr,lu))?!1:(uu.crossVectors($i,Gi),t=[uu.x,uu.y,uu.z],Ud(t,Er,Pr,Nr,lu))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ts).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ts).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ui[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ui[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ui[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ui[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ui[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ui[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ui[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ui[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ui),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ui=[new z,new z,new z,new z,new z,new z,new z,new z],Ts=new z,ou=new Ot,Er=new z,Pr=new z,Nr=new z,$i=new z,Gi=new z,Sn=new z,po=new z,lu=new z,uu=new z,Mn=new z;function Ud(c,e,t,i,r){for(let o=0,l=c.length-3;o<=l;o+=3){Mn.fromArray(c,o);const h=r.x*Math.abs(Mn.x)+r.y*Math.abs(Mn.y)+r.z*Math.abs(Mn.z),d=e.dot(Mn),p=t.dot(Mn),m=i.dot(Mn);if(Math.max(-Math.max(d,p,m),Math.min(d,p,m))>h)return!1}return!0}const cM=new Ot,fo=new z,Vd=new z;class Et{constructor(e=new z,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):cM.setFromPoints(e).getCenter(i);let r=0;for(let o=0,l=e.length;o<l;o++)r=Math.max(r,i.distanceToSquared(e[o]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;fo.subVectors(e,this.center);const t=fo.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(fo,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Vd.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(fo.copy(e.center).add(Vd)),this.expandByPoint(fo.copy(e.center).sub(Vd))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ci=new z,Wd=new z,cu=new z,Xi=new z,Hd=new z,hu=new z,qd=new z;class Vo{constructor(e=new z,t=new z(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ci)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ci.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ci.copy(this.origin).addScaledVector(this.direction,t),ci.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){Wd.copy(e).add(t).multiplyScalar(.5),cu.copy(t).sub(e).normalize(),Xi.copy(this.origin).sub(Wd);const o=e.distanceTo(t)*.5,l=-this.direction.dot(cu),h=Xi.dot(this.direction),d=-Xi.dot(cu),p=Xi.lengthSq(),m=Math.abs(1-l*l);let y,v,b,x;if(m>0)if(y=l*d-h,v=l*h-d,x=o*m,y>=0)if(v>=-x)if(v<=x){const S=1/m;y*=S,v*=S,b=y*(y+l*v+2*h)+v*(l*y+v+2*d)+p}else v=o,y=Math.max(0,-(l*v+h)),b=-y*y+v*(v+2*d)+p;else v=-o,y=Math.max(0,-(l*v+h)),b=-y*y+v*(v+2*d)+p;else v<=-x?(y=Math.max(0,-(-l*o+h)),v=y>0?-o:Math.min(Math.max(-o,-d),o),b=-y*y+v*(v+2*d)+p):v<=x?(y=0,v=Math.min(Math.max(-o,-d),o),b=v*(v+2*d)+p):(y=Math.max(0,-(l*o+h)),v=y>0?o:Math.min(Math.max(-o,-d),o),b=-y*y+v*(v+2*d)+p);else v=l>0?-o:o,y=Math.max(0,-(l*v+h)),b=-y*y+v*(v+2*d)+p;return i&&i.copy(this.origin).addScaledVector(this.direction,y),r&&r.copy(Wd).addScaledVector(cu,v),b}intersectSphere(e,t){ci.subVectors(e.center,this.origin);const i=ci.dot(this.direction),r=ci.dot(ci)-i*i,o=e.radius*e.radius;if(r>o)return null;const l=Math.sqrt(o-r),h=i-l,d=i+l;return d<0?null:h<0?this.at(d,t):this.at(h,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,o,l,h,d;const p=1/this.direction.x,m=1/this.direction.y,y=1/this.direction.z,v=this.origin;return p>=0?(i=(e.min.x-v.x)*p,r=(e.max.x-v.x)*p):(i=(e.max.x-v.x)*p,r=(e.min.x-v.x)*p),m>=0?(o=(e.min.y-v.y)*m,l=(e.max.y-v.y)*m):(o=(e.max.y-v.y)*m,l=(e.min.y-v.y)*m),i>l||o>r||((o>i||isNaN(i))&&(i=o),(l<r||isNaN(r))&&(r=l),y>=0?(h=(e.min.z-v.z)*y,d=(e.max.z-v.z)*y):(h=(e.max.z-v.z)*y,d=(e.min.z-v.z)*y),i>d||h>r)||((h>i||i!==i)&&(i=h),(d<r||r!==r)&&(r=d),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,ci)!==null}intersectTriangle(e,t,i,r,o){Hd.subVectors(t,e),hu.subVectors(i,e),qd.crossVectors(Hd,hu);let l=this.direction.dot(qd),h;if(l>0){if(r)return null;h=1}else if(l<0)h=-1,l=-l;else return null;Xi.subVectors(this.origin,e);const d=h*this.direction.dot(hu.crossVectors(Xi,hu));if(d<0)return null;const p=h*this.direction.dot(Hd.cross(Xi));if(p<0||d+p>l)return null;const m=-h*Xi.dot(qd);return m<0?null:this.at(m/l,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Se{constructor(e,t,i,r,o,l,h,d,p,m,y,v,b,x,S,_){Se.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,o,l,h,d,p,m,y,v,b,x,S,_)}set(e,t,i,r,o,l,h,d,p,m,y,v,b,x,S,_){const M=this.elements;return M[0]=e,M[4]=t,M[8]=i,M[12]=r,M[1]=o,M[5]=l,M[9]=h,M[13]=d,M[2]=p,M[6]=m,M[10]=y,M[14]=v,M[3]=b,M[7]=x,M[11]=S,M[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Se().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Ir.setFromMatrixColumn(e,0).length(),o=1/Ir.setFromMatrixColumn(e,1).length(),l=1/Ir.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*o,t[5]=i[5]*o,t[6]=i[6]*o,t[7]=0,t[8]=i[8]*l,t[9]=i[9]*l,t[10]=i[10]*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,o=e.z,l=Math.cos(i),h=Math.sin(i),d=Math.cos(r),p=Math.sin(r),m=Math.cos(o),y=Math.sin(o);if(e.order==="XYZ"){const v=l*m,b=l*y,x=h*m,S=h*y;t[0]=d*m,t[4]=-d*y,t[8]=p,t[1]=b+x*p,t[5]=v-S*p,t[9]=-h*d,t[2]=S-v*p,t[6]=x+b*p,t[10]=l*d}else if(e.order==="YXZ"){const v=d*m,b=d*y,x=p*m,S=p*y;t[0]=v+S*h,t[4]=x*h-b,t[8]=l*p,t[1]=l*y,t[5]=l*m,t[9]=-h,t[2]=b*h-x,t[6]=S+v*h,t[10]=l*d}else if(e.order==="ZXY"){const v=d*m,b=d*y,x=p*m,S=p*y;t[0]=v-S*h,t[4]=-l*y,t[8]=x+b*h,t[1]=b+x*h,t[5]=l*m,t[9]=S-v*h,t[2]=-l*p,t[6]=h,t[10]=l*d}else if(e.order==="ZYX"){const v=l*m,b=l*y,x=h*m,S=h*y;t[0]=d*m,t[4]=x*p-b,t[8]=v*p+S,t[1]=d*y,t[5]=S*p+v,t[9]=b*p-x,t[2]=-p,t[6]=h*d,t[10]=l*d}else if(e.order==="YZX"){const v=l*d,b=l*p,x=h*d,S=h*p;t[0]=d*m,t[4]=S-v*y,t[8]=x*y+b,t[1]=y,t[5]=l*m,t[9]=-h*m,t[2]=-p*m,t[6]=b*y+x,t[10]=v-S*y}else if(e.order==="XZY"){const v=l*d,b=l*p,x=h*d,S=h*p;t[0]=d*m,t[4]=-y,t[8]=p*m,t[1]=v*y+S,t[5]=l*m,t[9]=b*y-x,t[2]=x*y-b,t[6]=h*m,t[10]=S*y+v}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(hM,e,dM)}lookAt(e,t,i){const r=this.elements;return is.subVectors(e,t),is.lengthSq()===0&&(is.z=1),is.normalize(),Zi.crossVectors(i,is),Zi.lengthSq()===0&&(Math.abs(i.z)===1?is.x+=1e-4:is.z+=1e-4,is.normalize(),Zi.crossVectors(i,is)),Zi.normalize(),du.crossVectors(is,Zi),r[0]=Zi.x,r[4]=du.x,r[8]=is.x,r[1]=Zi.y,r[5]=du.y,r[9]=is.y,r[2]=Zi.z,r[6]=du.z,r[10]=is.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,o=this.elements,l=i[0],h=i[4],d=i[8],p=i[12],m=i[1],y=i[5],v=i[9],b=i[13],x=i[2],S=i[6],_=i[10],M=i[14],k=i[3],T=i[7],C=i[11],I=i[15],O=r[0],V=r[4],D=r[8],G=r[12],Z=r[1],ie=r[5],le=r[9],me=r[13],xe=r[2],_e=r[6],U=r[10],J=r[14],ae=r[3],fe=r[7],P=r[11],q=r[15];return o[0]=l*O+h*Z+d*xe+p*ae,o[4]=l*V+h*ie+d*_e+p*fe,o[8]=l*D+h*le+d*U+p*P,o[12]=l*G+h*me+d*J+p*q,o[1]=m*O+y*Z+v*xe+b*ae,o[5]=m*V+y*ie+v*_e+b*fe,o[9]=m*D+y*le+v*U+b*P,o[13]=m*G+y*me+v*J+b*q,o[2]=x*O+S*Z+_*xe+M*ae,o[6]=x*V+S*ie+_*_e+M*fe,o[10]=x*D+S*le+_*U+M*P,o[14]=x*G+S*me+_*J+M*q,o[3]=k*O+T*Z+C*xe+I*ae,o[7]=k*V+T*ie+C*_e+I*fe,o[11]=k*D+T*le+C*U+I*P,o[15]=k*G+T*me+C*J+I*q,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],o=e[12],l=e[1],h=e[5],d=e[9],p=e[13],m=e[2],y=e[6],v=e[10],b=e[14],x=e[3],S=e[7],_=e[11],M=e[15];return x*(+o*d*y-r*p*y-o*h*v+i*p*v+r*h*b-i*d*b)+S*(+t*d*b-t*p*v+o*l*v-r*l*b+r*p*m-o*d*m)+_*(+t*p*y-t*h*b-o*l*y+i*l*b+o*h*m-i*p*m)+M*(-r*h*m-t*d*y+t*h*v+r*l*y-i*l*v+i*d*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],o=e[3],l=e[4],h=e[5],d=e[6],p=e[7],m=e[8],y=e[9],v=e[10],b=e[11],x=e[12],S=e[13],_=e[14],M=e[15],k=y*_*p-S*v*p+S*d*b-h*_*b-y*d*M+h*v*M,T=x*v*p-m*_*p-x*d*b+l*_*b+m*d*M-l*v*M,C=m*S*p-x*y*p+x*h*b-l*S*b-m*h*M+l*y*M,I=x*y*d-m*S*d-x*h*v+l*S*v+m*h*_-l*y*_,O=t*k+i*T+r*C+o*I;if(O===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const V=1/O;return e[0]=k*V,e[1]=(S*v*o-y*_*o-S*r*b+i*_*b+y*r*M-i*v*M)*V,e[2]=(h*_*o-S*d*o+S*r*p-i*_*p-h*r*M+i*d*M)*V,e[3]=(y*d*o-h*v*o-y*r*p+i*v*p+h*r*b-i*d*b)*V,e[4]=T*V,e[5]=(m*_*o-x*v*o+x*r*b-t*_*b-m*r*M+t*v*M)*V,e[6]=(x*d*o-l*_*o-x*r*p+t*_*p+l*r*M-t*d*M)*V,e[7]=(l*v*o-m*d*o+m*r*p-t*v*p-l*r*b+t*d*b)*V,e[8]=C*V,e[9]=(x*y*o-m*S*o-x*i*b+t*S*b+m*i*M-t*y*M)*V,e[10]=(l*S*o-x*h*o+x*i*p-t*S*p-l*i*M+t*h*M)*V,e[11]=(m*h*o-l*y*o-m*i*p+t*y*p+l*i*b-t*h*b)*V,e[12]=I*V,e[13]=(m*S*r-x*y*r+x*i*v-t*S*v-m*i*_+t*y*_)*V,e[14]=(x*h*r-l*S*r-x*i*d+t*S*d+l*i*_-t*h*_)*V,e[15]=(l*y*r-m*h*r+m*i*d-t*y*d-l*i*v+t*h*v)*V,this}scale(e){const t=this.elements,i=e.x,r=e.y,o=e.z;return t[0]*=i,t[4]*=r,t[8]*=o,t[1]*=i,t[5]*=r,t[9]*=o,t[2]*=i,t[6]*=r,t[10]*=o,t[3]*=i,t[7]*=r,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),o=1-i,l=e.x,h=e.y,d=e.z,p=o*l,m=o*h;return this.set(p*l+i,p*h-r*d,p*d+r*h,0,p*h+r*d,m*h+i,m*d-r*l,0,p*d-r*h,m*d+r*l,o*d*d+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,o,l){return this.set(1,i,o,0,e,1,l,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,o=t._x,l=t._y,h=t._z,d=t._w,p=o+o,m=l+l,y=h+h,v=o*p,b=o*m,x=o*y,S=l*m,_=l*y,M=h*y,k=d*p,T=d*m,C=d*y,I=i.x,O=i.y,V=i.z;return r[0]=(1-(S+M))*I,r[1]=(b+C)*I,r[2]=(x-T)*I,r[3]=0,r[4]=(b-C)*O,r[5]=(1-(v+M))*O,r[6]=(_+k)*O,r[7]=0,r[8]=(x+T)*V,r[9]=(_-k)*V,r[10]=(1-(v+S))*V,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let o=Ir.set(r[0],r[1],r[2]).length();const l=Ir.set(r[4],r[5],r[6]).length(),h=Ir.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),e.x=r[12],e.y=r[13],e.z=r[14],Cs.copy(this);const d=1/o,p=1/l,m=1/h;return Cs.elements[0]*=d,Cs.elements[1]*=d,Cs.elements[2]*=d,Cs.elements[4]*=p,Cs.elements[5]*=p,Cs.elements[6]*=p,Cs.elements[8]*=m,Cs.elements[9]*=m,Cs.elements[10]*=m,t.setFromRotationMatrix(Cs),i.x=o,i.y=l,i.z=h,this}makePerspective(e,t,i,r,o,l,h=Fs){const d=this.elements,p=2*o/(t-e),m=2*o/(i-r),y=(t+e)/(t-e),v=(i+r)/(i-r);let b,x;if(h===Fs)b=-(l+o)/(l-o),x=-2*l*o/(l-o);else if(h===tc)b=-l/(l-o),x=-l*o/(l-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+h);return d[0]=p,d[4]=0,d[8]=y,d[12]=0,d[1]=0,d[5]=m,d[9]=v,d[13]=0,d[2]=0,d[6]=0,d[10]=b,d[14]=x,d[3]=0,d[7]=0,d[11]=-1,d[15]=0,this}makeOrthographic(e,t,i,r,o,l,h=Fs){const d=this.elements,p=1/(t-e),m=1/(i-r),y=1/(l-o),v=(t+e)*p,b=(i+r)*m;let x,S;if(h===Fs)x=(l+o)*y,S=-2*y;else if(h===tc)x=o*y,S=-1*y;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+h);return d[0]=2*p,d[4]=0,d[8]=0,d[12]=-v,d[1]=0,d[5]=2*m,d[9]=0,d[13]=-b,d[2]=0,d[6]=0,d[10]=S,d[14]=-x,d[3]=0,d[7]=0,d[11]=0,d[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Ir=new z,Cs=new Se,hM=new z(0,0,0),dM=new z(1,1,1),Zi=new z,du=new z,is=new z,G0=new Se,X0=new ls;class Vs{constructor(e=0,t=0,i=0,r=Vs.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,o=r[0],l=r[4],h=r[8],d=r[1],p=r[5],m=r[9],y=r[2],v=r[6],b=r[10];switch(t){case"XYZ":this._y=Math.asin(ve(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-m,b),this._z=Math.atan2(-l,o)):(this._x=Math.atan2(v,p),this._z=0);break;case"YXZ":this._x=Math.asin(-ve(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(h,b),this._z=Math.atan2(d,p)):(this._y=Math.atan2(-y,o),this._z=0);break;case"ZXY":this._x=Math.asin(ve(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-y,b),this._z=Math.atan2(-l,p)):(this._y=0,this._z=Math.atan2(d,o));break;case"ZYX":this._y=Math.asin(-ve(y,-1,1)),Math.abs(y)<.9999999?(this._x=Math.atan2(v,b),this._z=Math.atan2(d,o)):(this._x=0,this._z=Math.atan2(-l,p));break;case"YZX":this._z=Math.asin(ve(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-m,p),this._y=Math.atan2(-y,o)):(this._x=0,this._y=Math.atan2(h,b));break;case"XZY":this._z=Math.asin(-ve(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(v,p),this._y=Math.atan2(h,o)):(this._x=Math.atan2(-m,b),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return G0.makeRotationFromQuaternion(e),this.setFromRotationMatrix(G0,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return X0.setFromEuler(this),this.setFromQuaternion(X0,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Vs.DEFAULT_ORDER="XYZ";class fb{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let pM=0;const Z0=new z,Rr=new ls,hi=new Se,pu=new z,mo=new z,fM=new z,mM=new ls,Y0=new z(1,0,0),J0=new z(0,1,0),Q0=new z(0,0,1),K0={type:"added"},gM={type:"removed"},Br={type:"childadded",child:null},$d={type:"childremoved",child:null};class Oe extends tn{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:pM++}),this.uuid=os(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Oe.DEFAULT_UP.clone();const e=new z,t=new Vs,i=new ls,r=new z(1,1,1);function o(){i.setFromEuler(t,!1)}function l(){t.setFromQuaternion(i,void 0,!1)}t._onChange(o),i._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Se},normalMatrix:{value:new Hs}}),this.matrix=new Se,this.matrixWorld=new Se,this.matrixAutoUpdate=Oe.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Oe.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new fb,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Rr.setFromAxisAngle(e,t),this.quaternion.multiply(Rr),this}rotateOnWorldAxis(e,t){return Rr.setFromAxisAngle(e,t),this.quaternion.premultiply(Rr),this}rotateX(e){return this.rotateOnAxis(Y0,e)}rotateY(e){return this.rotateOnAxis(J0,e)}rotateZ(e){return this.rotateOnAxis(Q0,e)}translateOnAxis(e,t){return Z0.copy(e).applyQuaternion(this.quaternion),this.position.add(Z0.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Y0,e)}translateY(e){return this.translateOnAxis(J0,e)}translateZ(e){return this.translateOnAxis(Q0,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(hi.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?pu.copy(e):pu.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),mo.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?hi.lookAt(mo,pu,this.up):hi.lookAt(pu,mo,this.up),this.quaternion.setFromRotationMatrix(hi),r&&(hi.extractRotation(r.matrixWorld),Rr.setFromRotationMatrix(hi),this.quaternion.premultiply(Rr.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(K0),Br.child=e,this.dispatchEvent(Br),Br.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(gM),$d.child=e,this.dispatchEvent($d),$d.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),hi.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),hi.multiply(e.parent.matrixWorld)),e.applyMatrix4(hi),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(K0),Br.child=e,this.dispatchEvent(Br),Br.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let o=0,l=r.length;o<l;o++)r[o].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(mo,e,fM),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(mo,mM,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let o=0,l=r.length;o<l;o++)r[o].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(h=>({...h,boundingBox:h.boundingBox?{min:h.boundingBox.min.toArray(),max:h.boundingBox.max.toArray()}:void 0,boundingSphere:h.boundingSphere?{radius:h.boundingSphere.radius,center:h.boundingSphere.center.toArray()}:void 0})),r.instanceInfo=this._instanceInfo.map(h=>({...h})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:this.boundingSphere.center.toArray(),radius:this.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:this.boundingBox.min.toArray(),max:this.boundingBox.max.toArray()}));function o(h,d){return h[d.uuid]===void 0&&(h[d.uuid]=d.toJSON(e)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=o(e.geometries,this.geometry);const h=this.geometry.parameters;if(h!==void 0&&h.shapes!==void 0){const d=h.shapes;if(Array.isArray(d))for(let p=0,m=d.length;p<m;p++){const y=d[p];o(e.shapes,y)}else o(e.shapes,d)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const h=[];for(let d=0,p=this.material.length;d<p;d++)h.push(o(e.materials,this.material[d]));r.material=h}else r.material=o(e.materials,this.material);if(this.children.length>0){r.children=[];for(let h=0;h<this.children.length;h++)r.children.push(this.children[h].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let h=0;h<this.animations.length;h++){const d=this.animations[h];r.animations.push(o(e.animations,d))}}if(t){const h=l(e.geometries),d=l(e.materials),p=l(e.textures),m=l(e.images),y=l(e.shapes),v=l(e.skeletons),b=l(e.animations),x=l(e.nodes);h.length>0&&(i.geometries=h),d.length>0&&(i.materials=d),p.length>0&&(i.textures=p),m.length>0&&(i.images=m),y.length>0&&(i.shapes=y),v.length>0&&(i.skeletons=v),b.length>0&&(i.animations=b),x.length>0&&(i.nodes=x)}return i.object=r,i;function l(h){const d=[];for(const p in h){const m=h[p];delete m.metadata,d.push(m)}return d}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Oe.DEFAULT_UP=new z(0,1,0);Oe.DEFAULT_MATRIX_AUTO_UPDATE=!0;Oe.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const zs=new z,di=new z,Gd=new z,pi=new z,Lr=new z,Or=new z,ev=new z,Xd=new z,Zd=new z,Yd=new z,Jd=new vt,Qd=new vt,Kd=new vt;class as{constructor(e=new z,t=new z,i=new z){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),zs.subVectors(e,t),r.cross(zs);const o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(e,t,i,r,o){zs.subVectors(r,t),di.subVectors(i,t),Gd.subVectors(e,t);const l=zs.dot(zs),h=zs.dot(di),d=zs.dot(Gd),p=di.dot(di),m=di.dot(Gd),y=l*p-h*h;if(y===0)return o.set(0,0,0),null;const v=1/y,b=(p*d-h*m)*v,x=(l*m-h*d)*v;return o.set(1-b-x,x,b)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,pi)===null?!1:pi.x>=0&&pi.y>=0&&pi.x+pi.y<=1}static getInterpolation(e,t,i,r,o,l,h,d){return this.getBarycoord(e,t,i,r,pi)===null?(d.x=0,d.y=0,"z"in d&&(d.z=0),"w"in d&&(d.w=0),null):(d.setScalar(0),d.addScaledVector(o,pi.x),d.addScaledVector(l,pi.y),d.addScaledVector(h,pi.z),d)}static getInterpolatedAttribute(e,t,i,r,o,l){return Jd.setScalar(0),Qd.setScalar(0),Kd.setScalar(0),Jd.fromBufferAttribute(e,t),Qd.fromBufferAttribute(e,i),Kd.fromBufferAttribute(e,r),l.setScalar(0),l.addScaledVector(Jd,o.x),l.addScaledVector(Qd,o.y),l.addScaledVector(Kd,o.z),l}static isFrontFacing(e,t,i,r){return zs.subVectors(i,t),di.subVectors(e,t),zs.cross(di).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return zs.subVectors(this.c,this.b),di.subVectors(this.a,this.b),zs.cross(di).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return as.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return as.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,o){return as.getInterpolation(e,this.a,this.b,this.c,t,i,r,o)}containsPoint(e){return as.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return as.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,o=this.c;let l,h;Lr.subVectors(r,i),Or.subVectors(o,i),Xd.subVectors(e,i);const d=Lr.dot(Xd),p=Or.dot(Xd);if(d<=0&&p<=0)return t.copy(i);Zd.subVectors(e,r);const m=Lr.dot(Zd),y=Or.dot(Zd);if(m>=0&&y<=m)return t.copy(r);const v=d*y-m*p;if(v<=0&&d>=0&&m<=0)return l=d/(d-m),t.copy(i).addScaledVector(Lr,l);Yd.subVectors(e,o);const b=Lr.dot(Yd),x=Or.dot(Yd);if(x>=0&&b<=x)return t.copy(o);const S=b*p-d*x;if(S<=0&&p>=0&&x<=0)return h=p/(p-x),t.copy(i).addScaledVector(Or,h);const _=m*x-b*y;if(_<=0&&y-m>=0&&b-x>=0)return ev.subVectors(o,r),h=(y-m)/(y-m+(b-x)),t.copy(r).addScaledVector(ev,h);const M=1/(_+S+v);return l=S*M,h=v*M,t.copy(i).addScaledVector(Lr,l).addScaledVector(Or,h)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const mb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Yi={h:0,s:0,l:0},fu={h:0,s:0,l:0};function ep(c,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?c+(e-c)*6*t:t<1/2?e:t<2/3?c+(e-c)*6*(2/3-t):c}class be{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=bs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,rs.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=rs.workingColorSpace){return this.r=e,this.g=t,this.b=i,rs.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=rs.workingColorSpace){if(e=Fp(e,1),t=ve(t,0,1),i=ve(i,0,1),t===0)this.r=this.g=this.b=i;else{const o=i<=.5?i*(1+t):i+t-i*t,l=2*i-o;this.r=ep(l,o,e+1/3),this.g=ep(l,o,e),this.b=ep(l,o,e-1/3)}return rs.toWorkingColorSpace(this,r),this}setStyle(e,t=bs){function i(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const l=r[1],h=r[2];switch(l){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return i(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,t);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return i(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,t);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return i(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=r[1],l=o.length;if(l===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,t);if(l===6)return this.setHex(parseInt(o,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=bs){const i=mb[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=gi(e.r),this.g=gi(e.g),this.b=gi(e.b),this}copyLinearToSRGB(e){return this.r=Yr(e.r),this.g=Yr(e.g),this.b=Yr(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=bs){return rs.fromWorkingColorSpace(Ct.copy(this),e),Math.round(ve(Ct.r*255,0,255))*65536+Math.round(ve(Ct.g*255,0,255))*256+Math.round(ve(Ct.b*255,0,255))}getHexString(e=bs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=rs.workingColorSpace){rs.fromWorkingColorSpace(Ct.copy(this),t);const i=Ct.r,r=Ct.g,o=Ct.b,l=Math.max(i,r,o),h=Math.min(i,r,o);let d,p;const m=(h+l)/2;if(h===l)d=0,p=0;else{const y=l-h;switch(p=m<=.5?y/(l+h):y/(2-l-h),l){case i:d=(r-o)/y+(r<o?6:0);break;case r:d=(o-i)/y+2;break;case o:d=(i-r)/y+4;break}d/=6}return e.h=d,e.s=p,e.l=m,e}getRGB(e,t=rs.workingColorSpace){return rs.fromWorkingColorSpace(Ct.copy(this),t),e.r=Ct.r,e.g=Ct.g,e.b=Ct.b,e}getStyle(e=bs){rs.fromWorkingColorSpace(Ct.copy(this),e);const t=Ct.r,i=Ct.g,r=Ct.b;return e!==bs?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(Yi),this.setHSL(Yi.h+e,Yi.s+t,Yi.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Yi),e.getHSL(fu);const i=No(Yi.h,fu.h,t),r=No(Yi.s,fu.s,t),o=No(Yi.l,fu.l,t);return this.setHSL(i,r,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,o=e.elements;return this.r=o[0]*t+o[3]*i+o[6]*r,this.g=o[1]*t+o[4]*i+o[7]*r,this.b=o[2]*t+o[5]*i+o[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ct=new be;be.NAMES=mb;let yM=0;class Dt extends tn{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:yM++}),this.uuid=os(),this.name="",this.type="Material",this.blending=N0,this.side=wp,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=R0,this.blendDst=B0,this.blendEquation=I0,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new be(0,0,0),this.blendAlpha=0,this.depthFunc=L0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=U0,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Cr,this.stencilZFail=Cr,this.stencilZPass=Cr,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==N0&&(i.blending=this.blending),this.side!==wp&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==R0&&(i.blendSrc=this.blendSrc),this.blendDst!==B0&&(i.blendDst=this.blendDst),this.blendEquation!==I0&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==L0&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==U0&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Cr&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Cr&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Cr&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(o){const l=[];for(const h in o){const d=o[h];delete d.metadata,l.push(d)}return l}if(t){const o=r(e.textures),l=r(e.images);o.length>0&&(i.textures=o),l.length>0&&(i.images=l)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let o=0;o!==r;++o)i[o]=t[o].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class la extends Dt{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new be(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Vs,this.combine=Rp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const mi=vM();function vM(){const c=new ArrayBuffer(4),e=new Float32Array(c),t=new Uint32Array(c),i=new Uint32Array(512),r=new Uint32Array(512);for(let d=0;d<256;++d){const p=d-127;p<-27?(i[d]=0,i[d|256]=32768,r[d]=24,r[d|256]=24):p<-14?(i[d]=1024>>-p-14,i[d|256]=1024>>-p-14|32768,r[d]=-p-1,r[d|256]=-p-1):p<=15?(i[d]=p+15<<10,i[d|256]=p+15<<10|32768,r[d]=13,r[d|256]=13):p<128?(i[d]=31744,i[d|256]=64512,r[d]=24,r[d|256]=24):(i[d]=31744,i[d|256]=64512,r[d]=13,r[d|256]=13)}const o=new Uint32Array(2048),l=new Uint32Array(64),h=new Uint32Array(64);for(let d=1;d<1024;++d){let p=d<<13,m=0;for(;(p&8388608)===0;)p<<=1,m-=8388608;p&=-8388609,m+=947912704,o[d]=p|m}for(let d=1024;d<2048;++d)o[d]=939524096+(d-1024<<13);for(let d=1;d<31;++d)l[d]=d<<23;l[31]=1199570944,l[32]=2147483648;for(let d=33;d<63;++d)l[d]=2147483648+(d-32<<23);l[63]=3347054592;for(let d=1;d<64;++d)d!==32&&(h[d]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:o,exponentTable:l,offsetTable:h}}function $t(c){Math.abs(c)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),c=ve(c,-65504,65504),mi.floatView[0]=c;const e=mi.uint32View[0],t=e>>23&511;return mi.baseTable[t]+((e&8388607)>>mi.shiftTable[t])}function Co(c){const e=c>>10;return mi.uint32View[0]=mi.mantissaTable[mi.offsetTable[e]+(c&1023)]+mi.exponentTable[e],mi.floatView[0]}class bC{static toHalfFloat(e){return $t(e)}static fromHalfFloat(e){return Co(e)}}const ut=new z,mu=new Y;let bM=0;class Qe{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:bM++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=ec,this.updateRanges=[],this.gpuType=Qr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)mu.fromBufferAttribute(this,t),mu.applyMatrix3(e),this.setXY(t,mu.x,mu.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)ut.fromBufferAttribute(this,t),ut.applyMatrix3(e),this.setXYZ(t,ut.x,ut.y,ut.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)ut.fromBufferAttribute(this,t),ut.applyMatrix4(e),this.setXYZ(t,ut.x,ut.y,ut.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ut.fromBufferAttribute(this,t),ut.applyNormalMatrix(e),this.setXYZ(t,ut.x,ut.y,ut.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ut.fromBufferAttribute(this,t),ut.transformDirection(e),this.setXYZ(t,ut.x,ut.y,ut.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Lt(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=we(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Lt(t,this.array)),t}setX(e,t){return this.normalized&&(t=we(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Lt(t,this.array)),t}setY(e,t){return this.normalized&&(t=we(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Lt(t,this.array)),t}setZ(e,t){return this.normalized&&(t=we(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Lt(t,this.array)),t}setW(e,t){return this.normalized&&(t=we(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=we(t,this.array),i=we(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=we(t,this.array),i=we(i,this.array),r=we(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,o){return e*=this.itemSize,this.normalized&&(t=we(t,this.array),i=we(i,this.array),r=we(r,this.array),o=we(o,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==ec&&(e.usage=this.usage),e}}class xC extends Qe{constructor(e,t,i){super(new Int8Array(e),t,i)}}class wC extends Qe{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class SC extends Qe{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class MC extends Qe{constructor(e,t,i){super(new Int16Array(e),t,i)}}class xM extends Qe{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class _C extends Qe{constructor(e,t,i){super(new Int32Array(e),t,i)}}class wM extends Qe{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class AC extends Qe{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Co(this.array[e*this.itemSize]);return this.normalized&&(t=Lt(t,this.array)),t}setX(e,t){return this.normalized&&(t=we(t,this.array)),this.array[e*this.itemSize]=$t(t),this}getY(e){let t=Co(this.array[e*this.itemSize+1]);return this.normalized&&(t=Lt(t,this.array)),t}setY(e,t){return this.normalized&&(t=we(t,this.array)),this.array[e*this.itemSize+1]=$t(t),this}getZ(e){let t=Co(this.array[e*this.itemSize+2]);return this.normalized&&(t=Lt(t,this.array)),t}setZ(e,t){return this.normalized&&(t=we(t,this.array)),this.array[e*this.itemSize+2]=$t(t),this}getW(e){let t=Co(this.array[e*this.itemSize+3]);return this.normalized&&(t=Lt(t,this.array)),t}setW(e,t){return this.normalized&&(t=we(t,this.array)),this.array[e*this.itemSize+3]=$t(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=we(t,this.array),i=we(i,this.array)),this.array[e+0]=$t(t),this.array[e+1]=$t(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=we(t,this.array),i=we(i,this.array),r=we(r,this.array)),this.array[e+0]=$t(t),this.array[e+1]=$t(i),this.array[e+2]=$t(r),this}setXYZW(e,t,i,r,o){return e*=this.itemSize,this.normalized&&(t=we(t,this.array),i=we(i,this.array),r=we(r,this.array),o=we(o,this.array)),this.array[e+0]=$t(t),this.array[e+1]=$t(i),this.array[e+2]=$t(r),this.array[e+3]=$t(o),this}}class oe extends Qe{constructor(e,t,i){super(new Float32Array(e),t,i)}}let SM=0;const vs=new Se,tp=new Oe,Dr=new z,ns=new Ot,go=new Ot,yt=new z;class Te extends tn{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:SM++}),this.uuid=os(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(nM(e)?wM:xM)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const o=new Hs().getNormalMatrix(e);i.applyNormalMatrix(o),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return vs.makeRotationFromQuaternion(e),this.applyMatrix4(vs),this}rotateX(e){return vs.makeRotationX(e),this.applyMatrix4(vs),this}rotateY(e){return vs.makeRotationY(e),this.applyMatrix4(vs),this}rotateZ(e){return vs.makeRotationZ(e),this.applyMatrix4(vs),this}translate(e,t,i){return vs.makeTranslation(e,t,i),this.applyMatrix4(vs),this}scale(e,t,i){return vs.makeScale(e,t,i),this.applyMatrix4(vs),this}lookAt(e){return tp.lookAt(e),tp.updateMatrix(),this.applyMatrix4(tp.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Dr).negate(),this.translate(Dr.x,Dr.y,Dr.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,o=e.length;r<o;r++){const l=e[r];i.push(l.x,l.y,l.z||0)}this.setAttribute("position",new oe(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const o=e[r];t.setXYZ(r,o.x,o.y,o.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ot);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new z(-1/0,-1/0,-1/0),new z(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const o=t[i];ns.setFromBufferAttribute(o),this.morphTargetsRelative?(yt.addVectors(this.boundingBox.min,ns.min),this.boundingBox.expandByPoint(yt),yt.addVectors(this.boundingBox.max,ns.max),this.boundingBox.expandByPoint(yt)):(this.boundingBox.expandByPoint(ns.min),this.boundingBox.expandByPoint(ns.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Et);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new z,1/0);return}if(e){const i=this.boundingSphere.center;if(ns.setFromBufferAttribute(e),t)for(let o=0,l=t.length;o<l;o++){const h=t[o];go.setFromBufferAttribute(h),this.morphTargetsRelative?(yt.addVectors(ns.min,go.min),ns.expandByPoint(yt),yt.addVectors(ns.max,go.max),ns.expandByPoint(yt)):(ns.expandByPoint(go.min),ns.expandByPoint(go.max))}ns.getCenter(i);let r=0;for(let o=0,l=e.count;o<l;o++)yt.fromBufferAttribute(e,o),r=Math.max(r,i.distanceToSquared(yt));if(t)for(let o=0,l=t.length;o<l;o++){const h=t[o],d=this.morphTargetsRelative;for(let p=0,m=h.count;p<m;p++)yt.fromBufferAttribute(h,p),d&&(Dr.fromBufferAttribute(e,p),yt.add(Dr)),r=Math.max(r,i.distanceToSquared(yt))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,o=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Qe(new Float32Array(4*i.count),4));const l=this.getAttribute("tangent"),h=[],d=[];for(let D=0;D<i.count;D++)h[D]=new z,d[D]=new z;const p=new z,m=new z,y=new z,v=new Y,b=new Y,x=new Y,S=new z,_=new z;function M(D,G,Z){p.fromBufferAttribute(i,D),m.fromBufferAttribute(i,G),y.fromBufferAttribute(i,Z),v.fromBufferAttribute(o,D),b.fromBufferAttribute(o,G),x.fromBufferAttribute(o,Z),m.sub(p),y.sub(p),b.sub(v),x.sub(v);const ie=1/(b.x*x.y-x.x*b.y);isFinite(ie)&&(S.copy(m).multiplyScalar(x.y).addScaledVector(y,-b.y).multiplyScalar(ie),_.copy(y).multiplyScalar(b.x).addScaledVector(m,-x.x).multiplyScalar(ie),h[D].add(S),h[G].add(S),h[Z].add(S),d[D].add(_),d[G].add(_),d[Z].add(_))}let k=this.groups;k.length===0&&(k=[{start:0,count:e.count}]);for(let D=0,G=k.length;D<G;++D){const Z=k[D],ie=Z.start,le=Z.count;for(let me=ie,xe=ie+le;me<xe;me+=3)M(e.getX(me+0),e.getX(me+1),e.getX(me+2))}const T=new z,C=new z,I=new z,O=new z;function V(D){I.fromBufferAttribute(r,D),O.copy(I);const G=h[D];T.copy(G),T.sub(I.multiplyScalar(I.dot(G))).normalize(),C.crossVectors(O,G);const Z=C.dot(d[D])<0?-1:1;l.setXYZW(D,T.x,T.y,T.z,Z)}for(let D=0,G=k.length;D<G;++D){const Z=k[D],ie=Z.start,le=Z.count;for(let me=ie,xe=ie+le;me<xe;me+=3)V(e.getX(me+0)),V(e.getX(me+1)),V(e.getX(me+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Qe(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let v=0,b=i.count;v<b;v++)i.setXYZ(v,0,0,0);const r=new z,o=new z,l=new z,h=new z,d=new z,p=new z,m=new z,y=new z;if(e)for(let v=0,b=e.count;v<b;v+=3){const x=e.getX(v+0),S=e.getX(v+1),_=e.getX(v+2);r.fromBufferAttribute(t,x),o.fromBufferAttribute(t,S),l.fromBufferAttribute(t,_),m.subVectors(l,o),y.subVectors(r,o),m.cross(y),h.fromBufferAttribute(i,x),d.fromBufferAttribute(i,S),p.fromBufferAttribute(i,_),h.add(m),d.add(m),p.add(m),i.setXYZ(x,h.x,h.y,h.z),i.setXYZ(S,d.x,d.y,d.z),i.setXYZ(_,p.x,p.y,p.z)}else for(let v=0,b=t.count;v<b;v+=3)r.fromBufferAttribute(t,v+0),o.fromBufferAttribute(t,v+1),l.fromBufferAttribute(t,v+2),m.subVectors(l,o),y.subVectors(r,o),m.cross(y),i.setXYZ(v+0,m.x,m.y,m.z),i.setXYZ(v+1,m.x,m.y,m.z),i.setXYZ(v+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)yt.fromBufferAttribute(e,t),yt.normalize(),e.setXYZ(t,yt.x,yt.y,yt.z)}toNonIndexed(){function e(h,d){const p=h.array,m=h.itemSize,y=h.normalized,v=new p.constructor(d.length*m);let b=0,x=0;for(let S=0,_=d.length;S<_;S++){h.isInterleavedBufferAttribute?b=d[S]*h.data.stride+h.offset:b=d[S]*m;for(let M=0;M<m;M++)v[x++]=p[b++]}return new Qe(v,m,y)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Te,i=this.index.array,r=this.attributes;for(const h in r){const d=r[h],p=e(d,i);t.setAttribute(h,p)}const o=this.morphAttributes;for(const h in o){const d=[],p=o[h];for(let m=0,y=p.length;m<y;m++){const v=p[m],b=e(v,i);d.push(b)}t.morphAttributes[h]=d}t.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let h=0,d=l.length;h<d;h++){const p=l[h];t.addGroup(p.start,p.count,p.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const p in d)d[p]!==void 0&&(e[p]=d[p]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const d in i){const p=i[d];e.data.attributes[d]=p.toJSON(e.data)}const r={};let o=!1;for(const d in this.morphAttributes){const p=this.morphAttributes[d],m=[];for(let y=0,v=p.length;y<v;y++){const b=p[y];m.push(b.toJSON(e.data))}m.length>0&&(r[d]=m,o=!0)}o&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));const h=this.boundingSphere;return h!==null&&(e.data.boundingSphere={center:h.center.toArray(),radius:h.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const p in r){const m=r[p];this.setAttribute(p,m.clone(t))}const o=e.morphAttributes;for(const p in o){const m=[],y=o[p];for(let v=0,b=y.length;v<b;v++)m.push(y[v].clone(t));this.morphAttributes[p]=m}this.morphTargetsRelative=e.morphTargetsRelative;const l=e.groups;for(let p=0,m=l.length;p<m;p++){const y=l[p];this.addGroup(y.start,y.count,y.materialIndex)}const h=e.boundingBox;h!==null&&(this.boundingBox=h.clone());const d=e.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const tv=new Se,_n=new Vo,gu=new Et,sv=new z,yu=new z,vu=new z,bu=new z,sp=new z,xu=new z,iv=new z,wu=new z;class Ps extends Oe{constructor(e=new Te,t=new la){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const i=e[t[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const l=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=r}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,o=i.morphAttributes.position,l=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const h=this.morphTargetInfluences;if(o&&h){xu.set(0,0,0);for(let d=0,p=o.length;d<p;d++){const m=h[d],y=o[d];m!==0&&(sp.fromBufferAttribute(y,e),l?xu.addScaledVector(sp,m):xu.addScaledVector(sp.sub(t),m))}t.add(xu)}return t}raycast(e,t){const i=this.geometry,r=this.material,o=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),gu.copy(i.boundingSphere),gu.applyMatrix4(o),_n.copy(e.ray).recast(e.near),!(gu.containsPoint(_n.origin)===!1&&(_n.intersectSphere(gu,sv)===null||_n.origin.distanceToSquared(sv)>(e.far-e.near)**2))&&(tv.copy(o).invert(),_n.copy(e.ray).applyMatrix4(tv),!(i.boundingBox!==null&&_n.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,_n)))}_computeIntersections(e,t,i){let r;const o=this.geometry,l=this.material,h=o.index,d=o.attributes.position,p=o.attributes.uv,m=o.attributes.uv1,y=o.attributes.normal,v=o.groups,b=o.drawRange;if(h!==null)if(Array.isArray(l))for(let x=0,S=v.length;x<S;x++){const _=v[x],M=l[_.materialIndex],k=Math.max(_.start,b.start),T=Math.min(h.count,Math.min(_.start+_.count,b.start+b.count));for(let C=k,I=T;C<I;C+=3){const O=h.getX(C),V=h.getX(C+1),D=h.getX(C+2);r=Su(this,M,e,i,p,m,y,O,V,D),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=_.materialIndex,t.push(r))}}else{const x=Math.max(0,b.start),S=Math.min(h.count,b.start+b.count);for(let _=x,M=S;_<M;_+=3){const k=h.getX(_),T=h.getX(_+1),C=h.getX(_+2);r=Su(this,l,e,i,p,m,y,k,T,C),r&&(r.faceIndex=Math.floor(_/3),t.push(r))}}else if(d!==void 0)if(Array.isArray(l))for(let x=0,S=v.length;x<S;x++){const _=v[x],M=l[_.materialIndex],k=Math.max(_.start,b.start),T=Math.min(d.count,Math.min(_.start+_.count,b.start+b.count));for(let C=k,I=T;C<I;C+=3){const O=C,V=C+1,D=C+2;r=Su(this,M,e,i,p,m,y,O,V,D),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=_.materialIndex,t.push(r))}}else{const x=Math.max(0,b.start),S=Math.min(d.count,b.start+b.count);for(let _=x,M=S;_<M;_+=3){const k=_,T=_+1,C=_+2;r=Su(this,l,e,i,p,m,y,k,T,C),r&&(r.faceIndex=Math.floor(_/3),t.push(r))}}}}function MM(c,e,t,i,r,o,l,h){let d;if(e.side===ob?d=i.intersectTriangle(l,o,r,!0,h):d=i.intersectTriangle(r,o,l,e.side===wp,h),d===null)return null;wu.copy(h),wu.applyMatrix4(c.matrixWorld);const p=t.ray.origin.distanceTo(wu);return p<t.near||p>t.far?null:{distance:p,point:wu.clone(),object:c}}function Su(c,e,t,i,r,o,l,h,d,p){c.getVertexPosition(h,yu),c.getVertexPosition(d,vu),c.getVertexPosition(p,bu);const m=MM(c,e,t,i,yu,vu,bu,iv);if(m){const y=new z;as.getBarycoord(iv,yu,vu,bu,y),r&&(m.uv=as.getInterpolatedAttribute(r,h,d,p,y,new Y)),o&&(m.uv1=as.getInterpolatedAttribute(o,h,d,p,y,new Y)),l&&(m.normal=as.getInterpolatedAttribute(l,h,d,p,y,new z),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const v={a:h,b:d,c:p,normal:new z,materialIndex:0};as.getNormal(yu,vu,bu,v.normal),m.face=v,m.barycoord=y}return m}class dc extends Te{constructor(e=1,t=1,i=1,r=1,o=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:o,depthSegments:l};const h=this;r=Math.floor(r),o=Math.floor(o),l=Math.floor(l);const d=[],p=[],m=[],y=[];let v=0,b=0;x("z","y","x",-1,-1,i,t,e,l,o,0),x("z","y","x",1,-1,i,t,-e,l,o,1),x("x","z","y",1,1,e,i,t,r,l,2),x("x","z","y",1,-1,e,i,-t,r,l,3),x("x","y","z",1,-1,e,t,i,r,o,4),x("x","y","z",-1,-1,e,t,-i,r,o,5),this.setIndex(d),this.setAttribute("position",new oe(p,3)),this.setAttribute("normal",new oe(m,3)),this.setAttribute("uv",new oe(y,2));function x(S,_,M,k,T,C,I,O,V,D,G){const Z=C/V,ie=I/D,le=C/2,me=I/2,xe=O/2,_e=V+1,U=D+1;let J=0,ae=0;const fe=new z;for(let P=0;P<U;P++){const q=P*ie-me;for(let Q=0;Q<_e;Q++){const K=Q*Z-le;fe[S]=K*k,fe[_]=q*T,fe[M]=xe,p.push(fe.x,fe.y,fe.z),fe[S]=0,fe[_]=0,fe[M]=O>0?1:-1,m.push(fe.x,fe.y,fe.z),y.push(Q/V),y.push(1-P/D),J+=1}}for(let P=0;P<D;P++)for(let q=0;q<V;q++){const Q=v+q+_e*P,K=v+q+_e*(P+1),ce=v+(q+1)+_e*(P+1),ze=v+(q+1)+_e*P;d.push(Q,K,ze),d.push(K,ce,ze),ae+=6}h.addGroup(b,ae,G),b+=ae,v+=J}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function pc(c){const e={};for(const t in c){e[t]={};for(const i in c[t]){const r=c[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function _M(c){const e={};for(let t=0;t<c.length;t++){const i=pc(c[t]);for(const r in i)e[r]=i[r]}return e}function AM(c){const e=[];for(let t=0;t<c.length;t++)e.push(c[t].clone());return e}function kC(c){const e=c.getRenderTarget();return e===null?c.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:rs.workingColorSpace}const TC={clone:pc,merge:_M};var kM=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,TM=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Wp extends Dt{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=kM,this.fragmentShader=TM,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=pc(e.uniforms),this.uniformsGroups=AM(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class Hp extends Oe{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Se,this.projectionMatrix=new Se,this.projectionMatrixInverse=new Se,this.coordinateSystem=Fs}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Ji=new z,nv=new Y,rv=new Y;class xs extends Hp{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Lo*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ln*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Lo*2*Math.atan(Math.tan(Ln*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){Ji.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Ji.x,Ji.y).multiplyScalar(-e/Ji.z),Ji.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Ji.x,Ji.y).multiplyScalar(-e/Ji.z)}getViewSize(e,t){return this.getViewBounds(e,nv,rv),t.subVectors(rv,nv)}setViewOffset(e,t,i,r,o,l){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Ln*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,o=-.5*r;const l=this.view;if(this.view!==null&&this.view.enabled){const d=l.fullWidth,p=l.fullHeight;o+=l.offsetX*r/d,t-=l.offsetY*i/p,r*=l.width/d,i*=l.height/p}const h=this.filmOffset;h!==0&&(o+=e*h/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const jr=-90,Fr=1;class CM extends Oe{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new xs(jr,Fr,e,t);r.layers=this.layers,this.add(r);const o=new xs(jr,Fr,e,t);o.layers=this.layers,this.add(o);const l=new xs(jr,Fr,e,t);l.layers=this.layers,this.add(l);const h=new xs(jr,Fr,e,t);h.layers=this.layers,this.add(h);const d=new xs(jr,Fr,e,t);d.layers=this.layers,this.add(d);const p=new xs(jr,Fr,e,t);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,o,l,h,d]=t;for(const p of t)this.remove(p);if(e===Fs)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),h.up.set(0,1,0),h.lookAt(0,0,1),d.up.set(0,1,0),d.lookAt(0,0,-1);else if(e===tc)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),h.up.set(0,-1,0),h.lookAt(0,0,1),d.up.set(0,-1,0),d.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const p of t)this.add(p),p.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,l,h,d,p,m]=this.children,y=e.getRenderTarget(),v=e.getActiveCubeFace(),b=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const S=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,o),e.setRenderTarget(i,1,r),e.render(t,l),e.setRenderTarget(i,2,r),e.render(t,h),e.setRenderTarget(i,3,r),e.render(t,d),e.setRenderTarget(i,4,r),e.render(t,p),i.texture.generateMipmaps=S,e.setRenderTarget(i,5,r),e.render(t,m),e.setRenderTarget(y,v,b),e.xr.enabled=x,i.texture.needsPMREMUpdate=!0}}class qp extends dt{constructor(e=[],t=Lp,i,r,o,l,h,d,p,m){super(e,t,i,r,o,l,h,d,p,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class CC extends Vp{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new qp(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:ws}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new dc(5,5,5),o=new Wp({name:"CubemapFromEquirect",uniforms:pc(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:ob,blending:Ow});o.uniforms.tEquirect.value=t;const l=new Ps(r,o),h=t.minFilter;return t.minFilter===hc&&(t.minFilter=ws),new CM(1,10,this).update(e,l),t.minFilter=h,l.geometry.dispose(),l.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){const o=e.getRenderTarget();for(let l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(t,i,r);e.setRenderTarget(o)}}class zo extends Oe{constructor(){super(),this.isGroup=!0,this.type="Group"}}const zM={type:"move"};class zC{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new zo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new zo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new zo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new z),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,o=null,l=null;const h=this._targetRay,d=this._grip,p=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(p&&e.hand){l=!0;for(const S of e.hand.values()){const _=t.getJointPose(S,i),M=this._getHandJoint(p,S);_!==null&&(M.matrix.fromArray(_.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.matrixWorldNeedsUpdate=!0,M.jointRadius=_.radius),M.visible=_!==null}const m=p.joints["index-finger-tip"],y=p.joints["thumb-tip"],v=m.position.distanceTo(y.position),b=.02,x=.005;p.inputState.pinching&&v>b+x?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!p.inputState.pinching&&v<=b-x&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else d!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,i),o!==null&&(d.matrix.fromArray(o.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,o.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(o.linearVelocity)):d.hasLinearVelocity=!1,o.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(o.angularVelocity)):d.hasAngularVelocity=!1));h!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&o!==null&&(r=o),r!==null&&(h.matrix.fromArray(r.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,r.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(r.linearVelocity)):h.hasLinearVelocity=!1,r.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(r.angularVelocity)):h.hasAngularVelocity=!1,this.dispatchEvent(zM)))}return h!==null&&(h.visible=r!==null),d!==null&&(d.visible=o!==null),p!==null&&(p.visible=l!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new zo;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class $p{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new be(e),this.density=t}clone(){return new $p(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Gp{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new be(e),this.near=t,this.far=i}clone(){return new Gp(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class EM extends Oe{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Vs,this.environmentIntensity=1,this.environmentRotation=new Vs,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Xp{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=ec,this.updateRanges=[],this.version=0,this.uuid=os()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,o=this.stride;r<o;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=os()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=os()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Bt=new z;class Kr{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Bt.fromBufferAttribute(this,t),Bt.applyMatrix4(e),this.setXYZ(t,Bt.x,Bt.y,Bt.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Bt.fromBufferAttribute(this,t),Bt.applyNormalMatrix(e),this.setXYZ(t,Bt.x,Bt.y,Bt.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Bt.fromBufferAttribute(this,t),Bt.transformDirection(e),this.setXYZ(t,Bt.x,Bt.y,Bt.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=Lt(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=we(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=we(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=we(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=we(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=we(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Lt(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Lt(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Lt(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Lt(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=we(t,this.array),i=we(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=we(t,this.array),i=we(i,this.array),r=we(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,o){return e=e*this.data.stride+this.offset,this.normalized&&(t=we(t,this.array),i=we(i,this.array),r=we(r,this.array),o=we(o,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return new Qe(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Kr(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class gb extends Dt{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new be(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Ur;const yo=new z,Vr=new z,Wr=new z,Hr=new Y,vo=new Y,yb=new Se,Mu=new z,bo=new z,_u=new z,av=new Y,ip=new Y,ov=new Y;class PM extends Oe{constructor(e=new gb){if(super(),this.isSprite=!0,this.type="Sprite",Ur===void 0){Ur=new Te;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Xp(t,5);Ur.setIndex([0,1,2,0,2,3]),Ur.setAttribute("position",new Kr(i,3,0,!1)),Ur.setAttribute("uv",new Kr(i,2,3,!1))}this.geometry=Ur,this.material=e,this.center=new Y(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Vr.setFromMatrixScale(this.matrixWorld),yb.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Wr.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Vr.multiplyScalar(-Wr.z);const i=this.material.rotation;let r,o;i!==0&&(o=Math.cos(i),r=Math.sin(i));const l=this.center;Au(Mu.set(-.5,-.5,0),Wr,l,Vr,r,o),Au(bo.set(.5,-.5,0),Wr,l,Vr,r,o),Au(_u.set(.5,.5,0),Wr,l,Vr,r,o),av.set(0,0),ip.set(1,0),ov.set(1,1);let h=e.ray.intersectTriangle(Mu,bo,_u,!1,yo);if(h===null&&(Au(bo.set(-.5,.5,0),Wr,l,Vr,r,o),ip.set(0,1),h=e.ray.intersectTriangle(Mu,_u,bo,!1,yo),h===null))return;const d=e.ray.origin.distanceTo(yo);d<e.near||d>e.far||t.push({distance:d,point:yo.clone(),uv:as.getInterpolation(yo,Mu,bo,_u,av,ip,ov,new Y),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Au(c,e,t,i,r,o){Hr.subVectors(c,t).addScalar(.5).multiply(i),r!==void 0?(vo.x=o*Hr.x-r*Hr.y,vo.y=r*Hr.x+o*Hr.y):vo.copy(Hr),c.copy(e),c.x+=vo.x,c.y+=vo.y,c.applyMatrix4(yb)}const ku=new z,lv=new z;class NM extends Oe{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const o=t[i];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let o;for(o=0;o<r.length&&!(t<r[o].distance);o++);return r.splice(o,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),e<o)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){ku.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(ku);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){ku.setFromMatrixPosition(e.matrixWorld),lv.setFromMatrixPosition(this.matrixWorld);const i=ku.distanceTo(lv)/e.zoom;t[0].object.visible=!0;let r,o;for(r=1,o=t.length;r<o;r++){let l=t[r].distance;if(t[r].object.visible&&(l-=l*t[r].hysteresis),i>=l)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<o;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,o=i.length;r<o;r++){const l=i[r];t.object.levels.push({object:l.object.uuid,distance:l.distance,hysteresis:l.hysteresis})}return t}}const uv=new z,cv=new vt,hv=new vt,IM=new z,dv=new Se,Tu=new z,np=new Et,pv=new Se,rp=new Vo;class RM extends Ps{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=O0,this.bindMatrix=new Se,this.bindMatrixInverse=new Se,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ot),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Tu),this.boundingBox.expandByPoint(Tu)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Et),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Tu),this.boundingSphere.expandByPoint(Tu)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),np.copy(this.boundingSphere),np.applyMatrix4(r),e.ray.intersectsSphere(np)!==!1&&(pv.copy(r).invert(),rp.copy(e.ray).applyMatrix4(pv),!(this.boundingBox!==null&&rp.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,rp)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new vt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===O0?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Dw?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;cv.fromBufferAttribute(r.attributes.skinIndex,e),hv.fromBufferAttribute(r.attributes.skinWeight,e),uv.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const l=hv.getComponent(o);if(l!==0){const h=cv.getComponent(o);dv.multiplyMatrices(i.bones[h].matrixWorld,i.boneInverses[h]),t.addScaledVector(IM.copy(uv).applyMatrix4(dv),l)}}return t.applyMatrix4(this.bindMatrixInverse)}}class vb extends Oe{constructor(){super(),this.isBone=!0,this.type="Bone"}}class yi extends dt{constructor(e=null,t=1,i=1,r,o,l,h,d,p=Es,m=Es,y,v){super(null,l,h,d,p,m,r,o,y,v),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const fv=new Se,BM=new Se;class Zp{constructor(e=[],t=[]){this.uuid=os(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Se)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Se;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let o=0,l=e.length;o<l;o++){const h=e[o]?e[o].matrixWorld:BM;fv.multiplyMatrices(h,t[o]),fv.toArray(i,o*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Zp(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new yi(t,e,e,Bo,Qr);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const o=e.bones[i];let l=t[o];l===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),l=new vb),this.bones.push(l),this.boneInverses.push(new Se().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,o=t.length;r<o;r++){const l=t[r];e.bones.push(l.uuid);const h=i[r];e.boneInverses.push(h.toArray())}return e}}class Oo extends Qe{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const qr=new Se,mv=new Se,Cu=[],gv=new Ot,LM=new Se,xo=new Ps,wo=new Et;class OM extends Ps{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Oo(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,LM)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Ot),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,qr),gv.copy(e.boundingBox).applyMatrix4(qr),this.boundingBox.union(gv)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Et),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,qr),wo.copy(e.boundingSphere).applyMatrix4(qr),this.boundingSphere.union(wo)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,o=i.length+1,l=e*o+1;for(let h=0;h<i.length;h++)i[h]=r[l+h]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(xo.geometry=this.geometry,xo.material=this.material,xo.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),wo.copy(this.boundingSphere),wo.applyMatrix4(i),e.ray.intersectsSphere(wo)!==!1))for(let o=0;o<r;o++){this.getMatrixAt(o,qr),mv.multiplyMatrices(i,qr),xo.matrixWorld=mv,xo.raycast(e,Cu);for(let l=0,h=Cu.length;l<h;l++){const d=Cu[l];d.instanceId=o,d.object=this,t.push(d)}Cu.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Oo(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new yi(new Float32Array(r*this.count),r,this.count,lb,Qr));const o=this.morphTexture.source.data.data;let l=0;for(let p=0;p<i.length;p++)l+=i[p];const h=this.geometry.morphTargetsRelative?1:1-l,d=r*e;o[d]=h,o.set(i,d+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const ap=new z,DM=new z,jM=new Hs;class $r{constructor(e=new z(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=ap.subVectors(i,t).cross(DM.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(ap),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/r;return o<0||o>1?null:t.copy(e.start).addScaledVector(i,o)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||jM.getNormalMatrix(e),r=this.coplanarPoint(ap).applyMatrix4(e),o=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const An=new Et,zu=new z;class Yp{constructor(e=new $r,t=new $r,i=new $r,r=new $r,o=new $r,l=new $r){this.planes=[e,t,i,r,o,l]}set(e,t,i,r,o,l){const h=this.planes;return h[0].copy(e),h[1].copy(t),h[2].copy(i),h[3].copy(r),h[4].copy(o),h[5].copy(l),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Fs){const i=this.planes,r=e.elements,o=r[0],l=r[1],h=r[2],d=r[3],p=r[4],m=r[5],y=r[6],v=r[7],b=r[8],x=r[9],S=r[10],_=r[11],M=r[12],k=r[13],T=r[14],C=r[15];if(i[0].setComponents(d-o,v-p,_-b,C-M).normalize(),i[1].setComponents(d+o,v+p,_+b,C+M).normalize(),i[2].setComponents(d+l,v+m,_+x,C+k).normalize(),i[3].setComponents(d-l,v-m,_-x,C-k).normalize(),i[4].setComponents(d-h,v-y,_-S,C-T).normalize(),t===Fs)i[5].setComponents(d+h,v+y,_+S,C+T).normalize();else if(t===tc)i[5].setComponents(h,y,S,T).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),An.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),An.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(An)}intersectsSprite(e){return An.center.set(0,0,0),An.radius=.7071067811865476,An.applyMatrix4(e.matrixWorld),this.intersectsSphere(An)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(zu.x=r.normal.x>0?e.max.x:e.min.x,zu.y=r.normal.y>0?e.max.y:e.min.y,zu.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(zu)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Os=new Se,Ds=new Yp;class Jp{constructor(){this.coordinateSystem=Fs}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Os.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Ds.setFromProjectionMatrix(Os,this.coordinateSystem),Ds.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Os.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Ds.setFromProjectionMatrix(Os,this.coordinateSystem),Ds.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Os.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Ds.setFromProjectionMatrix(Os,this.coordinateSystem),Ds.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Os.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Ds.setFromProjectionMatrix(Os,this.coordinateSystem),Ds.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Os.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Ds.setFromProjectionMatrix(Os,this.coordinateSystem),Ds.containsPoint(e))return!0}return!1}clone(){return new Jp}}function op(c,e){return c-e}function FM(c,e){return c.z-e.z}function UM(c,e){return e.z-c.z}class VM{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const o=this.pool,l=this.list;this.index>=o.length&&o.push({start:-1,count:-1,z:-1,index:-1});const h=o[this.index];l.push(h),this.index++,h.start=e,h.count=t,h.z=i,h.index=r}reset(){this.list.length=0,this.index=0}}const qt=new Se,WM=new be(1,1,1),yv=new Yp,HM=new Jp,Eu=new Ot,kn=new Et,So=new z,vv=new z,qM=new z,lp=new VM,zt=new Ps,Pu=[];function $M(c,e,t=0){const i=e.itemSize;if(c.isInterleavedBufferAttribute||c.array.constructor!==e.array.constructor){const r=c.count;for(let o=0;o<r;o++)for(let l=0;l<i;l++)e.setComponent(o+t,l,c.getComponent(o,l))}else e.array.set(c.array,t*i);e.needsUpdate=!0}function Tn(c,e){if(c.constructor!==e.constructor){const t=Math.min(c.length,e.length);for(let i=0;i<t;i++)e[i]=c[i]}else{const t=Math.min(c.length,e.length);e.set(new c.constructor(c.buffer,0,t))}}class GM extends Ps{constructor(e,t,i=t*2,r){super(new Te,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new yi(t,e,e,Bo,Qr);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new yi(t,e,e,ub,Dp);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new yi(t,e,e,Bo,Qr);i.colorSpace=rs.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in e.attributes){const l=e.getAttribute(o),{array:h,itemSize:d,normalized:p}=l,m=new h.constructor(i*d),y=new Qe(m,d,p);t.setAttribute(o,y)}if(e.getIndex()!==null){const o=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Qe(o,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),o=t.getAttribute(i);if(r.itemSize!==o.itemSize||r.normalized!==o.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ot);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const o=t[i].geometryIndex;this.getMatrixAt(i,qt),this.getBoundingBoxAt(o,Eu).applyMatrix4(qt),e.union(Eu)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Et);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const o=t[i].geometryIndex;this.getMatrixAt(i,qt),this.getBoundingSphereAt(o,kn).applyMatrix4(qt),e.union(kn)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const t={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(op),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=t):(i=this._instanceInfo.length,this._instanceInfo.push(t));const r=this._matricesTexture;qt.identity().toArray(r.image.data,i*16),r.needsUpdate=!0;const o=this._colorsTexture;return o&&(WM.toArray(o.image.data,i*4),o.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},o=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const l=e.getIndex();if(l!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?l.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let h;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(op),h=this._availableGeometryIds.shift(),o[h]=r):(h=this._geometryCount,this._geometryCount++,o.push(r)),this.setGeometryAt(h,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,h}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,o=i.getIndex(),l=t.getIndex(),h=this._geometryInfo[e];if(r&&l.count>h.reservedIndexCount||t.attributes.position.count>h.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const d=h.vertexStart,p=h.reservedVertexCount;h.vertexCount=t.getAttribute("position").count;for(const m in i.attributes){const y=t.getAttribute(m),v=i.getAttribute(m);$M(y,v,d);const b=y.itemSize;for(let x=y.count,S=p;x<S;x++){const _=d+x;for(let M=0;M<b;M++)v.setComponent(_,M,0)}v.needsUpdate=!0,v.addUpdateRange(d*b,p*b)}if(r){const m=h.indexStart,y=h.reservedIndexCount;h.indexCount=t.getIndex().count;for(let v=0;v<l.count;v++)o.setX(m+v,d+l.getX(v));for(let v=l.count,b=y;v<b;v++)o.setX(m+v,d);o.needsUpdate=!0,o.addUpdateRange(m,h.reservedIndexCount)}return h.start=r?h.indexStart:h.vertexStart,h.count=r?h.indexCount:h.vertexCount,h.boundingBox=null,t.boundingBox!==null&&(h.boundingBox=t.boundingBox.clone()),h.boundingSphere=null,t.boundingSphere!==null&&(h.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,o=i.length;r<o;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((l,h)=>h).sort((l,h)=>i[l].vertexStart-i[h].vertexStart),o=this.geometry;for(let l=0,h=i.length;l<h;l++){const d=r[l],p=i[d];if(p.active!==!1){if(o.index!==null){if(p.indexStart!==t){const{indexStart:m,vertexStart:y,reservedIndexCount:v}=p,b=o.index,x=b.array,S=e-y;for(let _=m;_<m+v;_++)x[_]=x[_]+S;b.array.copyWithin(t,m,m+v),b.addUpdateRange(t,v),p.indexStart=t}t+=p.reservedIndexCount}if(p.vertexStart!==e){const{vertexStart:m,reservedVertexCount:y}=p,v=o.attributes;for(const b in v){const x=v[b],{array:S,itemSize:_}=x;S.copyWithin(e*_,m*_,(m+y)*_),x.addUpdateRange(e*_,y*_)}p.vertexStart=e}e+=p.reservedVertexCount,p.start=o.index?p.indexStart:p.vertexStart,this._nextIndexStart=o.index?p.indexStart+p.reservedIndexCount:0,this._nextVertexStart=p.vertexStart+p.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const o=new Ot,l=i.index,h=i.attributes.position;for(let d=r.start,p=r.start+r.count;d<p;d++){let m=d;l&&(m=l.getX(m)),o.expandByPoint(So.fromBufferAttribute(h,m))}r.boundingBox=o}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const o=new Et;this.getBoundingBoxAt(e,Eu),Eu.getCenter(o.center);const l=i.index,h=i.attributes.position;let d=0;for(let p=r.start,m=r.start+r.count;p<m;p++){let y=p;l&&(y=l.getX(y)),So.fromBufferAttribute(h,y),d=Math.max(d,o.center.distanceToSquared(So))}o.radius=Math.sqrt(d),r.boundingSphere=o}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(op);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),o=new Int32Array(e);Tn(this._multiDrawCounts,r),Tn(this._multiDrawStarts,o),this._multiDrawCounts=r,this._multiDrawStarts=o,this._maxInstanceCount=e;const l=this._indirectTexture,h=this._matricesTexture,d=this._colorsTexture;l.dispose(),this._initIndirectTexture(),Tn(l.image.data,this._indirectTexture.image.data),h.dispose(),this._initMatricesTexture(),Tn(h.image.data,this._matricesTexture.image.data),d&&(d.dispose(),this._initColorsTexture(),Tn(d.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...i.map(l=>l.vertexStart+l.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Te,this._initializeGeometry(r));const o=this.geometry;r.index&&Tn(r.index.array,o.index.array);for(const l in r.attributes)Tn(r.attributes[l].array,o.attributes[l].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,o=this.matrixWorld,l=this.geometry;zt.material=this.material,zt.geometry.index=l.index,zt.geometry.attributes=l.attributes,zt.geometry.boundingBox===null&&(zt.geometry.boundingBox=new Ot),zt.geometry.boundingSphere===null&&(zt.geometry.boundingSphere=new Et);for(let h=0,d=i.length;h<d;h++){if(!i[h].visible||!i[h].active)continue;const p=i[h].geometryIndex,m=r[p];zt.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(h,zt.matrixWorld).premultiply(o),this.getBoundingBoxAt(p,zt.geometry.boundingBox),this.getBoundingSphereAt(p,zt.geometry.boundingSphere),zt.raycast(e,Pu);for(let y=0,v=Pu.length;y<v;y++){const b=Pu[y];b.object=this,b.batchId=h,t.push(b)}Pu.length=0}zt.material=null,zt.geometry.index=null,zt.geometry.attributes={},zt.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const l=r.getIndex(),h=l===null?1:l.array.BYTES_PER_ELEMENT,d=this._instanceInfo,p=this._multiDrawStarts,m=this._multiDrawCounts,y=this._geometryInfo,v=this.perObjectFrustumCulled,b=this._indirectTexture,x=b.image.data,S=i.isArrayCamera?HM:yv;v&&!i.isArrayCamera&&(qt.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),yv.setFromProjectionMatrix(qt,e.coordinateSystem));let _=0;if(this.sortObjects){qt.copy(this.matrixWorld).invert(),So.setFromMatrixPosition(i.matrixWorld).applyMatrix4(qt),vv.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(qt);for(let T=0,C=d.length;T<C;T++)if(d[T].visible&&d[T].active){const I=d[T].geometryIndex;this.getMatrixAt(T,qt),this.getBoundingSphereAt(I,kn).applyMatrix4(qt);let O=!1;if(v&&(O=!S.intersectsSphere(kn,i)),!O){const V=y[I],D=qM.subVectors(kn.center,So).dot(vv);lp.push(V.start,V.count,D,T)}}const M=lp.list,k=this.customSort;k===null?M.sort(o.transparent?UM:FM):k.call(this,M,i);for(let T=0,C=M.length;T<C;T++){const I=M[T];p[_]=I.start*h,m[_]=I.count,x[_]=I.index,_++}lp.reset()}else for(let M=0,k=d.length;M<k;M++)if(d[M].visible&&d[M].active){const T=d[M].geometryIndex;let C=!1;if(v&&(this.getMatrixAt(M,qt),this.getBoundingSphereAt(T,kn).applyMatrix4(qt),C=!S.intersectsSphere(kn,i)),!C){const I=y[T];p[_]=I.start*h,m[_]=I.count,x[_]=M,_++}}b.needsUpdate=!0,this._multiDrawCount=_,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,o,l){this.onBeforeRender(e,null,r,o,l)}}class Gt extends Dt{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new be(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const ic=new z,nc=new z,bv=new Se,Mo=new Vo,Nu=new Et,up=new z,xv=new z;class On extends Oe{constructor(e=new Te,t=new Gt){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,o=t.count;r<o;r++)ic.fromBufferAttribute(t,r-1),nc.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=ic.distanceTo(nc);e.setAttribute("lineDistance",new oe(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,o=e.params.Line.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Nu.copy(i.boundingSphere),Nu.applyMatrix4(r),Nu.radius+=o,e.ray.intersectsSphere(Nu)===!1)return;bv.copy(r).invert(),Mo.copy(e.ray).applyMatrix4(bv);const h=o/((this.scale.x+this.scale.y+this.scale.z)/3),d=h*h,p=this.isLineSegments?2:1,m=i.index,y=i.attributes.position;if(m!==null){const v=Math.max(0,l.start),b=Math.min(m.count,l.start+l.count);for(let x=v,S=b-1;x<S;x+=p){const _=m.getX(x),M=m.getX(x+1),k=Iu(this,e,Mo,d,_,M,x);k&&t.push(k)}if(this.isLineLoop){const x=m.getX(b-1),S=m.getX(v),_=Iu(this,e,Mo,d,x,S,b-1);_&&t.push(_)}}else{const v=Math.max(0,l.start),b=Math.min(y.count,l.start+l.count);for(let x=v,S=b-1;x<S;x+=p){const _=Iu(this,e,Mo,d,x,x+1,x);_&&t.push(_)}if(this.isLineLoop){const x=Iu(this,e,Mo,d,b-1,v,b-1);x&&t.push(x)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const i=e[t[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const l=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=r}}}}}function Iu(c,e,t,i,r,o,l){const h=c.geometry.attributes.position;if(ic.fromBufferAttribute(h,r),nc.fromBufferAttribute(h,o),t.distanceSqToSegment(ic,nc,up,xv)>i)return;up.applyMatrix4(c.matrixWorld);const d=e.ray.origin.distanceTo(up);if(!(d<e.near||d>e.far))return{distance:d,point:xv.clone().applyMatrix4(c.matrixWorld),index:l,face:null,faceIndex:null,barycoord:null,object:c}}const wv=new z,Sv=new z;class xi extends On{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,o=t.count;r<o;r+=2)wv.fromBufferAttribute(t,r),Sv.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+wv.distanceTo(Sv);e.setAttribute("lineDistance",new oe(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class XM extends On{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class bb extends Dt{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new be(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Mv=new Se,Ap=new Vo,Ru=new Et,Bu=new z;class ZM extends Oe{constructor(e=new Te,t=new bb){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,o=e.params.Points.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Ru.copy(i.boundingSphere),Ru.applyMatrix4(r),Ru.radius+=o,e.ray.intersectsSphere(Ru)===!1)return;Mv.copy(r).invert(),Ap.copy(e.ray).applyMatrix4(Mv);const h=o/((this.scale.x+this.scale.y+this.scale.z)/3),d=h*h,p=i.index,m=i.attributes.position;if(p!==null){const y=Math.max(0,l.start),v=Math.min(p.count,l.start+l.count);for(let b=y,x=v;b<x;b++){const S=p.getX(b);Bu.fromBufferAttribute(m,S),_v(Bu,S,d,r,e,t,this)}}else{const y=Math.max(0,l.start),v=Math.min(m.count,l.start+l.count);for(let b=y,x=v;b<x;b++)Bu.fromBufferAttribute(m,b),_v(Bu,b,d,r,e,t,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const i=e[t[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const l=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=r}}}}}function _v(c,e,t,i,r,o,l){const h=Ap.distanceSqToPoint(c);if(h<t){const d=new z;Ap.closestPointToPoint(c,d),d.applyMatrix4(i);const p=r.ray.origin.distanceTo(d);if(p<r.near||p>r.far)return;o.push({distance:p,distanceToRay:Math.sqrt(h),point:d,index:e,face:null,faceIndex:null,barycoord:null,object:l})}}class YM extends dt{constructor(e,t,i,r,o=ws,l=ws,h,d,p){super(e,t,i,r,o,l,h,d,p),this.isVideoTexture=!0,this.generateMipmaps=!1;const m=this;function y(){m.needsUpdate=!0,e.requestVideoFrameCallback(y)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(y)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!("requestVideoFrameCallback"in e)&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class EC extends YM{constructor(e,t,i,r,o,l,h,d){super({},e,t,i,r,o,l,h,d),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class PC extends dt{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Es,this.minFilter=Es,this.generateMipmaps=!1,this.needsUpdate=!0}}class Qp extends dt{constructor(e,t,i,r,o,l,h,d,p,m,y,v){super(null,l,h,d,p,m,r,o,y,v),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class NC extends Qp{constructor(e,t,i,r,o,l){super(e,t,i,o,l),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=js,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class IC extends Qp{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Lp),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class RC extends dt{constructor(e,t,i,r,o,l,h,d,p){super(e,t,i,r,o,l,h,d,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class JM extends dt{constructor(e,t,i=Dp,r,o,l,h=Es,d=Es,p,m=D0){if(m!==D0&&m!==sS)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,r,o,l,h,d,m,i,p),this.isDepthTexture=!0,this.image={width:e,height:t},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Rn(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class BC extends JM{constructor(e=1,t=1,i=1){super(e,t),this.isDepthArrayTexture=!0,this.image={width:e,height:t,depth:i},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Kp extends Te{constructor(e=1,t=1,i=4,r=8,o=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r,heightSegments:o},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),o=Math.max(1,Math.floor(o));const l=[],h=[],d=[],p=[],m=t/2,y=Math.PI/2*e,v=t,b=2*y+v,x=i*2+o,S=r+1,_=new z,M=new z;for(let k=0;k<=x;k++){let T=0,C=0,I=0,O=0;if(k<=i){const G=k/i,Z=G*Math.PI/2;C=-m-e*Math.cos(Z),I=e*Math.sin(Z),O=-e*Math.cos(Z),T=G*y}else if(k<=i+o){const G=(k-i)/o;C=-m+G*t,I=e,O=0,T=y+G*v}else{const G=(k-i-o)/i,Z=G*Math.PI/2;C=m+e*Math.sin(Z),I=e*Math.cos(Z),O=e*Math.sin(Z),T=y+v+G*y}const V=Math.max(0,Math.min(1,T/b));let D=0;k===0?D=.5/r:k===x&&(D=-.5/r);for(let G=0;G<=r;G++){const Z=G/r,ie=Z*Math.PI*2,le=Math.sin(ie),me=Math.cos(ie);M.x=-I*me,M.y=C,M.z=I*le,h.push(M.x,M.y,M.z),_.set(-I*me,O,I*le),_.normalize(),d.push(_.x,_.y,_.z),p.push(Z+D,V)}if(k>0){const G=(k-1)*S;for(let Z=0;Z<r;Z++){const ie=G+Z,le=G+Z+1,me=k*S+Z,xe=k*S+Z+1;l.push(ie,le,me),l.push(le,xe,me)}}}this.setIndex(l),this.setAttribute("position",new oe(h,3)),this.setAttribute("normal",new oe(d,3)),this.setAttribute("uv",new oe(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Kp(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class ef extends Te{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const o=[],l=[],h=[],d=[],p=new z,m=new Y;l.push(0,0,0),h.push(0,0,1),d.push(.5,.5);for(let y=0,v=3;y<=t;y++,v+=3){const b=i+y/t*r;p.x=e*Math.cos(b),p.y=e*Math.sin(b),l.push(p.x,p.y,p.z),h.push(0,0,1),m.x=(l[v]/e+1)/2,m.y=(l[v+1]/e+1)/2,d.push(m.x,m.y)}for(let y=1;y<=t;y++)o.push(y,y+1,0);this.setIndex(o),this.setAttribute("position",new oe(l,3)),this.setAttribute("normal",new oe(h,3)),this.setAttribute("uv",new oe(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ef(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class fc extends Te{constructor(e=1,t=1,i=1,r=32,o=1,l=!1,h=0,d=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:o,openEnded:l,thetaStart:h,thetaLength:d};const p=this;r=Math.floor(r),o=Math.floor(o);const m=[],y=[],v=[],b=[];let x=0;const S=[],_=i/2;let M=0;k(),l===!1&&(e>0&&T(!0),t>0&&T(!1)),this.setIndex(m),this.setAttribute("position",new oe(y,3)),this.setAttribute("normal",new oe(v,3)),this.setAttribute("uv",new oe(b,2));function k(){const C=new z,I=new z;let O=0;const V=(t-e)/i;for(let D=0;D<=o;D++){const G=[],Z=D/o,ie=Z*(t-e)+e;for(let le=0;le<=r;le++){const me=le/r,xe=me*d+h,_e=Math.sin(xe),U=Math.cos(xe);I.x=ie*_e,I.y=-Z*i+_,I.z=ie*U,y.push(I.x,I.y,I.z),C.set(_e,V,U).normalize(),v.push(C.x,C.y,C.z),b.push(me,1-Z),G.push(x++)}S.push(G)}for(let D=0;D<r;D++)for(let G=0;G<o;G++){const Z=S[G][D],ie=S[G+1][D],le=S[G+1][D+1],me=S[G][D+1];(e>0||G!==0)&&(m.push(Z,ie,me),O+=3),(t>0||G!==o-1)&&(m.push(ie,le,me),O+=3)}p.addGroup(M,O,0),M+=O}function T(C){const I=x,O=new Y,V=new z;let D=0;const G=C===!0?e:t,Z=C===!0?1:-1;for(let le=1;le<=r;le++)y.push(0,_*Z,0),v.push(0,Z,0),b.push(.5,.5),x++;const ie=x;for(let le=0;le<=r;le++){const me=le/r*d+h,xe=Math.cos(me),_e=Math.sin(me);V.x=G*_e,V.y=_*Z,V.z=G*xe,y.push(V.x,V.y,V.z),v.push(0,Z,0),O.x=xe*.5+.5,O.y=_e*.5*Z+.5,b.push(O.x,O.y),x++}for(let le=0;le<r;le++){const me=I+le,xe=ie+le;C===!0?m.push(xe,xe+1,me):m.push(xe+1,xe,me),D+=3}p.addGroup(M,D,C===!0?1:2),M+=D}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fc(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class mc extends fc{constructor(e=1,t=1,i=32,r=1,o=!1,l=0,h=Math.PI*2){super(0,e,t,i,r,o,l,h),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:l,thetaLength:h}}static fromJSON(e){return new mc(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Fn extends Te{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const o=[],l=[];h(r),p(i),m(),this.setAttribute("position",new oe(o,3)),this.setAttribute("normal",new oe(o.slice(),3)),this.setAttribute("uv",new oe(l,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function h(k){const T=new z,C=new z,I=new z;for(let O=0;O<t.length;O+=3)b(t[O+0],T),b(t[O+1],C),b(t[O+2],I),d(T,C,I,k)}function d(k,T,C,I){const O=I+1,V=[];for(let D=0;D<=O;D++){V[D]=[];const G=k.clone().lerp(C,D/O),Z=T.clone().lerp(C,D/O),ie=O-D;for(let le=0;le<=ie;le++)le===0&&D===O?V[D][le]=G:V[D][le]=G.clone().lerp(Z,le/ie)}for(let D=0;D<O;D++)for(let G=0;G<2*(O-D)-1;G++){const Z=Math.floor(G/2);G%2===0?(v(V[D][Z+1]),v(V[D+1][Z]),v(V[D][Z])):(v(V[D][Z+1]),v(V[D+1][Z+1]),v(V[D+1][Z]))}}function p(k){const T=new z;for(let C=0;C<o.length;C+=3)T.x=o[C+0],T.y=o[C+1],T.z=o[C+2],T.normalize().multiplyScalar(k),o[C+0]=T.x,o[C+1]=T.y,o[C+2]=T.z}function m(){const k=new z;for(let T=0;T<o.length;T+=3){k.x=o[T+0],k.y=o[T+1],k.z=o[T+2];const C=_(k)/2/Math.PI+.5,I=M(k)/Math.PI+.5;l.push(C,1-I)}x(),y()}function y(){for(let k=0;k<l.length;k+=6){const T=l[k+0],C=l[k+2],I=l[k+4],O=Math.max(T,C,I),V=Math.min(T,C,I);O>.9&&V<.1&&(T<.2&&(l[k+0]+=1),C<.2&&(l[k+2]+=1),I<.2&&(l[k+4]+=1))}}function v(k){o.push(k.x,k.y,k.z)}function b(k,T){const C=k*3;T.x=e[C+0],T.y=e[C+1],T.z=e[C+2]}function x(){const k=new z,T=new z,C=new z,I=new z,O=new Y,V=new Y,D=new Y;for(let G=0,Z=0;G<o.length;G+=9,Z+=6){k.set(o[G+0],o[G+1],o[G+2]),T.set(o[G+3],o[G+4],o[G+5]),C.set(o[G+6],o[G+7],o[G+8]),O.set(l[Z+0],l[Z+1]),V.set(l[Z+2],l[Z+3]),D.set(l[Z+4],l[Z+5]),I.copy(k).add(T).add(C).divideScalar(3);const ie=_(I);S(O,Z+0,k,ie),S(V,Z+2,T,ie),S(D,Z+4,C,ie)}}function S(k,T,C,I){I<0&&k.x===1&&(l[T]=k.x-1),C.x===0&&C.z===0&&(l[T]=I/2/Math.PI+.5)}function _(k){return Math.atan2(k.z,-k.x)}function M(k){return Math.atan2(-k.y,Math.sqrt(k.x*k.x+k.z*k.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fn(e.vertices,e.indices,e.radius,e.details)}}class tf extends Fn{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,l,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new tf(e.radius,e.detail)}}const Lu=new z,Ou=new z,cp=new z,Du=new as;class QM extends Te{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),r=Math.cos(Ln*t),o=e.getIndex(),l=e.getAttribute("position"),h=o?o.count:l.count,d=[0,0,0],p=["a","b","c"],m=new Array(3),y={},v=[];for(let b=0;b<h;b+=3){o?(d[0]=o.getX(b),d[1]=o.getX(b+1),d[2]=o.getX(b+2)):(d[0]=b,d[1]=b+1,d[2]=b+2);const{a:x,b:S,c:_}=Du;if(x.fromBufferAttribute(l,d[0]),S.fromBufferAttribute(l,d[1]),_.fromBufferAttribute(l,d[2]),Du.getNormal(cp),m[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,m[1]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,m[2]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,!(m[0]===m[1]||m[1]===m[2]||m[2]===m[0]))for(let M=0;M<3;M++){const k=(M+1)%3,T=m[M],C=m[k],I=Du[p[M]],O=Du[p[k]],V=`${T}_${C}`,D=`${C}_${T}`;D in y&&y[D]?(cp.dot(y[D].normal)<=r&&(v.push(I.x,I.y,I.z),v.push(O.x,O.y,O.z)),y[D]=null):V in y||(y[V]={index0:d[M],index1:d[k],normal:cp.clone()})}}for(const b in y)if(y[b]){const{index0:x,index1:S}=y[b];Lu.fromBufferAttribute(l,x),Ou.fromBufferAttribute(l,S),v.push(Lu.x,Lu.y,Lu.z),v.push(Ou.x,Ou.y,Ou.z)}this.setAttribute("position",new oe(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class qs{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),o=0;t.push(0);for(let l=1;l<=e;l++)i=this.getPoint(l/e),o+=i.distanceTo(r),t.push(o),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const o=i.length;let l;t?l=t:l=e*i[o-1];let h=0,d=o-1,p;for(;h<=d;)if(r=Math.floor(h+(d-h)/2),p=i[r]-l,p<0)h=r+1;else if(p>0)d=r-1;else{d=r;break}if(r=d,i[r]===l)return r/(o-1);const m=i[r],y=i[r+1]-m,v=(l-m)/y;return(r+v)/(o-1)}getTangent(e,t){let i=e-1e-4,r=e+1e-4;i<0&&(i=0),r>1&&(r=1);const o=this.getPoint(i),l=this.getPoint(r),h=t||(o.isVector2?new Y:new z);return h.copy(l).sub(o).normalize(),h}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new z,r=[],o=[],l=[],h=new z,d=new Se;for(let b=0;b<=e;b++){const x=b/e;r[b]=this.getTangentAt(x,new z)}o[0]=new z,l[0]=new z;let p=Number.MAX_VALUE;const m=Math.abs(r[0].x),y=Math.abs(r[0].y),v=Math.abs(r[0].z);m<=p&&(p=m,i.set(1,0,0)),y<=p&&(p=y,i.set(0,1,0)),v<=p&&i.set(0,0,1),h.crossVectors(r[0],i).normalize(),o[0].crossVectors(r[0],h),l[0].crossVectors(r[0],o[0]);for(let b=1;b<=e;b++){if(o[b]=o[b-1].clone(),l[b]=l[b-1].clone(),h.crossVectors(r[b-1],r[b]),h.length()>Number.EPSILON){h.normalize();const x=Math.acos(ve(r[b-1].dot(r[b]),-1,1));o[b].applyMatrix4(d.makeRotationAxis(h,x))}l[b].crossVectors(r[b],o[b])}if(t===!0){let b=Math.acos(ve(o[0].dot(o[e]),-1,1));b/=e,r[0].dot(h.crossVectors(o[0],o[e]))>0&&(b=-b);for(let x=1;x<=e;x++)o[x].applyMatrix4(d.makeRotationAxis(r[x],b*x)),l[x].crossVectors(r[x],o[x])}return{tangents:r,normals:o,binormals:l}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class sf extends qs{constructor(e=0,t=0,i=1,r=1,o=0,l=Math.PI*2,h=!1,d=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=o,this.aEndAngle=l,this.aClockwise=h,this.aRotation=d}getPoint(e,t=new Y){const i=t,r=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const l=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=r;for(;o>r;)o-=r;o<Number.EPSILON&&(l?o=0:o=r),this.aClockwise===!0&&!l&&(o===r?o=-r:o=o-r);const h=this.aStartAngle+e*o;let d=this.aX+this.xRadius*Math.cos(h),p=this.aY+this.yRadius*Math.sin(h);if(this.aRotation!==0){const m=Math.cos(this.aRotation),y=Math.sin(this.aRotation),v=d-this.aX,b=p-this.aY;d=v*m-b*y+this.aX,p=v*y+b*m+this.aY}return i.set(d,p)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class KM extends sf{constructor(e,t,i,r,o,l){super(e,t,i,i,r,o,l),this.isArcCurve=!0,this.type="ArcCurve"}}function nf(){let c=0,e=0,t=0,i=0;function r(o,l,h,d){c=o,e=h,t=-3*o+3*l-2*h-d,i=2*o-2*l+h+d}return{initCatmullRom:function(o,l,h,d,p){r(l,h,p*(h-o),p*(d-l))},initNonuniformCatmullRom:function(o,l,h,d,p,m,y){let v=(l-o)/p-(h-o)/(p+m)+(h-l)/m,b=(h-l)/m-(d-l)/(m+y)+(d-h)/y;v*=m,b*=m,r(l,h,v,b)},calc:function(o){const l=o*o,h=l*o;return c+e*o+t*l+i*h}}}const ju=new z,hp=new nf,dp=new nf,pp=new nf;class e2 extends qs{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new z){const i=t,r=this.points,o=r.length,l=(o-(this.closed?0:1))*e;let h=Math.floor(l),d=l-h;this.closed?h+=h>0?0:(Math.floor(Math.abs(h)/o)+1)*o:d===0&&h===o-1&&(h=o-2,d=1);let p,m;this.closed||h>0?p=r[(h-1)%o]:(ju.subVectors(r[0],r[1]).add(r[0]),p=ju);const y=r[h%o],v=r[(h+1)%o];if(this.closed||h+2<o?m=r[(h+2)%o]:(ju.subVectors(r[o-1],r[o-2]).add(r[o-1]),m=ju),this.curveType==="centripetal"||this.curveType==="chordal"){const b=this.curveType==="chordal"?.5:.25;let x=Math.pow(p.distanceToSquared(y),b),S=Math.pow(y.distanceToSquared(v),b),_=Math.pow(v.distanceToSquared(m),b);S<1e-4&&(S=1),x<1e-4&&(x=S),_<1e-4&&(_=S),hp.initNonuniformCatmullRom(p.x,y.x,v.x,m.x,x,S,_),dp.initNonuniformCatmullRom(p.y,y.y,v.y,m.y,x,S,_),pp.initNonuniformCatmullRom(p.z,y.z,v.z,m.z,x,S,_)}else this.curveType==="catmullrom"&&(hp.initCatmullRom(p.x,y.x,v.x,m.x,this.tension),dp.initCatmullRom(p.y,y.y,v.y,m.y,this.tension),pp.initCatmullRom(p.z,y.z,v.z,m.z,this.tension));return i.set(hp.calc(d),dp.calc(d),pp.calc(d)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new z().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Av(c,e,t,i,r){const o=(i-e)*.5,l=(r-t)*.5,h=c*c,d=c*h;return(2*t-2*i+o+l)*d+(-3*t+3*i-2*o-l)*h+o*c+t}function t2(c,e){const t=1-c;return t*t*e}function s2(c,e){return 2*(1-c)*c*e}function i2(c,e){return c*c*e}function Io(c,e,t,i){return t2(c,e)+s2(c,t)+i2(c,i)}function n2(c,e){const t=1-c;return t*t*t*e}function r2(c,e){const t=1-c;return 3*t*t*c*e}function a2(c,e){return 3*(1-c)*c*c*e}function o2(c,e){return c*c*c*e}function Ro(c,e,t,i,r){return n2(c,e)+r2(c,t)+a2(c,i)+o2(c,r)}class xb extends qs{constructor(e=new Y,t=new Y,i=new Y,r=new Y){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Y){const i=t,r=this.v0,o=this.v1,l=this.v2,h=this.v3;return i.set(Ro(e,r.x,o.x,l.x,h.x),Ro(e,r.y,o.y,l.y,h.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class l2 extends qs{constructor(e=new z,t=new z,i=new z,r=new z){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new z){const i=t,r=this.v0,o=this.v1,l=this.v2,h=this.v3;return i.set(Ro(e,r.x,o.x,l.x,h.x),Ro(e,r.y,o.y,l.y,h.y),Ro(e,r.z,o.z,l.z,h.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class wb extends qs{constructor(e=new Y,t=new Y){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Y){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Y){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class u2 extends qs{constructor(e=new z,t=new z){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new z){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new z){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Sb extends qs{constructor(e=new Y,t=new Y,i=new Y){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Y){const i=t,r=this.v0,o=this.v1,l=this.v2;return i.set(Io(e,r.x,o.x,l.x),Io(e,r.y,o.y,l.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Mb extends qs{constructor(e=new z,t=new z,i=new z){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new z){const i=t,r=this.v0,o=this.v1,l=this.v2;return i.set(Io(e,r.x,o.x,l.x),Io(e,r.y,o.y,l.y),Io(e,r.z,o.z,l.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class _b extends qs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Y){const i=t,r=this.points,o=(r.length-1)*e,l=Math.floor(o),h=o-l,d=r[l===0?l:l-1],p=r[l],m=r[l>r.length-2?r.length-1:l+1],y=r[l>r.length-3?r.length-1:l+2];return i.set(Av(h,d.x,p.x,m.x,y.x),Av(h,d.y,p.y,m.y,y.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Y().fromArray(r))}return this}}var rc=Object.freeze({__proto__:null,ArcCurve:KM,CatmullRomCurve3:e2,CubicBezierCurve:xb,CubicBezierCurve3:l2,EllipseCurve:sf,LineCurve:wb,LineCurve3:u2,QuadraticBezierCurve:Sb,QuadraticBezierCurve3:Mb,SplineCurve:_b});class c2 extends qs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new rc[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let o=0;for(;o<r.length;){if(r[o]>=i){const l=r[o]-i,h=this.curves[o],d=h.getLength(),p=d===0?0:1-l/d;return h.getPointAt(p,t)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,o=this.curves;r<o.length;r++){const l=o[r],h=l.isEllipseCurve?e*2:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?e*l.points.length:e,d=l.getPoints(h);for(let p=0;p<d.length;p++){const m=d[p];i&&i.equals(m)||(t.push(m),i=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new rc[r.type]().fromJSON(r))}return this}}class kp extends c2{constructor(e){super(),this.type="Path",this.currentPoint=new Y,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new wb(this.currentPoint.clone(),new Y(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const o=new Sb(this.currentPoint.clone(),new Y(e,t),new Y(i,r));return this.curves.push(o),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,o,l){const h=new xb(this.currentPoint.clone(),new Y(e,t),new Y(i,r),new Y(o,l));return this.curves.push(h),this.currentPoint.set(o,l),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new _b(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,o,l){const h=this.currentPoint.x,d=this.currentPoint.y;return this.absarc(e+h,t+d,i,r,o,l),this}absarc(e,t,i,r,o,l){return this.absellipse(e,t,i,i,r,o,l),this}ellipse(e,t,i,r,o,l,h,d){const p=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+p,t+m,i,r,o,l,h,d),this}absellipse(e,t,i,r,o,l,h,d){const p=new sf(e,t,i,r,o,l,h,d);if(this.curves.length>0){const y=p.getPoint(0);y.equals(this.currentPoint)||this.lineTo(y.x,y.y)}this.curves.push(p);const m=p.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Jr extends kp{constructor(e){super(e),this.uuid=os(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new kp().fromJSON(r))}return this}}function h2(c,e,t=2){const i=e&&e.length,r=i?e[0]*t:c.length;let o=Ab(c,0,r,t,!0);const l=[];if(!o||o.next===o.prev)return l;let h,d,p;if(i&&(o=g2(c,e,o,t)),c.length>80*t){h=1/0,d=1/0;let m=-1/0,y=-1/0;for(let v=t;v<r;v+=t){const b=c[v],x=c[v+1];b<h&&(h=b),x<d&&(d=x),b>m&&(m=b),x>y&&(y=x)}p=Math.max(m-h,y-d),p=p!==0?32767/p:0}return Do(o,l,t,h,d,p,0),l}function Ab(c,e,t,i,r){let o;if(r===T2(c,e,t,i)>0)for(let l=e;l<t;l+=i)o=kv(l/i|0,c[l],c[l+1],o);else for(let l=t-i;l>=e;l-=i)o=kv(l/i|0,c[l],c[l+1],o);return o&&ea(o,o.next)&&(Fo(o),o=o.next),o}function Dn(c,e){if(!c)return c;e||(e=c);let t=c,i;do if(i=!1,!t.steiner&&(ea(t,t.next)||Je(t.prev,t,t.next)===0)){if(Fo(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Do(c,e,t,i,r,o,l){if(!c)return;!l&&o&&w2(c,i,r,o);let h=c;for(;c.prev!==c.next;){const d=c.prev,p=c.next;if(o?p2(c,i,r,o):d2(c)){e.push(d.i,c.i,p.i),Fo(c),c=p.next,h=p.next;continue}if(c=p,c===h){l?l===1?(c=f2(Dn(c),e),Do(c,e,t,i,r,o,2)):l===2&&m2(c,e,t,i,r,o):Do(Dn(c),e,t,i,r,o,1);break}}}function d2(c){const e=c.prev,t=c,i=c.next;if(Je(e,t,i)>=0)return!1;const r=e.x,o=t.x,l=i.x,h=e.y,d=t.y,p=i.y,m=Math.min(r,o,l),y=Math.min(h,d,p),v=Math.max(r,o,l),b=Math.max(h,d,p);let x=i.next;for(;x!==e;){if(x.x>=m&&x.x<=v&&x.y>=y&&x.y<=b&&Eo(r,h,o,d,l,p,x.x,x.y)&&Je(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function p2(c,e,t,i){const r=c.prev,o=c,l=c.next;if(Je(r,o,l)>=0)return!1;const h=r.x,d=o.x,p=l.x,m=r.y,y=o.y,v=l.y,b=Math.min(h,d,p),x=Math.min(m,y,v),S=Math.max(h,d,p),_=Math.max(m,y,v),M=Tp(b,x,e,t,i),k=Tp(S,_,e,t,i);let T=c.prevZ,C=c.nextZ;for(;T&&T.z>=M&&C&&C.z<=k;){if(T.x>=b&&T.x<=S&&T.y>=x&&T.y<=_&&T!==r&&T!==l&&Eo(h,m,d,y,p,v,T.x,T.y)&&Je(T.prev,T,T.next)>=0||(T=T.prevZ,C.x>=b&&C.x<=S&&C.y>=x&&C.y<=_&&C!==r&&C!==l&&Eo(h,m,d,y,p,v,C.x,C.y)&&Je(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;T&&T.z>=M;){if(T.x>=b&&T.x<=S&&T.y>=x&&T.y<=_&&T!==r&&T!==l&&Eo(h,m,d,y,p,v,T.x,T.y)&&Je(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;C&&C.z<=k;){if(C.x>=b&&C.x<=S&&C.y>=x&&C.y<=_&&C!==r&&C!==l&&Eo(h,m,d,y,p,v,C.x,C.y)&&Je(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function f2(c,e){let t=c;do{const i=t.prev,r=t.next.next;!ea(i,r)&&Tb(i,t,t.next,r)&&jo(i,r)&&jo(r,i)&&(e.push(i.i,t.i,r.i),Fo(t),Fo(t.next),t=c=r),t=t.next}while(t!==c);return Dn(t)}function m2(c,e,t,i,r,o){let l=c;do{let h=l.next.next;for(;h!==l.prev;){if(l.i!==h.i&&_2(l,h)){let d=Cb(l,h);l=Dn(l,l.next),d=Dn(d,d.next),Do(l,e,t,i,r,o,0),Do(d,e,t,i,r,o,0);return}h=h.next}l=l.next}while(l!==c)}function g2(c,e,t,i){const r=[];for(let o=0,l=e.length;o<l;o++){const h=e[o]*i,d=o<l-1?e[o+1]*i:c.length,p=Ab(c,h,d,i,!1);p===p.next&&(p.steiner=!0),r.push(M2(p))}r.sort(y2);for(let o=0;o<r.length;o++)t=v2(r[o],t);return t}function y2(c,e){let t=c.x-e.x;if(t===0&&(t=c.y-e.y,t===0)){const i=(c.next.y-c.y)/(c.next.x-c.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function v2(c,e){const t=b2(c,e);if(!t)return e;const i=Cb(t,c);return Dn(i,i.next),Dn(t,t.next)}function b2(c,e){let t=e;const i=c.x,r=c.y;let o=-1/0,l;if(ea(c,t))return t;do{if(ea(c,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const y=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(y<=i&&y>o&&(o=y,l=t.x<t.next.x?t:t.next,y===i))return l}t=t.next}while(t!==e);if(!l)return null;const h=l,d=l.x,p=l.y;let m=1/0;t=l;do{if(i>=t.x&&t.x>=d&&i!==t.x&&kb(r<p?i:o,r,d,p,r<p?o:i,r,t.x,t.y)){const y=Math.abs(r-t.y)/(i-t.x);jo(t,c)&&(y<m||y===m&&(t.x>l.x||t.x===l.x&&x2(l,t)))&&(l=t,m=y)}t=t.next}while(t!==h);return l}function x2(c,e){return Je(c.prev,c,e.prev)<0&&Je(e.next,c,c.next)<0}function w2(c,e,t,i){let r=c;do r.z===0&&(r.z=Tp(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==c);r.prevZ.nextZ=null,r.prevZ=null,S2(r)}function S2(c){let e,t=1;do{let i=c,r;c=null;let o=null;for(e=0;i;){e++;let l=i,h=0;for(let p=0;p<t&&(h++,l=l.nextZ,!!l);p++);let d=t;for(;h>0||d>0&&l;)h!==0&&(d===0||!l||i.z<=l.z)?(r=i,i=i.nextZ,h--):(r=l,l=l.nextZ,d--),o?o.nextZ=r:c=r,r.prevZ=o,o=r;i=l}o.nextZ=null,t*=2}while(e>1);return c}function Tp(c,e,t,i,r){return c=(c-t)*r|0,e=(e-i)*r|0,c=(c|c<<8)&16711935,c=(c|c<<4)&252645135,c=(c|c<<2)&858993459,c=(c|c<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,c|e<<1}function M2(c){let e=c,t=c;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==c);return t}function kb(c,e,t,i,r,o,l,h){return(r-l)*(e-h)>=(c-l)*(o-h)&&(c-l)*(i-h)>=(t-l)*(e-h)&&(t-l)*(o-h)>=(r-l)*(i-h)}function Eo(c,e,t,i,r,o,l,h){return!(c===l&&e===h)&&kb(c,e,t,i,r,o,l,h)}function _2(c,e){return c.next.i!==e.i&&c.prev.i!==e.i&&!A2(c,e)&&(jo(c,e)&&jo(e,c)&&k2(c,e)&&(Je(c.prev,c,e.prev)||Je(c,e.prev,e))||ea(c,e)&&Je(c.prev,c,c.next)>0&&Je(e.prev,e,e.next)>0)}function Je(c,e,t){return(e.y-c.y)*(t.x-e.x)-(e.x-c.x)*(t.y-e.y)}function ea(c,e){return c.x===e.x&&c.y===e.y}function Tb(c,e,t,i){const r=Uu(Je(c,e,t)),o=Uu(Je(c,e,i)),l=Uu(Je(t,i,c)),h=Uu(Je(t,i,e));return!!(r!==o&&l!==h||r===0&&Fu(c,t,e)||o===0&&Fu(c,i,e)||l===0&&Fu(t,c,i)||h===0&&Fu(t,e,i))}function Fu(c,e,t){return e.x<=Math.max(c.x,t.x)&&e.x>=Math.min(c.x,t.x)&&e.y<=Math.max(c.y,t.y)&&e.y>=Math.min(c.y,t.y)}function Uu(c){return c>0?1:c<0?-1:0}function A2(c,e){let t=c;do{if(t.i!==c.i&&t.next.i!==c.i&&t.i!==e.i&&t.next.i!==e.i&&Tb(t,t.next,c,e))return!0;t=t.next}while(t!==c);return!1}function jo(c,e){return Je(c.prev,c,c.next)<0?Je(c,e,c.next)>=0&&Je(c,c.prev,e)>=0:Je(c,e,c.prev)<0||Je(c,c.next,e)<0}function k2(c,e){let t=c,i=!1;const r=(c.x+e.x)/2,o=(c.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&r<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==c);return i}function Cb(c,e){const t=Cp(c.i,c.x,c.y),i=Cp(e.i,e.x,e.y),r=c.next,o=e.prev;return c.next=e,e.prev=c,t.next=r,r.prev=t,i.next=t,t.prev=i,o.next=i,i.prev=o,i}function kv(c,e,t,i){const r=Cp(c,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Fo(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function Cp(c,e,t){return{i:c,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function T2(c,e,t,i){let r=0;for(let o=e,l=t-i;o<t;o+=i)r+=(c[l]-c[o])*(c[o+1]+c[l+1]),l=o;return r}class C2{static triangulate(e,t,i=2){return h2(e,t,i)}}class Us{static area(e){const t=e.length;let i=0;for(let r=t-1,o=0;o<t;r=o++)i+=e[r].x*e[o].y-e[o].x*e[r].y;return i*.5}static isClockWise(e){return Us.area(e)<0}static triangulateShape(e,t){const i=[],r=[],o=[];Tv(e),Cv(i,e);let l=e.length;t.forEach(Tv);for(let d=0;d<t.length;d++)r.push(l),l+=t[d].length,Cv(i,t[d]);const h=C2.triangulate(i,r);for(let d=0;d<h.length;d+=3)o.push(h.slice(d,d+3));return o}}function Tv(c){const e=c.length;e>2&&c[e-1].equals(c[0])&&c.pop()}function Cv(c,e){for(let t=0;t<e.length;t++)c.push(e[t].x),c.push(e[t].y)}class rf extends Te{constructor(e=new Jr([new Y(.5,.5),new Y(-.5,.5),new Y(-.5,-.5),new Y(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],o=[];for(let h=0,d=e.length;h<d;h++){const p=e[h];l(p)}this.setAttribute("position",new oe(r,3)),this.setAttribute("uv",new oe(o,2)),this.computeVertexNormals();function l(h){const d=[],p=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,y=t.depth!==void 0?t.depth:1;let v=t.bevelEnabled!==void 0?t.bevelEnabled:!0,b=t.bevelThickness!==void 0?t.bevelThickness:.2,x=t.bevelSize!==void 0?t.bevelSize:b-.1,S=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const M=t.extrudePath,k=t.UVGenerator!==void 0?t.UVGenerator:z2;let T,C=!1,I,O,V,D;M&&(T=M.getSpacedPoints(m),C=!0,v=!1,I=M.computeFrenetFrames(m,!1),O=new z,V=new z,D=new z),v||(_=0,b=0,x=0,S=0);const G=h.extractPoints(p);let Z=G.shape;const ie=G.holes;if(!Us.isClockWise(Z)){Z=Z.reverse();for(let ee=0,te=ie.length;ee<te;ee++){const se=ie[ee];Us.isClockWise(se)&&(ie[ee]=se.reverse())}}function le(ee){const te=10000000000000001e-36;let se=ee[0];for(let he=1;he<=ee.length;he++){const ne=he%ee.length,Ee=ee[ne],Ae=Ee.x-se.x,He=Ee.y-se.y,qe=Ae*Ae+He*He,et=Math.max(Math.abs(Ee.x),Math.abs(Ee.y),Math.abs(se.x),Math.abs(se.y)),Pt=te*et*et;if(qe<=Pt){ee.splice(ne,1),he--;continue}se=Ee}}le(Z),ie.forEach(le);const me=ie.length,xe=Z;for(let ee=0;ee<me;ee++){const te=ie[ee];Z=Z.concat(te)}function _e(ee,te,se){return te||console.error("THREE.ExtrudeGeometry: vec does not exist"),ee.clone().addScaledVector(te,se)}const U=Z.length;function J(ee,te,se){let he,ne,Ee;const Ae=ee.x-te.x,He=ee.y-te.y,qe=se.x-ee.x,et=se.y-ee.y,Pt=Ae*Ae+He*He,sn=Ae*et-He*qe;if(Math.abs(sn)>Number.EPSILON){const Nt=Math.sqrt(Pt),Si=Math.sqrt(qe*qe+et*et),Mt=te.x-He/Nt,Ss=te.y+Ae/Nt,It=se.x-et/Si,Sc=se.y+qe/Si,$o=((It-Mt)*et-(Sc-Ss)*qe)/(Ae*et-He*qe);he=Mt+Ae*$o-ee.x,ne=Ss+He*$o-ee.y;const Go=he*he+ne*ne;if(Go<=2)return new Y(he,ne);Ee=Math.sqrt(Go/2)}else{let Nt=!1;Ae>Number.EPSILON?qe>Number.EPSILON&&(Nt=!0):Ae<-Number.EPSILON?qe<-Number.EPSILON&&(Nt=!0):Math.sign(He)===Math.sign(et)&&(Nt=!0),Nt?(he=-He,ne=Ae,Ee=Math.sqrt(Pt)):(he=Ae,ne=He,Ee=Math.sqrt(Pt/2))}return new Y(he/Ee,ne/Ee)}const ae=[];for(let ee=0,te=xe.length,se=te-1,he=ee+1;ee<te;ee++,se++,he++)se===te&&(se=0),he===te&&(he=0),ae[ee]=J(xe[ee],xe[se],xe[he]);const fe=[];let P,q=ae.concat();for(let ee=0,te=me;ee<te;ee++){const se=ie[ee];P=[];for(let he=0,ne=se.length,Ee=ne-1,Ae=he+1;he<ne;he++,Ee++,Ae++)Ee===ne&&(Ee=0),Ae===ne&&(Ae=0),P[he]=J(se[he],se[Ee],se[Ae]);fe.push(P),q=q.concat(P)}let Q;if(_===0)Q=Us.triangulateShape(xe,ie);else{const ee=[],te=[];for(let se=0;se<_;se++){const he=se/_,ne=b*Math.cos(he*Math.PI/2),Ee=x*Math.sin(he*Math.PI/2)+S;for(let Ae=0,He=xe.length;Ae<He;Ae++){const qe=_e(xe[Ae],ae[Ae],Ee);Ie(qe.x,qe.y,-ne),he===0&&ee.push(qe)}for(let Ae=0,He=me;Ae<He;Ae++){const qe=ie[Ae];P=fe[Ae];const et=[];for(let Pt=0,sn=qe.length;Pt<sn;Pt++){const Nt=_e(qe[Pt],P[Pt],Ee);Ie(Nt.x,Nt.y,-ne),he===0&&et.push(Nt)}he===0&&te.push(et)}}Q=Us.triangulateShape(ee,te)}const K=Q.length,ce=x+S;for(let ee=0;ee<U;ee++){const te=v?_e(Z[ee],q[ee],ce):Z[ee];C?(V.copy(I.normals[0]).multiplyScalar(te.x),O.copy(I.binormals[0]).multiplyScalar(te.y),D.copy(T[0]).add(V).add(O),Ie(D.x,D.y,D.z)):Ie(te.x,te.y,0)}for(let ee=1;ee<=m;ee++)for(let te=0;te<U;te++){const se=v?_e(Z[te],q[te],ce):Z[te];C?(V.copy(I.normals[ee]).multiplyScalar(se.x),O.copy(I.binormals[ee]).multiplyScalar(se.y),D.copy(T[ee]).add(V).add(O),Ie(D.x,D.y,D.z)):Ie(se.x,se.y,y/m*ee)}for(let ee=_-1;ee>=0;ee--){const te=ee/_,se=b*Math.cos(te*Math.PI/2),he=x*Math.sin(te*Math.PI/2)+S;for(let ne=0,Ee=xe.length;ne<Ee;ne++){const Ae=_e(xe[ne],ae[ne],he);Ie(Ae.x,Ae.y,y+se)}for(let ne=0,Ee=ie.length;ne<Ee;ne++){const Ae=ie[ne];P=fe[ne];for(let He=0,qe=Ae.length;He<qe;He++){const et=_e(Ae[He],P[He],he);C?Ie(et.x,et.y+T[m-1].y,T[m-1].x+se):Ie(et.x,et.y,y+se)}}}ze(),ye();function ze(){const ee=r.length/3;if(v){let te=0,se=U*te;for(let he=0;he<K;he++){const ne=Q[he];Xt(ne[2]+se,ne[1]+se,ne[0]+se)}te=m+_*2,se=U*te;for(let he=0;he<K;he++){const ne=Q[he];Xt(ne[0]+se,ne[1]+se,ne[2]+se)}}else{for(let te=0;te<K;te++){const se=Q[te];Xt(se[2],se[1],se[0])}for(let te=0;te<K;te++){const se=Q[te];Xt(se[0]+U*m,se[1]+U*m,se[2]+U*m)}}i.addGroup(ee,r.length/3-ee,0)}function ye(){const ee=r.length/3;let te=0;St(xe,te),te+=xe.length;for(let se=0,he=ie.length;se<he;se++){const ne=ie[se];St(ne,te),te+=ne.length}i.addGroup(ee,r.length/3-ee,1)}function St(ee,te){let se=ee.length;for(;--se>=0;){const he=se;let ne=se-1;ne<0&&(ne=ee.length-1);for(let Ee=0,Ae=m+_*2;Ee<Ae;Ee++){const He=U*Ee,qe=U*(Ee+1),et=te+he+He,Pt=te+ne+He,sn=te+ne+qe,Nt=te+he+qe;pa(et,Pt,sn,Nt)}}}function Ie(ee,te,se){d.push(ee),d.push(te),d.push(se)}function Xt(ee,te,se){jt(ee),jt(te),jt(se);const he=r.length/3,ne=k.generateTopUV(i,r,he-3,he-2,he-1);Zt(ne[0]),Zt(ne[1]),Zt(ne[2])}function pa(ee,te,se,he){jt(ee),jt(te),jt(he),jt(te),jt(se),jt(he);const ne=r.length/3,Ee=k.generateSideWallUV(i,r,ne-6,ne-3,ne-2,ne-1);Zt(Ee[0]),Zt(Ee[1]),Zt(Ee[3]),Zt(Ee[1]),Zt(Ee[2]),Zt(Ee[3])}function jt(ee){r.push(d[ee*3+0]),r.push(d[ee*3+1]),r.push(d[ee*3+2])}function Zt(ee){o.push(ee.x),o.push(ee.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return E2(t,i,e)}static fromJSON(e,t){const i=[];for(let o=0,l=e.shapes.length;o<l;o++){const h=t[e.shapes[o]];i.push(h)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new rc[r.type]().fromJSON(r)),new rf(i,e.options)}}const z2={generateTopUV:function(c,e,t,i,r){const o=e[t*3],l=e[t*3+1],h=e[i*3],d=e[i*3+1],p=e[r*3],m=e[r*3+1];return[new Y(o,l),new Y(h,d),new Y(p,m)]},generateSideWallUV:function(c,e,t,i,r,o){const l=e[t*3],h=e[t*3+1],d=e[t*3+2],p=e[i*3],m=e[i*3+1],y=e[i*3+2],v=e[r*3],b=e[r*3+1],x=e[r*3+2],S=e[o*3],_=e[o*3+1],M=e[o*3+2];return Math.abs(h-m)<Math.abs(l-p)?[new Y(l,1-d),new Y(p,1-y),new Y(v,1-x),new Y(S,1-M)]:[new Y(h,1-d),new Y(m,1-y),new Y(b,1-x),new Y(_,1-M)]}};function E2(c,e,t){if(t.shapes=[],Array.isArray(c))for(let i=0,r=c.length;i<r;i++){const o=c[i];t.shapes.push(o.uuid)}else t.shapes.push(c.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class af extends Fn{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,o,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new af(e.radius,e.detail)}}class of extends Te{constructor(e=[new Y(0,-.5),new Y(.5,0),new Y(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=ve(r,0,Math.PI*2);const o=[],l=[],h=[],d=[],p=[],m=1/t,y=new z,v=new Y,b=new z,x=new z,S=new z;let _=0,M=0;for(let k=0;k<=e.length-1;k++)switch(k){case 0:_=e[k+1].x-e[k].x,M=e[k+1].y-e[k].y,b.x=M*1,b.y=-_,b.z=M*0,S.copy(b),b.normalize(),d.push(b.x,b.y,b.z);break;case e.length-1:d.push(S.x,S.y,S.z);break;default:_=e[k+1].x-e[k].x,M=e[k+1].y-e[k].y,b.x=M*1,b.y=-_,b.z=M*0,x.copy(b),b.x+=S.x,b.y+=S.y,b.z+=S.z,b.normalize(),d.push(b.x,b.y,b.z),S.copy(x)}for(let k=0;k<=t;k++){const T=i+k*m*r,C=Math.sin(T),I=Math.cos(T);for(let O=0;O<=e.length-1;O++){y.x=e[O].x*C,y.y=e[O].y,y.z=e[O].x*I,l.push(y.x,y.y,y.z),v.x=k/t,v.y=O/(e.length-1),h.push(v.x,v.y);const V=d[3*O+0]*C,D=d[3*O+1],G=d[3*O+0]*I;p.push(V,D,G)}}for(let k=0;k<t;k++)for(let T=0;T<e.length-1;T++){const C=T+k*e.length,I=C,O=C+e.length,V=C+e.length+1,D=C+1;o.push(I,O,D),o.push(V,D,O)}this.setIndex(o),this.setAttribute("position",new oe(l,3)),this.setAttribute("uv",new oe(h,2)),this.setAttribute("normal",new oe(p,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new of(e.points,e.segments,e.phiStart,e.phiLength)}}class gc extends Fn{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new gc(e.radius,e.detail)}}class lf extends Te{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const o=e/2,l=t/2,h=Math.floor(i),d=Math.floor(r),p=h+1,m=d+1,y=e/h,v=t/d,b=[],x=[],S=[],_=[];for(let M=0;M<m;M++){const k=M*v-l;for(let T=0;T<p;T++){const C=T*y-o;x.push(C,-k,0),S.push(0,0,1),_.push(T/h),_.push(1-M/d)}}for(let M=0;M<d;M++)for(let k=0;k<h;k++){const T=k+p*M,C=k+p*(M+1),I=k+1+p*(M+1),O=k+1+p*M;b.push(T,C,O),b.push(C,I,O)}this.setIndex(b),this.setAttribute("position",new oe(x,3)),this.setAttribute("normal",new oe(S,3)),this.setAttribute("uv",new oe(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lf(e.width,e.height,e.widthSegments,e.heightSegments)}}class uf extends Te{constructor(e=.5,t=1,i=32,r=1,o=0,l=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:o,thetaLength:l},i=Math.max(3,i),r=Math.max(1,r);const h=[],d=[],p=[],m=[];let y=e;const v=(t-e)/r,b=new z,x=new Y;for(let S=0;S<=r;S++){for(let _=0;_<=i;_++){const M=o+_/i*l;b.x=y*Math.cos(M),b.y=y*Math.sin(M),d.push(b.x,b.y,b.z),p.push(0,0,1),x.x=(b.x/t+1)/2,x.y=(b.y/t+1)/2,m.push(x.x,x.y)}y+=v}for(let S=0;S<r;S++){const _=S*(i+1);for(let M=0;M<i;M++){const k=M+_,T=k,C=k+i+1,I=k+i+2,O=k+1;h.push(T,C,O),h.push(C,I,O)}}this.setIndex(h),this.setAttribute("position",new oe(d,3)),this.setAttribute("normal",new oe(p,3)),this.setAttribute("uv",new oe(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uf(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class cf extends Te{constructor(e=new Jr([new Y(0,.5),new Y(-.5,-.5),new Y(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],o=[],l=[];let h=0,d=0;if(Array.isArray(e)===!1)p(e);else for(let m=0;m<e.length;m++)p(e[m]),this.addGroup(h,d,m),h+=d,d=0;this.setIndex(i),this.setAttribute("position",new oe(r,3)),this.setAttribute("normal",new oe(o,3)),this.setAttribute("uv",new oe(l,2));function p(m){const y=r.length/3,v=m.extractPoints(t);let b=v.shape;const x=v.holes;Us.isClockWise(b)===!1&&(b=b.reverse());for(let _=0,M=x.length;_<M;_++){const k=x[_];Us.isClockWise(k)===!0&&(x[_]=k.reverse())}const S=Us.triangulateShape(b,x);for(let _=0,M=x.length;_<M;_++){const k=x[_];b=b.concat(k)}for(let _=0,M=b.length;_<M;_++){const k=b[_];r.push(k.x,k.y,0),o.push(0,0,1),l.push(k.x,k.y)}for(let _=0,M=S.length;_<M;_++){const k=S[_],T=k[0]+y,C=k[1]+y,I=k[2]+y;i.push(T,C,I),d+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return P2(t,e)}static fromJSON(e,t){const i=[];for(let r=0,o=e.shapes.length;r<o;r++){const l=t[e.shapes[r]];i.push(l)}return new cf(i,e.curveSegments)}}function P2(c,e){if(e.shapes=[],Array.isArray(c))for(let t=0,i=c.length;t<i;t++){const r=c[t];e.shapes.push(r.uuid)}else e.shapes.push(c.uuid);return e}class yc extends Te{constructor(e=1,t=32,i=16,r=0,o=Math.PI*2,l=0,h=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:o,thetaStart:l,thetaLength:h},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const d=Math.min(l+h,Math.PI);let p=0;const m=[],y=new z,v=new z,b=[],x=[],S=[],_=[];for(let M=0;M<=i;M++){const k=[],T=M/i;let C=0;M===0&&l===0?C=.5/t:M===i&&d===Math.PI&&(C=-.5/t);for(let I=0;I<=t;I++){const O=I/t;y.x=-e*Math.cos(r+O*o)*Math.sin(l+T*h),y.y=e*Math.cos(l+T*h),y.z=e*Math.sin(r+O*o)*Math.sin(l+T*h),x.push(y.x,y.y,y.z),v.copy(y).normalize(),S.push(v.x,v.y,v.z),_.push(O+C,1-T),k.push(p++)}m.push(k)}for(let M=0;M<i;M++)for(let k=0;k<t;k++){const T=m[M][k+1],C=m[M][k],I=m[M+1][k],O=m[M+1][k+1];(M!==0||l>0)&&b.push(T,C,O),(M!==i-1||d<Math.PI)&&b.push(C,I,O)}this.setIndex(b),this.setAttribute("position",new oe(x,3)),this.setAttribute("normal",new oe(S,3)),this.setAttribute("uv",new oe(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yc(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class hf extends Fn{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new hf(e.radius,e.detail)}}class df extends Te{constructor(e=1,t=.4,i=12,r=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:o},i=Math.floor(i),r=Math.floor(r);const l=[],h=[],d=[],p=[],m=new z,y=new z,v=new z;for(let b=0;b<=i;b++)for(let x=0;x<=r;x++){const S=x/r*o,_=b/i*Math.PI*2;y.x=(e+t*Math.cos(_))*Math.cos(S),y.y=(e+t*Math.cos(_))*Math.sin(S),y.z=t*Math.sin(_),h.push(y.x,y.y,y.z),m.x=e*Math.cos(S),m.y=e*Math.sin(S),v.subVectors(y,m).normalize(),d.push(v.x,v.y,v.z),p.push(x/r),p.push(b/i)}for(let b=1;b<=i;b++)for(let x=1;x<=r;x++){const S=(r+1)*b+x-1,_=(r+1)*(b-1)+x-1,M=(r+1)*(b-1)+x,k=(r+1)*b+x;l.push(S,_,k),l.push(_,M,k)}this.setIndex(l),this.setAttribute("position",new oe(h,3)),this.setAttribute("normal",new oe(d,3)),this.setAttribute("uv",new oe(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new df(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class pf extends Te{constructor(e=1,t=.4,i=64,r=8,o=2,l=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:o,q:l},i=Math.floor(i),r=Math.floor(r);const h=[],d=[],p=[],m=[],y=new z,v=new z,b=new z,x=new z,S=new z,_=new z,M=new z;for(let T=0;T<=i;++T){const C=T/i*o*Math.PI*2;k(C,o,l,e,b),k(C+.01,o,l,e,x),_.subVectors(x,b),M.addVectors(x,b),S.crossVectors(_,M),M.crossVectors(S,_),S.normalize(),M.normalize();for(let I=0;I<=r;++I){const O=I/r*Math.PI*2,V=-t*Math.cos(O),D=t*Math.sin(O);y.x=b.x+(V*M.x+D*S.x),y.y=b.y+(V*M.y+D*S.y),y.z=b.z+(V*M.z+D*S.z),d.push(y.x,y.y,y.z),v.subVectors(y,b).normalize(),p.push(v.x,v.y,v.z),m.push(T/i),m.push(I/r)}}for(let T=1;T<=i;T++)for(let C=1;C<=r;C++){const I=(r+1)*(T-1)+(C-1),O=(r+1)*T+(C-1),V=(r+1)*T+C,D=(r+1)*(T-1)+C;h.push(I,O,D),h.push(O,V,D)}this.setIndex(h),this.setAttribute("position",new oe(d,3)),this.setAttribute("normal",new oe(p,3)),this.setAttribute("uv",new oe(m,2));function k(T,C,I,O,V){const D=Math.cos(T),G=Math.sin(T),Z=I/C*T,ie=Math.cos(Z);V.x=O*(2+ie)*.5*D,V.y=O*(2+ie)*G*.5,V.z=O*Math.sin(Z)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pf(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class ff extends Te{constructor(e=new Mb(new z(-1,-1,0),new z(-1,1,0),new z(1,1,0)),t=64,i=1,r=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:o};const l=e.computeFrenetFrames(t,o);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const h=new z,d=new z,p=new Y;let m=new z;const y=[],v=[],b=[],x=[];S(),this.setIndex(x),this.setAttribute("position",new oe(y,3)),this.setAttribute("normal",new oe(v,3)),this.setAttribute("uv",new oe(b,2));function S(){for(let T=0;T<t;T++)_(T);_(o===!1?t:0),k(),M()}function _(T){m=e.getPointAt(T/t,m);const C=l.normals[T],I=l.binormals[T];for(let O=0;O<=r;O++){const V=O/r*Math.PI*2,D=Math.sin(V),G=-Math.cos(V);d.x=G*C.x+D*I.x,d.y=G*C.y+D*I.y,d.z=G*C.z+D*I.z,d.normalize(),v.push(d.x,d.y,d.z),h.x=m.x+i*d.x,h.y=m.y+i*d.y,h.z=m.z+i*d.z,y.push(h.x,h.y,h.z)}}function M(){for(let T=1;T<=t;T++)for(let C=1;C<=r;C++){const I=(r+1)*(T-1)+(C-1),O=(r+1)*T+(C-1),V=(r+1)*T+C,D=(r+1)*(T-1)+C;x.push(I,O,D),x.push(O,V,D)}}function k(){for(let T=0;T<=t;T++)for(let C=0;C<=r;C++)p.x=T/t,p.y=C/r,b.push(p.x,p.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new ff(new rc[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class N2 extends Te{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new z,o=new z;if(e.index!==null){const l=e.attributes.position,h=e.index;let d=e.groups;d.length===0&&(d=[{start:0,count:h.count,materialIndex:0}]);for(let p=0,m=d.length;p<m;++p){const y=d[p],v=y.start,b=y.count;for(let x=v,S=v+b;x<S;x+=3)for(let _=0;_<3;_++){const M=h.getX(x+_),k=h.getX(x+(_+1)%3);r.fromBufferAttribute(l,M),o.fromBufferAttribute(l,k),zv(r,o,i)===!0&&(t.push(r.x,r.y,r.z),t.push(o.x,o.y,o.z))}}}else{const l=e.attributes.position;for(let h=0,d=l.count/3;h<d;h++)for(let p=0;p<3;p++){const m=3*h+p,y=3*h+(p+1)%3;r.fromBufferAttribute(l,m),o.fromBufferAttribute(l,y),zv(r,o,i)===!0&&(t.push(r.x,r.y,r.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new oe(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function zv(c,e,t){const i=`${c.x},${c.y},${c.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${c.x},${c.y},${c.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var Ev=Object.freeze({__proto__:null,BoxGeometry:dc,CapsuleGeometry:Kp,CircleGeometry:ef,ConeGeometry:mc,CylinderGeometry:fc,DodecahedronGeometry:tf,EdgesGeometry:QM,ExtrudeGeometry:rf,IcosahedronGeometry:af,LatheGeometry:of,OctahedronGeometry:gc,PlaneGeometry:lf,PolyhedronGeometry:Fn,RingGeometry:uf,ShapeGeometry:cf,SphereGeometry:yc,TetrahedronGeometry:hf,TorusGeometry:df,TorusKnotGeometry:pf,TubeGeometry:ff,WireframeGeometry:N2});class I2 extends Dt{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new be(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class R2 extends Wp{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class zb extends Dt{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new be(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oa,this.normalScale=new Y(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Vs,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class B2 extends zb{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Y(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ve(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new be(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new be(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new be(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class L2 extends Dt{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new be(16777215),this.specular=new be(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oa,this.normalScale=new Y(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Vs,this.combine=Rp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class O2 extends Dt{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new be(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oa,this.normalScale=new Y(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class D2 extends Dt{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oa,this.normalScale=new Y(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class j2 extends Dt{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new be(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oa,this.normalScale=new Y(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Vs,this.combine=Rp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class F2 extends Dt{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=US,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class U2 extends Dt{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class V2 extends Dt{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new be(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oa,this.normalScale=new Y(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class W2 extends Gt{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Bn(c,e){return!c||c.constructor===e?c:typeof e.BYTES_PER_ELEMENT=="number"?new e(c):Array.prototype.slice.call(c)}function Eb(c){return ArrayBuffer.isView(c)&&!(c instanceof DataView)}function Pb(c){function e(r,o){return c[r]-c[o]}const t=c.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function zp(c,e,t){const i=c.length,r=new c.constructor(i);for(let o=0,l=0;l!==i;++o){const h=t[o]*e;for(let d=0;d!==e;++d)r[l++]=c[h+d]}return r}function mf(c,e,t,i){let r=1,o=c[0];for(;o!==void 0&&o[i]===void 0;)o=c[r++];if(o===void 0)return;let l=o[i];if(l!==void 0)if(Array.isArray(l))do l=o[i],l!==void 0&&(e.push(o.time),t.push(...l)),o=c[r++];while(o!==void 0);else if(l.toArray!==void 0)do l=o[i],l!==void 0&&(e.push(o.time),l.toArray(t,t.length)),o=c[r++];while(o!==void 0);else do l=o[i],l!==void 0&&(e.push(o.time),t.push(l)),o=c[r++];while(o!==void 0)}function H2(c,e,t,i,r=30){const o=c.clone();o.name=e;const l=[];for(let d=0;d<o.tracks.length;++d){const p=o.tracks[d],m=p.getValueSize(),y=[],v=[];for(let b=0;b<p.times.length;++b){const x=p.times[b]*r;if(!(x<t||x>=i)){y.push(p.times[b]);for(let S=0;S<m;++S)v.push(p.values[b*m+S])}}y.length!==0&&(p.times=Bn(y,p.times.constructor),p.values=Bn(v,p.values.constructor),l.push(p))}o.tracks=l;let h=1/0;for(let d=0;d<o.tracks.length;++d)h>o.tracks[d].times[0]&&(h=o.tracks[d].times[0]);for(let d=0;d<o.tracks.length;++d)o.tracks[d].shift(-1*h);return o.resetDuration(),o}function q2(c,e=0,t=c,i=30){i<=0&&(i=30);const r=t.tracks.length,o=e/i;for(let l=0;l<r;++l){const h=t.tracks[l],d=h.ValueTypeName;if(d==="bool"||d==="string")continue;const p=c.tracks.find(function(M){return M.name===h.name&&M.ValueTypeName===d});if(p===void 0)continue;let m=0;const y=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=y/3);let v=0;const b=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=b/3);const x=h.times.length-1;let S;if(o<=h.times[0]){const M=m,k=y-m;S=h.values.slice(M,k)}else if(o>=h.times[x]){const M=x*y+m,k=M+y-m;S=h.values.slice(M,k)}else{const M=h.createInterpolant(),k=m,T=y-m;M.evaluate(o),S=M.resultBuffer.slice(k,T)}d==="quaternion"&&new ls().fromArray(S).normalize().conjugate().toArray(S);const _=p.times.length;for(let M=0;M<_;++M){const k=M*b+v;if(d==="quaternion")ls.multiplyQuaternionsFlat(p.values,k,S,0,p.values,k);else{const T=b-v*2;for(let C=0;C<T;++C)p.values[k+C]-=S[C]}}}return c.blendMode=cb,c}class LC{static convertArray(e,t){return Bn(e,t)}static isTypedArray(e){return Eb(e)}static getKeyframeOrder(e){return Pb(e)}static sortedArray(e,t,i){return zp(e,t,i)}static flattenJSON(e,t,i,r){mf(e,t,i,r)}static subclip(e,t,i,r,o=30){return H2(e,t,i,r,o)}static makeClipAdditive(e,t=0,i=e,r=30){return q2(e,t,i,r)}}class vc{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],o=t[i-1];e:{t:{let l;s:{i:if(!(e<r)){for(let h=i+2;;){if(r===void 0){if(e<o)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===h)break;if(o=r,r=t[++i],e<r)break t}l=t.length;break s}if(!(e>=o)){const h=t[1];e<h&&(i=2,o=h);for(let d=i-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===d)break;if(r=o,o=t[--i-1],e>=o)break t}l=i,i=0;break s}break e}for(;i<l;){const h=i+l>>>1;e<t[h]?l=h:i=h+1}if(r=t[i],o=t[i-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,o,r)}return this.interpolate_(i,o,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,o=e*r;for(let l=0;l!==r;++l)t[l]=i[o+l];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class $2 extends vc{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Gr,endingEnd:Gr}}intervalChanged_(e,t,i){const r=this.parameterPositions;let o=e-2,l=e+1,h=r[o],d=r[l];if(h===void 0)switch(this.getSettings_().endingStart){case Xr:o=e,h=2*t-i;break;case Ku:o=r.length-2,h=t+r[o]-r[o+1];break;default:o=e,h=i}if(d===void 0)switch(this.getSettings_().endingEnd){case Xr:l=e,d=2*i-t;break;case Ku:l=1,d=i+r[1]-r[0];break;default:l=e-1,d=t}const p=(i-t)*.5,m=this.valueSize;this._weightPrev=p/(t-h),this._weightNext=p/(d-i),this._offsetPrev=o*m,this._offsetNext=l*m}interpolate_(e,t,i,r){const o=this.resultBuffer,l=this.sampleValues,h=this.valueSize,d=e*h,p=d-h,m=this._offsetPrev,y=this._offsetNext,v=this._weightPrev,b=this._weightNext,x=(i-t)/(r-t),S=x*x,_=S*x,M=-v*_+2*v*S-v*x,k=(1+v)*_+(-1.5-2*v)*S+(-.5+v)*x+1,T=(-1-b)*_+(1.5+b)*S+.5*x,C=b*_-b*S;for(let I=0;I!==h;++I)o[I]=M*l[m+I]+k*l[p+I]+T*l[d+I]+C*l[y+I];return o}}class Nb extends vc{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const o=this.resultBuffer,l=this.sampleValues,h=this.valueSize,d=e*h,p=d-h,m=(i-t)/(r-t),y=1-m;for(let v=0;v!==h;++v)o[v]=l[p+v]*y+l[d+v]*m;return o}}class G2 extends vc{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ns{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Bn(t,this.TimeBufferType),this.values=Bn(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Bn(e.times,Array),values:Bn(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new G2(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Nb(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new $2(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Qu:t=this.InterpolantFactoryMethodDiscrete;break;case _p:t=this.InterpolantFactoryMethodLinear;break;case Ld:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Qu;case this.InterpolantFactoryMethodLinear:return _p;case this.InterpolantFactoryMethodSmooth:return Ld}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let o=0,l=r-1;for(;o!==r&&i[o]<e;)++o;for(;l!==-1&&i[l]>t;)--l;if(++l,o!==0||l!==r){o>=l&&(l=Math.max(l,1),o=l-1);const h=this.getValueSize();this.times=i.slice(o,l),this.values=this.values.slice(o*h,l*h)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,o=i.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let l=null;for(let h=0;h!==o;h++){const d=i[h];if(typeof d=="number"&&isNaN(d)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,h,d),e=!1;break}if(l!==null&&l>d){console.error("THREE.KeyframeTrack: Out of order keys.",this,h,d,l),e=!1;break}l=d}if(r!==void 0&&Eb(r))for(let h=0,d=r.length;h!==d;++h){const p=r[h];if(isNaN(p)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,h,p),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===Ld,o=e.length-1;let l=1;for(let h=1;h<o;++h){let d=!1;const p=e[h],m=e[h+1];if(p!==m&&(h!==1||p!==e[0]))if(r)d=!0;else{const y=h*i,v=y-i,b=y+i;for(let x=0;x!==i;++x){const S=t[y+x];if(S!==t[v+x]||S!==t[b+x]){d=!0;break}}}if(d){if(h!==l){e[l]=e[h];const y=h*i,v=l*i;for(let b=0;b!==i;++b)t[v+b]=t[y+b]}++l}}if(o>0){e[l]=e[o];for(let h=o*i,d=l*i,p=0;p!==i;++p)t[d+p]=t[h+p];++l}return l!==e.length?(this.times=e.slice(0,l),this.values=t.slice(0,l*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Ns.prototype.ValueTypeName="";Ns.prototype.TimeBufferType=Float32Array;Ns.prototype.ValueBufferType=Float32Array;Ns.prototype.DefaultInterpolation=_p;class ua extends Ns{constructor(e,t,i){super(e,t,i)}}ua.prototype.ValueTypeName="bool";ua.prototype.ValueBufferType=Array;ua.prototype.DefaultInterpolation=Qu;ua.prototype.InterpolantFactoryMethodLinear=void 0;ua.prototype.InterpolantFactoryMethodSmooth=void 0;class Ib extends Ns{constructor(e,t,i,r){super(e,t,i,r)}}Ib.prototype.ValueTypeName="color";class ac extends Ns{constructor(e,t,i,r){super(e,t,i,r)}}ac.prototype.ValueTypeName="number";class X2 extends vc{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const o=this.resultBuffer,l=this.sampleValues,h=this.valueSize,d=(i-t)/(r-t);let p=e*h;for(let m=p+h;p!==m;p+=4)ls.slerpFlat(o,0,l,p-h,l,p,d);return o}}class bc extends Ns{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new X2(this.times,this.values,this.getValueSize(),e)}}bc.prototype.ValueTypeName="quaternion";bc.prototype.InterpolantFactoryMethodSmooth=void 0;class ca extends Ns{constructor(e,t,i){super(e,t,i)}}ca.prototype.ValueTypeName="string";ca.prototype.ValueBufferType=Array;ca.prototype.DefaultInterpolation=Qu;ca.prototype.InterpolantFactoryMethodLinear=void 0;ca.prototype.InterpolantFactoryMethodSmooth=void 0;class oc extends Ns{constructor(e,t,i,r){super(e,t,i,r)}}oc.prototype.ValueTypeName="vector";class lc{constructor(e="",t=-1,i=[],r=jp){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=os(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let l=0,h=i.length;l!==h;++l)t.push(Y2(i[l]).scale(r));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,l=i.length;o!==l;++o)t.push(Ns.toJSON(i[o]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const o=t.length,l=[];for(let h=0;h<o;h++){let d=[],p=[];d.push((h+o-1)%o,h,(h+1)%o),p.push(0,1,0);const m=Pb(d);d=zp(d,1,m),p=zp(p,1,m),!r&&d[0]===0&&(d.push(o),p.push(p[0])),l.push(new ac(".morphTargetInfluences["+t[h].name+"]",d,p).scale(1/i))}return new this(e,-1,l)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},o=/^([\w-]*?)([\d]+)$/;for(let h=0,d=e.length;h<d;h++){const p=e[h],m=p.name.match(o);if(m&&m.length>1){const y=m[1];let v=r[y];v||(r[y]=v=[]),v.push(p)}}const l=[];for(const h in r)l.push(this.CreateFromMorphTargetSequence(h,r[h],t,i));return l}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(m,y,v,b,x){if(v.length!==0){const S=[],_=[];mf(v,S,_,b),S.length!==0&&x.push(new m(y,S,_))}},r=[],o=e.name||"default",l=e.fps||30,h=e.blendMode;let d=e.length||-1;const p=e.hierarchy||[];for(let m=0;m<p.length;m++){const y=p[m].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const v={};let b;for(b=0;b<y.length;b++)if(y[b].morphTargets)for(let x=0;x<y[b].morphTargets.length;x++)v[y[b].morphTargets[x]]=-1;for(const x in v){const S=[],_=[];for(let M=0;M!==y[b].morphTargets.length;++M){const k=y[b];S.push(k.time),_.push(k.morphTarget===x?1:0)}r.push(new ac(".morphTargetInfluence["+x+"]",S,_))}d=v.length*l}else{const v=".bones["+t[m].name+"]";i(oc,v+".position",y,"pos",r),i(bc,v+".quaternion",y,"rot",r),i(oc,v+".scale",y,"scl",r)}}return r.length===0?null:new this(o,d,r,h)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const o=this.tracks[i];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Z2(c){switch(c.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ac;case"vector":case"vector2":case"vector3":case"vector4":return oc;case"color":return Ib;case"quaternion":return bc;case"bool":case"boolean":return ua;case"string":return ca}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+c)}function Y2(c){if(c.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Z2(c.type);if(c.times===void 0){const t=[],i=[];mf(c.keys,t,i,"value"),c.times=t,c.values=i}return e.parse!==void 0?e.parse(c):new e(c.name,c.times,c.values,c.interpolation)}const Ki={enabled:!1,files:{},add:function(c,e){this.enabled!==!1&&(this.files[c]=e)},get:function(c){if(this.enabled!==!1)return this.files[c]},remove:function(c){delete this.files[c]},clear:function(){this.files={}}};class Rb{constructor(e,t,i){const r=this;let o=!1,l=0,h=0,d;const p=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(m){h++,o===!1&&r.onStart!==void 0&&r.onStart(m,l,h),o=!0},this.itemEnd=function(m){l++,r.onProgress!==void 0&&r.onProgress(m,l,h),l===h&&(o=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(m){r.onError!==void 0&&r.onError(m)},this.resolveURL=function(m){return d?d(m):m},this.setURLModifier=function(m){return d=m,this},this.addHandler=function(m,y){return p.push(m,y),this},this.removeHandler=function(m){const y=p.indexOf(m);return y!==-1&&p.splice(y,2),this},this.getHandler=function(m){for(let y=0,v=p.length;y<v;y+=2){const b=p[y],x=p[y+1];if(b.global&&(b.lastIndex=0),b.test(m))return x}return null}}}const Po=new Rb;class us{constructor(e){this.manager=e!==void 0?e:Po,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,o){i.load(e,r,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}us.DEFAULT_MATERIAL_NAME="__DEFAULT";const fi={};class J2 extends Error{constructor(e,t){super(e),this.response=t}}class en extends us{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Ki.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(fi[e]!==void 0){fi[e].push({onLoad:t,onProgress:i,onError:r});return}fi[e]=[],fi[e].push({onLoad:t,onProgress:i,onError:r});const l=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),h=this.mimeType,d=this.responseType;fetch(l).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const m=fi[e],y=p.body.getReader(),v=p.headers.get("X-File-Size")||p.headers.get("Content-Length"),b=v?parseInt(v):0,x=b!==0;let S=0;const _=new ReadableStream({start(M){k();function k(){y.read().then(({done:T,value:C})=>{if(T)M.close();else{S+=C.byteLength;const I=new ProgressEvent("progress",{lengthComputable:x,loaded:S,total:b});for(let O=0,V=m.length;O<V;O++){const D=m[O];D.onProgress&&D.onProgress(I)}M.enqueue(C),k()}},T=>{M.error(T)})}}});return new Response(_)}else throw new J2(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(d){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(m=>new DOMParser().parseFromString(m,h));case"json":return p.json();default:if(h==="")return p.text();{const m=/charset="?([^;"\s]*)"?/i.exec(h),y=m&&m[1]?m[1].toLowerCase():void 0,v=new TextDecoder(y);return p.arrayBuffer().then(b=>v.decode(b))}}}).then(p=>{Ki.add(e,p);const m=fi[e];delete fi[e];for(let y=0,v=m.length;y<v;y++){const b=m[y];b.onLoad&&b.onLoad(p)}}).catch(p=>{const m=fi[e];if(m===void 0)throw this.manager.itemError(e),p;delete fi[e];for(let y=0,v=m.length;y<v;y++){const b=m[y];b.onError&&b.onError(p)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class OC extends us{constructor(e){super(e)}load(e,t,i,r){const o=this,l=new en(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(h){try{t(o.parse(JSON.parse(h)))}catch(d){r?r(d):console.error(d),o.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=lc.parse(e[i]);t.push(r)}return t}}class DC extends us{constructor(e){super(e)}load(e,t,i,r){const o=this,l=[],h=new Qp,d=new en(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(o.withCredentials);let p=0;function m(y){d.load(e[y],function(v){const b=o.parse(v,!0);l[y]={width:b.width,height:b.height,format:b.format,mipmaps:b.mipmaps},p+=1,p===6&&(b.mipmapCount===1&&(h.minFilter=ws),h.image=l,h.format=b.format,h.needsUpdate=!0,t&&t(h))},i,r)}if(Array.isArray(e))for(let y=0,v=e.length;y<v;++y)m(y);else d.load(e,function(y){const v=o.parse(y,!0);if(v.isCubemap){const b=v.mipmaps.length/v.mipmapCount;for(let x=0;x<b;x++){l[x]={mipmaps:[]};for(let S=0;S<v.mipmapCount;S++)l[x].mipmaps.push(v.mipmaps[x*v.mipmapCount+S]),l[x].format=v.format,l[x].width=v.width,l[x].height=v.height}h.image=l}else h.image.width=v.width,h.image.height=v.height,h.mipmaps=v.mipmaps;v.mipmapCount===1&&(h.minFilter=ws),h.format=v.format,h.needsUpdate=!0,t&&t(h)},i,r);return h}}class uc extends us{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,l=Ki.get(e);if(l!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(l),o.manager.itemEnd(e)},0),l;const h=sc("img");function d(){m(),Ki.add(e,this),t&&t(this),o.manager.itemEnd(e)}function p(y){m(),r&&r(y),o.manager.itemError(e),o.manager.itemEnd(e)}function m(){h.removeEventListener("load",d,!1),h.removeEventListener("error",p,!1)}return h.addEventListener("load",d,!1),h.addEventListener("error",p,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(h.crossOrigin=this.crossOrigin),o.manager.itemStart(e),h.src=e,h}}class jC extends us{constructor(e){super(e)}load(e,t,i,r){const o=new qp;o.colorSpace=bs;const l=new uc(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let h=0;function d(p){l.load(e[p],function(m){o.images[p]=m,h++,h===6&&(o.needsUpdate=!0,t&&t(o))},void 0,r)}for(let p=0;p<e.length;++p)d(p);return o}}class FC extends us{constructor(e){super(e)}load(e,t,i,r){const o=this,l=new yi,h=new en(this.manager);return h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setPath(this.path),h.setWithCredentials(o.withCredentials),h.load(e,function(d){let p;try{p=o.parse(d)}catch(m){if(r!==void 0)r(m);else{console.error(m);return}}p.image!==void 0?l.image=p.image:p.data!==void 0&&(l.image.width=p.width,l.image.height=p.height,l.image.data=p.data),l.wrapS=p.wrapS!==void 0?p.wrapS:js,l.wrapT=p.wrapT!==void 0?p.wrapT:js,l.magFilter=p.magFilter!==void 0?p.magFilter:ws,l.minFilter=p.minFilter!==void 0?p.minFilter:ws,l.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(l.colorSpace=p.colorSpace),p.flipY!==void 0&&(l.flipY=p.flipY),p.format!==void 0&&(l.format=p.format),p.type!==void 0&&(l.type=p.type),p.mipmaps!==void 0&&(l.mipmaps=p.mipmaps,l.minFilter=hc),p.mipmapCount===1&&(l.minFilter=ws),p.generateMipmaps!==void 0&&(l.generateMipmaps=p.generateMipmaps),l.needsUpdate=!0,t&&t(l,p)},i,r),l}}class UC extends us{constructor(e){super(e)}load(e,t,i,r){const o=new dt,l=new uc(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(e,function(h){o.image=h,o.needsUpdate=!0,t!==void 0&&t(o)},i,r),o}}class Un extends Oe{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new be(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class Q2 extends Un{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Oe.DEFAULT_UP),this.updateMatrix(),this.groundColor=new be(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const fp=new Se,Pv=new z,Nv=new z;class gf{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Y(512,512),this.mapType=Op,this.map=null,this.mapPass=null,this.matrix=new Se,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Yp,this._frameExtents=new Y(1,1),this._viewportCount=1,this._viewports=[new vt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;Pv.setFromMatrixPosition(e.matrixWorld),t.position.copy(Pv),Nv.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Nv),t.updateMatrixWorld(),fp.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(fp),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(fp)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class K2 extends gf{constructor(){super(new xs(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Lo*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(i!==t.fov||r!==t.aspect||o!==t.far)&&(t.fov=i,t.aspect=r,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class e_ extends Un{constructor(e,t,i=0,r=Math.PI/3,o=0,l=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Oe.DEFAULT_UP),this.updateMatrix(),this.target=new Oe,this.distance=i,this.angle=r,this.penumbra=o,this.decay=l,this.map=null,this.shadow=new K2}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Iv=new Se,_o=new z,mp=new z;class t_ extends gf{constructor(){super(new xs(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Y(4,2),this._viewportCount=6,this._viewports=[new vt(2,1,1,1),new vt(0,1,1,1),new vt(3,1,1,1),new vt(1,1,1,1),new vt(3,0,1,1),new vt(1,0,1,1)],this._cubeDirections=[new z(1,0,0),new z(-1,0,0),new z(0,0,1),new z(0,0,-1),new z(0,1,0),new z(0,-1,0)],this._cubeUps=[new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,0,1),new z(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,o=e.distance||i.far;o!==i.far&&(i.far=o,i.updateProjectionMatrix()),_o.setFromMatrixPosition(e.matrixWorld),i.position.copy(_o),mp.copy(i.position),mp.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(mp),i.updateMatrixWorld(),r.makeTranslation(-_o.x,-_o.y,-_o.z),Iv.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Iv)}}class s_ extends Un{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new t_}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Bb extends Hp{constructor(e=-1,t=1,i=1,r=-1,o=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=o,this.far=l,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,o,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let o=i-e,l=i+e,h=r+t,d=r-t;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=p*this.view.offsetX,l=o+p*this.view.width,h-=m*this.view.offsetY,d=h-m*this.view.height}this.projectionMatrix.makeOrthographic(o,l,h,d,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class i_ extends gf{constructor(){super(new Bb(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class n_ extends Un{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Oe.DEFAULT_UP),this.updateMatrix(),this.target=new Oe,this.shadow=new i_}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class r_ extends Un{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class a_ extends Un{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class o_{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new z)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,o=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.282095),t.addScaledVector(l[1],.488603*r),t.addScaledVector(l[2],.488603*o),t.addScaledVector(l[3],.488603*i),t.addScaledVector(l[4],1.092548*(i*r)),t.addScaledVector(l[5],1.092548*(r*o)),t.addScaledVector(l[6],.315392*(3*o*o-1)),t.addScaledVector(l[7],1.092548*(i*o)),t.addScaledVector(l[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,o=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.886227),t.addScaledVector(l[1],2*.511664*r),t.addScaledVector(l[2],2*.511664*o),t.addScaledVector(l[3],2*.511664*i),t.addScaledVector(l[4],2*.429043*i*r),t.addScaledVector(l[5],2*.429043*r*o),t.addScaledVector(l[6],.743125*o*o-.247708),t.addScaledVector(l[7],2*.429043*i*o),t.addScaledVector(l[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,o=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*o,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*i*o,t[8]=.546274*(i*i-r*r)}}class l_ extends Un{constructor(e=new o_,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class yf extends us{constructor(e){super(e),this.textures={}}load(e,t,i,r){const o=this,l=new en(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(h){try{t(o.parse(JSON.parse(h)))}catch(d){r?r(d):console.error(d),o.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(o){return t[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),t[o]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new be().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const l=e.uniforms[o];switch(r.uniforms[o]={},l.type){case"t":r.uniforms[o].value=i(l.value);break;case"c":r.uniforms[o].value=new be().setHex(l.value);break;case"v2":r.uniforms[o].value=new Y().fromArray(l.value);break;case"v3":r.uniforms[o].value=new z().fromArray(l.value);break;case"v4":r.uniforms[o].value=new vt().fromArray(l.value);break;case"m3":r.uniforms[o].value=new Hs().fromArray(l.value);break;case"m4":r.uniforms[o].value=new Se().fromArray(l.value);break;default:r.uniforms[o].value=l.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)r.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),r.normalScale=new Y().fromArray(o)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Y().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return yf.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:I2,SpriteMaterial:gb,RawShaderMaterial:R2,ShaderMaterial:Wp,PointsMaterial:bb,MeshPhysicalMaterial:B2,MeshStandardMaterial:zb,MeshPhongMaterial:L2,MeshToonMaterial:O2,MeshNormalMaterial:D2,MeshLambertMaterial:j2,MeshDepthMaterial:F2,MeshDistanceMaterial:U2,MeshBasicMaterial:la,MeshMatcapMaterial:V2,LineDashedMaterial:W2,LineBasicMaterial:Gt,Material:Dt};return new t[e]}}class Rv{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class u_ extends Te{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class c_ extends us{constructor(e){super(e)}load(e,t,i,r){const o=this,l=new en(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(h){try{t(o.parse(JSON.parse(h)))}catch(d){r?r(d):console.error(d),o.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(v,b){if(t[b]!==void 0)return t[b];const x=v.interleavedBuffers[b],S=o(v,x.buffer),_=Zr(x.type,S),M=new Xp(_,x.stride);return M.uuid=x.uuid,t[b]=M,M}function o(v,b){if(i[b]!==void 0)return i[b];const x=v.arrayBuffers[b],S=new Uint32Array(x).buffer;return i[b]=S,S}const l=e.isInstancedBufferGeometry?new u_:new Te,h=e.data.index;if(h!==void 0){const v=Zr(h.type,h.array);l.setIndex(new Qe(v,1))}const d=e.data.attributes;for(const v in d){const b=d[v];let x;if(b.isInterleavedBufferAttribute){const S=r(e.data,b.data);x=new Kr(S,b.itemSize,b.offset,b.normalized)}else{const S=Zr(b.type,b.array),_=b.isInstancedBufferAttribute?Oo:Qe;x=new _(S,b.itemSize,b.normalized)}b.name!==void 0&&(x.name=b.name),b.usage!==void 0&&x.setUsage(b.usage),l.setAttribute(v,x)}const p=e.data.morphAttributes;if(p)for(const v in p){const b=p[v],x=[];for(let S=0,_=b.length;S<_;S++){const M=b[S];let k;if(M.isInterleavedBufferAttribute){const T=r(e.data,M.data);k=new Kr(T,M.itemSize,M.offset,M.normalized)}else{const T=Zr(M.type,M.array);k=new Qe(T,M.itemSize,M.normalized)}M.name!==void 0&&(k.name=M.name),x.push(k)}l.morphAttributes[v]=x}e.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const m=e.data.groups||e.data.drawcalls||e.data.offsets;if(m!==void 0)for(let v=0,b=m.length;v!==b;++v){const x=m[v];l.addGroup(x.start,x.count,x.materialIndex)}const y=e.data.boundingSphere;if(y!==void 0){const v=new z;y.center!==void 0&&v.fromArray(y.center),l.boundingSphere=new Et(v,y.radius)}return e.name&&(l.name=e.name),e.userData&&(l.userData=e.userData),l}}class VC extends us{constructor(e){super(e)}load(e,t,i,r){const o=this,l=this.path===""?Rv.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||l;const h=new en(this.manager);h.setPath(this.path),h.setRequestHeader(this.requestHeader),h.setWithCredentials(this.withCredentials),h.load(e,function(d){let p=null;try{p=JSON.parse(d)}catch(y){r!==void 0&&r(y),console.error("THREE:ObjectLoader: Can't parse "+e+".",y.message);return}const m=p.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(p,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?Rv.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const o=new en(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const l=await o.loadAsync(e,t),h=JSON.parse(l),d=h.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(h)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,r),l=this.parseImages(e.images,function(){t!==void 0&&t(p)}),h=this.parseTextures(e.textures,l),d=this.parseMaterials(e.materials,h),p=this.parseObject(e.object,o,d,h,i),m=this.parseSkeletons(e.skeletons,p);if(this.bindSkeletons(p,m),this.bindLightTargets(p),t!==void 0){let y=!1;for(const v in l)if(l[v].data instanceof HTMLImageElement){y=!0;break}y===!1&&t(p)}return p}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),o=await this.parseImagesAsync(e.images),l=this.parseTextures(e.textures,o),h=this.parseMaterials(e.materials,l),d=this.parseObject(e.object,r,h,l,t),p=this.parseSkeletons(e.skeletons,d);return this.bindSkeletons(d,p),this.bindLightTargets(d),d}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const o=new Jr().fromJSON(e[i]);t[o.uuid]=o}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(o){o.isBone&&(r[o.uuid]=o)}),e!==void 0)for(let o=0,l=e.length;o<l;o++){const h=new Zp().fromJSON(e[o],r);i[h.uuid]=h}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new c_;for(let o=0,l=e.length;o<l;o++){let h;const d=e[o];switch(d.type){case"BufferGeometry":case"InstancedBufferGeometry":h=r.parse(d);break;default:d.type in Ev?h=Ev[d.type].fromJSON(d,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${d.type}"`)}h.uuid=d.uuid,d.name!==void 0&&(h.name=d.name),d.userData!==void 0&&(h.userData=d.userData),i[d.uuid]=h}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const o=new yf;o.setTextures(t);for(let l=0,h=e.length;l<h;l++){const d=e[l];i[d.uuid]===void 0&&(i[d.uuid]=o.parse(d)),r[d.uuid]=i[d.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],o=lc.parse(r);t[o.uuid]=o}return t}parseImages(e,t){const i=this,r={};let o;function l(d){return i.manager.itemStart(d),o.load(d,function(){i.manager.itemEnd(d)},void 0,function(){i.manager.itemError(d),i.manager.itemEnd(d)})}function h(d){if(typeof d=="string"){const p=d,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:i.resourcePath+p;return l(m)}else return d.data?{data:Zr(d.type,d.data),width:d.width,height:d.height}:null}if(e!==void 0&&e.length>0){const d=new Rb(t);o=new uc(d),o.setCrossOrigin(this.crossOrigin);for(let p=0,m=e.length;p<m;p++){const y=e[p],v=y.url;if(Array.isArray(v)){const b=[];for(let x=0,S=v.length;x<S;x++){const _=v[x],M=h(_);M!==null&&(M instanceof HTMLImageElement?b.push(M):b.push(new yi(M.data,M.width,M.height)))}r[y.uuid]=new Rn(b)}else{const b=h(y.url);r[y.uuid]=new Rn(b)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function o(l){if(typeof l=="string"){const h=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:t.resourcePath+h;return await r.loadAsync(d)}else return l.data?{data:Zr(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){r=new uc(this.manager),r.setCrossOrigin(this.crossOrigin);for(let l=0,h=e.length;l<h;l++){const d=e[l],p=d.url;if(Array.isArray(p)){const m=[];for(let y=0,v=p.length;y<v;y++){const b=p[y],x=await o(b);x!==null&&(x instanceof HTMLImageElement?m.push(x):m.push(new yi(x.data,x.width,x.height)))}i[d.uuid]=new Rn(m)}else{const m=await o(d.url);i[d.uuid]=new Rn(m)}}}return i}parseTextures(e,t){function i(o,l){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),l[o])}const r={};if(e!==void 0)for(let o=0,l=e.length;o<l;o++){const h=e[o];h.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',h.uuid),t[h.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",h.image);const d=t[h.image],p=d.data;let m;Array.isArray(p)?(m=new qp,p.length===6&&(m.needsUpdate=!0)):(p&&p.data?m=new yi:m=new dt,p&&(m.needsUpdate=!0)),m.source=d,m.uuid=h.uuid,h.name!==void 0&&(m.name=h.name),h.mapping!==void 0&&(m.mapping=i(h.mapping,h_)),h.channel!==void 0&&(m.channel=h.channel),h.offset!==void 0&&m.offset.fromArray(h.offset),h.repeat!==void 0&&m.repeat.fromArray(h.repeat),h.center!==void 0&&m.center.fromArray(h.center),h.rotation!==void 0&&(m.rotation=h.rotation),h.wrap!==void 0&&(m.wrapS=i(h.wrap[0],Bv),m.wrapT=i(h.wrap[1],Bv)),h.format!==void 0&&(m.format=h.format),h.internalFormat!==void 0&&(m.internalFormat=h.internalFormat),h.type!==void 0&&(m.type=h.type),h.colorSpace!==void 0&&(m.colorSpace=h.colorSpace),h.minFilter!==void 0&&(m.minFilter=i(h.minFilter,Lv)),h.magFilter!==void 0&&(m.magFilter=i(h.magFilter,Lv)),h.anisotropy!==void 0&&(m.anisotropy=h.anisotropy),h.flipY!==void 0&&(m.flipY=h.flipY),h.generateMipmaps!==void 0&&(m.generateMipmaps=h.generateMipmaps),h.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=h.premultiplyAlpha),h.unpackAlignment!==void 0&&(m.unpackAlignment=h.unpackAlignment),h.compareFunction!==void 0&&(m.compareFunction=h.compareFunction),h.userData!==void 0&&(m.userData=h.userData),r[h.uuid]=m}return r}parseObject(e,t,i,r,o){let l;function h(v){return t[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",v),t[v]}function d(v){if(v!==void 0){if(Array.isArray(v)){const b=[];for(let x=0,S=v.length;x<S;x++){const _=v[x];i[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),b.push(i[_])}return b}return i[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),i[v]}}function p(v){return r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",v),r[v]}let m,y;switch(e.type){case"Scene":l=new EM,e.background!==void 0&&(Number.isInteger(e.background)?l.background=new be(e.background):l.background=p(e.background)),e.environment!==void 0&&(l.environment=p(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?l.fog=new Gp(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(l.fog=new $p(e.fog.color,e.fog.density)),e.fog.name!==""&&(l.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(l.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(l.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&l.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(l.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&l.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":l=new xs(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(l.focus=e.focus),e.zoom!==void 0&&(l.zoom=e.zoom),e.filmGauge!==void 0&&(l.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(l.filmOffset=e.filmOffset),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"OrthographicCamera":l=new Bb(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(l.zoom=e.zoom),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"AmbientLight":l=new r_(e.color,e.intensity);break;case"DirectionalLight":l=new n_(e.color,e.intensity),l.target=e.target||"";break;case"PointLight":l=new s_(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":l=new a_(e.color,e.intensity,e.width,e.height);break;case"SpotLight":l=new e_(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),l.target=e.target||"";break;case"HemisphereLight":l=new Q2(e.color,e.groundColor,e.intensity);break;case"LightProbe":l=new l_().fromJSON(e);break;case"SkinnedMesh":m=h(e.geometry),y=d(e.material),l=new RM(m,y),e.bindMode!==void 0&&(l.bindMode=e.bindMode),e.bindMatrix!==void 0&&l.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(l.skeleton=e.skeleton);break;case"Mesh":m=h(e.geometry),y=d(e.material),l=new Ps(m,y);break;case"InstancedMesh":m=h(e.geometry),y=d(e.material);const v=e.count,b=e.instanceMatrix,x=e.instanceColor;l=new OM(m,y,v),l.instanceMatrix=new Oo(new Float32Array(b.array),16),x!==void 0&&(l.instanceColor=new Oo(new Float32Array(x.array),x.itemSize));break;case"BatchedMesh":m=h(e.geometry),y=d(e.material),l=new GM(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,y),l.geometry=m,l.perObjectFrustumCulled=e.perObjectFrustumCulled,l.sortObjects=e.sortObjects,l._drawRanges=e.drawRanges,l._reservedRanges=e.reservedRanges,l._geometryInfo=e.geometryInfo.map(S=>{let _=null,M=null;return S.boundingBox!==void 0&&(_=new Ot,_.min.fromArray(S.boundingBox.min),_.max.fromArray(S.boundingBox.max)),S.boundingSphere!==void 0&&(M=new Et,M.radius=S.boundingSphere.radius,M.center.fromArray(S.boundingSphere.center)),{...S,boundingBox:_,boundingSphere:M}}),l._instanceInfo=e.instanceInfo,l._availableInstanceIds=e._availableInstanceIds,l._availableGeometryIds=e._availableGeometryIds,l._nextIndexStart=e.nextIndexStart,l._nextVertexStart=e.nextVertexStart,l._geometryCount=e.geometryCount,l._maxInstanceCount=e.maxInstanceCount,l._maxVertexCount=e.maxVertexCount,l._maxIndexCount=e.maxIndexCount,l._geometryInitialized=e.geometryInitialized,l._matricesTexture=p(e.matricesTexture.uuid),l._indirectTexture=p(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(l._colorsTexture=p(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(l.boundingSphere=new Et,l.boundingSphere.center.fromArray(e.boundingSphere.center),l.boundingSphere.radius=e.boundingSphere.radius),e.boundingBox!==void 0&&(l.boundingBox=new Ot,l.boundingBox.min.fromArray(e.boundingBox.min),l.boundingBox.max.fromArray(e.boundingBox.max));break;case"LOD":l=new NM;break;case"Line":l=new On(h(e.geometry),d(e.material));break;case"LineLoop":l=new XM(h(e.geometry),d(e.material));break;case"LineSegments":l=new xi(h(e.geometry),d(e.material));break;case"PointCloud":case"Points":l=new ZM(h(e.geometry),d(e.material));break;case"Sprite":l=new PM(d(e.material));break;case"Group":l=new zo;break;case"Bone":l=new vb;break;default:l=new Oe}if(l.uuid=e.uuid,e.name!==void 0&&(l.name=e.name),e.matrix!==void 0?(l.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(l.matrixAutoUpdate=e.matrixAutoUpdate),l.matrixAutoUpdate&&l.matrix.decompose(l.position,l.quaternion,l.scale)):(e.position!==void 0&&l.position.fromArray(e.position),e.rotation!==void 0&&l.rotation.fromArray(e.rotation),e.quaternion!==void 0&&l.quaternion.fromArray(e.quaternion),e.scale!==void 0&&l.scale.fromArray(e.scale)),e.up!==void 0&&l.up.fromArray(e.up),e.castShadow!==void 0&&(l.castShadow=e.castShadow),e.receiveShadow!==void 0&&(l.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(l.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(l.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(l.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(l.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&l.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(l.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(l.visible=e.visible),e.frustumCulled!==void 0&&(l.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(l.renderOrder=e.renderOrder),e.userData!==void 0&&(l.userData=e.userData),e.layers!==void 0&&(l.layers.mask=e.layers),e.children!==void 0){const v=e.children;for(let b=0;b<v.length;b++)l.add(this.parseObject(v[b],t,i,r,o))}if(e.animations!==void 0){const v=e.animations;for(let b=0;b<v.length;b++){const x=v[b];l.animations.push(o[x])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(l.autoUpdate=e.autoUpdate);const v=e.levels;for(let b=0;b<v.length;b++){const x=v[b],S=l.getObjectByProperty("uuid",x.object);S!==void 0&&l.addLevel(S,x.distance,x.hysteresis)}}return l}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new Oe}})}}const h_={UVMapping:Bp,CubeReflectionMapping:Lp,CubeRefractionMapping:jw,EquirectangularReflectionMapping:Fw,EquirectangularRefractionMapping:Uw,CubeUVReflectionMapping:Vw},Bv={RepeatWrapping:Sp,ClampToEdgeWrapping:js,MirroredRepeatWrapping:Mp},Lv={NearestFilter:Es,NearestMipmapNearestFilter:Ww,NearestMipmapLinearFilter:Hw,LinearFilter:ws,LinearMipmapNearestFilter:qw,LinearMipmapLinearFilter:hc};class WC extends us{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,l=Ki.get(e);if(l!==void 0){if(o.manager.itemStart(e),l.then){l.then(p=>{t&&t(p),o.manager.itemEnd(e)}).catch(p=>{r&&r(p)});return}return setTimeout(function(){t&&t(l),o.manager.itemEnd(e)},0),l}const h={};h.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",h.headers=this.requestHeader;const d=fetch(e,h).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(p){return Ki.add(e,p),t&&t(p),o.manager.itemEnd(e),p}).catch(function(p){r&&r(p),Ki.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});Ki.add(e,d),o.manager.itemStart(e)}}let Vu;class Lb{static getContext(){return Vu===void 0&&(Vu=new(window.AudioContext||window.webkitAudioContext)),Vu}static setContext(e){Vu=e}}class HC extends us{constructor(e){super(e)}load(e,t,i,r){const o=this,l=new en(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(d){try{const p=d.slice(0);Lb.getContext().decodeAudioData(p,function(m){t(m)}).catch(h)}catch(p){h(p)}},i,r);function h(d){r?r(d):console.error(d),o.manager.itemError(e)}}}const Ov=new Se,Dv=new Se,Cn=new Se;class qC{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new xs,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new xs,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Cn.copy(e.projectionMatrix);const i=t.eyeSep/2,r=i*t.near/t.focus,o=t.near*Math.tan(Ln*t.fov*.5)/t.zoom;let l,h;Dv.elements[12]=-i,Ov.elements[12]=i,l=-o*t.aspect+r,h=o*t.aspect+r,Cn.elements[0]=2*t.near/(h-l),Cn.elements[8]=(h+l)/(h-l),this.cameraL.projectionMatrix.copy(Cn),l=-o*t.aspect-r,h=o*t.aspect-r,Cn.elements[0]=2*t.near/(h-l),Cn.elements[8]=(h+l)/(h-l),this.cameraR.projectionMatrix.copy(Cn)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Dv),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Ov)}}class $C extends xs{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class d_{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=jv(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=jv();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function jv(){return performance.now()}const zn=new z,Fv=new ls,p_=new z,En=new z;class GC extends Oe{constructor(){super(),this.type="AudioListener",this.context=Lb.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new d_}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(zn,Fv,p_),En.set(0,0,-1).applyQuaternion(Fv),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(zn.x,r),t.positionY.linearRampToValueAtTime(zn.y,r),t.positionZ.linearRampToValueAtTime(zn.z,r),t.forwardX.linearRampToValueAtTime(En.x,r),t.forwardY.linearRampToValueAtTime(En.y,r),t.forwardZ.linearRampToValueAtTime(En.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(zn.x,zn.y,zn.z),t.setOrientation(En.x,En.y,En.z,i.x,i.y,i.z)}}class f_ extends Oe{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Pn=new z,Uv=new ls,m_=new z,Nn=new z;class XC extends f_{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Pn,Uv,m_),Nn.set(0,0,1).applyQuaternion(Uv);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Pn.x,i),t.positionY.linearRampToValueAtTime(Pn.y,i),t.positionZ.linearRampToValueAtTime(Pn.z,i),t.orientationX.linearRampToValueAtTime(Nn.x,i),t.orientationY.linearRampToValueAtTime(Nn.y,i),t.orientationZ.linearRampToValueAtTime(Nn.z,i)}else t.setPosition(Pn.x,Pn.y,Pn.z),t.setOrientation(Nn.x,Nn.y,Nn.z)}}class ZC{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class g_{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,o,l;switch(t){case"quaternion":r=this._slerp,o=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,o=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,o=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=o,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,o=e*r+r;let l=this.cumulativeWeight;if(l===0){for(let h=0;h!==r;++h)i[o+h]=i[h];l=t}else{l+=t;const h=t/l;this._mixBufferRegion(i,o,0,h,r)}this.cumulativeWeight=l}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,o=this.cumulativeWeight,l=this.cumulativeWeightAdditive,h=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const d=t*this._origIndex;this._mixBufferRegion(i,r,d,1-o,t)}l>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let d=t,p=t+t;d!==p;++d)if(i[d]!==i[d+t]){h.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let o=i,l=r;o!==l;++o)t[o]=t[r+o%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,o){if(r>=.5)for(let l=0;l!==o;++l)e[t+l]=e[i+l]}_slerp(e,t,i,r){ls.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,o){const l=this._workIndex*o;ls.multiplyQuaternionsFlat(e,l,e,t,e,i),ls.slerpFlat(e,t,e,t,e,l,r)}_lerp(e,t,i,r,o){const l=1-r;for(let h=0;h!==o;++h){const d=t+h;e[d]=e[d]*l+e[i+h]*r}}_lerpAdditive(e,t,i,r,o){for(let l=0;l!==o;++l){const h=t+l;e[h]=e[h]+e[i+l]*r}}}const vf="\\[\\]\\.:\\/",y_=new RegExp("["+vf+"]","g"),bf="[^"+vf+"]",v_="[^"+vf.replace("\\.","")+"]",b_=/((?:WC+[\/:])*)/.source.replace("WC",bf),x_=/(WCOD+)?/.source.replace("WCOD",v_),w_=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",bf),S_=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",bf),M_=new RegExp("^"+b_+x_+w_+S_+"$"),__=["material","materials","bones","map"];class A_{constructor(e,t,i){const r=i||Le.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,o=i.length;r!==o;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Le{constructor(e,t,i){this.path=t,this.parsedPath=i||Le.parseTrackName(t),this.node=Le.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Le.Composite(e,t,i):new Le(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(y_,"")}static parseTrackName(e){const t=M_.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const o=i.nodeName.substring(r+1);__.indexOf(o)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=o)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(o){for(let l=0;l<o.length;l++){const h=o[l];if(h.name===t||h.uuid===t)return h;const d=i(h.children);if(d)return d}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let o=t.propertyIndex;if(e||(e=Le.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let p=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===p){p=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(p!==void 0){if(e[p]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[p]}}const l=e[r];if(l===void 0){const p=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+p+"."+r+" but it wasn't found.",e);return}let h=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?h=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(h=this.Versioning.MatrixWorldNeedsUpdate);let d=this.BindingType.Direct;if(o!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}d=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=o}else l.fromArray!==void 0&&l.toArray!==void 0?(d=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(d=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=r;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][h]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Le.Composite=A_;Le.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Le.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Le.prototype.GetterByBindingType=[Le.prototype._getValue_direct,Le.prototype._getValue_array,Le.prototype._getValue_arrayElement,Le.prototype._getValue_toArray];Le.prototype.SetterByBindingTypeAndVersioning=[[Le.prototype._setValue_direct,Le.prototype._setValue_direct_setNeedsUpdate,Le.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Le.prototype._setValue_array,Le.prototype._setValue_array_setNeedsUpdate,Le.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Le.prototype._setValue_arrayElement,Le.prototype._setValue_arrayElement_setNeedsUpdate,Le.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Le.prototype._setValue_fromArray,Le.prototype._setValue_fromArray_setNeedsUpdate,Le.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class YC{constructor(){this.isAnimationObjectGroup=!0,this.uuid=os(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,o=this._bindings,l=o.length;let h,d=e.length,p=this.nCachedObjects_;for(let m=0,y=arguments.length;m!==y;++m){const v=arguments[m],b=v.uuid;let x=t[b];if(x===void 0){x=d++,t[b]=x,e.push(v);for(let S=0,_=l;S!==_;++S)o[S].push(new Le(v,i[S],r[S]))}else if(x<p){h=e[x];const S=--p,_=e[S];t[_.uuid]=x,e[x]=_,t[b]=S,e[S]=v;for(let M=0,k=l;M!==k;++M){const T=o[M],C=T[S];let I=T[x];T[x]=C,I===void 0&&(I=new Le(v,i[M],r[M])),T[S]=I}}else e[x]!==h&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let o=this.nCachedObjects_;for(let l=0,h=arguments.length;l!==h;++l){const d=arguments[l],p=d.uuid,m=t[p];if(m!==void 0&&m>=o){const y=o++,v=e[y];t[v.uuid]=m,e[m]=v,t[p]=y,e[y]=d;for(let b=0,x=r;b!==x;++b){const S=i[b],_=S[y],M=S[m];S[m]=_,S[y]=M}}}this.nCachedObjects_=o}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let o=this.nCachedObjects_,l=e.length;for(let h=0,d=arguments.length;h!==d;++h){const p=arguments[h],m=p.uuid,y=t[m];if(y!==void 0)if(delete t[m],y<o){const v=--o,b=e[v],x=--l,S=e[x];t[b.uuid]=y,e[y]=b,t[S.uuid]=v,e[v]=S,e.pop();for(let _=0,M=r;_!==M;++_){const k=i[_],T=k[v],C=k[x];k[y]=T,k[v]=C,k.pop()}}else{const v=--l,b=e[v];v>0&&(t[b.uuid]=y),e[y]=b,e.pop();for(let x=0,S=r;x!==S;++x){const _=i[x];_[y]=_[v],_.pop()}}}this.nCachedObjects_=o}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const o=this._bindings;if(r!==void 0)return o[r];const l=this._paths,h=this._parsedPaths,d=this._objects,p=d.length,m=this.nCachedObjects_,y=new Array(p);r=o.length,i[e]=r,l.push(e),h.push(t),o.push(y);for(let v=m,b=d.length;v!==b;++v){const x=d[v];y[v]=new Le(x,e,t)}return y}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,o=this._parsedPaths,l=this._bindings,h=l.length-1,d=l[h],p=e[h];t[p]=i,l[i]=d,l.pop(),o[i]=o[h],o.pop(),r[i]=r[h],r.pop()}}}class k_{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const o=t.tracks,l=o.length,h=new Array(l),d={endingStart:Gr,endingEnd:Gr};for(let p=0;p!==l;++p){const m=o[p].createInterpolant(null);h[p]=m,m.settings=d}this._interpolantSettings=d,this._interpolants=h,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=jS,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const r=this._clip.duration,o=e._clip.duration,l=o/r,h=r/o;e.warp(1,l,t),this.warp(h,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,o=r.time,l=this.timeScale;let h=this._timeScaleInterpolant;h===null&&(h=r._lendControlInterpolant(),this._timeScaleInterpolant=h);const d=h.parameterPositions,p=h.sampleValues;return d[0]=o,d[1]=o+i,p[0]=e/l,p[1]=t/l,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const d=(e-o)*i;d<0||i===0?t=0:(this._startTime=null,t=i*d)}t*=this._updateTimeScale(e);const l=this._updateTime(t),h=this._updateWeight(e);if(h>0){const d=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case cb:for(let m=0,y=d.length;m!==y;++m)d[m].evaluate(l),p[m].accumulateAdditive(h);break;case jp:default:for(let m=0,y=d.length;m!==y;++m)d[m].evaluate(l),p[m].accumulate(r,h)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,o=this._loopCount;const l=i===FS;if(e===0)return o===-1?r:l&&(o&1)===1?t-r:r;if(i===DS){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),r>=t||r<0){const h=Math.floor(r/t);r-=t*h,o+=Math.abs(h);const d=this.repetitions-o;if(d<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(d===1){const p=e<0;this._setEndings(p,!p,l)}else this._setEndings(!1,!1,l);this._loopCount=o,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:h})}}else this.time=r;if(l&&(o&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Xr,r.endingEnd=Xr):(e?r.endingStart=this.zeroSlopeAtStart?Xr:Gr:r.endingStart=Ku,t?r.endingEnd=this.zeroSlopeAtEnd?Xr:Gr:r.endingEnd=Ku)}_scheduleFading(e,t,i){const r=this._mixer,o=r.time;let l=this._weightInterpolant;l===null&&(l=r._lendControlInterpolant(),this._weightInterpolant=l);const h=l.parameterPositions,d=l.sampleValues;return h[0]=o,d[0]=t,h[1]=o+e,d[1]=i,this}}const T_=new Float32Array(1);class JC extends tn{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,o=r.length,l=e._propertyBindings,h=e._interpolants,d=i.uuid,p=this._bindingsByRootAndName;let m=p[d];m===void 0&&(m={},p[d]=m);for(let y=0;y!==o;++y){const v=r[y],b=v.name;let x=m[b];if(x!==void 0)++x.referenceCount,l[y]=x;else{if(x=l[y],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,d,b));continue}const S=t&&t._propertyBindings[y].binding.parsedPath;x=new g_(Le.create(i,b,S),v.ValueTypeName,v.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,d,b),l[y]=x}h[y].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,o=this._actionsByClip[r];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const o=t[i];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const o=t[i];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,o=this._actionsByClip;let l=o[t];if(l===void 0)l={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=l;else{const h=l.knownActions;e._byClipCacheIndex=h.length,h.push(e)}e._cacheIndex=r.length,r.push(e),l.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,l=this._actionsByClip,h=l[o],d=h.knownActions,p=d[d.length-1],m=e._byClipCacheIndex;p._byClipCacheIndex=m,d[m]=p,d.pop(),e._byClipCacheIndex=null;const y=h.actionByRoot,v=(e._localRoot||this._root).uuid;delete y[v],d.length===0&&delete l[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const o=t[i];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=i,t[i]=o}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=i,t[i]=o}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,o=this._bindings;let l=r[t];l===void 0&&(l={},r[t]=l),l[i]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,o=i.path,l=this._bindingsByRootAndName,h=l[r],d=t[t.length-1],p=e._cacheIndex;d._cacheIndex=p,t[p]=d,t.pop(),delete h[o],Object.keys(h).length===0&&delete l[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=i,t[i]=o}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=i,t[i]=o}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new Nb(new Float32Array(2),new Float32Array(2),1,T_),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,o=t[r];e.__cacheIndex=r,t[r]=e,o.__cacheIndex=i,t[i]=o}clipAction(e,t,i){const r=t||this._root,o=r.uuid;let l=typeof e=="string"?lc.findByName(r,e):e;const h=l!==null?l.uuid:e,d=this._actionsByClip[h];let p=null;if(i===void 0&&(l!==null?i=l.blendMode:i=jp),d!==void 0){const y=d.actionByRoot[o];if(y!==void 0&&y.blendMode===i)return y;p=d.knownActions[0],l===null&&(l=p._clip)}if(l===null)return null;const m=new k_(this,l,t,i);return this._bindAction(m,p),this._addInactiveAction(m,h,o),m}existingAction(e,t){const i=t||this._root,r=i.uuid,o=typeof e=="string"?lc.findByName(i,e):e,l=o?o.uuid:e,h=this._actionsByClip[l];return h!==void 0&&h.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,o=Math.sign(e),l=this._accuIndex^=1;for(let p=0;p!==i;++p)t[p]._update(r,e,o,l);const h=this._bindings,d=this._nActiveBindings;for(let p=0;p!==d;++p)h[p].apply(l);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,o=r[i];if(o!==void 0){const l=o.knownActions;for(let h=0,d=l.length;h!==d;++h){const p=l[h];this._deactivateAction(p);const m=p._cacheIndex,y=t[t.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,y._cacheIndex=m,t[m]=y,t.pop(),this._removeInactiveBindingsForAction(p)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const l in i){const h=i[l].actionByRoot,d=h[t];d!==void 0&&(this._deactivateAction(d),this._removeInactiveAction(d))}const r=this._bindingsByRootAndName,o=r[t];if(o!==void 0)for(const l in o){const h=o[l];h.restoreOriginalState(),this._removeInactiveBinding(h)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class QC extends Up{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new pb(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class KC extends Up{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTargetArray=!0,this.depth=i,this.texture=new db(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Ob{constructor(e){this.value=e}clone(){return new Ob(this.value.clone===void 0?this.value:this.value.clone())}}let C_=0;class e3 extends tn{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:C_++}),this.name="",this.usage=ec,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const o=Array.isArray(t[i])?t[i]:[t[i]];for(let l=0;l<o.length;l++)this.uniforms.push(o[l].clone())}return this}clone(){return new this.constructor().copy(this)}}class t3 extends Xp{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class s3{constructor(e,t,i,r,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const Vv=new Se;class i3{constructor(e,t,i=0,r=1/0){this.ray=new Vo(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new fb,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return Vv.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Vv),this}intersectObject(e,t=!0,i=[]){return Ep(e,this,i,t),i.sort(Wv),i}intersectObjects(e,t=!0,i=[]){for(let r=0,o=e.length;r<o;r++)Ep(e[r],this,i,t);return i.sort(Wv),i}}function Wv(c,e){return c.distance-e.distance}function Ep(c,e,t,i){let r=!0;if(c.layers.test(e.layers)&&c.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const o=c.children;for(let l=0,h=o.length;l<h;l++)Ep(o[l],e,t,!0)}}class n3{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=ve(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(ve(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class r3{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class Db{constructor(e,t,i,r){Db.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const o=this.elements;return o[0]=e,o[2]=t,o[1]=i,o[3]=r,this}}const Hv=new Y;class a3{constructor(e=new Y(1/0,1/0),t=new Y(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Hv.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Hv).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const qv=new z,Wu=new z;class o3{constructor(e=new z,t=new z){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){qv.subVectors(e,this.start),Wu.subVectors(this.end,this.start);const i=Wu.dot(Wu);let r=Wu.dot(qv)/i;return t&&(r=ve(r,0,1)),r}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const $v=new z;class l3 extends Oe{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Te,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,h=1,d=32;l<d;l++,h++){const p=l/d*Math.PI*2,m=h/d*Math.PI*2;r.push(Math.cos(p),Math.sin(p),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new oe(r,3));const o=new Gt({fog:!1,toneMapped:!1});this.cone=new xi(i,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),$v.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt($v),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Qi=new z,Hu=new Se,gp=new Se;class u3 extends xi{constructor(e){const t=jb(e),i=new Te,r=[],o=[],l=new be(0,0,1),h=new be(0,1,0);for(let p=0;p<t.length;p++){const m=t[p];m.parent&&m.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),o.push(l.r,l.g,l.b),o.push(h.r,h.g,h.b))}i.setAttribute("position",new oe(r,3)),i.setAttribute("color",new oe(o,3));const d=new Gt({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,d),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");gp.copy(this.root.matrixWorld).invert();for(let o=0,l=0;o<t.length;o++){const h=t[o];h.parent&&h.parent.isBone&&(Hu.multiplyMatrices(gp,h.matrixWorld),Qi.setFromMatrixPosition(Hu),r.setXYZ(l,Qi.x,Qi.y,Qi.z),Hu.multiplyMatrices(gp,h.parent.matrixWorld),Qi.setFromMatrixPosition(Hu),r.setXYZ(l+1,Qi.x,Qi.y,Qi.z),l+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function jb(c){const e=[];c.isBone===!0&&e.push(c);for(let t=0;t<c.children.length;t++)e.push(...jb(c.children[t]));return e}class c3 extends Ps{constructor(e,t,i){const r=new yc(t,4,2),o=new la({wireframe:!0,fog:!1,toneMapped:!1});super(r,o),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const z_=new z,Gv=new be,Xv=new be;class h3 extends Oe{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new gc(t);r.rotateY(Math.PI*.5),this.material=new la({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=r.getAttribute("position"),l=new Float32Array(o.count*3);r.setAttribute("color",new Qe(l,3)),this.add(new Ps(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Gv.copy(this.light.color),Xv.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const o=i<r/2?Gv:Xv;t.setXYZ(i,o.r,o.g,o.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(z_.setFromMatrixPosition(this.light.matrixWorld).negate())}}class d3 extends xi{constructor(e=10,t=10,i=4473924,r=8947848){i=new be(i),r=new be(r);const o=t/2,l=e/t,h=e/2,d=[],p=[];for(let v=0,b=0,x=-h;v<=t;v++,x+=l){d.push(-h,0,x,h,0,x),d.push(x,0,-h,x,0,h);const S=v===o?i:r;S.toArray(p,b),b+=3,S.toArray(p,b),b+=3,S.toArray(p,b),b+=3,S.toArray(p,b),b+=3}const m=new Te;m.setAttribute("position",new oe(d,3)),m.setAttribute("color",new oe(p,3));const y=new Gt({vertexColors:!0,toneMapped:!1});super(m,y),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class p3 extends xi{constructor(e=10,t=16,i=8,r=64,o=4473924,l=8947848){o=new be(o),l=new be(l);const h=[],d=[];if(t>1)for(let y=0;y<t;y++){const v=y/t*(Math.PI*2),b=Math.sin(v)*e,x=Math.cos(v)*e;h.push(0,0,0),h.push(b,0,x);const S=y&1?o:l;d.push(S.r,S.g,S.b),d.push(S.r,S.g,S.b)}for(let y=0;y<i;y++){const v=y&1?o:l,b=e-e/i*y;for(let x=0;x<r;x++){let S=x/r*(Math.PI*2),_=Math.sin(S)*b,M=Math.cos(S)*b;h.push(_,0,M),d.push(v.r,v.g,v.b),S=(x+1)/r*(Math.PI*2),_=Math.sin(S)*b,M=Math.cos(S)*b,h.push(_,0,M),d.push(v.r,v.g,v.b)}}const p=new Te;p.setAttribute("position",new oe(h,3)),p.setAttribute("color",new oe(d,3));const m=new Gt({vertexColors:!0,toneMapped:!1});super(p,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Zv=new z,qu=new z,Yv=new z;class f3 extends Oe{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Te;r.setAttribute("position",new oe([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const o=new Gt({fog:!1,toneMapped:!1});this.lightPlane=new On(r,o),this.add(this.lightPlane),r=new Te,r.setAttribute("position",new oe([0,0,0,0,0,1],3)),this.targetLine=new On(r,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Zv.setFromMatrixPosition(this.light.matrixWorld),qu.setFromMatrixPosition(this.light.target.matrixWorld),Yv.subVectors(qu,Zv),this.lightPlane.lookAt(qu),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(qu),this.targetLine.scale.z=Yv.length()}}const $u=new z,it=new Hp;class m3 extends xi{constructor(e){const t=new Te,i=new Gt({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],o=[],l={};h("n1","n2"),h("n2","n4"),h("n4","n3"),h("n3","n1"),h("f1","f2"),h("f2","f4"),h("f4","f3"),h("f3","f1"),h("n1","f1"),h("n2","f2"),h("n3","f3"),h("n4","f4"),h("p","n1"),h("p","n2"),h("p","n3"),h("p","n4"),h("u1","u2"),h("u2","u3"),h("u3","u1"),h("c","t"),h("p","c"),h("cn1","cn2"),h("cn3","cn4"),h("cf1","cf2"),h("cf3","cf4");function h(x,S){d(x),d(S)}function d(x){r.push(0,0,0),o.push(0,0,0),l[x]===void 0&&(l[x]=[]),l[x].push(r.length/3-1)}t.setAttribute("position",new oe(r,3)),t.setAttribute("color",new oe(o,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update();const p=new be(16755200),m=new be(16711680),y=new be(43775),v=new be(16777215),b=new be(3355443);this.setColors(p,m,y,v,b)}setColors(e,t,i,r,o){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,t.r,t.g,t.b),l.setXYZ(25,t.r,t.g,t.b),l.setXYZ(26,t.r,t.g,t.b),l.setXYZ(27,t.r,t.g,t.b),l.setXYZ(28,t.r,t.g,t.b),l.setXYZ(29,t.r,t.g,t.b),l.setXYZ(30,t.r,t.g,t.b),l.setXYZ(31,t.r,t.g,t.b),l.setXYZ(32,i.r,i.g,i.b),l.setXYZ(33,i.r,i.g,i.b),l.setXYZ(34,i.r,i.g,i.b),l.setXYZ(35,i.r,i.g,i.b),l.setXYZ(36,i.r,i.g,i.b),l.setXYZ(37,i.r,i.g,i.b),l.setXYZ(38,r.r,r.g,r.b),l.setXYZ(39,r.r,r.g,r.b),l.setXYZ(40,o.r,o.g,o.b),l.setXYZ(41,o.r,o.g,o.b),l.setXYZ(42,o.r,o.g,o.b),l.setXYZ(43,o.r,o.g,o.b),l.setXYZ(44,o.r,o.g,o.b),l.setXYZ(45,o.r,o.g,o.b),l.setXYZ(46,o.r,o.g,o.b),l.setXYZ(47,o.r,o.g,o.b),l.setXYZ(48,o.r,o.g,o.b),l.setXYZ(49,o.r,o.g,o.b),l.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;it.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const o=this.camera.coordinateSystem===Fs?-1:0;at("c",t,e,it,0,0,o),at("t",t,e,it,0,0,1),at("n1",t,e,it,-1,-1,o),at("n2",t,e,it,i,-1,o),at("n3",t,e,it,-1,r,o),at("n4",t,e,it,i,r,o),at("f1",t,e,it,-1,-1,1),at("f2",t,e,it,i,-1,1),at("f3",t,e,it,-1,r,1),at("f4",t,e,it,i,r,1),at("u1",t,e,it,i*.7,r*1.1,o),at("u2",t,e,it,-1*.7,r*1.1,o),at("u3",t,e,it,0,r*2,o),at("cf1",t,e,it,-1,0,1),at("cf2",t,e,it,i,0,1),at("cf3",t,e,it,0,-1,1),at("cf4",t,e,it,0,r,1),at("cn1",t,e,it,-1,0,o),at("cn2",t,e,it,i,0,o),at("cn3",t,e,it,0,-1,o),at("cn4",t,e,it,0,r,o),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function at(c,e,t,i,r,o,l){$u.set(r,o,l).unproject(i);const h=e[c];if(h!==void 0){const d=t.getAttribute("position");for(let p=0,m=h.length;p<m;p++)d.setXYZ(h[p],$u.x,$u.y,$u.z)}}const Gu=new Ot;class g3 extends xi{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),o=new Te;o.setIndex(new Qe(i,1)),o.setAttribute("position",new Qe(r,3)),super(o,new Gt({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Gu.setFromObject(this.object),Gu.isEmpty())return;const e=Gu.min,t=Gu.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class y3 extends xi{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Te;o.setIndex(new Qe(i,1)),o.setAttribute("position",new oe(r,3)),super(o,new Gt({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class v3 extends On{constructor(e,t=1,i=16776960){const r=i,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new Te;l.setAttribute("position",new oe(o,3)),l.computeBoundingSphere(),super(l,new Gt({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const h=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],d=new Te;d.setAttribute("position",new oe(h,3)),d.computeBoundingSphere(),this.add(new Ps(d,new la({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Jv=new z;let Xu,yp;class b3 extends Oe{constructor(e=new z(0,0,1),t=new z(0,0,0),i=1,r=16776960,o=i*.2,l=o*.2){super(),this.type="ArrowHelper",Xu===void 0&&(Xu=new Te,Xu.setAttribute("position",new oe([0,0,0,0,1,0],3)),yp=new mc(.5,1,5,1),yp.translate(0,-.5,0)),this.position.copy(t),this.line=new On(Xu,new Gt({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ps(yp,new la({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,o,l)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Jv.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Jv,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class x3 extends xi{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Te;r.setAttribute("position",new oe(t,3)),r.setAttribute("color",new oe(i,3));const o=new Gt({vertexColors:!0,toneMapped:!1});super(r,o),this.type="AxesHelper"}setColors(e,t,i){const r=new be,o=this.geometry.attributes.color.array;return r.set(e),r.toArray(o,0),r.toArray(o,3),r.set(t),r.toArray(o,6),r.toArray(o,9),r.set(i),r.toArray(o,12),r.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class w3{constructor(){this.type="ShapePath",this.color=new be,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new kp,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,o,l){return this.currentPath.bezierCurveTo(e,t,i,r,o,l),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(M){const k=[];for(let T=0,C=M.length;T<C;T++){const I=M[T],O=new Jr;O.curves=I.curves,k.push(O)}return k}function i(M,k){const T=k.length;let C=!1;for(let I=T-1,O=0;O<T;I=O++){let V=k[I],D=k[O],G=D.x-V.x,Z=D.y-V.y;if(Math.abs(Z)>Number.EPSILON){if(Z<0&&(V=k[O],G=-G,D=k[I],Z=-Z),M.y<V.y||M.y>D.y)continue;if(M.y===V.y){if(M.x===V.x)return!0}else{const ie=Z*(M.x-V.x)-G*(M.y-V.y);if(ie===0)return!0;if(ie<0)continue;C=!C}}else{if(M.y!==V.y)continue;if(D.x<=M.x&&M.x<=V.x||V.x<=M.x&&M.x<=D.x)return!0}}return C}const r=Us.isClockWise,o=this.subPaths;if(o.length===0)return[];let l,h,d;const p=[];if(o.length===1)return h=o[0],d=new Jr,d.curves=h.curves,p.push(d),p;let m=!r(o[0].getPoints());m=e?!m:m;const y=[],v=[];let b=[],x=0,S;v[x]=void 0,b[x]=[];for(let M=0,k=o.length;M<k;M++)h=o[M],S=h.getPoints(),l=r(S),l=e?!l:l,l?(!m&&v[x]&&x++,v[x]={s:new Jr,p:S},v[x].s.curves=h.curves,m&&x++,b[x]=[]):b[x].push({h,p:S[0]});if(!v[0])return t(o);if(v.length>1){let M=!1,k=0;for(let T=0,C=v.length;T<C;T++)y[T]=[];for(let T=0,C=v.length;T<C;T++){const I=b[T];for(let O=0;O<I.length;O++){const V=I[O];let D=!0;for(let G=0;G<v.length;G++)i(V.p,v[G].p)&&(T!==G&&k++,D?(D=!1,y[G].push(V)):M=!0);D&&y[T].push(V)}}k>0&&M===!1&&(b=y)}let _;for(let M=0,k=v.length;M<k;M++){d=v[M].s,p.push(d),_=b[M];for(let T=0,C=_.length;T<C;T++)d.holes.push(_[T].h)}return p}}class S3 extends tn{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function E_(c,e){const t=c.image&&c.image.width?c.image.width/c.image.height:1;return t>e?(c.repeat.x=1,c.repeat.y=t/e,c.offset.x=0,c.offset.y=(1-c.repeat.y)/2):(c.repeat.x=e/t,c.repeat.y=1,c.offset.x=(1-c.repeat.x)/2,c.offset.y=0),c}function P_(c,e){const t=c.image&&c.image.width?c.image.width/c.image.height:1;return t>e?(c.repeat.x=e/t,c.repeat.y=1,c.offset.x=(1-c.repeat.x)/2,c.offset.y=0):(c.repeat.x=1,c.repeat.y=t/e,c.offset.x=0,c.offset.y=(1-c.repeat.y)/2),c}function N_(c){return c.repeat.x=1,c.repeat.y=1,c.offset.x=0,c.offset.y=0,c}function I_(c,e,t,i){const r=R_(i);switch(t){case eS:return c*e;case lb:return c*e/r.components*r.byteLength;case ub:return c*e/r.components*r.byteLength;case iS:return c*e*2/r.components*r.byteLength;case nS:return c*e*2/r.components*r.byteLength;case tS:return c*e*3/r.components*r.byteLength;case Bo:return c*e*4/r.components*r.byteLength;case rS:return c*e*4/r.components*r.byteLength;case aS:case oS:return Math.floor((c+3)/4)*Math.floor((e+3)/4)*8;case lS:case uS:return Math.floor((c+3)/4)*Math.floor((e+3)/4)*16;case hS:case pS:return Math.max(c,16)*Math.max(e,8)/4;case cS:case dS:return Math.max(c,8)*Math.max(e,8)/2;case fS:case mS:return Math.floor((c+3)/4)*Math.floor((e+3)/4)*8;case gS:return Math.floor((c+3)/4)*Math.floor((e+3)/4)*16;case yS:return Math.floor((c+3)/4)*Math.floor((e+3)/4)*16;case vS:return Math.floor((c+4)/5)*Math.floor((e+3)/4)*16;case bS:return Math.floor((c+4)/5)*Math.floor((e+4)/5)*16;case xS:return Math.floor((c+5)/6)*Math.floor((e+4)/5)*16;case wS:return Math.floor((c+5)/6)*Math.floor((e+5)/6)*16;case SS:return Math.floor((c+7)/8)*Math.floor((e+4)/5)*16;case MS:return Math.floor((c+7)/8)*Math.floor((e+5)/6)*16;case _S:return Math.floor((c+7)/8)*Math.floor((e+7)/8)*16;case AS:return Math.floor((c+9)/10)*Math.floor((e+4)/5)*16;case kS:return Math.floor((c+9)/10)*Math.floor((e+5)/6)*16;case TS:return Math.floor((c+9)/10)*Math.floor((e+7)/8)*16;case CS:return Math.floor((c+9)/10)*Math.floor((e+9)/10)*16;case zS:return Math.floor((c+11)/12)*Math.floor((e+9)/10)*16;case ES:return Math.floor((c+11)/12)*Math.floor((e+11)/12)*16;case PS:case NS:case IS:return Math.ceil(c/4)*Math.ceil(e/4)*16;case RS:case BS:return Math.ceil(c/4)*Math.ceil(e/4)*8;case LS:case OS:return Math.ceil(c/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function R_(c){switch(c){case Op:case $w:return{byteLength:1,components:1};case Xw:case Gw:case Yw:return{byteLength:2,components:1};case Jw:case Qw:return{byteLength:2,components:4};case Dp:case Zw:case Qr:return{byteLength:4,components:1};case Kw:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${c}.`)}class M3{static contain(e,t){return E_(e,t)}static cover(e,t){return P_(e,t)}static fill(e){return N_(e)}static getByteLength(e,t,i,r){return I_(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:ab}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=ab);const Qv=c=>{let e;const t=new Set,i=(h,d)=>{const p=typeof h=="function"?h(e):h;if(!Object.is(p,e)){const m=e;e=d??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(y=>y(e,m))}},r=()=>e,o={setState:i,getState:r,getInitialState:()=>l,subscribe:h=>(t.add(h),()=>t.delete(h))},l=e=c(i,r,o);return o},B_=c=>c?Qv(c):Qv,L_=c=>c;function O_(c,e=L_){const t=xp.useSyncExternalStore(c.subscribe,()=>e(c.getState()),()=>e(c.getInitialState()));return xp.useDebugValue(t),t}const Kv=c=>{const e=B_(c),t=i=>O_(e,i);return Object.assign(t,e),t},D_=c=>c?Kv(c):Kv;let Ao=0;const Fb=D_(c=>(Po.onStart=(e,t,i)=>{c({active:!0,item:e,loaded:t,total:i,progress:(t-Ao)/(i-Ao)*100})},Po.onLoad=()=>{c({active:!1})},Po.onError=e=>c(t=>({errors:[...t.errors,e]})),Po.onProgress=(e,t,i)=>{t===i&&(Ao=i),c({active:!0,item:e,loaded:t,total:i,progress:(t-Ao)/(i-Ao)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));var ko={},eb;function j_(){if(eb)return ko;eb=1,Object.defineProperty(ko,"__esModule",{value:!0}),ko.parse=l,ko.serialize=p;const c=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function l(v,b){const x=new o,S=v.length;if(S<2)return x;const _=(b==null?void 0:b.decode)||m;let M=0;do{const k=v.indexOf("=",M);if(k===-1)break;const T=v.indexOf(";",M),C=T===-1?S:T;if(k>C){M=v.lastIndexOf(";",k-1)+1;continue}const I=h(v,M,k),O=d(v,k,I),V=v.slice(I,O);if(x[V]===void 0){let D=h(v,k+1,C),G=d(v,C,D);const Z=_(v.slice(D,G));x[V]=Z}M=C+1}while(M<S);return x}function h(v,b,x){do{const S=v.charCodeAt(b);if(S!==32&&S!==9)return b}while(++b<x);return x}function d(v,b,x){for(;b>x;){const S=v.charCodeAt(--b);if(S!==32&&S!==9)return b+1}return x}function p(v,b,x){const S=(x==null?void 0:x.encode)||encodeURIComponent;if(!c.test(v))throw new TypeError(`argument name is invalid: ${v}`);const _=S(b);if(!e.test(_))throw new TypeError(`argument val is invalid: ${b}`);let M=v+"="+_;if(!x)return M;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);M+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);M+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);M+="; Path="+x.path}if(x.expires){if(!y(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);M+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(M+="; HttpOnly"),x.secure&&(M+="; Secure"),x.partitioned&&(M+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return M}function m(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return r.call(v)==="[object Date]"}return ko}j_();var tb="popstate";function F_(c={}){function e(i,r){let{pathname:o,search:l,hash:h}=i.location;return Pp("",{pathname:o,search:l,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Uo(r)}return V_(e,t,null,c)}function Ke(c,e){if(c===!1||c===null||typeof c>"u")throw new Error(e)}function Ws(c,e){if(!c){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function U_(){return Math.random().toString(36).substring(2,10)}function sb(c,e){return{usr:c.state,key:c.key,idx:e}}function Pp(c,e,t=null,i){return{pathname:typeof c=="string"?c:c.pathname,search:"",hash:"",...typeof e=="string"?ha(e):e,state:t,key:e&&e.key||i||U_()}}function Uo({pathname:c="/",search:e="",hash:t=""}){return e&&e!=="?"&&(c+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(c+=t.charAt(0)==="#"?t:"#"+t),c}function ha(c){let e={};if(c){let t=c.indexOf("#");t>=0&&(e.hash=c.substring(t),c=c.substring(0,t));let i=c.indexOf("?");i>=0&&(e.search=c.substring(i),c=c.substring(0,i)),c&&(e.pathname=c)}return e}function V_(c,e,t,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,h="POP",d=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function y(){h="POP";let _=m(),M=_==null?null:_-p;p=_,d&&d({action:h,location:S.location,delta:M})}function v(_,M){h="PUSH";let k=Pp(S.location,_,M);p=m()+1;let T=sb(k,p),C=S.createHref(k);try{l.pushState(T,"",C)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;r.location.assign(C)}o&&d&&d({action:h,location:S.location,delta:1})}function b(_,M){h="REPLACE";let k=Pp(S.location,_,M);p=m();let T=sb(k,p),C=S.createHref(k);l.replaceState(T,"",C),o&&d&&d({action:h,location:S.location,delta:0})}function x(_){return W_(_)}let S={get action(){return h},get location(){return c(r,l)},listen(_){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(tb,y),d=_,()=>{r.removeEventListener(tb,y),d=null}},createHref(_){return e(r,_)},createURL:x,encodeLocation(_){let M=x(_);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:v,replace:b,go(_){return l.go(_)}};return S}function W_(c,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(t,"No window.location.(origin|href) available to create URL");let i=typeof c=="string"?c:Uo(c);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Ub(c,e,t="/"){return H_(c,e,t,!1)}function H_(c,e,t,i){let r=typeof e=="string"?ha(e):e,o=bi(r.pathname||"/",t);if(o==null)return null;let l=Vb(c);q_(l);let h=null;for(let d=0;h==null&&d<l.length;++d){let p=sA(o);h=eA(l[d],p,i)}return h}function Vb(c,e=[],t=[],i=""){let r=(o,l,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(Ke(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let p=vi([i,d.relativePath]),m=t.concat(d);o.children&&o.children.length>0&&(Ke(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Vb(o.children,e,m,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:Q_(p,o.index),routesMeta:m})};return c.forEach((o,l)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))r(o,l);else for(let d of Wb(o.path))r(o,l,d)}),e}function Wb(c){let e=c.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=Wb(i.join("/")),h=[];return h.push(...l.map(d=>d===""?o:[o,d].join("/"))),r&&h.push(...l),h.map(d=>c.startsWith("/")&&d===""?"/":d)}function q_(c){c.sort((e,t)=>e.score!==t.score?t.score-e.score:K_(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var $_=/^:[\w-]+$/,G_=3,X_=2,Z_=1,Y_=10,J_=-2,ib=c=>c==="*";function Q_(c,e){let t=c.split("/"),i=t.length;return t.some(ib)&&(i+=J_),e&&(i+=X_),t.filter(r=>!ib(r)).reduce((r,o)=>r+($_.test(o)?G_:o===""?Z_:Y_),i)}function K_(c,e){return c.length===e.length&&c.slice(0,-1).every((t,i)=>t===e[i])?c[c.length-1]-e[e.length-1]:0}function eA(c,e,t=!1){let{routesMeta:i}=c,r={},o="/",l=[];for(let h=0;h<i.length;++h){let d=i[h],p=h===i.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=cc({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),v=d.route;if(!y&&p&&t&&!i[i.length-1].route.index&&(y=cc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(r,y.params),l.push({params:r,pathname:vi([o,y.pathname]),pathnameBase:aA(vi([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=vi([o,y.pathnameBase]))}return l}function cc(c,e){typeof c=="string"&&(c={path:c,caseSensitive:!1,end:!0});let[t,i]=tA(c.path,c.caseSensitive,c.end),r=e.match(t);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((d,{paramName:p,isOptional:m},y)=>{if(p==="*"){let b=h[y]||"";l=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const v=h[y];return m&&!v?d[p]=void 0:d[p]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:c}}function tA(c,e=!1,t=!0){Ws(c==="*"||!c.endsWith("*")||c.endsWith("/*"),`Route path "${c}" will be treated as if it were "${c.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${c.replace(/\*$/,"/*")}".`);let i=[],r="^"+c.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,h)=>(i.push({paramName:l,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return c.endsWith("*")?(i.push({paramName:"*"}),r+=c==="*"||c==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":c!==""&&c!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function sA(c){try{return c.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ws(!1,`The URL path "${c}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),c}}function bi(c,e){if(e==="/")return c;if(!c.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=c.charAt(t);return i&&i!=="/"?null:c.slice(t)||"/"}function iA(c,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof c=="string"?ha(c):c;return{pathname:t?t.startsWith("/")?t:nA(t,e):e,search:oA(i),hash:lA(r)}}function nA(c,e){let t=e.replace(/\/+$/,"").split("/");return c.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function vp(c,e,t,i){return`Cannot include a '${c}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rA(c){return c.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Hb(c){let e=rA(c);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function qb(c,e,t,i=!1){let r;typeof c=="string"?r=ha(c):(r={...c},Ke(!r.pathname||!r.pathname.includes("?"),vp("?","pathname","search",r)),Ke(!r.pathname||!r.pathname.includes("#"),vp("#","pathname","hash",r)),Ke(!r.search||!r.search.includes("#"),vp("#","search","hash",r)));let o=c===""||r.pathname==="",l=o?"/":r.pathname,h;if(l==null)h=t;else{let y=e.length-1;if(!i&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),y-=1;r.pathname=v.join("/")}h=y>=0?e[y]:"/"}let d=iA(r,h),p=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}var vi=c=>c.join("/").replace(/\/\/+/g,"/"),aA=c=>c.replace(/\/+$/,"").replace(/^\/*/,"/"),oA=c=>!c||c==="?"?"":c.startsWith("?")?c:"?"+c,lA=c=>!c||c==="#"?"":c.startsWith("#")?c:"#"+c;function uA(c){return c!=null&&typeof c.status=="number"&&typeof c.statusText=="string"&&typeof c.internal=="boolean"&&"data"in c}var $b=["POST","PUT","PATCH","DELETE"];new Set($b);var cA=["GET",...$b];new Set(cA);var da=W.createContext(null);da.displayName="DataRouter";var xc=W.createContext(null);xc.displayName="DataRouterState";var Gb=W.createContext({isTransitioning:!1});Gb.displayName="ViewTransition";var hA=W.createContext(new Map);hA.displayName="Fetchers";var dA=W.createContext(null);dA.displayName="Await";var $s=W.createContext(null);$s.displayName="Navigation";var Wo=W.createContext(null);Wo.displayName="Location";var wi=W.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var xf=W.createContext(null);xf.displayName="RouteError";function pA(c,{relative:e}={}){Ke(Ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=W.useContext($s),{hash:r,pathname:o,search:l}=qo(c,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:vi([t,o])),i.createHref({pathname:h,search:l,hash:r})}function Ho(){return W.useContext(Wo)!=null}function Vn(){return Ke(Ho(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Wo).location}var Xb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zb(c){W.useContext($s).static||W.useLayoutEffect(c)}function fA(){let{isDataRoute:c}=W.useContext(wi);return c?TA():mA()}function mA(){Ke(Ho(),"useNavigate() may be used only in the context of a <Router> component.");let c=W.useContext(da),{basename:e,navigator:t}=W.useContext($s),{matches:i}=W.useContext(wi),{pathname:r}=Vn(),o=JSON.stringify(Hb(i)),l=W.useRef(!1);return Zb(()=>{l.current=!0}),W.useCallback((h,d={})=>{if(Ws(l.current,Xb),!l.current)return;if(typeof h=="number"){t.go(h);return}let p=qb(h,JSON.parse(o),r,d.relative==="path");c==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:vi([e,p.pathname])),(d.replace?t.replace:t.push)(p,d.state,d)},[e,t,o,r,c])}W.createContext(null);function qo(c,{relative:e}={}){let{matches:t}=W.useContext(wi),{pathname:i}=Vn(),r=JSON.stringify(Hb(t));return W.useMemo(()=>qb(c,JSON.parse(r),i,e==="path"),[c,r,i,e])}function gA(c,e){return Yb(c,e)}function Yb(c,e,t,i){var r;Ke(Ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=W.useContext($s),{matches:l}=W.useContext(wi),h=l[l.length-1],d=h?h.params:{},p=h?h.pathname:"/",m=h?h.pathnameBase:"/",y=h&&h.route;{let k=y&&y.path||"";Jb(p,!y||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let v=Vn(),b;if(e){let k=typeof e=="string"?ha(e):e;Ke(m==="/"||((r=k.pathname)==null?void 0:r.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${k.pathname}" was given in the \`location\` prop.`),b=k}else b=v;let x=b.pathname||"/",S=x;if(m!=="/"){let k=m.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(k.length).join("/")}let _=Ub(c,{pathname:S});Ws(y||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ws(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=wA(_&&_.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:vi([m,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:vi([m,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,t,i);return e&&M?W.createElement(Wo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},M):M}function yA(){let c=kA(),e=uA(c)?`${c.status} ${c.statusText}`:c instanceof Error?c.message:JSON.stringify(c),t=c instanceof Error?c.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",c),l=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:r},t):null,l)}var vA=W.createElement(yA,null),bA=class extends W.Component{constructor(c){super(c),this.state={location:c.location,revalidation:c.revalidation,error:c.error}}static getDerivedStateFromError(c){return{error:c}}static getDerivedStateFromProps(c,e){return e.location!==c.location||e.revalidation!=="idle"&&c.revalidation==="idle"?{error:c.error,location:c.location,revalidation:c.revalidation}:{error:c.error!==void 0?c.error:e.error,location:e.location,revalidation:c.revalidation||e.revalidation}}componentDidCatch(c,e){console.error("React Router caught the following error during render",c,e)}render(){return this.state.error!==void 0?W.createElement(wi.Provider,{value:this.props.routeContext},W.createElement(xf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xA({routeContext:c,match:e,children:t}){let i=W.useContext(da);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(wi.Provider,{value:c},t)}function wA(c,e=[],t=null,i=null){if(c==null){if(!t)return null;if(t.errors)c=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)c=t.matches;else return null}let r=c,o=t==null?void 0:t.errors;if(o!=null){let d=r.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);Ke(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,d+1))}let l=!1,h=-1;if(t)for(let d=0;d<r.length;d++){let p=r[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:m,errors:y}=t,v=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||v){l=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((d,p,m)=>{let y,v=!1,b=null,x=null;t&&(y=o&&p.route.id?o[p.route.id]:void 0,b=p.route.errorElement||vA,l&&(h<0&&m===0?(Jb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):h===m&&(v=!0,x=p.route.hydrateFallbackElement||null)));let S=e.concat(r.slice(0,m+1)),_=()=>{let M;return y?M=b:v?M=x:p.route.Component?M=W.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=d,W.createElement(xA,{match:p,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:M})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?W.createElement(bA,{location:t.location,revalidation:t.revalidation,component:b,error:y,children:_(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):_()},null)}function wf(c){return`${c} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SA(c){let e=W.useContext(da);return Ke(e,wf(c)),e}function MA(c){let e=W.useContext(xc);return Ke(e,wf(c)),e}function _A(c){let e=W.useContext(wi);return Ke(e,wf(c)),e}function Sf(c){let e=_A(c),t=e.matches[e.matches.length-1];return Ke(t.route.id,`${c} can only be used on routes that contain a unique "id"`),t.route.id}function AA(){return Sf("useRouteId")}function kA(){var c;let e=W.useContext(xf),t=MA("useRouteError"),i=Sf("useRouteError");return e!==void 0?e:(c=t.errors)==null?void 0:c[i]}function TA(){let{router:c}=SA("useNavigate"),e=Sf("useNavigate"),t=W.useRef(!1);return Zb(()=>{t.current=!0}),W.useCallback(async(i,r={})=>{Ws(t.current,Xb),t.current&&(typeof i=="number"?c.navigate(i):await c.navigate(i,{fromRouteId:e,...r}))},[c,e])}var nb={};function Jb(c,e,t){!e&&!nb[c]&&(nb[c]=!0,Ws(!1,t))}W.memo(CA);function CA({routes:c,future:e,state:t}){return Yb(c,void 0,t,e)}function In(c){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zA({basename:c="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:o=!1}){Ke(!Ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=c.replace(/^\/*/,"/"),h=W.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);typeof t=="string"&&(t=ha(t));let{pathname:d="/",search:p="",hash:m="",state:y=null,key:v="default"}=t,b=W.useMemo(()=>{let x=bi(d,l);return x==null?null:{location:{pathname:x,search:p,hash:m,state:y,key:v},navigationType:i}},[l,d,p,m,y,v,i]);return Ws(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:W.createElement($s.Provider,{value:h},W.createElement(Wo.Provider,{children:e,value:b}))}function EA({children:c,location:e}){return gA(Np(c),e)}function Np(c,e=[]){let t=[];return W.Children.forEach(c,(i,r)=>{if(!W.isValidElement(i))return;let o=[...e,r];if(i.type===W.Fragment){t.push.apply(t,Np(i.props.children,o));return}Ke(i.type===In,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Np(i.props.children,o)),t.push(l)}),t}var Yu="get",Ju="application/x-www-form-urlencoded";function wc(c){return c!=null&&typeof c.tagName=="string"}function PA(c){return wc(c)&&c.tagName.toLowerCase()==="button"}function NA(c){return wc(c)&&c.tagName.toLowerCase()==="form"}function IA(c){return wc(c)&&c.tagName.toLowerCase()==="input"}function RA(c){return!!(c.metaKey||c.altKey||c.ctrlKey||c.shiftKey)}function BA(c,e){return c.button===0&&(!e||e==="_self")&&!RA(c)}var Zu=null;function LA(){if(Zu===null)try{new FormData(document.createElement("form"),0),Zu=!1}catch{Zu=!0}return Zu}var OA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bp(c){return c!=null&&!OA.has(c)?(Ws(!1,`"${c}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ju}"`),null):c}function DA(c,e){let t,i,r,o,l;if(NA(c)){let h=c.getAttribute("action");i=h?bi(h,e):null,t=c.getAttribute("method")||Yu,r=bp(c.getAttribute("enctype"))||Ju,o=new FormData(c)}else if(PA(c)||IA(c)&&(c.type==="submit"||c.type==="image")){let h=c.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=c.getAttribute("formaction")||h.getAttribute("action");if(i=d?bi(d,e):null,t=c.getAttribute("formmethod")||h.getAttribute("method")||Yu,r=bp(c.getAttribute("formenctype"))||bp(h.getAttribute("enctype"))||Ju,o=new FormData(h,c),!LA()){let{name:p,type:m,value:y}=c;if(m==="image"){let v=p?`${p}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else p&&o.append(p,y)}}else{if(wc(c))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Yu,i=null,r=Ju,l=c}return o&&r==="text/plain"&&(l=o,o=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:o,body:l}}function Mf(c,e){if(c===!1||c===null||typeof c>"u")throw new Error(e)}async function jA(c,e){if(c.id in e)return e[c.id];try{let t=await import(c.module);return e[c.id]=t,t}catch(t){return console.error(`Error loading route module \`${c.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FA(c){return c==null?!1:c.href==null?c.rel==="preload"&&typeof c.imageSrcSet=="string"&&typeof c.imageSizes=="string":typeof c.rel=="string"&&typeof c.href=="string"}async function UA(c,e,t){let i=await Promise.all(c.map(async r=>{let o=e.routes[r.route.id];if(o){let l=await jA(o,t);return l.links?l.links():[]}return[]}));return qA(i.flat(1).filter(FA).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function rb(c,e,t,i,r,o){let l=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,h=(d,p)=>{var m;return t[p].pathname!==d.pathname||((m=t[p].route.path)==null?void 0:m.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,p)=>l(d,p)||h(d,p)):o==="data"?e.filter((d,p)=>{var m;let y=i.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(l(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(c,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function VA(c,e,{includeHydrateFallback:t}={}){return WA(c.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function WA(c){return[...new Set(c)]}function HA(c){let e={},t=Object.keys(c).sort();for(let i of t)e[i]=c[i];return e}function qA(c,e){let t=new Set;return new Set(e),c.reduce((i,r)=>{let o=JSON.stringify(HA(r));return t.has(o)||(t.add(o),i.push({key:o,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $A=new Set([100,101,204,205]);function GA(c,e){let t=typeof c=="string"?new URL(c,typeof window>"u"?"server://singlefetch/":window.location.origin):c;return t.pathname==="/"?t.pathname="_root.data":e&&bi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Qb(){let c=W.useContext(da);return Mf(c,"You must render this element inside a <DataRouterContext.Provider> element"),c}function XA(){let c=W.useContext(xc);return Mf(c,"You must render this element inside a <DataRouterStateContext.Provider> element"),c}var _f=W.createContext(void 0);_f.displayName="FrameworkContext";function Kb(){let c=W.useContext(_f);return Mf(c,"You must render this element inside a <HydratedRouter> element"),c}function ZA(c,e){let t=W.useContext(_f),[i,r]=W.useState(!1),[o,l]=W.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:m,onTouchStart:y}=e,v=W.useRef(null);W.useEffect(()=>{if(c==="render"&&l(!0),c==="viewport"){let S=M=>{M.forEach(k=>{l(k.isIntersecting)})},_=new IntersectionObserver(S,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[c]),W.useEffect(()=>{if(i){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[i]);let b=()=>{r(!0)},x=()=>{r(!1),l(!1)};return t?c!=="intent"?[o,v,{}]:[o,v,{onFocus:To(h,b),onBlur:To(d,x),onMouseEnter:To(p,b),onMouseLeave:To(m,x),onTouchStart:To(y,b)}]:[!1,v,{}]}function To(c,e){return t=>{c&&c(t),t.defaultPrevented||e(t)}}function YA({page:c,...e}){let{router:t}=Qb(),i=W.useMemo(()=>Ub(t.routes,c,t.basename),[t.routes,c,t.basename]);return i?W.createElement(QA,{page:c,matches:i,...e}):null}function JA(c){let{manifest:e,routeModules:t}=Kb(),[i,r]=W.useState([]);return W.useEffect(()=>{let o=!1;return UA(c,e,t).then(l=>{o||r(l)}),()=>{o=!0}},[c,e,t]),i}function QA({page:c,matches:e,...t}){let i=Vn(),{manifest:r,routeModules:o}=Kb(),{basename:l}=Qb(),{loaderData:h,matches:d}=XA(),p=W.useMemo(()=>rb(c,e,d,r,i,"data"),[c,e,d,r,i]),m=W.useMemo(()=>rb(c,e,d,r,i,"assets"),[c,e,d,r,i]),y=W.useMemo(()=>{if(c===i.pathname+i.search+i.hash)return[];let x=new Set,S=!1;if(e.forEach(M=>{var k;let T=r.routes[M.route.id];!T||!T.hasLoader||(!p.some(C=>C.route.id===M.route.id)&&M.route.id in h&&(k=o[M.route.id])!=null&&k.shouldRevalidate||T.hasClientLoader?S=!0:x.add(M.route.id))}),x.size===0)return[];let _=GA(c,l);return S&&x.size>0&&_.searchParams.set("_routes",e.filter(M=>x.has(M.route.id)).map(M=>M.route.id).join(",")),[_.pathname+_.search]},[l,h,i,r,p,e,c,o]),v=W.useMemo(()=>VA(m,r),[m,r]),b=JA(m);return W.createElement(W.Fragment,null,y.map(x=>W.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),v.map(x=>W.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),b.map(({key:x,link:S})=>W.createElement("link",{key:x,...S})))}function KA(...c){return e=>{c.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ex=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ex&&(window.__reactRouterVersion="7.6.1")}catch{}function ek({basename:c,children:e,window:t}){let i=W.useRef();i.current==null&&(i.current=F_({window:t,v5Compat:!0}));let r=i.current,[o,l]=W.useState({action:r.action,location:r.location}),h=W.useCallback(d=>{W.startTransition(()=>l(d))},[l]);return W.useLayoutEffect(()=>r.listen(h),[r,h]),W.createElement(zA,{basename:c,children:e,location:o.location,navigationType:o.action,navigator:r})}var tx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sx=W.forwardRef(function({onClick:c,discover:e="render",prefetch:t="none",relative:i,reloadDocument:r,replace:o,state:l,target:h,to:d,preventScrollReset:p,viewTransition:m,...y},v){let{basename:b}=W.useContext($s),x=typeof d=="string"&&tx.test(d),S,_=!1;if(typeof d=="string"&&x&&(S=d,ex))try{let D=new URL(window.location.href),G=d.startsWith("//")?new URL(D.protocol+d):new URL(d),Z=bi(G.pathname,b);G.origin===D.origin&&Z!=null?d=Z+G.search+G.hash:_=!0}catch{Ws(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=pA(d,{relative:i}),[k,T,C]=ZA(t,y),I=nk(d,{replace:o,state:l,target:h,preventScrollReset:p,relative:i,viewTransition:m});function O(D){c&&c(D),D.defaultPrevented||I(D)}let V=W.createElement("a",{...y,...C,href:S||M,onClick:_||r?c:O,ref:KA(v,T),target:h,"data-discover":!x&&e==="render"?"true":void 0});return k&&!x?W.createElement(W.Fragment,null,V,W.createElement(YA,{page:M})):V});sx.displayName="Link";var tk=W.forwardRef(function({"aria-current":c="page",caseSensitive:e=!1,className:t="",end:i=!1,style:r,to:o,viewTransition:l,children:h,...d},p){let m=qo(o,{relative:d.relative}),y=Vn(),v=W.useContext(xc),{navigator:b,basename:x}=W.useContext($s),S=v!=null&&uk(m)&&l===!0,_=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,M=y.pathname,k=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(M=M.toLowerCase(),k=k?k.toLowerCase():null,_=_.toLowerCase()),k&&x&&(k=bi(k,x)||k);const T=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let C=M===_||!i&&M.startsWith(_)&&M.charAt(T)==="/",I=k!=null&&(k===_||!i&&k.startsWith(_)&&k.charAt(_.length)==="/"),O={isActive:C,isPending:I,isTransitioning:S},V=C?c:void 0,D;typeof t=="function"?D=t(O):D=[t,C?"active":null,I?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let G=typeof r=="function"?r(O):r;return W.createElement(sx,{...d,"aria-current":V,className:D,ref:p,style:G,to:o,viewTransition:l},typeof h=="function"?h(O):h)});tk.displayName="NavLink";var sk=W.forwardRef(({discover:c="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:o,method:l=Yu,action:h,onSubmit:d,relative:p,preventScrollReset:m,viewTransition:y,...v},b)=>{let x=ok(),S=lk(h,{relative:p}),_=l.toLowerCase()==="get"?"get":"post",M=typeof h=="string"&&tx.test(h),k=T=>{if(d&&d(T),T.defaultPrevented)return;T.preventDefault();let C=T.nativeEvent.submitter,I=(C==null?void 0:C.getAttribute("formmethod"))||l;x(C||T.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:r,state:o,relative:p,preventScrollReset:m,viewTransition:y})};return W.createElement("form",{ref:b,method:_,action:S,onSubmit:i?d:k,...v,"data-discover":!M&&c==="render"?"true":void 0})});sk.displayName="Form";function ik(c){return`${c} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ix(c){let e=W.useContext(da);return Ke(e,ik(c)),e}function nk(c,{target:e,replace:t,state:i,preventScrollReset:r,relative:o,viewTransition:l}={}){let h=fA(),d=Vn(),p=qo(c,{relative:o});return W.useCallback(m=>{if(BA(m,e)){m.preventDefault();let y=t!==void 0?t:Uo(d)===Uo(p);h(c,{replace:y,state:i,preventScrollReset:r,relative:o,viewTransition:l})}},[d,h,p,t,i,e,c,r,o,l])}var rk=0,ak=()=>`__${String(++rk)}__`;function ok(){let{router:c}=ix("useSubmit"),{basename:e}=W.useContext($s),t=AA();return W.useCallback(async(i,r={})=>{let{action:o,method:l,encType:h,formData:d,body:p}=DA(i,e);if(r.navigate===!1){let m=r.fetcherKey||ak();await c.fetch(m,t,r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:p,formMethod:r.method||l,formEncType:r.encType||h,flushSync:r.flushSync})}else await c.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:p,formMethod:r.method||l,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[c,e,t])}function lk(c,{relative:e}={}){let{basename:t}=W.useContext($s),i=W.useContext(wi);Ke(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...qo(c||".",{relative:e})},l=Vn();if(c==null){o.search=l.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(p=>p==="")){h.delete("index"),d.filter(m=>m).forEach(m=>h.append("index",m));let p=h.toString();o.search=p?`?${p}`:""}}return(!c||c===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:vi([t,o.pathname])),Uo(o)}function uk(c,e={}){let t=W.useContext(Gb);Ke(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ix("useViewTransitionState"),r=qo(c,{relative:e.relative});if(!t.isTransitioning)return!1;let o=bi(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=bi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return cc(r.pathname,l)!=null||cc(r.pathname,o)!=null}[...$A];const ck=W.createContext(),hk=({children:c})=>{const[e,t]=W.useState("en");W.useEffect(()=>{const r=navigator.language.slice(0,2);["es","en"].includes(r)&&t(r)},[]);const i=r=>{t(r)};return Xe.jsx(ck.Provider,{value:{idioma:e,cambiarIdioma:i},children:c})},dk=()=>{const{progress:c}=Fb(),[e,t]=W.useState(!0);return W.useEffect(()=>{c>=100&&setTimeout(()=>t(!1),500)},[c]),e?Xe.jsxs("div",{className:`pantalla-carga ${c>=100?"fade-out":""}`,children:[Xe.jsxs("div",{className:"carga-contenedor",children:[Xe.jsx("div",{className:"spinner"}),Xe.jsx("p",{children:"Cargando..."})]}),Xe.jsx("div",{className:"barra-progreso",children:Xe.jsx("div",{className:"barra-progreso-inner",style:{width:`${c}%`}})})]}):null},pk=W.lazy(()=>aa(()=>ra(()=>ia(()=>ta(()=>import("./RutaPrincipal-Bq2aptRT-DTltwZHV-CO5MJhz9-nqlFkAv8.js"),__vite__mapDeps([0,1,2])),sa([0,1,2])),na([0,1,2])).then(c=>c.R),jn([0,1,2,3,4,5]))),fk=W.lazy(()=>aa(()=>ra(()=>ia(()=>ta(()=>import("./RutaGaleria-DBNweeWk-i9hANpid-D89xlyjx-3-SEKzs6.js"),__vite__mapDeps([3,1,2])),sa([3,1,2])),na([3,1,2])),jn([6,1,2,3,4,7]))),mk=W.lazy(()=>aa(()=>ra(()=>ia(()=>ta(()=>import("./RutaPrivacidad-Bef9SSgP-BP2xXnTu-DWpL_POm-B7uq6xzl.js"),__vite__mapDeps([4,1,5])),sa([4,1,5])),na([4,1,5])),jn([8,1,2,9,10]))),gk=W.lazy(()=>aa(()=>ra(()=>ia(()=>ta(()=>import("./RutaCookies-BXGI4ksc-CbfThwsS-BqO0hWUL-uQIKhm1X.js"),__vite__mapDeps([6,1])),sa([6,1])),na([6,1])),jn([11,1,2]))),yk=W.lazy(()=>aa(()=>ra(()=>ia(()=>ta(()=>import("./RutaAvisosLegales-yMytLAYF-zOLIQJ9i-BF4QC_zU-BlibF-WD.js"),__vite__mapDeps([7,5,1])),sa([7,5,1])),na([7,5,1])),jn([12,9,10,1,2]))),vk=W.lazy(()=>aa(()=>ra(()=>ia(()=>ta(()=>import("./Admin-DjU9vF7V-CcEjkFDu-BRZ35i8v-BVjONJib.js"),[]),[]),[]),jn([13,14]))),bk=()=>{const[c,e]=W.useState(!0),{progress:t}=Fb();return W.useEffect(()=>{t===100&&setTimeout(()=>e(!1),0)},[t]),Xe.jsx(hk,{children:Xe.jsx(ek,{children:Xe.jsx(W.Suspense,{fallback:Xe.jsx(dk,{}),children:Xe.jsxs(EA,{children:[Xe.jsx(In,{path:"/",element:Xe.jsx(pk,{cargando:c})}),Xe.jsx(In,{path:"/Privacidad",element:Xe.jsx(mk,{})}),Xe.jsx(In,{path:"/Galeria",element:Xe.jsx(fk,{})}),Xe.jsx(In,{path:"/Cookies",element:Xe.jsx(gk,{})}),Xe.jsx(In,{path:"/AvisosLegales",element:Xe.jsx(yk,{})}),Xe.jsx(In,{path:"/Dashboard",element:Xe.jsx(vk,{})})]})})})})};Rw.createRoot(document.getElementById("root")).render(Xe.jsx(W.StrictMode,{children:Xe.jsx(bk,{})}));export{Y as $,Nk as A,dC as B,vt as C,be as D,Yp as E,ab as F,pC as G,hc as H,Bb as I,JM as J,n3 as K,j0 as L,Ck as M,ob as N,Op as O,wp as P,Qr as Q,mC as R,Se as S,Pk as T,gC as U,Vp as V,W,fC as X,Xe as Y,Fs as Z,ta as _,z as a,$w as a$,fb as a0,Bo as a1,B_ as a2,d_ as a3,tn as a4,$C as a5,zC as a6,sS as a7,D0 as a8,wT as a9,Hw as aA,Ww as aB,Es as aC,ZT as aD,XT as aE,YT as aF,$T as aG,GT as aH,qT as aI,JT as aJ,HT as aK,Hs as aL,F2 as aM,kT as aN,U2 as aO,Wp as aP,Te as aQ,Qe as aR,Ps as aS,Ow as aT,Xw as aU,Jw as aV,Qw as aW,dt as aX,lf as aY,Ip as aZ,Kw as a_,Dp as aa,Lo as ab,hb as ac,L0 as ad,Dk as ae,Ok as af,I0 as ag,Kk as ah,Qk as ai,Jk as aj,Yk as ak,$k as al,Xk as am,B0 as an,Hk as ao,qk as ap,Gk as aq,Zk as ar,R0 as as,Wk as at,Vk as au,Uk as av,Mp as aw,js as ax,Sp as ay,qw as az,Mk as b,Vw as b$,Gw as b0,Zw as b1,eS as b2,tS as b3,lb as b4,ub as b5,iS as b6,nS as b7,rS as b8,aS as b9,NS as bA,IS as bB,RS as bC,BS as bD,LS as bE,OS as bF,aT as bG,rT as bH,nT as bI,iT as bJ,sT as bK,tT as bL,eT as bM,_k as bN,Ak as bO,kk as bP,N0 as bQ,Lk as bR,Bk as bS,Rk as bT,Ik as bU,Fw as bV,Uw as bW,CC as bX,db as bY,TC as bZ,_M as b_,oS as ba,lS as bb,uS as bc,Od as bd,cS as be,hS as bf,dS as bg,pS as bh,fS as bi,mS as bj,gS as bk,yS as bl,vS as bm,bS as bn,xS as bo,wS as bp,SS as bq,MS as br,_S as bs,AS as bt,kS as bu,TS as bv,CS as bw,zS as bx,ES as by,PS as bz,i3 as c,gb as c$,oa as c0,zT as c1,kC as c2,dc as c3,pc as c4,Vs as c5,I_ as c6,F0 as c7,Lp as c8,jw as c9,YM as cA,EC as cB,oc as cC,e3 as cD,Ob as cE,SC as cF,wC as cG,Bp as cH,ff as cI,MT as cJ,_T as cK,AT as cL,as as cM,pf as cN,df as cO,lC as cP,M3 as cQ,UC as cR,hf as cS,ca as cT,sC as cU,KT as cV,rC as cW,qC as cX,eC as cY,ec as cZ,iC as c_,la as ca,wM as cb,xM as cc,nM as cd,oC as ce,fT as cf,gT as cg,mT as ch,dT as ci,hT as cj,cT as ck,qp as cl,pb as cm,lT as cn,oT as co,Rp as cp,jk as cq,Fk as cr,ET as cs,Xr as ct,Gr as cu,Ku as cv,N2 as cw,tc as cx,yC as cy,vC as cz,Ek as d,FS as d$,PM as d0,l3 as d1,e_ as d2,_b as d3,o_ as d4,yc as d5,Et as d6,Rn as d7,RM as d8,u3 as d9,bb as dA,ZM as dB,c3 as dC,s_ as dD,v3 as dE,kp as dF,gc as dG,VC as dH,Oe as dI,ac as dJ,VT as dK,jp as dL,OT as dM,yT as dN,vT as dO,O2 as dP,zb as dQ,B2 as dR,L2 as dS,D2 as dT,V2 as dU,j2 as dV,Db as dW,hC as dX,yf as dY,Dt as dZ,jS as d_,Zp as da,Us as db,w3 as dc,cf as dd,Jr as de,I2 as df,uf as dg,PT as dh,KC as di,QC as dj,Up as dk,a_ as dl,R2 as dm,CT as dn,ST as dp,TT as dq,X2 as dr,bc as ds,Mb as dt,Sb as du,g_ as dv,Le as dw,XC as dx,Fn as dy,p3 as dz,ia as e,QM as e$,DS as e0,Rb as e1,Rv as e2,us as e3,bT as e4,xT as e5,Nb as e6,xi as e7,XM as e8,W2 as e9,t3 as eA,u_ as eB,Oo as eC,RT as eD,NT as eE,oM as eF,uc as eG,WC as eH,af as eI,h3 as eJ,Q2 as eK,zo as eL,d3 as eM,UT as eN,WT as eO,aC as eP,s3 as eQ,Jp as eR,PC as eS,$p as eT,Gp as eU,oe as eV,AC as eW,en as eX,rf as eY,jT as eZ,sf as e_,u2 as ea,wb as eb,Gt as ec,o3 as ed,On as ee,l_ as ef,Un as eg,DT as eh,FT as ei,of as ej,NM as ek,Ns as el,Cr as em,LT as en,uC as eo,cC as ep,Ld as eq,_p as er,Qu as es,vc as et,Kr as eu,Xp as ev,xC as ew,_C as ex,MC as ey,OM as ez,zk as f,r_ as f$,tC as f0,QT as f1,nC as f2,tf as f3,G2 as f4,f3 as f5,n_ as f6,Dw as f7,BC as f8,Po as f9,m3 as fA,Hp as fB,Ki as fC,c_ as fD,g3 as fE,y3 as fF,Ot as fG,a3 as fH,ua as fI,vb as fJ,GM as fK,US as fL,x3 as fM,HC as fN,GC as fO,Lb as fP,ZC as fQ,f_ as fR,O0 as fS,b3 as fT,KM as fU,LC as fV,YC as fW,JC as fX,OC as fY,lc as fZ,k_ as f_,BT as fa,IT as fb,bC as fc,FC as fd,yi as fe,r3 as ff,fc as fg,c2 as fh,qs as fi,Tk as fj,$2 as fk,l2 as fl,xb as fm,jC as fn,CM as fo,S3 as fp,mc as fq,DC as fr,Qp as fs,IC as ft,NC as fu,Ib as fv,ef as fw,e2 as fx,Kp as fy,RC as fz,Sk as g,U0 as g0,cb as g1,sc as g2,ck as g3,xk as g4,bs as h,ra as i,uT as j,EM as k,ls as l,pT as m,aa as n,dk as o,Vo as p,Yw as q,$r as r,rs as s,Pw as t,_w as u,xp as v,ws as w,xs as x,wk as y,Rw as z};
