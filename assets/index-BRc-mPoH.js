const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/RutaPrincipal-Bq2aptRT-DTltwZHV.js","assets/RutaPrincipal-BNL2tyW5-CxY54UNU.js","assets/infoNuestrosTrabajos-oMYqesbl-CZ4GuPae.js","assets/RutaGaleria-DBNweeWk-i9hANpid.js","assets/RutaPrivacidad-Bef9SSgP-BP2xXnTu.js","assets/Enlaces-BAchbKQX-BHDoRq5I.js","assets/RutaCookies-BXGI4ksc-CbfThwsS.js","assets/RutaAvisosLegales-yMytLAYF-zOLIQJ9i.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();const hw="modulepreload",dw=function(c){return"/"+c},c0={},ta=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let l=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));i=l(t.map(p=>{if(p=dw(p),p in c0)return;c0[p]=!0;const m=p.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":hw,m||(v.as="script"),v.crossOrigin="",v.href=p,d&&v.setAttribute("nonce",d),document.head.appendChild(v),m)return new Promise((b,x)=>{v.addEventListener("load",b),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(l){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=l,window.dispatchEvent(h),!h.defaultPrevented)throw l}return i.then(l=>{for(const h of l||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})},Fs=(c,e=Fs,t=e.f||(e.f=["assets/RutaPrincipal-Bq2aptRT.js","assets/RutaPrincipal-BNL2tyW5.js","assets/RutaPrincipal-Dx12AUPm.css","assets/infoNuestrosTrabajos-oMYqesbl.js","assets/infoNuestrosTrabajos-BMD19QWe.css","assets/RutaPrincipal-B-p4PSoI.css","assets/RutaGaleria-DBNweeWk.js","assets/RutaGaleria-C7MitIqe.css","assets/RutaPrivacidad-Bef9SSgP.js","assets/Enlaces-BAchbKQX.js","assets/Enlaces-a5_1FaFr.css","assets/RutaCookies-BXGI4ksc.js","assets/RutaAvisosLegales-yMytLAYF.js","assets/Admin-DjU9vF7V.js","assets/Admin-B2Fu8fAo.css"]))=>c.map(r=>t[r]);function pw(c,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in c)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(c,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}))}(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();var cT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fw(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var h0={exports:{}},ao={};/**
* @license React
* react-jsx-runtime.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var d0;function mw(){if(d0)return ao;d0=1;var c=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var h in i)h!=="key"&&(o[h]=i[h])}else o=i;return i=o.ref,{$$typeof:c,type:r,key:l,ref:i!==void 0?i:null,props:o}}return ao.Fragment=e,ao.jsx=t,ao.jsxs=t,ao}var p0;function gw(){return p0||(p0=1,h0.exports=mw()),h0.exports}var $e=gw(),f0={exports:{}},Me={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var m0;function yw(){if(m0)return Me;m0=1;var c=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(I){return I===null||typeof I!="object"?null:(I=y&&I[y]||I["@@iterator"],typeof I=="function"?I:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function _(I,q,Z){this.props=I,this.context=q,this.refs=S,this.updater=Z||b}_.prototype.isReactComponent={},_.prototype.setState=function(I,q){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,q,"setState")},_.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function M(){}M.prototype=_.prototype;function T(I,q,Z){this.props=I,this.context=q,this.refs=S,this.updater=Z||b}var z=T.prototype=new M;z.constructor=T,x(z,_.prototype),z.isPureReactComponent=!0;var C=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function H(I,q,Z,K,ce,Ae){return Z=Ae.ref,{$$typeof:c,type:I,key:q,ref:Z!==void 0?Z:null,props:Ae}}function D(I,q){return H(I.type,q,void 0,void 0,void 0,I.props)}function J(I){return typeof I=="object"&&I!==null&&I.$$typeof===c}function G(I){var q={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(Z){return q[Z]})}var re=/\/+/g;function le(I,q){return typeof I=="object"&&I!==null&&I.key!=null?G(""+I.key):q.toString(36)}function me(){}function xe(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(me,me):(I.status="pending",I.then(function(q){I.status==="pending"&&(I.status="fulfilled",I.value=q)},function(q){I.status==="pending"&&(I.status="rejected",I.reason=q)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function _e(I,q,Z,K,ce){var Ae=typeof I;(Ae==="undefined"||Ae==="boolean")&&(I=null);var ye=!1;if(I===null)ye=!0;else switch(Ae){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(I.$$typeof){case c:case e:ye=!0;break;case m:return ye=I._init,_e(ye(I._payload),q,Z,K,ce)}}if(ye)return ce=ce(I),ye=K===""?"."+le(I,0):K,C(ce)?(Z="",ye!=null&&(Z=ye.replace(re,"$&/")+"/"),_e(ce,q,Z,"",function($t){return $t})):ce!=null&&(J(ce)&&(ce=D(ce,Z+(ce.key==null||I&&I.key===ce.key?"":(""+ce.key).replace(re,"$&/")+"/")+ye)),q.push(ce)),1;ye=0;var St=K===""?".":K+":";if(C(I))for(var Re=0;Re<I.length;Re++)K=I[Re],Ae=St+le(K,Re),ye+=_e(K,q,Z,Ae,ce);else if(Re=v(I),typeof Re=="function")for(I=Re.call(I),Re=0;!(K=I.next()).done;)K=K.value,Ae=St+le(K,Re++),ye+=_e(K,q,Z,Ae,ce);else if(Ae==="object"){if(typeof I.then=="function")return _e(xe(I),q,Z,K,ce);throw q=String(I),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ye}function V(I,q,Z){if(I==null)return I;var K=[],ce=0;return _e(I,K,"","",function(Ae){return q.call(Z,Ae,ce++)}),K}function Q(I){if(I._status===-1){var q=I._result;q=q(),q.then(function(Z){(I._status===0||I._status===-1)&&(I._status=1,I._result=Z)},function(Z){(I._status===0||I._status===-1)&&(I._status=2,I._result=Z)}),I._status===-1&&(I._status=0,I._result=q)}if(I._status===1)return I._result.default;throw I._result}var ae=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function fe(){}return Me.Children={map:V,forEach:function(I,q,Z){V(I,function(){q.apply(this,arguments)},Z)},count:function(I){var q=0;return V(I,function(){q++}),q},toArray:function(I){return V(I,function(q){return q})||[]},only:function(I){if(!J(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Me.Component=_,Me.Fragment=t,Me.Profiler=i,Me.PureComponent=T,Me.StrictMode=r,Me.Suspense=d,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Me.__COMPILER_RUNTIME={__proto__:null,c:function(I){return R.H.useMemoCache(I)}},Me.cache=function(I){return function(){return I.apply(null,arguments)}},Me.cloneElement=function(I,q,Z){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var K=x({},I.props),ce=I.key,Ae=void 0;if(q!=null)for(ye in q.ref!==void 0&&(Ae=void 0),q.key!==void 0&&(ce=""+q.key),q)!N.call(q,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&q.ref===void 0||(K[ye]=q[ye]);var ye=arguments.length-2;if(ye===1)K.children=Z;else if(1<ye){for(var St=Array(ye),Re=0;Re<ye;Re++)St[Re]=arguments[Re+2];K.children=St}return H(I.type,ce,void 0,void 0,Ae,K)},Me.createContext=function(I){return I={$$typeof:l,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:o,_context:I},I},Me.createElement=function(I,q,Z){var K,ce={},Ae=null;if(q!=null)for(K in q.key!==void 0&&(Ae=""+q.key),q)N.call(q,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ce[K]=q[K]);var ye=arguments.length-2;if(ye===1)ce.children=Z;else if(1<ye){for(var St=Array(ye),Re=0;Re<ye;Re++)St[Re]=arguments[Re+2];ce.children=St}if(I&&I.defaultProps)for(K in ye=I.defaultProps,ye)ce[K]===void 0&&(ce[K]=ye[K]);return H(I,Ae,void 0,void 0,null,ce)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(I){return{$$typeof:h,render:I}},Me.isValidElement=J,Me.lazy=function(I){return{$$typeof:m,_payload:{_status:-1,_result:I},_init:Q}},Me.memo=function(I,q){return{$$typeof:p,type:I,compare:q===void 0?null:q}},Me.startTransition=function(I){var q=R.T,Z={};R.T=Z;try{var K=I(),ce=R.S;ce!==null&&ce(Z,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(fe,ae)}catch(Ae){ae(Ae)}finally{R.T=q}},Me.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Me.use=function(I){return R.H.use(I)},Me.useActionState=function(I,q,Z){return R.H.useActionState(I,q,Z)},Me.useCallback=function(I,q){return R.H.useCallback(I,q)},Me.useContext=function(I){return R.H.useContext(I)},Me.useDebugValue=function(){},Me.useDeferredValue=function(I,q){return R.H.useDeferredValue(I,q)},Me.useEffect=function(I,q,Z){var K=R.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(I,q)},Me.useId=function(){return R.H.useId()},Me.useImperativeHandle=function(I,q,Z){return R.H.useImperativeHandle(I,q,Z)},Me.useInsertionEffect=function(I,q){return R.H.useInsertionEffect(I,q)},Me.useLayoutEffect=function(I,q){return R.H.useLayoutEffect(I,q)},Me.useMemo=function(I,q){return R.H.useMemo(I,q)},Me.useOptimistic=function(I,q){return R.H.useOptimistic(I,q)},Me.useReducer=function(I,q,Z){return R.H.useReducer(I,q,Z)},Me.useRef=function(I){return R.H.useRef(I)},Me.useState=function(I){return R.H.useState(I)},Me.useSyncExternalStore=function(I,q,Z){return R.H.useSyncExternalStore(I,q,Z)},Me.useTransition=function(){return R.H.useTransition()},Me.version="19.1.0",Me}var g0;function Ap(){return g0||(g0=1,f0.exports=yw()),f0.exports}var W=Ap();const gp=fw(W),hT=pw({__proto__:null,default:gp},[W]);var Ed={exports:{}},oo={},y0={exports:{}},v0={};/**
* @license React
* scheduler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var b0;function vw(){return b0||(b0=1,function(c){function e(V,Q){var ae=V.length;V.push(Q);e:for(;0<ae;){var fe=ae-1>>>1,I=V[fe];if(0<i(I,Q))V[fe]=Q,V[ae]=I,ae=fe;else break e}}function t(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Q=V[0],ae=V.pop();if(ae!==Q){V[0]=ae;e:for(var fe=0,I=V.length,q=I>>>1;fe<q;){var Z=2*(fe+1)-1,K=V[Z],ce=Z+1,Ae=V[ce];if(0>i(K,ae))ce<I&&0>i(Ae,K)?(V[fe]=Ae,V[ce]=ae,fe=ce):(V[fe]=K,V[Z]=ae,fe=Z);else if(ce<I&&0>i(Ae,ae))V[fe]=Ae,V[ce]=ae,fe=ce;else break e}}return Q}function i(V,Q){var ae=V.sortIndex-Q.sortIndex;return ae!==0?ae:V.id-Q.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;c.unstable_now=function(){return o.now()}}else{var l=Date,h=l.now();c.unstable_now=function(){return l.now()-h}}var d=[],p=[],m=1,y=null,v=3,b=!1,x=!1,S=!1,_=!1,M=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function C(V){for(var Q=t(p);Q!==null;){if(Q.callback===null)r(p);else if(Q.startTime<=V)r(p),Q.sortIndex=Q.expirationTime,e(d,Q);else break;Q=t(p)}}function R(V){if(S=!1,C(V),!x)if(t(d)!==null)x=!0,N||(N=!0,le());else{var Q=t(p);Q!==null&&_e(R,Q.startTime-V)}}var N=!1,H=-1,D=5,J=-1;function G(){return _?!0:!(c.unstable_now()-J<D)}function re(){if(_=!1,N){var V=c.unstable_now();J=V;var Q=!0;try{e:{x=!1,S&&(S=!1,T(H),H=-1),b=!0;var ae=v;try{t:{for(C(V),y=t(d);y!==null&&!(y.expirationTime>V&&G());){var fe=y.callback;if(typeof fe=="function"){y.callback=null,v=y.priorityLevel;var I=fe(y.expirationTime<=V);if(V=c.unstable_now(),typeof I=="function"){y.callback=I,C(V),Q=!0;break t}y===t(d)&&r(d),C(V)}else r(d);y=t(d)}if(y!==null)Q=!0;else{var q=t(p);q!==null&&_e(R,q.startTime-V),Q=!1}}break e}finally{y=null,v=ae,b=!1}Q=void 0}}finally{Q?le():N=!1}}}var le;if(typeof z=="function")le=function(){z(re)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,xe=me.port2;me.port1.onmessage=re,le=function(){xe.postMessage(null)}}else le=function(){M(re,0)};function _e(V,Q){H=M(function(){V(c.unstable_now())},Q)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(V){V.callback=null},c.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<V?Math.floor(1e3/V):5},c.unstable_getCurrentPriorityLevel=function(){return v},c.unstable_next=function(V){switch(v){case 1:case 2:case 3:var Q=3;break;default:Q=v}var ae=v;v=Q;try{return V()}finally{v=ae}},c.unstable_requestPaint=function(){_=!0},c.unstable_runWithPriority=function(V,Q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ae=v;v=V;try{return Q()}finally{v=ae}},c.unstable_scheduleCallback=function(V,Q,ae){var fe=c.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?fe+ae:fe):ae=fe,V){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ae+I,V={id:m++,callback:Q,priorityLevel:V,startTime:ae,expirationTime:I,sortIndex:-1},ae>fe?(V.sortIndex=ae,e(p,V),t(d)===null&&V===t(p)&&(S?(T(H),H=-1):S=!0,_e(R,ae-fe))):(V.sortIndex=I,e(d,V),x||b||(x=!0,N||(N=!0,le()))),V},c.unstable_shouldYield=G,c.unstable_wrapCallback=function(V){var Q=v;return function(){var ae=v;v=Q;try{return V.apply(this,arguments)}finally{v=ae}}}}(v0)),v0}var x0;function bw(){return x0||(x0=1,y0.exports=vw()),y0.exports}var Id={exports:{}},Tt={};/**
* @license React
* react-dom.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var w0;function xw(){if(w0)return Tt;w0=1;var c=Ap();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,p,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:d,containerInfo:p,implementation:m}}var l=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tt.createPortal=function(d,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(d,p,null,m)},Tt.flushSync=function(d){var p=l.T,m=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=p,r.p=m,r.d.f()}},Tt.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},Tt.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Tt.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var m=p.as,y=h(m,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:b}):m==="script"&&r.d.X(d,{crossOrigin:y,integrity:v,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Tt.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},Tt.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,y=h(m,p.crossOrigin);r.d.L(d,m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Tt.preloadModule=function(d,p){if(typeof d=="string")if(p){var m=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},Tt.requestFormReset=function(d){r.d.r(d)},Tt.unstable_batchedUpdates=function(d,p){return d(p)},Tt.useFormState=function(d,p,m){return l.H.useFormState(d,p,m)},Tt.useFormStatus=function(){return l.H.useHostTransitionStatus()},Tt.version="19.1.0",Tt}var S0;function ww(){if(S0)return Id.exports;S0=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(e){console.error(e)}}return c(),Id.exports=xw(),Id.exports}/**
* @license React
* react-dom-client.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var M0;function Sw(){if(M0)return oo;M0=1;var c=bw(),e=Ap(),t=ww();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function l(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(o(n)!==n)throw Error(r(188))}function d(n){var s=n.alternate;if(!s){if(s=o(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,u=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return h(f),n;if(g===u)return h(f),s;g=g.sibling}throw Error(r(188))}if(a.return!==u.return)a=f,u=g;else{for(var w=!1,k=f.child;k;){if(k===a){w=!0,a=f,u=g;break}if(k===u){w=!0,u=f,a=g;break}k=k.sibling}if(!w){for(k=g.child;k;){if(k===a){w=!0,a=g,u=f;break}if(k===u){w=!0,u=g,a=f;break}k=k.sibling}if(!w)throw Error(r(189))}}if(a.alternate!==u)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function p(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=p(n),s!==null)return s;n=n.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),z=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function le(n){return n===null||typeof n!="object"?null:(n=re&&n[re]||n["@@iterator"],typeof n=="function"?n:null)}var me=Symbol.for("react.client.reference");function xe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===me?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case x:return"Fragment";case _:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case N:return"SuspenseList";case J:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case b:return"Portal";case z:return(n.displayName||"Context")+".Provider";case T:return(n._context.displayName||"Context")+".Consumer";case C:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case H:return s=n.displayName||null,s!==null?s:xe(n.type)||"Memo";case D:s=n._payload,n=n._init;try{return xe(n(s))}catch{}}return null}var _e=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},fe=[],I=-1;function q(n){return{current:n}}function Z(n){0>I||(n.current=fe[I],fe[I]=null,I--)}function K(n,s){I++,fe[I]=n.current,n.current=s}var ce=q(null),Ae=q(null),ye=q(null),St=q(null);function Re(n,s){switch(K(ye,s),K(Ae,n),K(ce,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Dy(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Dy(s),n=Fy(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Z(ce),K(ce,n)}function $t(){Z(ce),Z(Ae),Z(ye)}function ua(n){n.memoizedState!==null&&K(St,n);var s=ce.current,a=Fy(s,n.type);s!==a&&(K(Ae,n),K(ce,a))}function Ft(n){Ae.current===n&&(Z(ce),Z(Ae)),St.current===n&&(Z(St),to._currentValue=ae)}var Gt=Object.prototype.hasOwnProperty,ee=c.unstable_scheduleCallback,te=c.unstable_cancelCallback,ne=c.unstable_shouldYield,he=c.unstable_requestPaint,se=c.unstable_now,Ee=c.unstable_getCurrentPriorityLevel,ke=c.unstable_ImmediatePriority,Ue=c.unstable_UserBlockingPriority,qe=c.unstable_NormalPriority,et=c.unstable_LowPriority,It=c.unstable_IdlePriority,rs=c.log,Pt=c.unstable_setDisableYieldValue,Mr=null,Mt=null;function Mn(n){if(typeof rs=="function"&&Pt(n),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(Mr,n)}catch{}}var Rt=Math.clz32?Math.clz32:Wo,vc=Math.log,Ho=Math.LN2;function Wo(n){return n>>>=0,n===0?32:31-(vc(n)/Ho|0)|0}var Uo=256,qo=4194304;function ss(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Xo(n,s,a){var u=n.pendingLanes;if(u===0)return 0;var f=0,g=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var k=u&134217727;return k!==0?(u=k&~g,u!==0?f=ss(u):(w&=k,w!==0?f=ss(w):a||(a=k&~n,a!==0&&(f=ss(a))))):(k=u&~g,k!==0?f=ss(k):w!==0?f=ss(w):a||(a=u&~n,a!==0&&(f=ss(a)))),f===0?0:s!==0&&s!==f&&(s&g)===0&&(g=f&-f,a=s&-s,g>=a||g===32&&(a&4194048)!==0)?s:f}function ca(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Zb(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wf(){var n=Uo;return Uo<<=1,(Uo&4194048)===0&&(Uo=256),n}function Sf(){var n=qo;return qo<<=1,(qo&62914560)===0&&(qo=4194304),n}function bc(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function ha(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Kb(n,s,a,u,f,g){var w=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var k=n.entanglements,E=n.expirationTimes,B=n.hiddenUpdates;for(a=w&~a;0<a;){var U=31-Rt(a),$=1<<U;k[U]=0,E[U]=-1;var F=B[U];if(F!==null)for(B[U]=null,U=0;U<F.length;U++){var j=F[U];j!==null&&(j.lane&=-536870913)}a&=~$}u!==0&&Mf(n,u,0),g!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=g&~(w&~s))}function Mf(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Rt(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194090}function _f(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var u=31-Rt(a),f=1<<u;f&s|n[u]&s&&(n[u]|=s),a&=~f}}function xc(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function wc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function kf(){var n=Q.p;return n!==0?n:(n=window.event,n===void 0?32:s0(n.type))}function ex(n,s){var a=Q.p;try{return Q.p=n,s()}finally{Q.p=a}}var _r=Math.random().toString(36).slice(2),_t="__reactFiber$"+_r,jt="__reactProps$"+_r,Ws="__reactContainer$"+_r,Sc="__reactEvents$"+_r,tx="__reactListeners$"+_r,nx="__reactHandles$"+_r,Tf="__reactResources$"+_r,da="__reactMarker$"+_r;function Mc(n){delete n[_t],delete n[jt],delete n[Sc],delete n[tx],delete n[nx]}function Us(n){var s=n[_t];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Ws]||a[_t]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Wy(n);n!==null;){if(a=n[_t])return a;n=Wy(n)}return s}n=a,a=n.parentNode}return null}function qs(n){if(n=n[_t]||n[Ws]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function pa(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Xs(n){var s=n[Tf];return s||(s=n[Tf]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function pt(n){n[da]=!0}var zf=new Set,Cf={};function is(n,s){Js(n,s),Js(n+"Capture",s)}function Js(n,s){for(Cf[n]=s,n=0;n<s.length;n++)zf.add(s[n])}var rx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Af={},Ef={};function sx(n){return Gt.call(Ef,n)?!0:Gt.call(Af,n)?!1:rx.test(n)?Ef[n]=!0:(Af[n]=!0,!1)}function Jo(n,s,a){if(sx(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function $o(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function $n(n,s,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+u)}}var _c,If;function $s(n){if(_c===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);_c=s&&s[1]||"",If=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_c+n+If}var kc=!1;function Tc(n,s){if(!n||kc)return"";kc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(j){var F=j}Reflect.construct(n,[],$)}else{try{$.call()}catch(j){F=j}n.call($.prototype)}}else{try{throw Error()}catch(j){F=j}($=n())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(j){if(j&&F&&typeof j.stack=="string")return[j.stack,F.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),w=g[0],k=g[1];if(w&&k){var E=w.split(`
`),B=k.split(`
`);for(f=u=0;u<E.length&&!E[u].includes("DetermineComponentFrameRoot");)u++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(u===E.length||f===B.length)for(u=E.length-1,f=B.length-1;1<=u&&0<=f&&E[u]!==B[f];)f--;for(;1<=u&&0<=f;u--,f--)if(E[u]!==B[f]){if(u!==1||f!==1)do if(u--,f--,0>f||E[u]!==B[f]){var U=`
`+E[u].replace(" at new "," at ");return n.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",n.displayName)),U}while(1<=u&&0<=f);break}}}finally{kc=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?$s(a):""}function ix(n){switch(n.tag){case 26:case 27:case 5:return $s(n.type);case 16:return $s("Lazy");case 13:return $s("Suspense");case 19:return $s("SuspenseList");case 0:case 15:return Tc(n.type,!1);case 11:return Tc(n.type.render,!1);case 1:return Tc(n.type,!0);case 31:return $s("Activity");default:return""}}function Pf(n){try{var s="";do s+=ix(n),n=n.return;while(n);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function hn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Rf(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ax(n){var s=Rf(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),u=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){u=""+w,g.call(this,w)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Go(n){n._valueTracker||(n._valueTracker=ax(n))}function Lf(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),u="";return n&&(u=Rf(n)?n.checked?"true":"false":n.value),n=u,n!==a?(s.setValue(n),!0):!1}function Yo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ox=/[\n"\\]/g;function _n(n){return n.replace(ox,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function zc(n,s,a,u,f,g,w,k){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),s!=null?w==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+hn(s)):n.value!==""+hn(s)&&(n.value=""+hn(s)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),s!=null?Cc(n,w,hn(s)):a!=null?Cc(n,w,hn(a)):u!=null&&n.removeAttribute("value"),f==null&&g!=null&&(n.defaultChecked=!!g),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?n.name=""+hn(k):n.removeAttribute("name")}function Of(n,s,a,u,f,g,w,k){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),s!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;a=a!=null?""+hn(a):"",s=s!=null?""+hn(s):a,k||s===n.value||(n.value=s),n.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=k?n.checked:!!u,n.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w)}function Cc(n,s,a){s==="number"&&Yo(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Gs(n,s,a,u){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+hn(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Bf(n,s,a){if(s!=null&&(s=""+hn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+hn(a):""}function Nf(n,s,a,u){if(s==null){if(u!=null){if(a!=null)throw Error(r(92));if(_e(u)){if(1<u.length)throw Error(r(93));u=u[0]}a=u}a==null&&(a=""),s=a}a=hn(s),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function Ys(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var lx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Df(n,s,a){var u=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,a):typeof a!="number"||a===0||lx.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function Ff(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&a[f]!==u&&Df(n,f,u)}else for(var g in s)s.hasOwnProperty(g)&&Df(n,g,s[g])}function Ac(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ux=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qo(n){return cx.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ec=null;function Ic(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Qs=null,Zs=null;function jf(n){var s=qs(n);if(s&&(n=s.stateNode)){var a=n[jt]||null;e:switch(n=s.stateNode,s.type){case"input":if(zc(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_n(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var u=a[s];if(u!==n&&u.form===n.form){var f=u[jt]||null;if(!f)throw Error(r(90));zc(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)u=a[s],u.form===n.form&&Lf(u)}break e;case"textarea":Bf(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Gs(n,!!a.multiple,s,!1)}}}var Pc=!1;function Vf(n,s,a){if(Pc)return n(s,a);Pc=!0;try{var u=n(s);return u}finally{if(Pc=!1,(Qs!==null||Zs!==null)&&(Bl(),Qs&&(s=Qs,n=Zs,Zs=Qs=null,jf(s),n)))for(s=0;s<n.length;s++)jf(n[s])}}function fa(n,s){var a=n.stateNode;if(a===null)return null;var u=a[jt]||null;if(u===null)return null;a=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rc=!1;if(Gn)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){Rc=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{Rc=!1}var kr=null,Lc=null,Zo=null;function Hf(){if(Zo)return Zo;var n,s=Lc,a=s.length,u,f="value"in kr?kr.value:kr.textContent,g=f.length;for(n=0;n<a&&s[n]===f[n];n++);var w=a-n;for(u=1;u<=w&&s[a-u]===f[g-u];u++);return Zo=f.slice(n,1<u?1-u:void 0)}function Ko(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function el(){return!0}function Wf(){return!1}function Vt(n){function s(a,u,f,g,w){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var k in n)n.hasOwnProperty(k)&&(a=n[k],this[k]=a?a(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?el:Wf,this.isPropagationStopped=Wf,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=el)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=el)},persist:function(){},isPersistent:el}),s}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=Vt(as),ga=m({},as,{view:0,detail:0}),hx=Vt(ga),Oc,Bc,ya,nl=m({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ya&&(ya&&n.type==="mousemove"?(Oc=n.screenX-ya.screenX,Bc=n.screenY-ya.screenY):Bc=Oc=0,ya=n),Oc)},movementY:function(n){return"movementY"in n?n.movementY:Bc}}),Uf=Vt(nl),dx=m({},nl,{dataTransfer:0}),px=Vt(dx),fx=m({},ga,{relatedTarget:0}),Nc=Vt(fx),mx=m({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),gx=Vt(mx),yx=m({},as,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),vx=Vt(yx),bx=m({},as,{data:0}),qf=Vt(bx),xx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mx(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Sx[n])?!!s[n]:!1}function Dc(){return Mx}var _x=m({},ga,{key:function(n){if(n.key){var s=xx[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ko(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?wx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dc,charCode:function(n){return n.type==="keypress"?Ko(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ko(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),kx=Vt(_x),Tx=m({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xf=Vt(Tx),zx=m({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dc}),Cx=Vt(zx),Ax=m({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ex=Vt(Ax),Ix=m({},nl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Px=Vt(Ix),Rx=m({},as,{newState:0,oldState:0}),Lx=Vt(Rx),Ox=[9,13,27,32],Fc=Gn&&"CompositionEvent"in window,va=null;Gn&&"documentMode"in document&&(va=document.documentMode);var Bx=Gn&&"TextEvent"in window&&!va,Jf=Gn&&(!Fc||va&&8<va&&11>=va),$f=" ",Gf=!1;function Yf(n,s){switch(n){case"keyup":return Ox.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ks=!1;function Nx(n,s){switch(n){case"compositionend":return Qf(s);case"keypress":return s.which!==32?null:(Gf=!0,$f);case"textInput":return n=s.data,n===$f&&Gf?null:n;default:return null}}function Dx(n,s){if(Ks)return n==="compositionend"||!Fc&&Yf(n,s)?(n=Hf(),Zo=Lc=kr=null,Ks=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Jf&&s.locale!=="ko"?null:s.data;default:return null}}var Fx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Fx[n.type]:s==="textarea"}function Kf(n,s,a,u){Qs?Zs?Zs.push(u):Zs=[u]:Qs=u,s=Hl(s,"onChange"),0<s.length&&(a=new tl("onChange","change",null,a,u),n.push({event:a,listeners:s}))}var ba=null,xa=null;function jx(n){Ry(n,0)}function rl(n){var s=pa(n);if(Lf(s))return n}function em(n,s){if(n==="change")return s}var tm=!1;if(Gn){var jc;if(Gn){var Vc="oninput"in document;if(!Vc){var nm=document.createElement("div");nm.setAttribute("oninput","return;"),Vc=typeof nm.oninput=="function"}jc=Vc}else jc=!1;tm=jc&&(!document.documentMode||9<document.documentMode)}function rm(){ba&&(ba.detachEvent("onpropertychange",sm),xa=ba=null)}function sm(n){if(n.propertyName==="value"&&rl(xa)){var s=[];Kf(s,xa,n,Ic(n)),Vf(jx,s)}}function Vx(n,s,a){n==="focusin"?(rm(),ba=s,xa=a,ba.attachEvent("onpropertychange",sm)):n==="focusout"&&rm()}function Hx(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return rl(xa)}function Wx(n,s){if(n==="click")return rl(s)}function Ux(n,s){if(n==="input"||n==="change")return rl(s)}function qx(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Yt=typeof Object.is=="function"?Object.is:qx;function wa(n,s){if(Yt(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),u=Object.keys(s);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!Gt.call(s,f)||!Yt(n[f],s[f]))return!1}return!0}function im(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function am(n,s){var a=im(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=s&&u>=s)return{node:a,offset:s-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=im(a)}}function om(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?om(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function lm(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Yo(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Yo(n.document)}return s}function Hc(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var Xx=Gn&&"documentMode"in document&&11>=document.documentMode,ei=null,Wc=null,Sa=null,Uc=!1;function um(n,s,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uc||ei==null||ei!==Yo(u)||(u=ei,"selectionStart"in u&&Hc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Sa&&wa(Sa,u)||(Sa=u,u=Hl(Wc,"onSelect"),0<u.length&&(s=new tl("onSelect","select",null,s,a),n.push({event:s,listeners:u}),s.target=ei)))}function os(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var ti={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionrun:os("Transition","TransitionRun"),transitionstart:os("Transition","TransitionStart"),transitioncancel:os("Transition","TransitionCancel"),transitionend:os("Transition","TransitionEnd")},qc={},cm={};Gn&&(cm=document.createElement("div").style,"AnimationEvent"in window||(delete ti.animationend.animation,delete ti.animationiteration.animation,delete ti.animationstart.animation),"TransitionEvent"in window||delete ti.transitionend.transition);function ls(n){if(qc[n])return qc[n];if(!ti[n])return n;var s=ti[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in cm)return qc[n]=s[a];return n}var hm=ls("animationend"),dm=ls("animationiteration"),pm=ls("animationstart"),Jx=ls("transitionrun"),$x=ls("transitionstart"),Gx=ls("transitioncancel"),fm=ls("transitionend"),mm=new Map,Xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xc.push("scrollEnd");function kn(n,s){mm.set(n,s),is(s,[n])}var gm=new WeakMap;function dn(n,s){if(typeof n=="object"&&n!==null){var a=gm.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Pf(s)},gm.set(n,s),s)}return{value:n,source:s,stack:Pf(s)}}var pn=[],ni=0,Jc=0;function sl(){for(var n=ni,s=Jc=ni=0;s<n;){var a=pn[s];pn[s++]=null;var u=pn[s];pn[s++]=null;var f=pn[s];pn[s++]=null;var g=pn[s];if(pn[s++]=null,u!==null&&f!==null){var w=u.pending;w===null?f.next=f:(f.next=w.next,w.next=f),u.pending=f}g!==0&&ym(a,f,g)}}function il(n,s,a,u){pn[ni++]=n,pn[ni++]=s,pn[ni++]=a,pn[ni++]=u,Jc|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function $c(n,s,a,u){return il(n,s,a,u),al(n)}function ri(n,s){return il(n,null,null,s),al(n)}function ym(n,s,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,g=n.return;g!==null;)g.childLanes|=a,u=g.alternate,u!==null&&(u.childLanes|=a),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(f=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,f&&s!==null&&(f=31-Rt(a),n=g.hiddenUpdates,u=n[f],u===null?n[f]=[s]:u.push(s),s.lane=a|536870912),g):null}function al(n){if(50<Ja)throw Ja=0,ed=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var si={};function Yx(n,s,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(n,s,a,u){return new Yx(n,s,a,u)}function Gc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Yn(n,s){var a=n.alternate;return a===null?(a=Qt(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function vm(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function ol(n,s,a,u,f,g){var w=0;if(u=n,typeof n=="function")Gc(n)&&(w=1);else if(typeof n=="string")w=Z1(n,a,ce.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case J:return n=Qt(31,a,s,f),n.elementType=J,n.lanes=g,n;case x:return us(a.children,f,g,s);case S:w=8,f|=24;break;case _:return n=Qt(12,a,s,f|2),n.elementType=_,n.lanes=g,n;case R:return n=Qt(13,a,s,f),n.elementType=R,n.lanes=g,n;case N:return n=Qt(19,a,s,f),n.elementType=N,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case M:case z:w=10;break e;case T:w=9;break e;case C:w=11;break e;case H:w=14;break e;case D:w=16,u=null;break e}w=29,a=Error(r(130,n===null?"null":typeof n,"")),u=null}return s=Qt(w,a,s,f),s.elementType=n,s.type=u,s.lanes=g,s}function us(n,s,a,u){return n=Qt(7,n,u,s),n.lanes=a,n}function Yc(n,s,a){return n=Qt(6,n,null,s),n.lanes=a,n}function Qc(n,s,a){return s=Qt(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var ii=[],ai=0,ll=null,ul=0,fn=[],mn=0,cs=null,Qn=1,Zn="";function hs(n,s){ii[ai++]=ul,ii[ai++]=ll,ll=n,ul=s}function bm(n,s,a){fn[mn++]=Qn,fn[mn++]=Zn,fn[mn++]=cs,cs=n;var u=Qn;n=Zn;var f=32-Rt(u)-1;u&=~(1<<f),a+=1;var g=32-Rt(s)+f;if(30<g){var w=f-f%5;g=(u&(1<<w)-1).toString(32),u>>=w,f-=w,Qn=1<<32-Rt(s)+f|a<<f|u,Zn=g+n}else Qn=1<<g|a<<f|u,Zn=n}function Zc(n){n.return!==null&&(hs(n,1),bm(n,1,0))}function Kc(n){for(;n===ll;)ll=ii[--ai],ii[ai]=null,ul=ii[--ai],ii[ai]=null;for(;n===cs;)cs=fn[--mn],fn[mn]=null,Zn=fn[--mn],fn[mn]=null,Qn=fn[--mn],fn[mn]=null}var Lt=null,tt=null,De=!1,ds=null,Ln=!1,eh=Error(r(519));function ps(n){var s=Error(r(418,""));throw ka(dn(s,n)),eh}function xm(n){var s=n.stateNode,a=n.type,u=n.memoizedProps;switch(s[_t]=n,s[jt]=u,a){case"dialog":Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":case"embed":Pe("load",s);break;case"video":case"audio":for(a=0;a<Ga.length;a++)Pe(Ga[a],s);break;case"source":Pe("error",s);break;case"img":case"image":case"link":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"input":Pe("invalid",s),Of(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Go(s);break;case"select":Pe("invalid",s);break;case"textarea":Pe("invalid",s),Nf(s,u.value,u.defaultValue,u.children),Go(s)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||u.suppressHydrationWarning===!0||Ny(s.textContent,a)?(u.popover!=null&&(Pe("beforetoggle",s),Pe("toggle",s)),u.onScroll!=null&&Pe("scroll",s),u.onScrollEnd!=null&&Pe("scrollend",s),u.onClick!=null&&(s.onclick=Wl),s=!0):s=!1,s||ps(n)}function wm(n){for(Lt=n.return;Lt;)switch(Lt.tag){case 5:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Lt=Lt.return}}function Ma(n){if(n!==Lt)return!1;if(!De)return wm(n),De=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||gd(n.type,n.memoizedProps)),a=!a),a&&tt&&ps(n),wm(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(s===0){tt=zn(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;n=n.nextSibling}tt=null}}else s===27?(s=tt,Vr(n.type)?(n=xd,xd=null,tt=n):tt=s):tt=Lt?zn(n.stateNode.nextSibling):null;return!0}function _a(){tt=Lt=null,De=!1}function Sm(){var n=ds;return n!==null&&(Ut===null?Ut=n:Ut.push.apply(Ut,n),ds=null),n}function ka(n){ds===null?ds=[n]:ds.push(n)}var th=q(null),fs=null,Kn=null;function Tr(n,s,a){K(th,s._currentValue),s._currentValue=a}function er(n){n._currentValue=th.current,Z(th)}function nh(n,s,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===a)break;n=n.return}}function rh(n,s,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var g=f.dependencies;if(g!==null){var w=f.child;g=g.firstContext;e:for(;g!==null;){var k=g;g=f;for(var E=0;E<s.length;E++)if(k.context===s[E]){g.lanes|=a,k=g.alternate,k!==null&&(k.lanes|=a),nh(g.return,a,n),u||(w=null);break e}g=k.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(r(341));w.lanes|=a,g=w.alternate,g!==null&&(g.lanes|=a),nh(w,a,n),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===n){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function Ta(n,s,a,u){n=null;for(var f=s,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var k=f.type;Yt(f.pendingProps.value,w.value)||(n!==null?n.push(k):n=[k])}}else if(f===St.current){if(w=f.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(to):n=[to])}f=f.return}n!==null&&rh(s,n,a,u),s.flags|=262144}function cl(n){for(n=n.firstContext;n!==null;){if(!Yt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ms(n){fs=n,Kn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function kt(n){return Mm(fs,n)}function hl(n,s){return fs===null&&ms(n),Mm(n,s)}function Mm(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Kn===null){if(n===null)throw Error(r(308));Kn=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Kn=Kn.next=s;return a}var Qx=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},Zx=c.unstable_scheduleCallback,Kx=c.unstable_NormalPriority,ct={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sh(){return{controller:new Qx,data:new Map,refCount:0}}function za(n){n.refCount--,n.refCount===0&&Zx(Kx,function(){n.controller.abort()})}var Ca=null,ih=0,oi=0,li=null;function e1(n,s){if(Ca===null){var a=Ca=[];ih=0,oi=od(),li={status:"pending",value:void 0,then:function(u){a.push(u)}}}return ih++,s.then(_m,_m),s}function _m(){if(--ih===0&&Ca!==null){li!==null&&(li.status="fulfilled");var n=Ca;Ca=null,oi=0,li=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function t1(n,s){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var km=V.S;V.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&e1(n,s),km!==null&&km(n,s)};var gs=q(null);function ah(){var n=gs.current;return n!==null?n:Je.pooledCache}function dl(n,s){s===null?K(gs,gs.current):K(gs,s.pool)}function Tm(){var n=ah();return n===null?null:{parent:ct._currentValue,pool:n}}var Aa=Error(r(460)),zm=Error(r(474)),pl=Error(r(542)),oh={then:function(){}};function Cm(n){return n=n.status,n==="fulfilled"||n==="rejected"}function fl(){}function Am(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(fl,fl),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Im(n),n;default:if(typeof s.status=="string")s.then(fl,fl);else{if(n=Je,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Im(n),n}throw Ea=s,Aa}}var Ea=null;function Em(){if(Ea===null)throw Error(r(459));var n=Ea;return Ea=null,n}function Im(n){if(n===Aa||n===pl)throw Error(r(483))}var zr=!1;function lh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uh(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Cr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ar(n,s,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Fe&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=al(n),ym(n,null,a),s}return il(n,u,s,a),al(n)}function Ia(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,a|=u,s.lanes=a,_f(n,a)}}function ch(n,s){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?f=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var hh=!1;function Pa(){if(hh){var n=li;if(n!==null)throw n}}function Ra(n,s,a,u){hh=!1;var f=n.updateQueue;zr=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,k=f.shared.pending;if(k!==null){f.shared.pending=null;var E=k,B=E.next;E.next=null,w===null?g=B:w.next=B,w=E;var U=n.alternate;U!==null&&(U=U.updateQueue,k=U.lastBaseUpdate,k!==w&&(k===null?U.firstBaseUpdate=B:k.next=B,U.lastBaseUpdate=E))}if(g!==null){var $=f.baseState;w=0,U=B=E=null,k=g;do{var F=k.lane&-536870913,j=F!==k.lane;if(j?(Le&F)===F:(u&F)===F){F!==0&&F===oi&&(hh=!0),U!==null&&(U=U.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var ge=n,de=k;F=s;var We=a;switch(de.tag){case 1:if(ge=de.payload,typeof ge=="function"){$=ge.call(We,$,F);break e}$=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=de.payload,F=typeof ge=="function"?ge.call(We,$,F):ge,F==null)break e;$=m({},$,F);break e;case 2:zr=!0}}F=k.callback,F!==null&&(n.flags|=64,j&&(n.flags|=8192),j=f.callbacks,j===null?f.callbacks=[F]:j.push(F))}else j={lane:F,tag:k.tag,payload:k.payload,callback:k.callback,next:null},U===null?(B=U=j,E=$):U=U.next=j,w|=F;if(k=k.next,k===null){if(k=f.shared.pending,k===null)break;j=k,k=j.next,j.next=null,f.lastBaseUpdate=j,f.shared.pending=null}}while(!0);U===null&&(E=$),f.baseState=E,f.firstBaseUpdate=B,f.lastBaseUpdate=U,g===null&&(f.shared.lanes=0),Nr|=w,n.lanes=w,n.memoizedState=$}}function Pm(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function Rm(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Pm(a[n],s)}var ui=q(null),ml=q(0);function Lm(n,s){n=lr,K(ml,n),K(ui,s),lr=n|s.baseLanes}function dh(){K(ml,lr),K(ui,ui.current)}function ph(){lr=ml.current,Z(ui),Z(ml)}var Er=0,Te=null,Ve=null,ot=null,gl=!1,ci=!1,ys=!1,yl=0,La=0,hi=null,n1=0;function st(){throw Error(r(321))}function fh(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Yt(n[a],s[a]))return!1;return!0}function mh(n,s,a,u,f,g){return Er=g,Te=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,V.H=n===null||n.memoizedState===null?yg:vg,ys=!1,g=a(u,f),ys=!1,ci&&(g=Bm(s,a,u,f)),Om(n),g}function Om(n){V.H=Ml;var s=Ve!==null&&Ve.next!==null;if(Er=0,ot=Ve=Te=null,gl=!1,La=0,hi=null,s)throw Error(r(300));n===null||ft||(n=n.dependencies,n!==null&&cl(n)&&(ft=!0))}function Bm(n,s,a,u){Te=n;var f=0;do{if(ci&&(hi=null),La=0,ci=!1,25<=f)throw Error(r(301));if(f+=1,ot=Ve=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}V.H=u1,g=s(a,u)}while(ci);return g}function r1(){var n=V.H,s=n.useState()[0];return s=typeof s.then=="function"?Oa(s):s,n=n.useState()[0],(Ve!==null?Ve.memoizedState:null)!==n&&(Te.flags|=1024),s}function gh(){var n=yl!==0;return yl=0,n}function yh(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function vh(n){if(gl){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}gl=!1}Er=0,ot=Ve=Te=null,ci=!1,La=yl=0,hi=null}function Ht(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Te.memoizedState=ot=n:ot=ot.next=n,ot}function lt(){if(Ve===null){var n=Te.alternate;n=n!==null?n.memoizedState:null}else n=Ve.next;var s=ot===null?Te.memoizedState:ot.next;if(s!==null)ot=s,Ve=n;else{if(n===null)throw Te.alternate===null?Error(r(467)):Error(r(310));Ve=n,n={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},ot===null?Te.memoizedState=ot=n:ot=ot.next=n}return ot}function bh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oa(n){var s=La;return La+=1,hi===null&&(hi=[]),n=Am(hi,n,s),s=Te,(ot===null?s.memoizedState:ot.next)===null&&(s=s.alternate,V.H=s===null||s.memoizedState===null?yg:vg),n}function vl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Oa(n);if(n.$$typeof===z)return kt(n)}throw Error(r(438,String(n)))}function xh(n){var s=null,a=Te.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var u=Te.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=bh(),Te.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),u=0;u<n;u++)a[u]=G;return s.index++,a}function tr(n,s){return typeof s=="function"?s(n):s}function bl(n){var s=lt();return wh(s,Ve,n)}function wh(n,s,a){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var f=n.baseQueue,g=u.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}s.baseQueue=f=g,u.pending=null}if(g=n.baseState,f===null)n.memoizedState=g;else{s=f.next;var k=w=null,E=null,B=s,U=!1;do{var $=B.lane&-536870913;if($!==B.lane?(Le&$)===$:(Er&$)===$){var F=B.revertLane;if(F===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===oi&&(U=!0);else if((Er&F)===F){B=B.next,F===oi&&(U=!0);continue}else $={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},E===null?(k=E=$,w=g):E=E.next=$,Te.lanes|=F,Nr|=F;$=B.action,ys&&a(g,$),g=B.hasEagerState?B.eagerState:a(g,$)}else F={lane:$,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},E===null?(k=E=F,w=g):E=E.next=F,Te.lanes|=$,Nr|=$;B=B.next}while(B!==null&&B!==s);if(E===null?w=g:E.next=k,!Yt(g,n.memoizedState)&&(ft=!0,U&&(a=li,a!==null)))throw a;n.memoizedState=g,n.baseState=w,n.baseQueue=E,u.lastRenderedState=g}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Sh(n){var s=lt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do g=n(g,w.action),w=w.next;while(w!==f);Yt(g,s.memoizedState)||(ft=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,u]}function Nm(n,s,a){var u=Te,f=lt(),g=De;if(g){if(a===void 0)throw Error(r(407));a=a()}else a=s();var w=!Yt((Ve||f).memoizedState,a);w&&(f.memoizedState=a,ft=!0),f=f.queue;var k=jm.bind(null,u,f,n);if(Ba(2048,8,k,[n]),f.getSnapshot!==s||w||ot!==null&&ot.memoizedState.tag&1){if(u.flags|=2048,di(9,xl(),Fm.bind(null,u,f,a,s),null),Je===null)throw Error(r(349));g||(Er&124)!==0||Dm(u,s,a)}return a}function Dm(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Te.updateQueue,s===null?(s=bh(),Te.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Fm(n,s,a,u){s.value=a,s.getSnapshot=u,Vm(s)&&Hm(n)}function jm(n,s,a){return a(function(){Vm(s)&&Hm(n)})}function Vm(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Yt(n,a)}catch{return!0}}function Hm(n){var s=ri(n,2);s!==null&&nn(s,n,2)}function Mh(n){var s=Ht();if(typeof n=="function"){var a=n;if(n=a(),ys){Mn(!0);try{a()}finally{Mn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:n},s}function Wm(n,s,a,u){return n.baseState=a,wh(n,Ve,typeof u=="function"?u:tr)}function s1(n,s,a,u,f){if(Sl(n))throw Error(r(485));if(n=s.action,n!==null){var g={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};V.T!==null?a(!0):g.isTransition=!1,u(g),a=s.pending,a===null?(g.next=s.pending=g,Um(s,g)):(g.next=a.next,s.pending=a.next=g)}}function Um(n,s){var a=s.action,u=s.payload,f=n.state;if(s.isTransition){var g=V.T,w={};V.T=w;try{var k=a(f,u),E=V.S;E!==null&&E(w,k),qm(n,s,k)}catch(B){_h(n,s,B)}finally{V.T=g}}else try{g=a(f,u),qm(n,s,g)}catch(B){_h(n,s,B)}}function qm(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Xm(n,s,u)},function(u){return _h(n,s,u)}):Xm(n,s,a)}function Xm(n,s,a){s.status="fulfilled",s.value=a,Jm(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,Um(n,a)))}function _h(n,s,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=a,Jm(s),s=s.next;while(s!==u)}n.action=null}function Jm(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function $m(n,s){return s}function Gm(n,s){if(De){var a=Je.formState;if(a!==null){e:{var u=Te;if(De){if(tt){t:{for(var f=tt,g=Ln;f.nodeType!==8;){if(!g){f=null;break t}if(f=zn(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){tt=zn(f.nextSibling),u=f.data==="F!";break e}}ps(u)}u=!1}u&&(s=a[0])}}return a=Ht(),a.memoizedState=a.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$m,lastRenderedState:s},a.queue=u,a=fg.bind(null,Te,u),u.dispatch=a,u=Mh(!1),g=Ah.bind(null,Te,!1,u.queue),u=Ht(),f={state:s,dispatch:null,action:n,pending:null},u.queue=f,a=s1.bind(null,Te,f,g,a),f.dispatch=a,u.memoizedState=n,[s,a,!1]}function Ym(n){var s=lt();return Qm(s,Ve,n)}function Qm(n,s,a){if(s=wh(n,s,$m)[0],n=bl(tr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Oa(s)}catch(w){throw w===Aa?pl:w}else u=s;s=lt();var f=s.queue,g=f.dispatch;return a!==s.memoizedState&&(Te.flags|=2048,di(9,xl(),i1.bind(null,f,a),null)),[u,g,n]}function i1(n,s){n.action=s}function Zm(n){var s=lt(),a=Ve;if(a!==null)return Qm(s,a,n);lt(),s=s.memoizedState,a=lt();var u=a.queue.dispatch;return a.memoizedState=n,[s,u,!1]}function di(n,s,a,u){return n={tag:n,create:a,deps:u,inst:s,next:null},s=Te.updateQueue,s===null&&(s=bh(),Te.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,s.lastEffect=n),n}function xl(){return{destroy:void 0,resource:void 0}}function Km(){return lt().memoizedState}function wl(n,s,a,u){var f=Ht();u=u===void 0?null:u,Te.flags|=n,f.memoizedState=di(1|s,xl(),a,u)}function Ba(n,s,a,u){var f=lt();u=u===void 0?null:u;var g=f.memoizedState.inst;Ve!==null&&u!==null&&fh(u,Ve.memoizedState.deps)?f.memoizedState=di(s,g,a,u):(Te.flags|=n,f.memoizedState=di(1|s,g,a,u))}function eg(n,s){wl(8390656,8,n,s)}function tg(n,s){Ba(2048,8,n,s)}function ng(n,s){return Ba(4,2,n,s)}function rg(n,s){return Ba(4,4,n,s)}function sg(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function ig(n,s,a){a=a!=null?a.concat([n]):null,Ba(4,4,sg.bind(null,s,n),a)}function kh(){}function ag(n,s){var a=lt();s=s===void 0?null:s;var u=a.memoizedState;return s!==null&&fh(s,u[1])?u[0]:(a.memoizedState=[n,s],n)}function og(n,s){var a=lt();s=s===void 0?null:s;var u=a.memoizedState;if(s!==null&&fh(s,u[1]))return u[0];if(u=n(),ys){Mn(!0);try{n()}finally{Mn(!1)}}return a.memoizedState=[u,s],u}function Th(n,s,a){return a===void 0||(Er&1073741824)!==0?n.memoizedState=s:(n.memoizedState=a,n=cy(),Te.lanes|=n,Nr|=n,a)}function lg(n,s,a,u){return Yt(a,s)?a:ui.current!==null?(n=Th(n,a,u),Yt(n,s)||(ft=!0),n):(Er&42)===0?(ft=!0,n.memoizedState=a):(n=cy(),Te.lanes|=n,Nr|=n,s)}function ug(n,s,a,u,f){var g=Q.p;Q.p=g!==0&&8>g?g:8;var w=V.T,k={};V.T=k,Ah(n,!1,s,a);try{var E=f(),B=V.S;if(B!==null&&B(k,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var U=t1(E,u);Na(n,s,U,tn(n))}else Na(n,s,u,tn(n))}catch($){Na(n,s,{then:function(){},status:"rejected",reason:$},tn())}finally{Q.p=g,V.T=w}}function a1(){}function zh(n,s,a,u){if(n.tag!==5)throw Error(r(476));var f=cg(n).queue;ug(n,f,s,ae,a===null?a1:function(){return hg(n),a(u)})}function cg(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:ae},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function hg(n){var s=cg(n).next.queue;Na(n,s,{},tn())}function Ch(){return kt(to)}function dg(){return lt().memoizedState}function pg(){return lt().memoizedState}function o1(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=tn();n=Cr(a);var u=Ar(s,n,a);u!==null&&(nn(u,s,a),Ia(u,s,a)),s={cache:sh()},n.payload=s;return}s=s.return}}function l1(n,s,a){var u=tn();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Sl(n)?mg(s,a):(a=$c(n,s,a,u),a!==null&&(nn(a,n,u),gg(a,s,u)))}function fg(n,s,a){var u=tn();Na(n,s,a,u)}function Na(n,s,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Sl(n))mg(s,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,k=g(w,a);if(f.hasEagerState=!0,f.eagerState=k,Yt(k,w))return il(n,s,f,0),Je===null&&sl(),!1}catch{}finally{}if(a=$c(n,s,f,u),a!==null)return nn(a,n,u),gg(a,s,u),!0}return!1}function Ah(n,s,a,u){if(u={lane:2,revertLane:od(),action:u,hasEagerState:!1,eagerState:null,next:null},Sl(n)){if(s)throw Error(r(479))}else s=$c(n,a,u,2),s!==null&&nn(s,n,2)}function Sl(n){var s=n.alternate;return n===Te||s!==null&&s===Te}function mg(n,s){ci=gl=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function gg(n,s,a){if((a&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,a|=u,s.lanes=a,_f(n,a)}}var Ml={readContext:kt,use:vl,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st},yg={readContext:kt,use:vl,useCallback:function(n,s){return Ht().memoizedState=[n,s===void 0?null:s],n},useContext:kt,useEffect:eg,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,wl(4194308,4,sg.bind(null,s,n),a)},useLayoutEffect:function(n,s){return wl(4194308,4,n,s)},useInsertionEffect:function(n,s){wl(4,2,n,s)},useMemo:function(n,s){var a=Ht();s=s===void 0?null:s;var u=n();if(ys){Mn(!0);try{n()}finally{Mn(!1)}}return a.memoizedState=[u,s],u},useReducer:function(n,s,a){var u=Ht();if(a!==void 0){var f=a(s);if(ys){Mn(!0);try{a(s)}finally{Mn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=l1.bind(null,Te,n),[u.memoizedState,n]},useRef:function(n){var s=Ht();return n={current:n},s.memoizedState=n},useState:function(n){n=Mh(n);var s=n.queue,a=fg.bind(null,Te,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:kh,useDeferredValue:function(n,s){var a=Ht();return Th(a,n,s)},useTransition:function(){var n=Mh(!1);return n=ug.bind(null,Te,n.queue,!0,!1),Ht().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var u=Te,f=Ht();if(De){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),Je===null)throw Error(r(349));(Le&124)!==0||Dm(u,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,eg(jm.bind(null,u,g,n),[n]),u.flags|=2048,di(9,xl(),Fm.bind(null,u,g,a,s),null),a},useId:function(){var n=Ht(),s=Je.identifierPrefix;if(De){var a=Zn,u=Qn;a=(u&~(1<<32-Rt(u)-1)).toString(32)+a,s=""+s+"R"+a,a=yl++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=n1++,s=""+s+"r"+a.toString(32)+"";return n.memoizedState=s},useHostTransitionStatus:Ch,useFormState:Gm,useActionState:Gm,useOptimistic:function(n){var s=Ht();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Ah.bind(null,Te,!0,a),a.dispatch=s,[n,s]},useMemoCache:xh,useCacheRefresh:function(){return Ht().memoizedState=o1.bind(null,Te)}},vg={readContext:kt,use:vl,useCallback:ag,useContext:kt,useEffect:tg,useImperativeHandle:ig,useInsertionEffect:ng,useLayoutEffect:rg,useMemo:og,useReducer:bl,useRef:Km,useState:function(){return bl(tr)},useDebugValue:kh,useDeferredValue:function(n,s){var a=lt();return lg(a,Ve.memoizedState,n,s)},useTransition:function(){var n=bl(tr)[0],s=lt().memoizedState;return[typeof n=="boolean"?n:Oa(n),s]},useSyncExternalStore:Nm,useId:dg,useHostTransitionStatus:Ch,useFormState:Ym,useActionState:Ym,useOptimistic:function(n,s){var a=lt();return Wm(a,Ve,n,s)},useMemoCache:xh,useCacheRefresh:pg},u1={readContext:kt,use:vl,useCallback:ag,useContext:kt,useEffect:tg,useImperativeHandle:ig,useInsertionEffect:ng,useLayoutEffect:rg,useMemo:og,useReducer:Sh,useRef:Km,useState:function(){return Sh(tr)},useDebugValue:kh,useDeferredValue:function(n,s){var a=lt();return Ve===null?Th(a,n,s):lg(a,Ve.memoizedState,n,s)},useTransition:function(){var n=Sh(tr)[0],s=lt().memoizedState;return[typeof n=="boolean"?n:Oa(n),s]},useSyncExternalStore:Nm,useId:dg,useHostTransitionStatus:Ch,useFormState:Zm,useActionState:Zm,useOptimistic:function(n,s){var a=lt();return Ve!==null?Wm(a,Ve,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:xh,useCacheRefresh:pg},pi=null,Da=0;function _l(n){var s=Da;return Da+=1,pi===null&&(pi=[]),Am(pi,n,s)}function Fa(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function kl(n,s){throw s.$$typeof===y?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function bg(n){var s=n._init;return s(n._payload)}function xg(n){function s(L,P){if(n){var O=L.deletions;O===null?(L.deletions=[P],L.flags|=16):O.push(P)}}function a(L,P){if(!n)return null;for(;P!==null;)s(L,P),P=P.sibling;return null}function u(L){for(var P=new Map;L!==null;)L.key!==null?P.set(L.key,L):P.set(L.index,L),L=L.sibling;return P}function f(L,P){return L=Yn(L,P),L.index=0,L.sibling=null,L}function g(L,P,O){return L.index=O,n?(O=L.alternate,O!==null?(O=O.index,O<P?(L.flags|=67108866,P):O):(L.flags|=67108866,P)):(L.flags|=1048576,P)}function w(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function k(L,P,O,X){return P===null||P.tag!==6?(P=Yc(O,L.mode,X),P.return=L,P):(P=f(P,O),P.return=L,P)}function E(L,P,O,X){var ie=O.type;return ie===x?U(L,P,O.props.children,X,O.key):P!==null&&(P.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===D&&bg(ie)===P.type)?(P=f(P,O.props),Fa(P,O),P.return=L,P):(P=ol(O.type,O.key,O.props,null,L.mode,X),Fa(P,O),P.return=L,P)}function B(L,P,O,X){return P===null||P.tag!==4||P.stateNode.containerInfo!==O.containerInfo||P.stateNode.implementation!==O.implementation?(P=Qc(O,L.mode,X),P.return=L,P):(P=f(P,O.children||[]),P.return=L,P)}function U(L,P,O,X,ie){return P===null||P.tag!==7?(P=us(O,L.mode,X,ie),P.return=L,P):(P=f(P,O),P.return=L,P)}function $(L,P,O){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Yc(""+P,L.mode,O),P.return=L,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case v:return O=ol(P.type,P.key,P.props,null,L.mode,O),Fa(O,P),O.return=L,O;case b:return P=Qc(P,L.mode,O),P.return=L,P;case D:var X=P._init;return P=X(P._payload),$(L,P,O)}if(_e(P)||le(P))return P=us(P,L.mode,O,null),P.return=L,P;if(typeof P.then=="function")return $(L,_l(P),O);if(P.$$typeof===z)return $(L,hl(L,P),O);kl(L,P)}return null}function F(L,P,O,X){var ie=P!==null?P.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return ie!==null?null:k(L,P,""+O,X);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case v:return O.key===ie?E(L,P,O,X):null;case b:return O.key===ie?B(L,P,O,X):null;case D:return ie=O._init,O=ie(O._payload),F(L,P,O,X)}if(_e(O)||le(O))return ie!==null?null:U(L,P,O,X,null);if(typeof O.then=="function")return F(L,P,_l(O),X);if(O.$$typeof===z)return F(L,P,hl(L,O),X);kl(L,O)}return null}function j(L,P,O,X,ie){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(O)||null,k(P,L,""+X,ie);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case v:return L=L.get(X.key===null?O:X.key)||null,E(P,L,X,ie);case b:return L=L.get(X.key===null?O:X.key)||null,B(P,L,X,ie);case D:var Ce=X._init;return X=Ce(X._payload),j(L,P,O,X,ie)}if(_e(X)||le(X))return L=L.get(O)||null,U(P,L,X,ie,null);if(typeof X.then=="function")return j(L,P,O,_l(X),ie);if(X.$$typeof===z)return j(L,P,O,hl(P,X),ie);kl(P,X)}return null}function ge(L,P,O,X){for(var ie=null,Ce=null,ue=P,pe=P=0,gt=null;ue!==null&&pe<O.length;pe++){ue.index>pe?(gt=ue,ue=null):gt=ue.sibling;var Oe=F(L,ue,O[pe],X);if(Oe===null){ue===null&&(ue=gt);break}n&&ue&&Oe.alternate===null&&s(L,ue),P=g(Oe,P,pe),Ce===null?ie=Oe:Ce.sibling=Oe,Ce=Oe,ue=gt}if(pe===O.length)return a(L,ue),De&&hs(L,pe),ie;if(ue===null){for(;pe<O.length;pe++)ue=$(L,O[pe],X),ue!==null&&(P=g(ue,P,pe),Ce===null?ie=ue:Ce.sibling=ue,Ce=ue);return De&&hs(L,pe),ie}for(ue=u(ue);pe<O.length;pe++)gt=j(ue,L,pe,O[pe],X),gt!==null&&(n&&gt.alternate!==null&&ue.delete(gt.key===null?pe:gt.key),P=g(gt,P,pe),Ce===null?ie=gt:Ce.sibling=gt,Ce=gt);return n&&ue.forEach(function(Xr){return s(L,Xr)}),De&&hs(L,pe),ie}function de(L,P,O,X){if(O==null)throw Error(r(151));for(var ie=null,Ce=null,ue=P,pe=P=0,gt=null,Oe=O.next();ue!==null&&!Oe.done;pe++,Oe=O.next()){ue.index>pe?(gt=ue,ue=null):gt=ue.sibling;var Xr=F(L,ue,Oe.value,X);if(Xr===null){ue===null&&(ue=gt);break}n&&ue&&Xr.alternate===null&&s(L,ue),P=g(Xr,P,pe),Ce===null?ie=Xr:Ce.sibling=Xr,Ce=Xr,ue=gt}if(Oe.done)return a(L,ue),De&&hs(L,pe),ie;if(ue===null){for(;!Oe.done;pe++,Oe=O.next())Oe=$(L,Oe.value,X),Oe!==null&&(P=g(Oe,P,pe),Ce===null?ie=Oe:Ce.sibling=Oe,Ce=Oe);return De&&hs(L,pe),ie}for(ue=u(ue);!Oe.done;pe++,Oe=O.next())Oe=j(ue,L,pe,Oe.value,X),Oe!==null&&(n&&Oe.alternate!==null&&ue.delete(Oe.key===null?pe:Oe.key),P=g(Oe,P,pe),Ce===null?ie=Oe:Ce.sibling=Oe,Ce=Oe);return n&&ue.forEach(function(cw){return s(L,cw)}),De&&hs(L,pe),ie}function We(L,P,O,X){if(typeof O=="object"&&O!==null&&O.type===x&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case v:e:{for(var ie=O.key;P!==null;){if(P.key===ie){if(ie=O.type,ie===x){if(P.tag===7){a(L,P.sibling),X=f(P,O.props.children),X.return=L,L=X;break e}}else if(P.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===D&&bg(ie)===P.type){a(L,P.sibling),X=f(P,O.props),Fa(X,O),X.return=L,L=X;break e}a(L,P);break}else s(L,P);P=P.sibling}O.type===x?(X=us(O.props.children,L.mode,X,O.key),X.return=L,L=X):(X=ol(O.type,O.key,O.props,null,L.mode,X),Fa(X,O),X.return=L,L=X)}return w(L);case b:e:{for(ie=O.key;P!==null;){if(P.key===ie)if(P.tag===4&&P.stateNode.containerInfo===O.containerInfo&&P.stateNode.implementation===O.implementation){a(L,P.sibling),X=f(P,O.children||[]),X.return=L,L=X;break e}else{a(L,P);break}else s(L,P);P=P.sibling}X=Qc(O,L.mode,X),X.return=L,L=X}return w(L);case D:return ie=O._init,O=ie(O._payload),We(L,P,O,X)}if(_e(O))return ge(L,P,O,X);if(le(O)){if(ie=le(O),typeof ie!="function")throw Error(r(150));return O=ie.call(O),de(L,P,O,X)}if(typeof O.then=="function")return We(L,P,_l(O),X);if(O.$$typeof===z)return We(L,P,hl(L,O),X);kl(L,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,P!==null&&P.tag===6?(a(L,P.sibling),X=f(P,O),X.return=L,L=X):(a(L,P),X=Yc(O,L.mode,X),X.return=L,L=X),w(L)):a(L,P)}return function(L,P,O,X){try{Da=0;var ie=We(L,P,O,X);return pi=null,ie}catch(ue){if(ue===Aa||ue===pl)throw ue;var Ce=Qt(29,ue,null,L.mode);return Ce.lanes=X,Ce.return=L,Ce}finally{}}}var fi=xg(!0),wg=xg(!1),gn=q(null),nr=null;function Ir(n){var s=n.alternate;K(ht,ht.current&1),K(gn,n),nr===null&&(s===null||ui.current!==null||s.memoizedState!==null)&&(nr=n)}function Sg(n){if(n.tag===22){if(K(ht,ht.current),K(gn,n),nr===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(nr=n)}}else Pr()}function Pr(){K(ht,ht.current),K(gn,gn.current)}function rr(n){Z(gn),nr===n&&(nr=null),Z(ht)}var ht=q(0);function Tl(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||bd(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Eh(n,s,a,u){s=n.memoizedState,a=a(u,s),a=a==null?s:m({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Ih={enqueueSetState:function(n,s,a){n=n._reactInternals;var u=tn(),f=Cr(u);f.payload=s,a!=null&&(f.callback=a),s=Ar(n,f,u),s!==null&&(nn(s,n,u),Ia(s,n,u))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var u=tn(),f=Cr(u);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Ar(n,f,u),s!==null&&(nn(s,n,u),Ia(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=tn(),u=Cr(a);u.tag=2,s!=null&&(u.callback=s),s=Ar(n,u,a),s!==null&&(nn(s,n,a),Ia(s,n,a))}};function Mg(n,s,a,u,f,g,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,g,w):s.prototype&&s.prototype.isPureReactComponent?!wa(a,u)||!wa(f,g):!0}function _g(n,s,a,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,u),s.state!==n&&Ih.enqueueReplaceState(s,s.state,null)}function vs(n,s){var a=s;if("ref"in s){a={};for(var u in s)u!=="ref"&&(a[u]=s[u])}if(n=n.defaultProps){a===s&&(a=m({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var zl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function kg(n){zl(n)}function Tg(n){console.error(n)}function zg(n){zl(n)}function Cl(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Cg(n,s,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ph(n,s,a){return a=Cr(a),a.tag=3,a.payload={element:null},a.callback=function(){Cl(n,s)},a}function Ag(n){return n=Cr(n),n.tag=3,n}function Eg(n,s,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;n.payload=function(){return f(g)},n.callback=function(){Cg(s,a,u)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){Cg(s,a,u),typeof f!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var k=u.stack;this.componentDidCatch(u.value,{componentStack:k!==null?k:""})})}function c1(n,s,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=a.alternate,s!==null&&Ta(s,a,f,!0),a=gn.current,a!==null){switch(a.tag){case 13:return nr===null?nd():a.alternate===null&&nt===0&&(nt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===oh?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([u]):s.add(u),sd(n,u,f)),!1;case 22:return a.flags|=65536,u===oh?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([u]):a.add(u)),sd(n,u,f)),!1}throw Error(r(435,a.tag))}return sd(n,u,f),nd(),!1}if(De)return s=gn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==eh&&(n=Error(r(422),{cause:u}),ka(dn(n,a)))):(u!==eh&&(s=Error(r(423),{cause:u}),ka(dn(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=dn(u,a),f=Ph(n.stateNode,u,f),ch(n,f),nt!==4&&(nt=2)),!1;var g=Error(r(520),{cause:u});if(g=dn(g,a),Xa===null?Xa=[g]:Xa.push(g),nt!==4&&(nt=2),s===null)return!0;u=dn(u,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Ph(a.stateNode,u,n),ch(a,n),!1;case 1:if(s=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Dr===null||!Dr.has(g))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Ag(f),Eg(f,n,a,u),ch(a,f),!1}a=a.return}while(a!==null);return!1}var Ig=Error(r(461)),ft=!1;function bt(n,s,a,u){s.child=n===null?wg(s,null,a,u):fi(s,n.child,a,u)}function Pg(n,s,a,u,f){a=a.render;var g=s.ref;if("ref"in u){var w={};for(var k in u)k!=="ref"&&(w[k]=u[k])}else w=u;return ms(s),u=mh(n,s,a,w,g,f),k=gh(),n!==null&&!ft?(yh(n,s,f),sr(n,s,f)):(De&&k&&Zc(s),s.flags|=1,bt(n,s,u,f),s.child)}function Rg(n,s,a,u,f){if(n===null){var g=a.type;return typeof g=="function"&&!Gc(g)&&g.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=g,Lg(n,s,g,u,f)):(n=ol(a.type,null,u,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,!jh(n,f)){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:wa,a(w,u)&&n.ref===s.ref)return sr(n,s,f)}return s.flags|=1,n=Yn(g,u),n.ref=s.ref,n.return=s,s.child=n}function Lg(n,s,a,u,f){if(n!==null){var g=n.memoizedProps;if(wa(g,u)&&n.ref===s.ref)if(ft=!1,s.pendingProps=u=g,jh(n,f))(n.flags&131072)!==0&&(ft=!0);else return s.lanes=n.lanes,sr(n,s,f)}return Rh(n,s,a,u,f)}function Og(n,s,a){var u=s.pendingProps,f=u.children,g=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|a:a,n!==null){for(f=s.child=n.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return Bg(n,s,u,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&dl(s,g!==null?g.cachePool:null),g!==null?Lm(s,g):dh(),Sg(s);else return s.lanes=s.childLanes=536870912,Bg(n,s,g!==null?g.baseLanes|a:a,a)}else g!==null?(dl(s,g.cachePool),Lm(s,g),Pr(),s.memoizedState=null):(n!==null&&dl(s,null),dh(),Pr());return bt(n,s,f,a),s.child}function Bg(n,s,a,u){var f=ah();return f=f===null?null:{parent:ct._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},n!==null&&dl(s,null),dh(),Sg(s),n!==null&&Ta(n,s,u,!0),null}function Al(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Rh(n,s,a,u,f){return ms(s),a=mh(n,s,a,u,void 0,f),u=gh(),n!==null&&!ft?(yh(n,s,f),sr(n,s,f)):(De&&u&&Zc(s),s.flags|=1,bt(n,s,a,f),s.child)}function Ng(n,s,a,u,f,g){return ms(s),s.updateQueue=null,a=Bm(s,u,a,f),Om(n),u=gh(),n!==null&&!ft?(yh(n,s,g),sr(n,s,g)):(De&&u&&Zc(s),s.flags|=1,bt(n,s,a,g),s.child)}function Dg(n,s,a,u,f){if(ms(s),s.stateNode===null){var g=si,w=a.contextType;typeof w=="object"&&w!==null&&(g=kt(w)),g=new a(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ih,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},lh(s),w=a.contextType,g.context=typeof w=="object"&&w!==null?kt(w):si,g.state=s.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(Eh(s,a,w,u),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&Ih.enqueueReplaceState(g,g.state,null),Ra(s,u,g,f),Pa(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){g=s.stateNode;var k=s.memoizedProps,E=vs(a,k);g.props=E;var B=g.context,U=a.contextType;w=si,typeof U=="object"&&U!==null&&(w=kt(U));var $=a.getDerivedStateFromProps;U=typeof $=="function"||typeof g.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,U||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(k||B!==w)&&_g(s,g,u,w),zr=!1;var F=s.memoizedState;g.state=F,Ra(s,u,g,f),Pa(),B=s.memoizedState,k||F!==B||zr?(typeof $=="function"&&(Eh(s,a,$,u),B=s.memoizedState),(E=zr||Mg(s,a,E,u,F,B,w))?(U||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=B),g.props=u,g.state=B,g.context=w,u=E):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,uh(n,s),w=s.memoizedProps,U=vs(a,w),g.props=U,$=s.pendingProps,F=g.context,B=a.contextType,E=si,typeof B=="object"&&B!==null&&(E=kt(B)),k=a.getDerivedStateFromProps,(B=typeof k=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==$||F!==E)&&_g(s,g,u,E),zr=!1,F=s.memoizedState,g.state=F,Ra(s,u,g,f),Pa();var j=s.memoizedState;w!==$||F!==j||zr||n!==null&&n.dependencies!==null&&cl(n.dependencies)?(typeof k=="function"&&(Eh(s,a,k,u),j=s.memoizedState),(U=zr||Mg(s,a,U,u,F,j,E)||n!==null&&n.dependencies!==null&&cl(n.dependencies))?(B||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,j,E),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,j,E)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===n.memoizedProps&&F===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&F===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=j),g.props=u,g.state=j,g.context=E,u=U):(typeof g.componentDidUpdate!="function"||w===n.memoizedProps&&F===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&F===n.memoizedState||(s.flags|=1024),u=!1)}return g=u,Al(n,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,n!==null&&u?(s.child=fi(s,n.child,null,f),s.child=fi(s,null,a,f)):bt(n,s,a,f),s.memoizedState=g.state,n=s.child):n=sr(n,s,f),n}function Fg(n,s,a,u){return _a(),s.flags|=256,bt(n,s,a,u),s.child}var Lh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oh(n){return{baseLanes:n,cachePool:Tm()}}function Bh(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=yn),n}function jg(n,s,a){var u=s.pendingProps,f=!1,g=(s.flags&128)!==0,w;if((w=g)||(w=n!==null&&n.memoizedState===null?!1:(ht.current&2)!==0),w&&(f=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,n===null){if(De){if(f?Ir(s):Pr(),De){var k=tt,E;if(E=k){e:{for(E=k,k=Ln;E.nodeType!==8;){if(!k){k=null;break e}if(E=zn(E.nextSibling),E===null){k=null;break e}}k=E}k!==null?(s.memoizedState={dehydrated:k,treeContext:cs!==null?{id:Qn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},E=Qt(18,null,null,0),E.stateNode=k,E.return=s,s.child=E,Lt=s,tt=null,E=!0):E=!1}E||ps(s)}if(k=s.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return bd(k)?s.lanes=32:s.lanes=536870912,null;rr(s)}return k=u.children,u=u.fallback,f?(Pr(),f=s.mode,k=El({mode:"hidden",children:k},f),u=us(u,f,a,null),k.return=s,u.return=s,k.sibling=u,s.child=k,f=s.child,f.memoizedState=Oh(a),f.childLanes=Bh(n,w,a),s.memoizedState=Lh,u):(Ir(s),Nh(s,k))}if(E=n.memoizedState,E!==null&&(k=E.dehydrated,k!==null)){if(g)s.flags&256?(Ir(s),s.flags&=-257,s=Dh(n,s,a)):s.memoizedState!==null?(Pr(),s.child=n.child,s.flags|=128,s=null):(Pr(),f=u.fallback,k=s.mode,u=El({mode:"visible",children:u.children},k),f=us(f,k,a,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,fi(s,n.child,null,a),u=s.child,u.memoizedState=Oh(a),u.childLanes=Bh(n,w,a),s.memoizedState=Lh,s=f);else if(Ir(s),bd(k)){if(w=k.nextSibling&&k.nextSibling.dataset,w)var B=w.dgst;w=B,u=Error(r(419)),u.stack="",u.digest=w,ka({value:u,source:null,stack:null}),s=Dh(n,s,a)}else if(ft||Ta(n,s,a,!1),w=(a&n.childLanes)!==0,ft||w){if(w=Je,w!==null&&(u=a&-a,u=(u&42)!==0?1:xc(u),u=(u&(w.suspendedLanes|a))!==0?0:u,u!==0&&u!==E.retryLane))throw E.retryLane=u,ri(n,u),nn(w,n,u),Ig;k.data==="$?"||nd(),s=Dh(n,s,a)}else k.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=E.treeContext,tt=zn(k.nextSibling),Lt=s,De=!0,ds=null,Ln=!1,n!==null&&(fn[mn++]=Qn,fn[mn++]=Zn,fn[mn++]=cs,Qn=n.id,Zn=n.overflow,cs=s),s=Nh(s,u.children),s.flags|=4096);return s}return f?(Pr(),f=u.fallback,k=s.mode,E=n.child,B=E.sibling,u=Yn(E,{mode:"hidden",children:u.children}),u.subtreeFlags=E.subtreeFlags&65011712,B!==null?f=Yn(B,f):(f=us(f,k,a,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,k=n.child.memoizedState,k===null?k=Oh(a):(E=k.cachePool,E!==null?(B=ct._currentValue,E=E.parent!==B?{parent:B,pool:B}:E):E=Tm(),k={baseLanes:k.baseLanes|a,cachePool:E}),f.memoizedState=k,f.childLanes=Bh(n,w,a),s.memoizedState=Lh,u):(Ir(s),a=n.child,n=a.sibling,a=Yn(a,{mode:"visible",children:u.children}),a.return=s,a.sibling=null,n!==null&&(w=s.deletions,w===null?(s.deletions=[n],s.flags|=16):w.push(n)),s.child=a,s.memoizedState=null,a)}function Nh(n,s){return s=El({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function El(n,s){return n=Qt(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Dh(n,s,a){return fi(s,n.child,null,a),n=Nh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Vg(n,s,a){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),nh(n.return,s,a)}function Fh(n,s,a,u,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=a,g.tailMode=f)}function Hg(n,s,a){var u=s.pendingProps,f=u.revealOrder,g=u.tail;if(bt(n,s,u.children,a),u=ht.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Vg(n,a,s);else if(n.tag===19)Vg(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(K(ht,u),f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&Tl(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Fh(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Tl(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Fh(s,!0,a,null,g);break;case"together":Fh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function sr(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Nr|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Ta(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=Yn(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Yn(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function jh(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&cl(n)))}function h1(n,s,a){switch(s.tag){case 3:Re(s,s.stateNode.containerInfo),Tr(s,ct,n.memoizedState.cache),_a();break;case 27:case 5:ua(s);break;case 4:Re(s,s.stateNode.containerInfo);break;case 10:Tr(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Ir(s),s.flags|=128,null):(a&s.child.childLanes)!==0?jg(n,s,a):(Ir(s),n=sr(n,s,a),n!==null?n.sibling:null);Ir(s);break;case 19:var f=(n.flags&128)!==0;if(u=(a&s.childLanes)!==0,u||(Ta(n,s,a,!1),u=(a&s.childLanes)!==0),f){if(u)return Hg(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),K(ht,ht.current),u)break;return null;case 22:case 23:return s.lanes=0,Og(n,s,a);case 24:Tr(s,ct,n.memoizedState.cache)}return sr(n,s,a)}function Wg(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)ft=!0;else{if(!jh(n,a)&&(s.flags&128)===0)return ft=!1,h1(n,s,a);ft=(n.flags&131072)!==0}else ft=!1,De&&(s.flags&1048576)!==0&&bm(s,ul,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")Gc(u)?(n=vs(u,n),s.tag=1,s=Dg(null,s,u,n,a)):(s.tag=0,s=Rh(null,s,u,n,a));else{if(u!=null){if(f=u.$$typeof,f===C){s.tag=11,s=Pg(null,s,u,n,a);break e}else if(f===H){s.tag=14,s=Rg(null,s,u,n,a);break e}}throw s=xe(u)||u,Error(r(306,s,""))}}return s;case 0:return Rh(n,s,s.type,s.pendingProps,a);case 1:return u=s.type,f=vs(u,s.pendingProps),Dg(n,s,u,f,a);case 3:e:{if(Re(s,s.stateNode.containerInfo),n===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;f=g.element,uh(n,s),Ra(s,u,null,a);var w=s.memoizedState;if(u=w.cache,Tr(s,ct,u),u!==g.cache&&rh(s,[ct],a,!0),Pa(),u=w.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=Fg(n,s,u,a);break e}else if(u!==f){f=dn(Error(r(424)),s),ka(f),s=Fg(n,s,u,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(tt=zn(n.firstChild),Lt=s,De=!0,ds=null,Ln=!0,a=wg(s,null,u,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(_a(),u===f){s=sr(n,s,a);break e}bt(n,s,u,a)}s=s.child}return s;case 26:return Al(n,s),n===null?(a=Jy(s.type,null,s.pendingProps,null))?s.memoizedState=a:De||(a=s.type,n=s.pendingProps,u=Ul(ye.current).createElement(a),u[_t]=s,u[jt]=n,wt(u,a,n),pt(u),s.stateNode=u):s.memoizedState=Jy(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return ua(s),n===null&&De&&(u=s.stateNode=Uy(s.type,s.pendingProps,ye.current),Lt=s,Ln=!0,f=tt,Vr(s.type)?(xd=f,tt=zn(u.firstChild)):tt=f),bt(n,s,s.pendingProps.children,a),Al(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&De&&((f=u=tt)&&(u=F1(u,s.type,s.pendingProps,Ln),u!==null?(s.stateNode=u,Lt=s,tt=zn(u.firstChild),Ln=!1,f=!0):f=!1),f||ps(s)),ua(s),f=s.type,g=s.pendingProps,w=n!==null?n.memoizedProps:null,u=g.children,gd(f,g)?u=null:w!==null&&gd(f,w)&&(s.flags|=32),s.memoizedState!==null&&(f=mh(n,s,r1,null,null,a),to._currentValue=f),Al(n,s),bt(n,s,u,a),s.child;case 6:return n===null&&De&&((n=a=tt)&&(a=j1(a,s.pendingProps,Ln),a!==null?(s.stateNode=a,Lt=s,tt=null,n=!0):n=!1),n||ps(s)),null;case 13:return jg(n,s,a);case 4:return Re(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=fi(s,null,u,a):bt(n,s,u,a),s.child;case 11:return Pg(n,s,s.type,s.pendingProps,a);case 7:return bt(n,s,s.pendingProps,a),s.child;case 8:return bt(n,s,s.pendingProps.children,a),s.child;case 12:return bt(n,s,s.pendingProps.children,a),s.child;case 10:return u=s.pendingProps,Tr(s,s.type,u.value),bt(n,s,u.children,a),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,ms(s),f=kt(f),u=u(f),s.flags|=1,bt(n,s,u,a),s.child;case 14:return Rg(n,s,s.type,s.pendingProps,a);case 15:return Lg(n,s,s.type,s.pendingProps,a);case 19:return Hg(n,s,a);case 31:return u=s.pendingProps,a=s.mode,u={mode:u.mode,children:u.children},n===null?(a=El(u,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Yn(n.child,u),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Og(n,s,a);case 24:return ms(s),u=kt(ct),n===null?(f=ah(),f===null&&(f=Je,g=sh(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=a),f=g),s.memoizedState={parent:u,cache:f},lh(s),Tr(s,ct,f)):((n.lanes&a)!==0&&(uh(n,s),Ra(s,null,null,a),Pa()),f=n.memoizedState,g=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Tr(s,ct,u)):(u=g.cache,Tr(s,ct,u),u!==f.cache&&rh(s,[ct],a,!0))),bt(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ir(n){n.flags|=4}function Ug(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Zy(s)){if(s=gn.current,s!==null&&((Le&4194048)===Le?nr!==null:(Le&62914560)!==Le&&(Le&536870912)===0||s!==nr))throw Ea=oh,zm;n.flags|=8192}}function Il(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Sf():536870912,n.lanes|=s,vi|=s)}function ja(n,s){if(!De)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Ye(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,s}function d1(n,s,a){var u=s.pendingProps;switch(Kc(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(s),null;case 1:return Ye(s),null;case 3:return a=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),er(ct),$t(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Ma(s)?ir(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Sm())),Ye(s),null;case 26:return a=s.memoizedState,n===null?(ir(s),a!==null?(Ye(s),Ug(s,a)):(Ye(s),s.flags&=-16777217)):a?a!==n.memoizedState?(ir(s),Ye(s),Ug(s,a)):(Ye(s),s.flags&=-16777217):(n.memoizedProps!==u&&ir(s),Ye(s),s.flags&=-16777217),null;case 27:Ft(s),a=ye.current;var f=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==u&&ir(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Ye(s),null}n=ce.current,Ma(s)?xm(s):(n=Uy(f,u,a),s.stateNode=n,ir(s))}return Ye(s),null;case 5:if(Ft(s),a=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&ir(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Ye(s),null}if(n=ce.current,Ma(s))xm(s);else{switch(f=Ul(ye.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}n[_t]=s,n[jt]=u;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=n;e:switch(wt(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ir(s)}}return Ye(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&ir(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(n=ye.current,Ma(s)){if(n=s.stateNode,a=s.memoizedProps,u=null,f=Lt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[_t]=s,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Ny(n.nodeValue,a)),n||ps(s)}else n=Ul(n).createTextNode(u),n[_t]=s,s.stateNode=n}return Ye(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Ma(s),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[_t]=s}else _a(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ye(s),f=!1}else f=Sm(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(rr(s),s):(rr(s),null)}if(rr(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return a!==n&&a&&(s.child.flags|=8192),Il(s,s.updateQueue),Ye(s),null;case 4:return $t(),n===null&&hd(s.stateNode.containerInfo),Ye(s),null;case 10:return er(s.type),Ye(s),null;case 19:if(Z(ht),f=s.memoizedState,f===null)return Ye(s),null;if(u=(s.flags&128)!==0,g=f.rendering,g===null)if(u)ja(f,!1);else{if(nt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(g=Tl(n),g!==null){for(s.flags|=128,ja(f,!1),n=g.updateQueue,s.updateQueue=n,Il(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)vm(a,n),a=a.sibling;return K(ht,ht.current&1|2),s.child}n=n.sibling}f.tail!==null&&se()>Ll&&(s.flags|=128,u=!0,ja(f,!1),s.lanes=4194304)}else{if(!u)if(n=Tl(g),n!==null){if(s.flags|=128,u=!0,n=n.updateQueue,s.updateQueue=n,Il(s,n),ja(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!De)return Ye(s),null}else 2*se()-f.renderingStartTime>Ll&&a!==536870912&&(s.flags|=128,u=!0,ja(f,!1),s.lanes=4194304);f.isBackwards?(g.sibling=s.child,s.child=g):(n=f.last,n!==null?n.sibling=g:s.child=g,f.last=g)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=se(),s.sibling=null,n=ht.current,K(ht,u?n&1|2:n&1),s):(Ye(s),null);case 22:case 23:return rr(s),ph(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(a&536870912)!==0&&(s.flags&128)===0&&(Ye(s),s.subtreeFlags&6&&(s.flags|=8192)):Ye(s),a=s.updateQueue,a!==null&&Il(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==a&&(s.flags|=2048),n!==null&&Z(gs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),er(ct),Ye(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function p1(n,s){switch(Kc(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return er(ct),$t(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Ft(s),null;case 13:if(rr(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));_a()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Z(ht),null;case 4:return $t(),null;case 10:return er(s.type),null;case 22:case 23:return rr(s),ph(),n!==null&&Z(gs),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return er(ct),null;case 25:return null;default:return null}}function qg(n,s){switch(Kc(s),s.tag){case 3:er(ct),$t();break;case 26:case 27:case 5:Ft(s);break;case 4:$t();break;case 13:rr(s);break;case 19:Z(ht);break;case 10:er(s.type);break;case 22:case 23:rr(s),ph(),n!==null&&Z(gs);break;case 24:er(ct)}}function Va(n,s){try{var a=s.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var g=a.create,w=a.inst;u=g(),w.destroy=u}a=a.next}while(a!==f)}}catch(k){Xe(s,s.return,k)}}function Rr(n,s,a){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&n)===n){var w=u.inst,k=w.destroy;if(k!==void 0){w.destroy=void 0,f=s;var E=a,B=k;try{B()}catch(U){Xe(f,E,U)}}}u=u.next}while(u!==g)}}catch(U){Xe(s,s.return,U)}}function Xg(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{Rm(s,a)}catch(u){Xe(n,n.return,u)}}}function Jg(n,s,a){a.props=vs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){Xe(n,s,u)}}function Ha(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof a=="function"?n.refCleanup=a(u):a.current=u}}catch(f){Xe(n,s,f)}}function On(n,s){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){Xe(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xe(n,s,f)}else a.current=null}function $g(n){var s=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){Xe(n,n.return,f)}}function Vh(n,s,a){try{var u=n.stateNode;L1(u,n.type,a,s),u[jt]=s}catch(f){Xe(n,n.return,f)}}function Gg(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Vr(n.type)||n.tag===4}function Hh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Gg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Vr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Wh(n,s,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Wl));else if(u!==4&&(u===27&&Vr(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(Wh(n,s,a),n=n.sibling;n!==null;)Wh(n,s,a),n=n.sibling}function Pl(n,s,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(u!==4&&(u===27&&Vr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Pl(n,s,a),n=n.sibling;n!==null;)Pl(n,s,a),n=n.sibling}function Yg(n){var s=n.stateNode,a=n.memoizedProps;try{for(var u=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);wt(s,u,a),s[_t]=n,s[jt]=a}catch(g){Xe(n,n.return,g)}}var ar=!1,it=!1,Uh=!1,Qg=typeof WeakSet=="function"?WeakSet:Set,mt=null;function f1(n,s){if(n=n.containerInfo,fd=Yl,n=lm(n),Hc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,k=-1,E=-1,B=0,U=0,$=n,F=null;t:for(;;){for(var j;$!==a||f!==0&&$.nodeType!==3||(k=w+f),$!==g||u!==0&&$.nodeType!==3||(E=w+u),$.nodeType===3&&(w+=$.nodeValue.length),(j=$.firstChild)!==null;)F=$,$=j;for(;;){if($===n)break t;if(F===a&&++B===f&&(k=w),F===g&&++U===u&&(E=w),(j=$.nextSibling)!==null)break;$=F,F=$.parentNode}$=j}a=k===-1||E===-1?null:{start:k,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(md={focusedElem:n,selectionRange:a},Yl=!1,mt=s;mt!==null;)if(s=mt,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,mt=n;else for(;mt!==null;){switch(s=mt,g=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,a=s,f=g.memoizedProps,g=g.memoizedState,u=a.stateNode;try{var ge=vs(a.type,f,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(ge,g),u.__reactInternalSnapshotBeforeUpdate=n}catch(de){Xe(a,a.return,de)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)vd(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":vd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,mt=n;break}mt=s.return}}function Zg(n,s,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Lr(n,a),u&4&&Va(5,a);break;case 1:if(Lr(n,a),u&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(w){Xe(a,a.return,w)}else{var f=vs(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(w){Xe(a,a.return,w)}}u&64&&Xg(a),u&512&&Ha(a,a.return);break;case 3:if(Lr(n,a),u&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Rm(n,s)}catch(w){Xe(a,a.return,w)}}break;case 27:s===null&&u&4&&Yg(a);case 26:case 5:Lr(n,a),s===null&&u&4&&$g(a),u&512&&Ha(a,a.return);break;case 12:Lr(n,a);break;case 13:Lr(n,a),u&4&&ty(n,a),u&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=M1.bind(null,a),V1(n,a))));break;case 22:if(u=a.memoizedState!==null||ar,!u){s=s!==null&&s.memoizedState!==null||it,f=ar;var g=it;ar=u,(it=s)&&!g?Or(n,a,(a.subtreeFlags&8772)!==0):Lr(n,a),ar=f,it=g}break;case 30:break;default:Lr(n,a)}}function Kg(n){var s=n.alternate;s!==null&&(n.alternate=null,Kg(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Mc(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ge=null,Wt=!1;function or(n,s,a){for(a=a.child;a!==null;)ey(n,s,a),a=a.sibling}function ey(n,s,a){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Mr,a)}catch{}switch(a.tag){case 26:it||On(a,s),or(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:it||On(a,s);var u=Ge,f=Wt;Vr(a.type)&&(Ge=a.stateNode,Wt=!1),or(n,s,a),Qa(a.stateNode),Ge=u,Wt=f;break;case 5:it||On(a,s);case 6:if(u=Ge,f=Wt,Ge=null,or(n,s,a),Ge=u,Wt=f,Ge!==null)if(Wt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(a.stateNode)}catch(g){Xe(a,s,g)}else try{Ge.removeChild(a.stateNode)}catch(g){Xe(a,s,g)}break;case 18:Ge!==null&&(Wt?(n=Ge,Hy(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),io(n)):Hy(Ge,a.stateNode));break;case 4:u=Ge,f=Wt,Ge=a.stateNode.containerInfo,Wt=!0,or(n,s,a),Ge=u,Wt=f;break;case 0:case 11:case 14:case 15:it||Rr(2,a,s),it||Rr(4,a,s),or(n,s,a);break;case 1:it||(On(a,s),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Jg(a,s,u)),or(n,s,a);break;case 21:or(n,s,a);break;case 22:it=(u=it)||a.memoizedState!==null,or(n,s,a),it=u;break;default:or(n,s,a)}}function ty(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{io(n)}catch(a){Xe(s,s.return,a)}}function m1(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Qg),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Qg),s;default:throw Error(r(435,n.tag))}}function qh(n,s){var a=m1(n);s.forEach(function(u){var f=_1.bind(null,n,u);a.has(u)||(a.add(u),u.then(f,f))})}function Zt(n,s){var a=s.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],g=n,w=s,k=w;e:for(;k!==null;){switch(k.tag){case 27:if(Vr(k.type)){Ge=k.stateNode,Wt=!1;break e}break;case 5:Ge=k.stateNode,Wt=!1;break e;case 3:case 4:Ge=k.stateNode.containerInfo,Wt=!0;break e}k=k.return}if(Ge===null)throw Error(r(160));ey(g,w,f),Ge=null,Wt=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)ny(s,n),s=s.sibling}var Tn=null;function ny(n,s){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Zt(s,n),Kt(n),u&4&&(Rr(3,n,n.return),Va(3,n),Rr(5,n,n.return));break;case 1:Zt(s,n),Kt(n),u&512&&(it||a===null||On(a,a.return)),u&64&&ar&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=Tn;if(Zt(s,n),Kt(n),u&512&&(it||a===null||On(a,a.return)),u&4){var g=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[da]||g[_t]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),wt(g,u,a),g[_t]=n,pt(g),u=g;break e;case"link":var w=Yy("link","href",f).get(u+(a.href||""));if(w){for(var k=0;k<w.length;k++)if(g=w[k],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(k,1);break t}}g=f.createElement(u),wt(g,u,a),f.head.appendChild(g);break;case"meta":if(w=Yy("meta","content",f).get(u+(a.content||""))){for(k=0;k<w.length;k++)if(g=w[k],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(k,1);break t}}g=f.createElement(u),wt(g,u,a),f.head.appendChild(g);break;default:throw Error(r(468,u))}g[_t]=n,pt(g),u=g}n.stateNode=u}else Qy(f,n.type,n.stateNode);else n.stateNode=Gy(f,u,n.memoizedProps);else g!==u?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,u===null?Qy(f,n.type,n.stateNode):Gy(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Vh(n,n.memoizedProps,a.memoizedProps)}break;case 27:Zt(s,n),Kt(n),u&512&&(it||a===null||On(a,a.return)),a!==null&&u&4&&Vh(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Zt(s,n),Kt(n),u&512&&(it||a===null||On(a,a.return)),n.flags&32){f=n.stateNode;try{Ys(f,"")}catch(j){Xe(n,n.return,j)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Vh(n,f,a!==null?a.memoizedProps:f)),u&1024&&(Uh=!0);break;case 6:if(Zt(s,n),Kt(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(j){Xe(n,n.return,j)}}break;case 3:if(Jl=null,f=Tn,Tn=ql(s.containerInfo),Zt(s,n),Tn=f,Kt(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{io(s.containerInfo)}catch(j){Xe(n,n.return,j)}Uh&&(Uh=!1,ry(n));break;case 4:u=Tn,Tn=ql(n.stateNode.containerInfo),Zt(s,n),Kt(n),Tn=u;break;case 12:Zt(s,n),Kt(n);break;case 13:Zt(s,n),Kt(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qh=se()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,qh(n,u)));break;case 22:f=n.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,B=ar,U=it;if(ar=B||f,it=U||E,Zt(s,n),it=U,ar=B,Kt(n),u&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||E||ar||it||bs(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){E=a=s;try{if(g=E.stateNode,f)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{k=E.stateNode;var $=E.memoizedProps.style,F=$!=null&&$.hasOwnProperty("display")?$.display:null;k.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(j){Xe(E,E.return,j)}}}else if(s.tag===6){if(a===null){E=s;try{E.stateNode.nodeValue=f?"":E.memoizedProps}catch(j){Xe(E,E.return,j)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,qh(n,a))));break;case 19:Zt(s,n),Kt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,qh(n,u)));break;case 30:break;case 21:break;default:Zt(s,n),Kt(n)}}function Kt(n){var s=n.flags;if(s&2){try{for(var a,u=n.return;u!==null;){if(Gg(u)){a=u;break}u=u.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,g=Hh(n);Pl(n,g,f);break;case 5:var w=a.stateNode;a.flags&32&&(Ys(w,""),a.flags&=-33);var k=Hh(n);Pl(n,k,w);break;case 3:case 4:var E=a.stateNode.containerInfo,B=Hh(n);Wh(n,B,E);break;default:throw Error(r(161))}}catch(U){Xe(n,n.return,U)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function ry(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;ry(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Lr(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Zg(n,s.alternate,s),s=s.sibling}function bs(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Rr(4,s,s.return),bs(s);break;case 1:On(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Jg(s,s.return,a),bs(s);break;case 27:Qa(s.stateNode);case 26:case 5:On(s,s.return),bs(s);break;case 22:s.memoizedState===null&&bs(s);break;case 30:bs(s);break;default:bs(s)}n=n.sibling}}function Or(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=n,g=s,w=g.flags;switch(g.tag){case 0:case 11:case 15:Or(f,g,a),Va(4,g);break;case 1:if(Or(f,g,a),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Xe(u,u.return,B)}if(u=g,f=u.updateQueue,f!==null){var k=u.stateNode;try{var E=f.shared.hiddenCallbacks;if(E!==null)for(f.shared.hiddenCallbacks=null,f=0;f<E.length;f++)Pm(E[f],k)}catch(B){Xe(u,u.return,B)}}a&&w&64&&Xg(g),Ha(g,g.return);break;case 27:Yg(g);case 26:case 5:Or(f,g,a),a&&u===null&&w&4&&$g(g),Ha(g,g.return);break;case 12:Or(f,g,a);break;case 13:Or(f,g,a),a&&w&4&&ty(f,g);break;case 22:g.memoizedState===null&&Or(f,g,a),Ha(g,g.return);break;case 30:break;default:Or(f,g,a)}s=s.sibling}}function Xh(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&za(a))}function Jh(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&za(n))}function Bn(n,s,a,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)sy(n,s,a,u),s=s.sibling}function sy(n,s,a,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Bn(n,s,a,u),f&2048&&Va(9,s);break;case 1:Bn(n,s,a,u);break;case 3:Bn(n,s,a,u),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&za(n)));break;case 12:if(f&2048){Bn(n,s,a,u),n=s.stateNode;try{var g=s.memoizedProps,w=g.id,k=g.onPostCommit;typeof k=="function"&&k(w,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(E){Xe(s,s.return,E)}}else Bn(n,s,a,u);break;case 13:Bn(n,s,a,u);break;case 23:break;case 22:g=s.stateNode,w=s.alternate,s.memoizedState!==null?g._visibility&2?Bn(n,s,a,u):Wa(n,s):g._visibility&2?Bn(n,s,a,u):(g._visibility|=2,mi(n,s,a,u,(s.subtreeFlags&10256)!==0)),f&2048&&Xh(w,s);break;case 24:Bn(n,s,a,u),f&2048&&Jh(s.alternate,s);break;default:Bn(n,s,a,u)}}function mi(n,s,a,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=n,w=s,k=a,E=u,B=w.flags;switch(w.tag){case 0:case 11:case 15:mi(g,w,k,E,f),Va(8,w);break;case 23:break;case 22:var U=w.stateNode;w.memoizedState!==null?U._visibility&2?mi(g,w,k,E,f):Wa(g,w):(U._visibility|=2,mi(g,w,k,E,f)),f&&B&2048&&Xh(w.alternate,w);break;case 24:mi(g,w,k,E,f),f&&B&2048&&Jh(w.alternate,w);break;default:mi(g,w,k,E,f)}s=s.sibling}}function Wa(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,u=s,f=u.flags;switch(u.tag){case 22:Wa(a,u),f&2048&&Xh(u.alternate,u);break;case 24:Wa(a,u),f&2048&&Jh(u.alternate,u);break;default:Wa(a,u)}s=s.sibling}}var Ua=8192;function gi(n){if(n.subtreeFlags&Ua)for(n=n.child;n!==null;)iy(n),n=n.sibling}function iy(n){switch(n.tag){case 26:gi(n),n.flags&Ua&&n.memoizedState!==null&&ew(Tn,n.memoizedState,n.memoizedProps);break;case 5:gi(n);break;case 3:case 4:var s=Tn;Tn=ql(n.stateNode.containerInfo),gi(n),Tn=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=Ua,Ua=16777216,gi(n),Ua=s):gi(n));break;default:gi(n)}}function ay(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function qa(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];mt=u,ly(u,n)}ay(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)oy(n),n=n.sibling}function oy(n){switch(n.tag){case 0:case 11:case 15:qa(n),n.flags&2048&&Rr(9,n,n.return);break;case 3:qa(n);break;case 12:qa(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Rl(n)):qa(n);break;default:qa(n)}}function Rl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];mt=u,ly(u,n)}ay(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Rr(8,s,s.return),Rl(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Rl(s));break;default:Rl(s)}n=n.sibling}}function ly(n,s){for(;mt!==null;){var a=mt;switch(a.tag){case 0:case 11:case 15:Rr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:za(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,mt=u;else e:for(a=n;mt!==null;){u=mt;var f=u.sibling,g=u.return;if(Kg(u),u===a){mt=null;break e}if(f!==null){f.return=g,mt=f;break e}mt=g}}}var g1={getCacheForType:function(n){var s=kt(ct),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a}},y1=typeof WeakMap=="function"?WeakMap:Map,Fe=0,Je=null,Ie=null,Le=0,je=0,en=null,Br=!1,yi=!1,$h=!1,lr=0,nt=0,Nr=0,xs=0,Gh=0,yn=0,vi=0,Xa=null,Ut=null,Yh=!1,Qh=0,Ll=1/0,Ol=null,Dr=null,xt=0,Fr=null,bi=null,xi=0,Zh=0,Kh=null,uy=null,Ja=0,ed=null;function tn(){if((Fe&2)!==0&&Le!==0)return Le&-Le;if(V.T!==null){var n=oi;return n!==0?n:od()}return kf()}function cy(){yn===0&&(yn=(Le&536870912)===0||De?wf():536870912);var n=gn.current;return n!==null&&(n.flags|=32),yn}function nn(n,s,a){(n===Je&&(je===2||je===9)||n.cancelPendingCommit!==null)&&(wi(n,0),jr(n,Le,yn,!1)),ha(n,a),((Fe&2)===0||n!==Je)&&(n===Je&&((Fe&2)===0&&(xs|=a),nt===4&&jr(n,Le,yn,!1)),Nn(n))}function hy(n,s,a){if((Fe&6)!==0)throw Error(r(327));var u=!a&&(s&124)===0&&(s&n.expiredLanes)===0||ca(n,s),f=u?x1(n,s):rd(n,s,!0),g=u;do{if(f===0){yi&&!u&&jr(n,s,0,!1);break}else{if(a=n.current.alternate,g&&!v1(a)){f=rd(n,s,!1),g=!1;continue}if(f===2){if(g=s,n.errorRecoveryDisabledLanes&g)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var k=n;f=Xa;var E=k.current.memoizedState.isDehydrated;if(E&&(wi(k,w).flags|=256),w=rd(k,w,!1),w!==2){if($h&&!E){k.errorRecoveryDisabledLanes|=g,xs|=g,f=4;break e}g=Ut,Ut=f,g!==null&&(Ut===null?Ut=g:Ut.push.apply(Ut,g))}f=w}if(g=!1,f!==2)continue}}if(f===1){wi(n,0),jr(n,s,0,!0);break}e:{switch(u=n,g=f,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:jr(u,s,yn,!Br);break e;case 2:Ut=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Qh+300-se(),10<f)){if(jr(u,s,yn,!Br),Xo(u,0,!0)!==0)break e;u.timeoutHandle=jy(dy.bind(null,u,a,Ut,Ol,Yh,s,yn,xs,vi,Br,g,2,-0,0),f);break e}dy(u,a,Ut,Ol,Yh,s,yn,xs,vi,Br,g,0,-0,0)}}break}while(!0);Nn(n)}function dy(n,s,a,u,f,g,w,k,E,B,U,$,F,j){if(n.timeoutHandle=-1,$=s.subtreeFlags,($&8192||($&16785408)===16785408)&&(eo={stylesheets:null,count:0,unsuspend:K1},iy(s),$=tw(),$!==null)){n.cancelPendingCommit=$(by.bind(null,n,s,g,a,u,f,w,k,E,U,1,F,j)),jr(n,g,w,!B);return}by(n,s,g,a,u,f,w,k,E)}function v1(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],g=f.getSnapshot;f=f.value;try{if(!Yt(g(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function jr(n,s,a,u){s&=~Gh,s&=~xs,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var f=s;0<f;){var g=31-Rt(f),w=1<<g;u[g]=-1,f&=~w}a!==0&&Mf(n,a,s)}function Bl(){return(Fe&6)===0?($a(0),!1):!0}function td(){if(Ie!==null){if(je===0)var n=Ie.return;else n=Ie,Kn=fs=null,vh(n),pi=null,Da=0,n=Ie;for(;n!==null;)qg(n.alternate,n),n=n.return;Ie=null}}function wi(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,B1(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),td(),Je=n,Ie=a=Yn(n.current,null),Le=s,je=0,en=null,Br=!1,yi=ca(n,s),$h=!1,vi=yn=Gh=xs=Nr=nt=0,Ut=Xa=null,Yh=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var f=31-Rt(u),g=1<<f;s|=n[f],u&=~g}return lr=s,sl(),a}function py(n,s){Te=null,V.H=Ml,s===Aa||s===pl?(s=Em(),je=3):s===zm?(s=Em(),je=4):je=s===Ig?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,en=s,Ie===null&&(nt=1,Cl(n,dn(s,n.current)))}function fy(){var n=V.H;return V.H=Ml,n===null?Ml:n}function my(){var n=V.A;return V.A=g1,n}function nd(){nt=4,Br||(Le&4194048)!==Le&&gn.current!==null||(yi=!0),(Nr&134217727)===0&&(xs&134217727)===0||Je===null||jr(Je,Le,yn,!1)}function rd(n,s,a){var u=Fe;Fe|=2;var f=fy(),g=my();(Je!==n||Le!==s)&&(Ol=null,wi(n,s)),s=!1;var w=nt;e:do try{if(je!==0&&Ie!==null){var k=Ie,E=en;switch(je){case 8:td(),w=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(s=!0);var B=je;if(je=0,en=null,Si(n,k,E,B),a&&yi){w=0;break e}break;default:B=je,je=0,en=null,Si(n,k,E,B)}}b1(),w=nt;break}catch(U){py(n,U)}while(!0);return s&&n.shellSuspendCounter++,Kn=fs=null,Fe=u,V.H=f,V.A=g,Ie===null&&(Je=null,Le=0,sl()),w}function b1(){for(;Ie!==null;)gy(Ie)}function x1(n,s){var a=Fe;Fe|=2;var u=fy(),f=my();Je!==n||Le!==s?(Ol=null,Ll=se()+500,wi(n,s)):yi=ca(n,s);e:do try{if(je!==0&&Ie!==null){s=Ie;var g=en;t:switch(je){case 1:je=0,en=null,Si(n,s,g,1);break;case 2:case 9:if(Cm(g)){je=0,en=null,yy(s);break}s=function(){je!==2&&je!==9||Je!==n||(je=7),Nn(n)},g.then(s,s);break e;case 3:je=7;break e;case 4:je=5;break e;case 7:Cm(g)?(je=0,en=null,yy(s)):(je=0,en=null,Si(n,s,g,7));break;case 5:var w=null;switch(Ie.tag){case 26:w=Ie.memoizedState;case 5:case 27:var k=Ie;if(!w||Zy(w)){je=0,en=null;var E=k.sibling;if(E!==null)Ie=E;else{var B=k.return;B!==null?(Ie=B,Nl(B)):Ie=null}break t}}je=0,en=null,Si(n,s,g,5);break;case 6:je=0,en=null,Si(n,s,g,6);break;case 8:td(),nt=6;break e;default:throw Error(r(462))}}w1();break}catch(U){py(n,U)}while(!0);return Kn=fs=null,V.H=u,V.A=f,Fe=a,Ie!==null?0:(Je=null,Le=0,sl(),nt)}function w1(){for(;Ie!==null&&!ne();)gy(Ie)}function gy(n){var s=Wg(n.alternate,n,lr);n.memoizedProps=n.pendingProps,s===null?Nl(n):Ie=s}function yy(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=Ng(a,s,s.pendingProps,s.type,void 0,Le);break;case 11:s=Ng(a,s,s.pendingProps,s.type.render,s.ref,Le);break;case 5:vh(s);default:qg(a,s),s=Ie=vm(s,lr),s=Wg(a,s,lr)}n.memoizedProps=n.pendingProps,s===null?Nl(n):Ie=s}function Si(n,s,a,u){Kn=fs=null,vh(s),pi=null,Da=0;var f=s.return;try{if(c1(n,f,s,a,Le)){nt=1,Cl(n,dn(a,n.current)),Ie=null;return}}catch(g){if(f!==null)throw Ie=f,g;nt=1,Cl(n,dn(a,n.current)),Ie=null;return}s.flags&32768?(De||u===1?n=!0:yi||(Le&536870912)!==0?n=!1:(Br=n=!0,(u===2||u===9||u===3||u===6)&&(u=gn.current,u!==null&&u.tag===13&&(u.flags|=16384))),vy(s,n)):Nl(s)}function Nl(n){var s=n;do{if((s.flags&32768)!==0){vy(s,Br);return}n=s.return;var a=d1(s.alternate,s,lr);if(a!==null){Ie=a;return}if(s=s.sibling,s!==null){Ie=s;return}Ie=s=n}while(s!==null);nt===0&&(nt=5)}function vy(n,s){do{var a=p1(n.alternate,n);if(a!==null){a.flags&=32767,Ie=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Ie=n;return}Ie=n=a}while(n!==null);nt=6,Ie=null}function by(n,s,a,u,f,g,w,k,E){n.cancelPendingCommit=null;do Dl();while(xt!==0);if((Fe&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Jc,Kb(n,a,g,w,k,E),n===Je&&(Ie=Je=null,Le=0),bi=s,Fr=n,xi=a,Zh=g,Kh=f,uy=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,k1(qe,function(){return _y(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=V.T,V.T=null,f=Q.p,Q.p=2,w=Fe,Fe|=4;try{f1(n,s,a)}finally{Fe=w,Q.p=f,V.T=u}}xt=1,xy(),wy(),Sy()}}function xy(){if(xt===1){xt=0;var n=Fr,s=bi,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=V.T,V.T=null;var u=Q.p;Q.p=2;var f=Fe;Fe|=4;try{ny(s,n);var g=md,w=lm(n.containerInfo),k=g.focusedElem,E=g.selectionRange;if(w!==k&&k&&k.ownerDocument&&om(k.ownerDocument.documentElement,k)){if(E!==null&&Hc(k)){var B=E.start,U=E.end;if(U===void 0&&(U=B),"selectionStart"in k)k.selectionStart=B,k.selectionEnd=Math.min(U,k.value.length);else{var $=k.ownerDocument||document,F=$&&$.defaultView||window;if(F.getSelection){var j=F.getSelection(),ge=k.textContent.length,de=Math.min(E.start,ge),We=E.end===void 0?de:Math.min(E.end,ge);!j.extend&&de>We&&(w=We,We=de,de=w);var L=am(k,de),P=am(k,We);if(L&&P&&(j.rangeCount!==1||j.anchorNode!==L.node||j.anchorOffset!==L.offset||j.focusNode!==P.node||j.focusOffset!==P.offset)){var O=$.createRange();O.setStart(L.node,L.offset),j.removeAllRanges(),de>We?(j.addRange(O),j.extend(P.node,P.offset)):(O.setEnd(P.node,P.offset),j.addRange(O))}}}}for($=[],j=k;j=j.parentNode;)j.nodeType===1&&$.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<$.length;k++){var X=$[k];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Yl=!!fd,md=fd=null}finally{Fe=f,Q.p=u,V.T=a}}n.current=s,xt=2}}function wy(){if(xt===2){xt=0;var n=Fr,s=bi,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=V.T,V.T=null;var u=Q.p;Q.p=2;var f=Fe;Fe|=4;try{Zg(n,s.alternate,s)}finally{Fe=f,Q.p=u,V.T=a}}xt=3}}function Sy(){if(xt===4||xt===3){xt=0,he();var n=Fr,s=bi,a=xi,u=uy;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?xt=5:(xt=0,bi=Fr=null,My(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Dr=null),wc(a),s=s.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Mr,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=V.T,f=Q.p,Q.p=2,V.T=null;try{for(var g=n.onRecoverableError,w=0;w<u.length;w++){var k=u[w];g(k.value,{componentStack:k.stack})}}finally{V.T=s,Q.p=f}}(xi&3)!==0&&Dl(),Nn(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===ed?Ja++:(Ja=0,ed=n):Ja=0,$a(0)}}function My(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,za(s)))}function Dl(n){return xy(),wy(),Sy(),_y()}function _y(){if(xt!==5)return!1;var n=Fr,s=Zh;Zh=0;var a=wc(xi),u=V.T,f=Q.p;try{Q.p=32>a?32:a,V.T=null,a=Kh,Kh=null;var g=Fr,w=xi;if(xt=0,bi=Fr=null,xi=0,(Fe&6)!==0)throw Error(r(331));var k=Fe;if(Fe|=4,oy(g.current),sy(g,g.current,w,a),Fe=k,$a(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Mr,g)}catch{}return!0}finally{Q.p=f,V.T=u,My(n,s)}}function ky(n,s,a){s=dn(a,s),s=Ph(n.stateNode,s,2),n=Ar(n,s,2),n!==null&&(ha(n,2),Nn(n))}function Xe(n,s,a){if(n.tag===3)ky(n,n,a);else for(;s!==null;){if(s.tag===3){ky(s,n,a);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Dr===null||!Dr.has(u))){n=dn(a,n),a=Ag(2),u=Ar(s,a,2),u!==null&&(Eg(a,u,s,n),ha(u,2),Nn(u));break}}s=s.return}}function sd(n,s,a){var u=n.pingCache;if(u===null){u=n.pingCache=new y1;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(a)||($h=!0,f.add(a),n=S1.bind(null,n,s,a),s.then(n,n))}function S1(n,s,a){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Je===n&&(Le&a)===a&&(nt===4||nt===3&&(Le&62914560)===Le&&300>se()-Qh?(Fe&2)===0&&wi(n,0):Gh|=a,vi===Le&&(vi=0)),Nn(n)}function Ty(n,s){s===0&&(s=Sf()),n=ri(n,s),n!==null&&(ha(n,s),Nn(n))}function M1(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),Ty(n,a)}function _1(n,s){var a=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),Ty(n,a)}function k1(n,s){return ee(n,s)}var Fl=null,Mi=null,id=!1,jl=!1,ad=!1,ws=0;function Nn(n){n!==Mi&&n.next===null&&(Mi===null?Fl=Mi=n:Mi=Mi.next=n),jl=!0,id||(id=!0,z1())}function $a(n,s){if(!ad&&jl){ad=!0;do for(var a=!1,u=Fl;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var w=u.suspendedLanes,k=u.pingedLanes;g=(1<<31-Rt(42|n)+1)-1,g&=f&~(w&~k),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,Ey(u,g))}else g=Le,g=Xo(u,u===Je?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ca(u,g)||(a=!0,Ey(u,g));u=u.next}while(a);ad=!1}}function T1(){zy()}function zy(){jl=id=!1;var n=0;ws!==0&&(O1()&&(n=ws),ws=0);for(var s=se(),a=null,u=Fl;u!==null;){var f=u.next,g=Cy(u,s);g===0?(u.next=null,a===null?Fl=f:a.next=f,f===null&&(Mi=a)):(a=u,(n!==0||(g&3)!==0)&&(jl=!0)),u=f}$a(n)}function Cy(n,s){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var w=31-Rt(g),k=1<<w,E=f[w];E===-1?((k&a)===0||(k&u)!==0)&&(f[w]=Zb(k,s)):E<=s&&(n.expiredLanes|=k),g&=~k}if(s=Je,a=Le,a=Xo(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,a===0||n===s&&(je===2||je===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&te(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ca(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(u!==null&&te(u),wc(a)){case 2:case 8:a=Ue;break;case 32:a=qe;break;case 268435456:a=It;break;default:a=qe}return u=Ay.bind(null,n),a=ee(a,u),n.callbackPriority=s,n.callbackNode=a,s}return u!==null&&u!==null&&te(u),n.callbackPriority=2,n.callbackNode=null,2}function Ay(n,s){if(xt!==0&&xt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Dl()&&n.callbackNode!==a)return null;var u=Le;return u=Xo(n,n===Je?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(hy(n,u,s),Cy(n,se()),n.callbackNode!=null&&n.callbackNode===a?Ay.bind(null,n):null)}function Ey(n,s){if(Dl())return null;hy(n,s,!0)}function z1(){N1(function(){(Fe&6)!==0?ee(ke,T1):zy()})}function od(){return ws===0&&(ws=wf()),ws}function Iy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Qo(""+n)}function Py(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function C1(n,s,a,u,f){if(s==="submit"&&a&&a.stateNode===f){var g=Iy((f[jt]||null).action),w=u.submitter;w&&(s=(s=w[jt]||null)?Iy(s.formAction):w.getAttribute("formAction"),s!==null&&(g=s,w=null));var k=new tl("action","action",null,u,f);n.push({event:k,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ws!==0){var E=w?Py(f,w):new FormData(f);zh(a,{pending:!0,data:E,method:f.method,action:g},null,E)}}else typeof g=="function"&&(k.preventDefault(),E=w?Py(f,w):new FormData(f),zh(a,{pending:!0,data:E,method:f.method,action:g},g,E))},currentTarget:f}]})}}for(var ld=0;ld<Xc.length;ld++){var ud=Xc[ld],A1=ud.toLowerCase(),E1=ud[0].toUpperCase()+ud.slice(1);kn(A1,"on"+E1)}kn(hm,"onAnimationEnd"),kn(dm,"onAnimationIteration"),kn(pm,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(Jx,"onTransitionRun"),kn($x,"onTransitionStart"),kn(Gx,"onTransitionCancel"),kn(fm,"onTransitionEnd"),Js("onMouseEnter",["mouseout","mouseover"]),Js("onMouseLeave",["mouseout","mouseover"]),Js("onPointerEnter",["pointerout","pointerover"]),Js("onPointerLeave",["pointerout","pointerover"]),is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),is("onBeforeInput",["compositionend","keypress","textInput","paste"]),is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ga));function Ry(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var w=u.length-1;0<=w;w--){var k=u[w],E=k.instance,B=k.currentTarget;if(k=k.listener,E!==g&&f.isPropagationStopped())break e;g=k,f.currentTarget=B;try{g(f)}catch(U){zl(U)}f.currentTarget=null,g=E}else for(w=0;w<u.length;w++){if(k=u[w],E=k.instance,B=k.currentTarget,k=k.listener,E!==g&&f.isPropagationStopped())break e;g=k,f.currentTarget=B;try{g(f)}catch(U){zl(U)}f.currentTarget=null,g=E}}}}function Pe(n,s){var a=s[Sc];a===void 0&&(a=s[Sc]=new Set);var u=n+"__bubble";a.has(u)||(Ly(s,n,2,!1),a.add(u))}function cd(n,s,a){var u=0;s&&(u|=4),Ly(a,n,u,s)}var Vl="_reactListening"+Math.random().toString(36).slice(2);function hd(n){if(!n[Vl]){n[Vl]=!0,zf.forEach(function(a){a!=="selectionchange"&&(I1.has(a)||cd(a,!1,n),cd(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Vl]||(s[Vl]=!0,cd("selectionchange",!1,s))}}function Ly(n,s,a,u){switch(s0(s)){case 2:var f=sw;break;case 8:f=iw;break;default:f=kd}a=f.bind(null,s,a,n),f=void 0,!Rc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function dd(n,s,a,u,f){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var k=u.stateNode.containerInfo;if(k===f)break;if(w===4)for(w=u.return;w!==null;){var E=w.tag;if((E===3||E===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;k!==null;){if(w=Us(k),w===null)return;if(E=w.tag,E===5||E===6||E===26||E===27){u=g=w;continue e}k=k.parentNode}}u=u.return}Vf(function(){var B=g,U=Ic(a),$=[];e:{var F=mm.get(n);if(F!==void 0){var j=tl,ge=n;switch(n){case"keypress":if(Ko(a)===0)break e;case"keydown":case"keyup":j=kx;break;case"focusin":ge="focus",j=Nc;break;case"focusout":ge="blur",j=Nc;break;case"beforeblur":case"afterblur":j=Nc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Uf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=px;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Cx;break;case hm:case dm:case pm:j=gx;break;case fm:j=Ex;break;case"scroll":case"scrollend":j=hx;break;case"wheel":j=Px;break;case"copy":case"cut":case"paste":j=vx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Xf;break;case"toggle":case"beforetoggle":j=Lx}var de=(s&4)!==0,We=!de&&(n==="scroll"||n==="scrollend"),L=de?F!==null?F+"Capture":null:F;de=[];for(var P=B,O;P!==null;){var X=P;if(O=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||O===null||L===null||(X=fa(P,L),X!=null&&de.push(Ya(P,X,O))),We)break;P=P.return}0<de.length&&(F=new j(F,ge,null,a,U),$.push({event:F,listeners:de}))}}if((s&7)===0){e:{if(F=n==="mouseover"||n==="pointerover",j=n==="mouseout"||n==="pointerout",F&&a!==Ec&&(ge=a.relatedTarget||a.fromElement)&&(Us(ge)||ge[Ws]))break e;if((j||F)&&(F=U.window===U?U:(F=U.ownerDocument)?F.defaultView||F.parentWindow:window,j?(ge=a.relatedTarget||a.toElement,j=B,ge=ge?Us(ge):null,ge!==null&&(We=o(ge),de=ge.tag,ge!==We||de!==5&&de!==27&&de!==6)&&(ge=null)):(j=null,ge=B),j!==ge)){if(de=Uf,X="onMouseLeave",L="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(de=Xf,X="onPointerLeave",L="onPointerEnter",P="pointer"),We=j==null?F:pa(j),O=ge==null?F:pa(ge),F=new de(X,P+"leave",j,a,U),F.target=We,F.relatedTarget=O,X=null,Us(U)===B&&(de=new de(L,P+"enter",ge,a,U),de.target=O,de.relatedTarget=We,X=de),We=X,j&&ge)t:{for(de=j,L=ge,P=0,O=de;O;O=_i(O))P++;for(O=0,X=L;X;X=_i(X))O++;for(;0<P-O;)de=_i(de),P--;for(;0<O-P;)L=_i(L),O--;for(;P--;){if(de===L||L!==null&&de===L.alternate)break t;de=_i(de),L=_i(L)}de=null}else de=null;j!==null&&Oy($,F,j,de,!1),ge!==null&&We!==null&&Oy($,We,ge,de,!0)}}e:{if(F=B?pa(B):window,j=F.nodeName&&F.nodeName.toLowerCase(),j==="select"||j==="input"&&F.type==="file")var ie=em;else if(Zf(F))if(tm)ie=Ux;else{ie=Hx;var Ce=Vx}else j=F.nodeName,!j||j.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&Ac(B.elementType)&&(ie=em):ie=Wx;if(ie&&(ie=ie(n,B))){Kf($,ie,a,U);break e}Ce&&Ce(n,F,B),n==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&Cc(F,"number",F.value)}switch(Ce=B?pa(B):window,n){case"focusin":(Zf(Ce)||Ce.contentEditable==="true")&&(ei=Ce,Wc=B,Sa=null);break;case"focusout":Sa=Wc=ei=null;break;case"mousedown":Uc=!0;break;case"contextmenu":case"mouseup":case"dragend":Uc=!1,um($,a,U);break;case"selectionchange":if(Xx)break;case"keydown":case"keyup":um($,a,U)}var ue;if(Fc)e:{switch(n){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Ks?Yf(n,a)&&(pe="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(pe="onCompositionStart");pe&&(Jf&&a.locale!=="ko"&&(Ks||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Ks&&(ue=Hf()):(kr=U,Lc="value"in kr?kr.value:kr.textContent,Ks=!0)),Ce=Hl(B,pe),0<Ce.length&&(pe=new qf(pe,n,null,a,U),$.push({event:pe,listeners:Ce}),ue?pe.data=ue:(ue=Qf(a),ue!==null&&(pe.data=ue)))),(ue=Bx?Nx(n,a):Dx(n,a))&&(pe=Hl(B,"onBeforeInput"),0<pe.length&&(Ce=new qf("onBeforeInput","beforeinput",null,a,U),$.push({event:Ce,listeners:pe}),Ce.data=ue)),C1($,n,B,a,U)}Ry($,s)})}function Ya(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Hl(n,s){for(var a=s+"Capture",u=[];n!==null;){var f=n,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=fa(n,a),f!=null&&u.unshift(Ya(n,f,g)),f=fa(n,s),f!=null&&u.push(Ya(n,f,g))),n.tag===3)return u;n=n.return}return[]}function _i(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Oy(n,s,a,u,f){for(var g=s._reactName,w=[];a!==null&&a!==u;){var k=a,E=k.alternate,B=k.stateNode;if(k=k.tag,E!==null&&E===u)break;k!==5&&k!==26&&k!==27||B===null||(E=B,f?(B=fa(a,g),B!=null&&w.unshift(Ya(a,B,E))):f||(B=fa(a,g),B!=null&&w.push(Ya(a,B,E)))),a=a.return}w.length!==0&&n.push({event:s,listeners:w})}var P1=/\r\n?/g,R1=/\u0000|\uFFFD/g;function By(n){return(typeof n=="string"?n:""+n).replace(P1,`
`).replace(R1,"")}function Ny(n,s){return s=By(s),By(n)===s}function Wl(){}function He(n,s,a,u,f,g){switch(a){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Ys(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Ys(n,""+u);break;case"className":$o(n,"class",u);break;case"tabIndex":$o(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":$o(n,a,u);break;case"style":Ff(n,u,g);break;case"data":if(s!=="object"){$o(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Qo(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(s!=="input"&&He(n,s,"name",f.name,f,null),He(n,s,"formEncType",f.formEncType,f,null),He(n,s,"formMethod",f.formMethod,f,null),He(n,s,"formTarget",f.formTarget,f,null)):(He(n,s,"encType",f.encType,f,null),He(n,s,"method",f.method,f,null),He(n,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Qo(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=Wl);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=Qo(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),Jo(n,"popover",u);break;case"xlinkActuate":$n(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":$n(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":$n(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":$n(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":$n(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":$n(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":$n(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":$n(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":$n(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Jo(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ux.get(a)||a,Jo(n,a,u))}}function pd(n,s,a,u,f,g){switch(a){case"style":Ff(n,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof u=="string"?Ys(n,u):(typeof u=="number"||typeof u=="bigint")&&Ys(n,""+u);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Wl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cf.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),g=n[jt]||null,g=g!=null?g[a]:null,typeof g=="function"&&n.removeEventListener(s,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,u,f);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):Jo(n,a,u)}}}function wt(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var u=!1,f=!1,g;for(g in a)if(a.hasOwnProperty(g)){var w=a[g];if(w!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:He(n,s,g,w,a,null)}}f&&He(n,s,"srcSet",a.srcSet,a,null),u&&He(n,s,"src",a.src,a,null);return;case"input":Pe("invalid",n);var k=g=w=f=null,E=null,B=null;for(u in a)if(a.hasOwnProperty(u)){var U=a[u];if(U!=null)switch(u){case"name":f=U;break;case"type":w=U;break;case"checked":E=U;break;case"defaultChecked":B=U;break;case"value":g=U;break;case"defaultValue":k=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,s));break;default:He(n,s,u,U,a,null)}}Of(n,g,k,E,B,w,f,!1),Go(n);return;case"select":Pe("invalid",n),u=w=g=null;for(f in a)if(a.hasOwnProperty(f)&&(k=a[f],k!=null))switch(f){case"value":g=k;break;case"defaultValue":w=k;break;case"multiple":u=k;default:He(n,s,f,k,a,null)}s=g,a=w,n.multiple=!!u,s!=null?Gs(n,!!u,s,!1):a!=null&&Gs(n,!!u,a,!0);return;case"textarea":Pe("invalid",n),g=f=u=null;for(w in a)if(a.hasOwnProperty(w)&&(k=a[w],k!=null))switch(w){case"value":u=k;break;case"defaultValue":f=k;break;case"children":g=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:He(n,s,w,k,a,null)}Nf(n,u,f,g),Go(n);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(u=a[E],u!=null))switch(E){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:He(n,s,E,u,a,null)}return;case"dialog":Pe("beforetoggle",n),Pe("toggle",n),Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(u=0;u<Ga.length;u++)Pe(Ga[u],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(u=a[B],u!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:He(n,s,B,u,a,null)}return;default:if(Ac(s)){for(U in a)a.hasOwnProperty(U)&&(u=a[U],u!==void 0&&pd(n,s,U,u,a,void 0));return}}for(k in a)a.hasOwnProperty(k)&&(u=a[k],u!=null&&He(n,s,k,u,a,null))}function L1(n,s,a,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,w=null,k=null,E=null,B=null,U=null;for(j in a){var $=a[j];if(a.hasOwnProperty(j)&&$!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":E=$;default:u.hasOwnProperty(j)||He(n,s,j,null,u,$)}}for(var F in u){var j=u[F];if($=a[F],u.hasOwnProperty(F)&&(j!=null||$!=null))switch(F){case"type":g=j;break;case"name":f=j;break;case"checked":B=j;break;case"defaultChecked":U=j;break;case"value":w=j;break;case"defaultValue":k=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,s));break;default:j!==$&&He(n,s,F,j,u,$)}}zc(n,w,k,E,B,U,g,f);return;case"select":j=w=k=F=null;for(g in a)if(E=a[g],a.hasOwnProperty(g)&&E!=null)switch(g){case"value":break;case"multiple":j=E;default:u.hasOwnProperty(g)||He(n,s,g,null,u,E)}for(f in u)if(g=u[f],E=a[f],u.hasOwnProperty(f)&&(g!=null||E!=null))switch(f){case"value":F=g;break;case"defaultValue":k=g;break;case"multiple":w=g;default:g!==E&&He(n,s,f,g,u,E)}s=k,a=w,u=j,F!=null?Gs(n,!!a,F,!1):!!u!=!!a&&(s!=null?Gs(n,!!a,s,!0):Gs(n,!!a,a?[]:"",!1));return;case"textarea":j=F=null;for(k in a)if(f=a[k],a.hasOwnProperty(k)&&f!=null&&!u.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:He(n,s,k,null,u,f)}for(w in u)if(f=u[w],g=a[w],u.hasOwnProperty(w)&&(f!=null||g!=null))switch(w){case"value":F=f;break;case"defaultValue":j=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==g&&He(n,s,w,f,u,g)}Bf(n,F,j);return;case"option":for(var ge in a)if(F=a[ge],a.hasOwnProperty(ge)&&F!=null&&!u.hasOwnProperty(ge))switch(ge){case"selected":n.selected=!1;break;default:He(n,s,ge,null,u,F)}for(E in u)if(F=u[E],j=a[E],u.hasOwnProperty(E)&&F!==j&&(F!=null||j!=null))switch(E){case"selected":n.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:He(n,s,E,F,u,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in a)F=a[de],a.hasOwnProperty(de)&&F!=null&&!u.hasOwnProperty(de)&&He(n,s,de,null,u,F);for(B in u)if(F=u[B],j=a[B],u.hasOwnProperty(B)&&F!==j&&(F!=null||j!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,s));break;default:He(n,s,B,F,u,j)}return;default:if(Ac(s)){for(var We in a)F=a[We],a.hasOwnProperty(We)&&F!==void 0&&!u.hasOwnProperty(We)&&pd(n,s,We,void 0,u,F);for(U in u)F=u[U],j=a[U],!u.hasOwnProperty(U)||F===j||F===void 0&&j===void 0||pd(n,s,U,F,u,j);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!u.hasOwnProperty(L)&&He(n,s,L,null,u,F);for($ in u)F=u[$],j=a[$],!u.hasOwnProperty($)||F===j||F==null&&j==null||He(n,s,$,F,u,j)}var fd=null,md=null;function Ul(n){return n.nodeType===9?n:n.ownerDocument}function Dy(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fy(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function gd(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var yd=null;function O1(){var n=window.event;return n&&n.type==="popstate"?n===yd?!1:(yd=n,!0):(yd=null,!1)}var jy=typeof setTimeout=="function"?setTimeout:void 0,B1=typeof clearTimeout=="function"?clearTimeout:void 0,Vy=typeof Promise=="function"?Promise:void 0,N1=typeof queueMicrotask=="function"?queueMicrotask:typeof Vy<"u"?function(n){return Vy.resolve(null).then(n).catch(D1)}:jy;function D1(n){setTimeout(function(){throw n})}function Vr(n){return n==="head"}function Hy(n,s){var a=s,u=0,f=0;do{var g=a.nextSibling;if(n.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<u&&8>u){a=u;var w=n.ownerDocument;if(a&1&&Qa(w.documentElement),a&2&&Qa(w.body),a&4)for(a=w.head,Qa(a),w=a.firstChild;w;){var k=w.nextSibling,E=w.nodeName;w[da]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&w.rel.toLowerCase()==="stylesheet"||a.removeChild(w),w=k}}if(f===0){n.removeChild(g),io(s);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:u=a.charCodeAt(0)-48;else u=0;a=g}while(a);io(s)}function vd(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vd(a),Mc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function F1(n,s,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[da])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence")||g!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=zn(n.nextSibling),n===null)break}return null}function j1(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=zn(n.nextSibling),n===null))return null;return n}function bd(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function V1(n,s){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")s();else{var u=function(){s(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function zn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var xd=null;function Wy(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}function Uy(n,s,a){switch(s=Ul(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Qa(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Mc(n)}var vn=new Map,qy=new Set;function ql(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ur=Q.d;Q.d={f:H1,r:W1,D:U1,C:q1,L:X1,m:J1,X:G1,S:$1,M:Y1};function H1(){var n=ur.f(),s=Bl();return n||s}function W1(n){var s=qs(n);s!==null&&s.tag===5&&s.type==="form"?hg(s):ur.r(n)}var ki=typeof document>"u"?null:document;function Xy(n,s,a){var u=ki;if(u&&typeof s=="string"&&s){var f=_n(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),qy.has(f)||(qy.add(f),n={rel:n,crossOrigin:a,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),wt(s,"link",n),pt(s),u.head.appendChild(s)))}}function U1(n){ur.D(n),Xy("dns-prefetch",n,null)}function q1(n,s){ur.C(n,s),Xy("preconnect",n,s)}function X1(n,s,a){ur.L(n,s,a);var u=ki;if(u&&n&&s){var f='link[rel="preload"][as="'+_n(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+_n(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+_n(a.imageSizes)+'"]')):f+='[href="'+_n(n)+'"]';var g=f;switch(s){case"style":g=Ti(n);break;case"script":g=zi(n)}vn.has(g)||(n=m({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),vn.set(g,n),u.querySelector(f)!==null||s==="style"&&u.querySelector(Za(g))||s==="script"&&u.querySelector(Ka(g))||(s=u.createElement("link"),wt(s,"link",n),pt(s),u.head.appendChild(s)))}}function J1(n,s){ur.m(n,s);var a=ki;if(a&&n){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+_n(u)+'"][href="'+_n(n)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=zi(n)}if(!vn.has(g)&&(n=m({rel:"modulepreload",href:n},s),vn.set(g,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ka(g)))return}u=a.createElement("link"),wt(u,"link",n),pt(u),a.head.appendChild(u)}}}function $1(n,s,a){ur.S(n,s,a);var u=ki;if(u&&n){var f=Xs(u).hoistableStyles,g=Ti(n);s=s||"default";var w=f.get(g);if(!w){var k={loading:0,preload:null};if(w=u.querySelector(Za(g)))k.loading=5;else{n=m({rel:"stylesheet",href:n,"data-precedence":s},a),(a=vn.get(g))&&wd(n,a);var E=w=u.createElement("link");pt(E),wt(E,"link",n),E._p=new Promise(function(B,U){E.onload=B,E.onerror=U}),E.addEventListener("load",function(){k.loading|=1}),E.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Xl(w,s,u)}w={type:"stylesheet",instance:w,count:1,state:k},f.set(g,w)}}}function G1(n,s){ur.X(n,s);var a=ki;if(a&&n){var u=Xs(a).hoistableScripts,f=zi(n),g=u.get(f);g||(g=a.querySelector(Ka(f)),g||(n=m({src:n,async:!0},s),(s=vn.get(f))&&Sd(n,s),g=a.createElement("script"),pt(g),wt(g,"link",n),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function Y1(n,s){ur.M(n,s);var a=ki;if(a&&n){var u=Xs(a).hoistableScripts,f=zi(n),g=u.get(f);g||(g=a.querySelector(Ka(f)),g||(n=m({src:n,async:!0,type:"module"},s),(s=vn.get(f))&&Sd(n,s),g=a.createElement("script"),pt(g),wt(g,"link",n),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function Jy(n,s,a,u){var f=(f=ye.current)?ql(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ti(a.href),a=Xs(f).hoistableStyles,u=a.get(s),u||(u={type:"style",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Ti(a.href);var g=Xs(f).hoistableStyles,w=g.get(n);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,w),(g=f.querySelector(Za(n)))&&!g._p&&(w.instance=g,w.state.loading=5),vn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},vn.set(n,a),g||Q1(f,n,a,w.state))),s&&u===null)throw Error(r(528,""));return w}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=zi(a),a=Xs(f).hoistableScripts,u=a.get(s),u||(u={type:"script",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Ti(n){return'href="'+_n(n)+'"'}function Za(n){return'link[rel="stylesheet"]['+n+"]"}function $y(n){return m({},n,{"data-precedence":n.precedence,precedence:null})}function Q1(n,s,a,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),wt(s,"link",a),pt(s),n.head.appendChild(s))}function zi(n){return'[src="'+_n(n)+'"]'}function Ka(n){return"script[async]"+n}function Gy(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+_n(a.href)+'"]');if(u)return s.instance=u,pt(u),u;var f=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),pt(u),wt(u,"style",f),Xl(u,a.precedence,n),s.instance=u;case"stylesheet":f=Ti(a.href);var g=n.querySelector(Za(f));if(g)return s.state.loading|=4,s.instance=g,pt(g),g;u=$y(a),(f=vn.get(f))&&wd(u,f),g=(n.ownerDocument||n).createElement("link"),pt(g);var w=g;return w._p=new Promise(function(k,E){w.onload=k,w.onerror=E}),wt(g,"link",u),s.state.loading|=4,Xl(g,a.precedence,n),s.instance=g;case"script":return g=zi(a.src),(f=n.querySelector(Ka(g)))?(s.instance=f,pt(f),f):(u=a,(f=vn.get(g))&&(u=m({},a),Sd(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),pt(f),wt(f,"link",u),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Xl(u,a.precedence,n));return s.instance}function Xl(n,s,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,w=0;w<u.length;w++){var k=u[w];if(k.dataset.precedence===s)g=k;else if(g!==f)break}g?g.parentNode.insertBefore(n,g.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function wd(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Sd(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Jl=null;function Yy(n,s,a){if(Jl===null){var u=new Map,f=Jl=new Map;f.set(a,u)}else f=Jl,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var g=a[f];if(!(g[da]||g[_t]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(s)||"";w=n+w;var k=u.get(w);k?k.push(g):u.set(w,[g])}}return u}function Qy(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function Z1(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Zy(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var eo=null;function K1(){}function ew(n,s,a){if(eo===null)throw Error(r(475));var u=eo;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Ti(a.href),g=n.querySelector(Za(f));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=$l.bind(u),n.then(u,u)),s.state.loading|=4,s.instance=g,pt(g);return}g=n.ownerDocument||n,a=$y(a),(f=vn.get(f))&&wd(a,f),g=g.createElement("link"),pt(g);var w=g;w._p=new Promise(function(k,E){w.onload=k,w.onerror=E}),wt(g,"link",a),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=$l.bind(u),n.addEventListener("load",s),n.addEventListener("error",s))}}function tw(){if(eo===null)throw Error(r(475));var n=eo;return n.stylesheets&&n.count===0&&Md(n,n.stylesheets),0<n.count?function(s){var a=setTimeout(function(){if(n.stylesheets&&Md(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(a)}}:null}function $l(){if(this.count--,this.count===0){if(this.stylesheets)Md(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Gl=null;function Md(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Gl=new Map,s.forEach(nw,n),Gl=null,$l.call(n))}function nw(n,s){if(!(s.state.loading&4)){var a=Gl.get(n);if(a)var u=a.get(null);else{a=new Map,Gl.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var w=f[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),u=w)}u&&a.set(null,u)}f=s.instance,w=f.getAttribute("data-precedence"),g=a.get(w)||u,g===u&&a.set(null,f),a.set(w,f),this.count++,u=$l.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var to={$$typeof:z,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function rw(n,s,a,u,f,g,w,k){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bc(0),this.hiddenUpdates=bc(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Ky(n,s,a,u,f,g,w,k,E,B,U,$){return n=new rw(n,s,a,w,k,E,B,$),s=1,g===!0&&(s|=24),g=Qt(3,null,null,s),n.current=g,g.stateNode=n,s=sh(),s.refCount++,n.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:a,cache:s},lh(g),n}function e0(n){return n?(n=si,n):si}function t0(n,s,a,u,f,g){f=e0(f),u.context===null?u.context=f:u.pendingContext=f,u=Cr(s),u.payload={element:a},g=g===void 0?null:g,g!==null&&(u.callback=g),a=Ar(n,u,s),a!==null&&(nn(a,n,s),Ia(a,n,s))}function n0(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function _d(n,s){n0(n,s),(n=n.alternate)&&n0(n,s)}function r0(n){if(n.tag===13){var s=ri(n,67108864);s!==null&&nn(s,n,67108864),_d(n,67108864)}}var Yl=!0;function sw(n,s,a,u){var f=V.T;V.T=null;var g=Q.p;try{Q.p=2,kd(n,s,a,u)}finally{Q.p=g,V.T=f}}function iw(n,s,a,u){var f=V.T;V.T=null;var g=Q.p;try{Q.p=8,kd(n,s,a,u)}finally{Q.p=g,V.T=f}}function kd(n,s,a,u){if(Yl){var f=Td(u);if(f===null)dd(n,s,u,Ql,a),i0(n,u);else if(ow(f,n,s,a,u))u.stopPropagation();else if(i0(n,u),s&4&&-1<aw.indexOf(n)){for(;f!==null;){var g=qs(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=ss(g.pendingLanes);if(w!==0){var k=g;for(k.pendingLanes|=2,k.entangledLanes|=2;w;){var E=1<<31-Rt(w);k.entanglements[1]|=E,w&=~E}Nn(g),(Fe&6)===0&&(Ll=se()+500,$a(0))}}break;case 13:k=ri(g,2),k!==null&&nn(k,g,2),Bl(),_d(g,2)}if(g=Td(u),g===null&&dd(n,s,u,Ql,a),g===f)break;f=g}f!==null&&u.stopPropagation()}else dd(n,s,u,null,a)}}function Td(n){return n=Ic(n),zd(n)}var Ql=null;function zd(n){if(Ql=null,n=Us(n),n!==null){var s=o(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=l(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Ql=n,null}function s0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ee()){case ke:return 2;case Ue:return 8;case qe:case et:return 32;case It:return 268435456;default:return 32}default:return 32}}var Cd=!1,Hr=null,Wr=null,Ur=null,no=new Map,ro=new Map,qr=[],aw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i0(n,s){switch(n){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":no.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(s.pointerId)}}function so(n,s,a,u,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:a,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},s!==null&&(s=qs(s),s!==null&&r0(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function ow(n,s,a,u,f){switch(s){case"focusin":return Hr=so(Hr,n,s,a,u,f),!0;case"dragenter":return Wr=so(Wr,n,s,a,u,f),!0;case"mouseover":return Ur=so(Ur,n,s,a,u,f),!0;case"pointerover":var g=f.pointerId;return no.set(g,so(no.get(g)||null,n,s,a,u,f)),!0;case"gotpointercapture":return g=f.pointerId,ro.set(g,so(ro.get(g)||null,n,s,a,u,f)),!0}return!1}function a0(n){var s=Us(n.target);if(s!==null){var a=o(s);if(a!==null){if(s=a.tag,s===13){if(s=l(a),s!==null){n.blockedOn=s,ex(n.priority,function(){if(a.tag===13){var u=tn();u=xc(u);var f=ri(a,u);f!==null&&nn(f,a,u),_d(a,u)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Zl(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Td(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);Ec=u,a.target.dispatchEvent(u),Ec=null}else return s=qs(a),s!==null&&r0(s),n.blockedOn=a,!1;s.shift()}return!0}function o0(n,s,a){Zl(n)&&a.delete(s)}function lw(){Cd=!1,Hr!==null&&Zl(Hr)&&(Hr=null),Wr!==null&&Zl(Wr)&&(Wr=null),Ur!==null&&Zl(Ur)&&(Ur=null),no.forEach(o0),ro.forEach(o0)}function Kl(n,s){n.blockedOn===s&&(n.blockedOn=null,Cd||(Cd=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,lw)))}var eu=null;function l0(n){eu!==n&&(eu=n,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){eu===n&&(eu=null);for(var s=0;s<n.length;s+=3){var a=n[s],u=n[s+1],f=n[s+2];if(typeof u!="function"){if(zd(u||a)===null)continue;break}var g=qs(a);g!==null&&(n.splice(s,3),s-=3,zh(g,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function io(n){function s(E){return Kl(E,n)}Hr!==null&&Kl(Hr,n),Wr!==null&&Kl(Wr,n),Ur!==null&&Kl(Ur,n),no.forEach(s),ro.forEach(s);for(var a=0;a<qr.length;a++){var u=qr[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<qr.length&&(a=qr[0],a.blockedOn===null);)a0(a),a.blockedOn===null&&qr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],g=a[u+1],w=f[jt]||null;if(typeof g=="function")w||l0(a);else if(w){var k=null;if(g&&g.hasAttribute("formAction")){if(f=g,w=g[jt]||null)k=w.formAction;else if(zd(f)!==null)continue}else k=w.action;typeof k=="function"?a[u+1]=k:(a.splice(u,3),u-=3),l0(a)}}}function Ad(n){this._internalRoot=n}tu.prototype.render=Ad.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,u=tn();t0(a,u,n,s,null,null)},tu.prototype.unmount=Ad.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;t0(n.current,2,null,n,null,null),Bl(),s[Ws]=null}};function tu(n){this._internalRoot=n}tu.prototype.unstable_scheduleHydration=function(n){if(n){var s=kf();n={blockedOn:null,target:n,priority:s};for(var a=0;a<qr.length&&s!==0&&s<qr[a].priority;a++);qr.splice(a,0,n),a===0&&a0(n)}};var u0=e.version;if(u0!=="19.1.0")throw Error(r(527,u0,"19.1.0"));Q.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=d(s),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var uw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{Mr=nu.inject(uw),Mt=nu}catch{}}return oo.createRoot=function(n,s){if(!i(n))throw Error(r(299));var a=!1,u="",f=kg,g=Tg,w=zg,k=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(k=s.unstable_transitionCallbacks)),s=Ky(n,1,!1,null,null,a,u,f,g,w,k,null),n[Ws]=s.current,hd(n),new Ad(s)},oo.hydrateRoot=function(n,s,a){if(!i(n))throw Error(r(299));var u=!1,f="",g=kg,w=Tg,k=zg,E=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(k=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(E=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),s=Ky(n,1,!0,s,a??null,u,f,g,w,k,E,B),s.context=e0(null),a=s.current,u=tn(),u=xc(u),f=Cr(u),f.callback=null,Ar(a,f,u),a=u,s.current.lanes=a,ha(s,a),Nn(s),n[Ws]=s.current,hd(n),new tu(s)},oo.version="19.1.0",oo}var _0;function Mw(){if(_0)return Ed.exports;_0=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(e){console.error(e)}}return c(),Ed.exports=Sw(),Ed.exports}var _w=Mw();const kw="modulepreload",Tw=function(c){return"/"+c},k0={},na=function(c,e,t){let r=Promise.resolve();if(e&&e.length>0){let o=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),h=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=o(e.map(d=>{if(d=Tw(d),d in k0)return;k0[d]=!0;const p=d.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":kw,p||(y.as="script"),y.crossOrigin="",y.href=d,h&&y.setAttribute("nonce",h),document.head.appendChild(y),p)return new Promise((v,b)=>{y.addEventListener("load",v),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return c().catch(i)})};/**
* @license
* Copyright 2010-2025 Three.js Authors
* SPDX-License-Identifier: MIT
*/const eb="176",dT={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},pT={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},fT=0,mT=1,gT=2,yT=3,vT=0,bT=1,xT=2,wT=3,yp=0,tb=1,ST=2,zw=0,T0=1,MT=2,_T=3,kT=4,TT=5,z0=100,zT=101,CT=102,AT=103,ET=104,IT=200,PT=201,RT=202,LT=203,C0=204,A0=205,OT=206,BT=207,NT=208,DT=209,FT=210,jT=211,VT=212,HT=213,WT=214,UT=0,qT=1,XT=2,E0=3,JT=4,$T=5,GT=6,YT=7,Ep=0,QT=1,ZT=2,KT=0,ez=1,tz=2,nz=3,rz=4,sz=5,iz=6,az=7,I0="attached",Cw="detached",Ip=300,Pp=301,Aw=302,Ew=303,Iw=304,Pw=306,vp=1e3,jn=1001,bp=1002,In=1003,Rw=1004,oz=1004,Lw=1005,lz=1005,Sn=1006,Ow=1007,uz=1007,oc=1008,cz=1008,Rp=1009,Bw=1010,Nw=1011,Dw=1012,Fw=1013,Lp=1014,Zi=1015,jw=1016,Vw=1017,Hw=1018,hz=1020,Ww=35902,Uw=1021,qw=1022,Io=1023,P0=1026,Xw=1027,nb=1028,rb=1029,Jw=1030,$w=1031,dz=1032,Gw=1033,Yw=33776,Qw=33777,Zw=33778,Kw=33779,eS=35840,tS=35841,nS=35842,rS=35843,sS=36196,iS=37492,aS=37496,oS=37808,lS=37809,uS=37810,cS=37811,hS=37812,dS=37813,pS=37814,fS=37815,mS=37816,gS=37817,yS=37818,vS=37819,bS=37820,xS=37821,wS=36492,SS=36494,MS=36495,_S=36283,kS=36284,TS=36285,zS=36286,CS=2200,AS=2201,ES=2202,$u=2300,xp=2301,Pd=2302,Ji=2400,$i=2401,Gu=2402,Op=2500,sb=2501,pz=0,fz=1,mz=2,IS=3200,gz=3201,yz=3202,vz=3203,ra=0,bz=1,ib="",xn="srgb",R0="srgb-linear",L0="linear",Rd="srgb",xz=0,Ci=7680,wz=7681,Sz=7682,Mz=7683,_z=34055,kz=34056,Tz=5386,zz=512,Cz=513,Az=514,Ez=515,Iz=516,Pz=517,Rz=518,O0=519,Lz=512,Oz=513,Bz=514,Nz=515,Dz=516,Fz=517,jz=518,Vz=519,Yu=35044,Hz=35048,Wz=35040,Uz=35045,qz=35049,Xz=35041,Jz=35046,$z=35050,Gz=35042,Yz="100",Qz="300 es",Vn=2e3,Qu=2001,Zz={COMPUTE:"compute",RENDER:"render"},Kz={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},e3={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FLAT_FIRST:"flat first",FLAT_EITHER:"flat either"};class ns{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const o=i.indexOf(t);o!==-1&&i.splice(o,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const r=t[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,l=i.length;o<l;o++)i[o].call(this,e);e.target=null}}}const zt=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let B0=1234567;const Bs=Math.PI/180,Po=180/Math.PI;function ln(){const c=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(zt[c&255]+zt[c>>8&255]+zt[c>>16&255]+zt[c>>24&255]+"-"+zt[e&255]+zt[e>>8&255]+"-"+zt[e>>16&15|64]+zt[e>>24&255]+"-"+zt[t&63|128]+zt[t>>8&255]+"-"+zt[t>>16&255]+zt[t>>24&255]+zt[r&255]+zt[r>>8&255]+zt[r>>16&255]+zt[r>>24&255]).toLowerCase()}function ve(c,e,t){return Math.max(e,Math.min(t,c))}function Bp(c,e){return(c%e+e)%e}function PS(c,e,t,r,i){return r+(c-e)*(i-r)/(t-e)}function RS(c,e,t){return c!==e?(t-c)/(e-c):0}function Co(c,e,t){return(1-t)*c+t*e}function LS(c,e,t,r){return Co(c,e,1-Math.exp(-t*r))}function OS(c,e=1){return e-Math.abs(Bp(c,e*2)-e)}function BS(c,e,t){return c<=e?0:c>=t?1:(c=(c-e)/(t-e),c*c*(3-2*c))}function NS(c,e,t){return c<=e?0:c>=t?1:(c=(c-e)/(t-e),c*c*c*(c*(c*6-15)+10))}function DS(c,e){return c+Math.floor(Math.random()*(e-c+1))}function FS(c,e){return c+Math.random()*(e-c)}function jS(c){return c*(.5-Math.random())}function VS(c){c!==void 0&&(B0=c);let e=B0+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function HS(c){return c*Bs}function WS(c){return c*Po}function US(c){return(c&c-1)===0&&c!==0}function qS(c){return Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))}function XS(c){return Math.pow(2,Math.floor(Math.log(c)/Math.LN2))}function JS(c,e,t,r,i){const o=Math.cos,l=Math.sin,h=o(t/2),d=l(t/2),p=o((e+r)/2),m=l((e+r)/2),y=o((e-r)/2),v=l((e-r)/2),b=o((r-e)/2),x=l((r-e)/2);switch(i){case"XYX":c.set(h*m,d*y,d*v,h*p);break;case"YZY":c.set(d*v,h*m,d*y,h*p);break;case"ZXZ":c.set(d*y,d*v,h*m,h*p);break;case"XZX":c.set(h*m,d*x,d*b,h*p);break;case"YXY":c.set(d*b,h*m,d*x,h*p);break;case"ZYZ":c.set(d*x,d*b,h*m,h*p);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Bt(c,e){switch(e.constructor){case Float32Array:return c;case Uint32Array:return c/4294967295;case Uint16Array:return c/65535;case Uint8Array:return c/255;case Int32Array:return Math.max(c/2147483647,-1);case Int16Array:return Math.max(c/32767,-1);case Int8Array:return Math.max(c/127,-1);default:throw new Error("Invalid component type.")}}function we(c,e){switch(e.constructor){case Float32Array:return c;case Uint32Array:return Math.round(c*4294967295);case Uint16Array:return Math.round(c*65535);case Uint8Array:return Math.round(c*255);case Int32Array:return Math.round(c*2147483647);case Int16Array:return Math.round(c*32767);case Int8Array:return Math.round(c*127);default:throw new Error("Invalid component type.")}}const t3={DEG2RAD:Bs,RAD2DEG:Po,generateUUID:ln,clamp:ve,euclideanModulo:Bp,mapLinear:PS,inverseLerp:RS,lerp:Co,damp:LS,pingpong:OS,smoothstep:BS,smootherstep:NS,randInt:DS,randFloat:FS,randFloatSpread:jS,seededRandom:VS,degToRad:HS,radToDeg:WS,isPowerOfTwo:US,ceilPowerOfTwo:qS,floorPowerOfTwo:XS,setQuaternionFromProperEuler:JS,normalize:we,denormalize:Bt};class Y{constructor(e=0,t=0){Y.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=ve(this.x,e.x,t.x),this.y=ve(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=ve(this.x,e,t),this.y=ve(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(ve(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(ve(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),o=this.x-e.x,l=this.y-e.y;return this.x=o*r-l*i+e.x,this.y=o*i+l*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class qn{constructor(e,t,r,i,o,l,h,d,p){qn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,o,l,h,d,p)}set(e,t,r,i,o,l,h,d,p){const m=this.elements;return m[0]=e,m[1]=i,m[2]=h,m[3]=t,m[4]=o,m[5]=d,m[6]=r,m[7]=l,m[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,o=this.elements,l=r[0],h=r[3],d=r[6],p=r[1],m=r[4],y=r[7],v=r[2],b=r[5],x=r[8],S=i[0],_=i[3],M=i[6],T=i[1],z=i[4],C=i[7],R=i[2],N=i[5],H=i[8];return o[0]=l*S+h*T+d*R,o[3]=l*_+h*z+d*N,o[6]=l*M+h*C+d*H,o[1]=p*S+m*T+y*R,o[4]=p*_+m*z+y*N,o[7]=p*M+m*C+y*H,o[2]=v*S+b*T+x*R,o[5]=v*_+b*z+x*N,o[8]=v*M+b*C+x*H,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],l=e[4],h=e[5],d=e[6],p=e[7],m=e[8];return t*l*m-t*h*p-r*o*m+r*h*d+i*o*p-i*l*d}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],l=e[4],h=e[5],d=e[6],p=e[7],m=e[8],y=m*l-h*p,v=h*d-m*o,b=p*o-l*d,x=t*y+r*v+i*b;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/x;return e[0]=y*S,e[1]=(i*p-m*r)*S,e[2]=(h*r-i*l)*S,e[3]=v*S,e[4]=(m*t-i*d)*S,e[5]=(i*o-h*t)*S,e[6]=b*S,e[7]=(r*d-p*t)*S,e[8]=(l*t-r*o)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,o,l,h){const d=Math.cos(o),p=Math.sin(o);return this.set(r*d,r*p,-r*(d*l+p*h)+l+e,-i*p,i*d,-i*(-p*l+d*h)+h+t,0,0,1),this}scale(e,t){return this.premultiply(Ld.makeScale(e,t)),this}rotate(e){return this.premultiply(Ld.makeRotation(-e)),this}translate(e,t){return this.premultiply(Ld.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Ld=new qn;function $S(c){for(let e=c.length-1;e>=0;--e)if(c[e]>=65535)return!0;return!1}const GS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Gi(c,e){return new GS[c](e)}function Zu(c){return document.createElementNS("http://www.w3.org/1999/xhtml",c)}function n3(){const c=Zu("canvas");return c.style.display="block",c}const N0={};function r3(c){c in N0||(N0[c]=!0,console.warn(c))}function s3(c,e,t){return new Promise(function(r,i){function o(){switch(c.clientWaitSync(e,c.SYNC_FLUSH_COMMANDS_BIT,0)){case c.WAIT_FAILED:i();break;case c.TIMEOUT_EXPIRED:setTimeout(o,t);break;default:r()}}setTimeout(o,t)})}function i3(c){const e=c.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function a3(c){const e=c.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const D0=new qn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),F0=new qn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function YS(){const c={enabled:!0,workingColorSpace:R0,spaces:{},convert:function(i,o,l){return this.enabled===!1||o===l||!o||!l||(this.spaces[o].transfer===Rd&&(i.r=yr(i.r),i.g=yr(i.g),i.b=yr(i.b)),this.spaces[o].primaries!==this.spaces[l].primaries&&(i.applyMatrix3(this.spaces[o].toXYZ),i.applyMatrix3(this.spaces[l].fromXYZ)),this.spaces[l].transfer===Rd&&(i.r=Yi(i.r),i.g=Yi(i.g),i.b=Yi(i.b))),i},fromWorkingColorSpace:function(i,o){return this.convert(i,this.workingColorSpace,o)},toWorkingColorSpace:function(i,o){return this.convert(i,o,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===ib?L0:this.spaces[i].transfer},getLuminanceCoefficients:function(i,o=this.workingColorSpace){return i.fromArray(this.spaces[o].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,o,l){return i.copy(this.spaces[o].toXYZ).multiply(this.spaces[l].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return c.define({[R0]:{primaries:e,whitePoint:r,transfer:L0,toXYZ:D0,fromXYZ:F0,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:xn},outputColorSpaceConfig:{drawingBufferColorSpace:xn}},[xn]:{primaries:e,whitePoint:r,transfer:Rd,toXYZ:D0,fromXYZ:F0,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:xn}}}),c}const an=YS();function yr(c){return c<.04045?c*.0773993808:Math.pow(c*.9478672986+.0521327014,2.4)}function Yi(c){return c<.0031308?c*12.92:1.055*Math.pow(c,.41666)-.055}let Ai;class QS{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Ai===void 0&&(Ai=Zu("canvas")),Ai.width=e.width,Ai.height=e.height;const i=Ai.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=Ai}return r.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Zu("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let l=0;l<o.length;l++)o[l]=yr(o[l]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(yr(t[r]/255)*255):t[r]=yr(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let ZS=0;class Ls{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:ZS++}),this.uuid=ln(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let l=0,h=i.length;l<h;l++)i[l].isDataTexture?o.push(Od(i[l].image)):o.push(Od(i[l]))}else o=Od(i);r.url=o}return t||(e.images[this.uuid]=r),r}}function Od(c){return typeof HTMLImageElement<"u"&&c instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&c instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&c instanceof ImageBitmap?QS.getDataURL(c):c.data?{data:Array.from(c.data),width:c.width,height:c.height,type:c.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let KS=0;class dt extends ns{constructor(e=dt.DEFAULT_IMAGE,t=dt.DEFAULT_MAPPING,r=jn,i=jn,o=Sn,l=oc,h=Io,d=Rp,p=dt.DEFAULT_ANISOTROPY,m=ib){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:KS++}),this.uuid=ln(),this.name="",this.source=new Ls(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=l,this.anisotropy=p,this.format=h,this.internalFormat=null,this.type=d,this.offset=new Y(0,0),this.repeat=new Y(1,1),this.center=new Y(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new qn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isTextureArray=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isTextureArray=e.isTextureArray,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Ip)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case vp:e.x=e.x-Math.floor(e.x);break;case jn:e.x=e.x<0?0:1;break;case bp:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case vp:e.y=e.y-Math.floor(e.y);break;case jn:e.y=e.y<0?0:1;break;case bp:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}dt.DEFAULT_IMAGE=null;dt.DEFAULT_MAPPING=Ip;dt.DEFAULT_ANISOTROPY=1;class vt{constructor(e=0,t=0,r=0,i=1){vt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,o=this.w,l=e.elements;return this.x=l[0]*t+l[4]*r+l[8]*i+l[12]*o,this.y=l[1]*t+l[5]*r+l[9]*i+l[13]*o,this.z=l[2]*t+l[6]*r+l[10]*i+l[14]*o,this.w=l[3]*t+l[7]*r+l[11]*i+l[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,o;const l=e.elements,h=l[0],d=l[4],p=l[8],m=l[1],y=l[5],v=l[9],b=l[2],x=l[6],S=l[10];if(Math.abs(d-m)<.01&&Math.abs(p-b)<.01&&Math.abs(v-x)<.01){if(Math.abs(d+m)<.1&&Math.abs(p+b)<.1&&Math.abs(v+x)<.1&&Math.abs(h+y+S-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const M=(h+1)/2,T=(y+1)/2,z=(S+1)/2,C=(d+m)/4,R=(p+b)/4,N=(v+x)/4;return M>T&&M>z?M<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(M),i=C/r,o=R/r):T>z?T<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(T),r=C/i,o=N/i):z<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(z),r=R/o,i=N/o),this.set(r,i,o,t),this}let _=Math.sqrt((x-v)*(x-v)+(p-b)*(p-b)+(m-d)*(m-d));return Math.abs(_)<.001&&(_=1),this.x=(x-v)/_,this.y=(p-b)/_,this.z=(m-d)/_,this.w=Math.acos((h+y+S-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=ve(this.x,e.x,t.x),this.y=ve(this.y,e.y,t.y),this.z=ve(this.z,e.z,t.z),this.w=ve(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=ve(this.x,e,t),this.y=ve(this.y,e,t),this.z=ve(this.z,e,t),this.w=ve(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(ve(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Np extends ns{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=r.depth?r.depth:1,this.scissor=new vt(0,0,e,t),this.scissorTest=!1,this.viewport=new vt(0,0,e,t);const i={width:e,height:t,depth:this.depth};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Sn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,multiview:!1},r);const o=new dt(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);o.flipY=!1,o.generateMipmaps=r.generateMipmaps,o.internalFormat=r.internalFormat,this.textures=[];const l=r.count;for(let h=0;h<l;h++)this.textures[h]=o.clone(),this.textures[h].isRenderTargetTexture=!0,this.textures[h].renderTarget=this;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,o=this.textures.length;i<o;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,r=e.textures.length;t<r;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const i=Object.assign({},e.textures[t].image);this.textures[t].source=new Ls(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Dp extends Np{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class ab extends dt{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=In,this.minFilter=In,this.wrapR=jn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class o3 extends Dp{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new ab(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class ob extends dt{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=In,this.minFilter=In,this.wrapR=jn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class l3 extends Dp{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new ob(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class un{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,o,l,h){let d=r[i+0],p=r[i+1],m=r[i+2],y=r[i+3];const v=o[l+0],b=o[l+1],x=o[l+2],S=o[l+3];if(h===0){e[t+0]=d,e[t+1]=p,e[t+2]=m,e[t+3]=y;return}if(h===1){e[t+0]=v,e[t+1]=b,e[t+2]=x,e[t+3]=S;return}if(y!==S||d!==v||p!==b||m!==x){let _=1-h;const M=d*v+p*b+m*x+y*S,T=M>=0?1:-1,z=1-M*M;if(z>Number.EPSILON){const R=Math.sqrt(z),N=Math.atan2(R,M*T);_=Math.sin(_*N)/R,h=Math.sin(h*N)/R}const C=h*T;if(d=d*_+v*C,p=p*_+b*C,m=m*_+x*C,y=y*_+S*C,_===1-h){const R=1/Math.sqrt(d*d+p*p+m*m+y*y);d*=R,p*=R,m*=R,y*=R}}e[t]=d,e[t+1]=p,e[t+2]=m,e[t+3]=y}static multiplyQuaternionsFlat(e,t,r,i,o,l){const h=r[i],d=r[i+1],p=r[i+2],m=r[i+3],y=o[l],v=o[l+1],b=o[l+2],x=o[l+3];return e[t]=h*x+m*y+d*b-p*v,e[t+1]=d*x+m*v+p*y-h*b,e[t+2]=p*x+m*b+h*v-d*y,e[t+3]=m*x-h*y-d*v-p*b,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,o=e._z,l=e._order,h=Math.cos,d=Math.sin,p=h(r/2),m=h(i/2),y=h(o/2),v=d(r/2),b=d(i/2),x=d(o/2);switch(l){case"XYZ":this._x=v*m*y+p*b*x,this._y=p*b*y-v*m*x,this._z=p*m*x+v*b*y,this._w=p*m*y-v*b*x;break;case"YXZ":this._x=v*m*y+p*b*x,this._y=p*b*y-v*m*x,this._z=p*m*x-v*b*y,this._w=p*m*y+v*b*x;break;case"ZXY":this._x=v*m*y-p*b*x,this._y=p*b*y+v*m*x,this._z=p*m*x+v*b*y,this._w=p*m*y-v*b*x;break;case"ZYX":this._x=v*m*y-p*b*x,this._y=p*b*y+v*m*x,this._z=p*m*x-v*b*y,this._w=p*m*y+v*b*x;break;case"YZX":this._x=v*m*y+p*b*x,this._y=p*b*y+v*m*x,this._z=p*m*x-v*b*y,this._w=p*m*y-v*b*x;break;case"XZY":this._x=v*m*y-p*b*x,this._y=p*b*y-v*m*x,this._z=p*m*x+v*b*y,this._w=p*m*y+v*b*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],o=t[8],l=t[1],h=t[5],d=t[9],p=t[2],m=t[6],y=t[10],v=r+h+y;if(v>0){const b=.5/Math.sqrt(v+1);this._w=.25/b,this._x=(m-d)*b,this._y=(o-p)*b,this._z=(l-i)*b}else if(r>h&&r>y){const b=2*Math.sqrt(1+r-h-y);this._w=(m-d)/b,this._x=.25*b,this._y=(i+l)/b,this._z=(o+p)/b}else if(h>y){const b=2*Math.sqrt(1+h-r-y);this._w=(o-p)/b,this._x=(i+l)/b,this._y=.25*b,this._z=(d+m)/b}else{const b=2*Math.sqrt(1+y-r-h);this._w=(l-i)/b,this._x=(o+p)/b,this._y=(d+m)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ve(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,o=e._z,l=e._w,h=t._x,d=t._y,p=t._z,m=t._w;return this._x=r*m+l*h+i*p-o*d,this._y=i*m+l*d+o*h-r*p,this._z=o*m+l*p+r*d-i*h,this._w=l*m-r*h-i*d-o*p,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,l=this._w;let h=l*e._w+r*e._x+i*e._y+o*e._z;if(h<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,h=-h):this.copy(e),h>=1)return this._w=l,this._x=r,this._y=i,this._z=o,this;const d=1-h*h;if(d<=Number.EPSILON){const b=1-t;return this._w=b*l+t*this._w,this._x=b*r+t*this._x,this._y=b*i+t*this._y,this._z=b*o+t*this._z,this.normalize(),this}const p=Math.sqrt(d),m=Math.atan2(p,h),y=Math.sin((1-t)*m)/p,v=Math.sin(t*m)/p;return this._w=l*y+this._w*v,this._x=r*y+this._x*v,this._y=i*y+this._y*v,this._z=o*y+this._z*v,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),o*Math.sin(t),o*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class A{constructor(e=0,t=0,r=0){A.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(j0.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(j0.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[3]*r+o[6]*i,this.y=o[1]*t+o[4]*r+o[7]*i,this.z=o[2]*t+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,o=e.elements,l=1/(o[3]*t+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*t+o[4]*r+o[8]*i+o[12])*l,this.y=(o[1]*t+o[5]*r+o[9]*i+o[13])*l,this.z=(o[2]*t+o[6]*r+o[10]*i+o[14])*l,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,o=e.x,l=e.y,h=e.z,d=e.w,p=2*(l*i-h*r),m=2*(h*t-o*i),y=2*(o*r-l*t);return this.x=t+d*p+l*y-h*m,this.y=r+d*m+h*p-o*y,this.z=i+d*y+o*m-l*p,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i,this.y=o[1]*t+o[5]*r+o[9]*i,this.z=o[2]*t+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=ve(this.x,e.x,t.x),this.y=ve(this.y,e.y,t.y),this.z=ve(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=ve(this.x,e,t),this.y=ve(this.y,e,t),this.z=ve(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(ve(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,o=e.z,l=t.x,h=t.y,d=t.z;return this.x=i*d-o*h,this.y=o*l-r*d,this.z=r*h-i*l,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Bd.copy(this).projectOnVector(e),this.sub(Bd)}reflect(e){return this.sub(Bd.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(ve(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Bd=new A,j0=new un;class Nt{constructor(e=new A(1/0,1/0,1/0),t=new A(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Cn.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Cn.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Cn.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(t===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let l=0,h=o.count;l<h;l++)e.isMesh===!0?e.getVertexPosition(l,Cn):Cn.fromBufferAttribute(o,l),Cn.applyMatrix4(e.matrixWorld),this.expandByPoint(Cn);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),ru.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),ru.copy(r.boundingBox)),ru.applyMatrix4(e.matrixWorld),this.union(ru)}const i=e.children;for(let o=0,l=i.length;o<l;o++)this.expandByObject(i[o],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Cn),Cn.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(lo),su.subVectors(this.max,lo),Ei.subVectors(e.a,lo),Ii.subVectors(e.b,lo),Pi.subVectors(e.c,lo),Jr.subVectors(Ii,Ei),$r.subVectors(Pi,Ii),Ss.subVectors(Ei,Pi);let t=[0,-Jr.z,Jr.y,0,-$r.z,$r.y,0,-Ss.z,Ss.y,Jr.z,0,-Jr.x,$r.z,0,-$r.x,Ss.z,0,-Ss.x,-Jr.y,Jr.x,0,-$r.y,$r.x,0,-Ss.y,Ss.x,0];return!Nd(t,Ei,Ii,Pi,su)||(t=[1,0,0,0,1,0,0,0,1],!Nd(t,Ei,Ii,Pi,su))?!1:(iu.crossVectors(Jr,$r),t=[iu.x,iu.y,iu.z],Nd(t,Ei,Ii,Pi,su))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Cn).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Cn).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(cr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),cr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),cr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),cr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),cr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),cr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),cr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),cr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(cr),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const cr=[new A,new A,new A,new A,new A,new A,new A,new A],Cn=new A,ru=new Nt,Ei=new A,Ii=new A,Pi=new A,Jr=new A,$r=new A,Ss=new A,lo=new A,su=new A,iu=new A,Ms=new A;function Nd(c,e,t,r,i){for(let o=0,l=c.length-3;o<=l;o+=3){Ms.fromArray(c,o);const h=i.x*Math.abs(Ms.x)+i.y*Math.abs(Ms.y)+i.z*Math.abs(Ms.z),d=e.dot(Ms),p=t.dot(Ms),m=r.dot(Ms);if(Math.max(-Math.max(d,p,m),Math.min(d,p,m))>h)return!1}return!0}const eM=new Nt,uo=new A,Dd=new A;class Et{constructor(e=new A,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):eM.setFromPoints(e).getCenter(r);let i=0;for(let o=0,l=e.length;o<l;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;uo.subVectors(e,this.center);const t=uo.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(uo,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Dd.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(uo.copy(e.center).add(Dd)),this.expandByPoint(uo.copy(e.center).sub(Dd))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const hr=new A,Fd=new A,au=new A,Gr=new A,jd=new A,ou=new A,Vd=new A;class Do{constructor(e=new A,t=new A(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,hr)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=hr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(hr.copy(this.origin).addScaledVector(this.direction,t),hr.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){Fd.copy(e).add(t).multiplyScalar(.5),au.copy(t).sub(e).normalize(),Gr.copy(this.origin).sub(Fd);const o=e.distanceTo(t)*.5,l=-this.direction.dot(au),h=Gr.dot(this.direction),d=-Gr.dot(au),p=Gr.lengthSq(),m=Math.abs(1-l*l);let y,v,b,x;if(m>0)if(y=l*d-h,v=l*h-d,x=o*m,y>=0)if(v>=-x)if(v<=x){const S=1/m;y*=S,v*=S,b=y*(y+l*v+2*h)+v*(l*y+v+2*d)+p}else v=o,y=Math.max(0,-(l*v+h)),b=-y*y+v*(v+2*d)+p;else v=-o,y=Math.max(0,-(l*v+h)),b=-y*y+v*(v+2*d)+p;else v<=-x?(y=Math.max(0,-(-l*o+h)),v=y>0?-o:Math.min(Math.max(-o,-d),o),b=-y*y+v*(v+2*d)+p):v<=x?(y=0,v=Math.min(Math.max(-o,-d),o),b=v*(v+2*d)+p):(y=Math.max(0,-(l*o+h)),v=y>0?o:Math.min(Math.max(-o,-d),o),b=-y*y+v*(v+2*d)+p);else v=l>0?-o:o,y=Math.max(0,-(l*v+h)),b=-y*y+v*(v+2*d)+p;return r&&r.copy(this.origin).addScaledVector(this.direction,y),i&&i.copy(Fd).addScaledVector(au,v),b}intersectSphere(e,t){hr.subVectors(e.center,this.origin);const r=hr.dot(this.direction),i=hr.dot(hr)-r*r,o=e.radius*e.radius;if(i>o)return null;const l=Math.sqrt(o-i),h=r-l,d=r+l;return d<0?null:h<0?this.at(d,t):this.at(h,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,o,l,h,d;const p=1/this.direction.x,m=1/this.direction.y,y=1/this.direction.z,v=this.origin;return p>=0?(r=(e.min.x-v.x)*p,i=(e.max.x-v.x)*p):(r=(e.max.x-v.x)*p,i=(e.min.x-v.x)*p),m>=0?(o=(e.min.y-v.y)*m,l=(e.max.y-v.y)*m):(o=(e.max.y-v.y)*m,l=(e.min.y-v.y)*m),r>l||o>i||((o>r||isNaN(r))&&(r=o),(l<i||isNaN(i))&&(i=l),y>=0?(h=(e.min.z-v.z)*y,d=(e.max.z-v.z)*y):(h=(e.max.z-v.z)*y,d=(e.min.z-v.z)*y),r>d||h>i)||((h>r||r!==r)&&(r=h),(d<i||i!==i)&&(i=d),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,hr)!==null}intersectTriangle(e,t,r,i,o){jd.subVectors(t,e),ou.subVectors(r,e),Vd.crossVectors(jd,ou);let l=this.direction.dot(Vd),h;if(l>0){if(i)return null;h=1}else if(l<0)h=-1,l=-l;else return null;Gr.subVectors(this.origin,e);const d=h*this.direction.dot(ou.crossVectors(Gr,ou));if(d<0)return null;const p=h*this.direction.dot(jd.cross(Gr));if(p<0||d+p>l)return null;const m=-h*Gr.dot(Vd);return m<0?null:this.at(m/l,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Se{constructor(e,t,r,i,o,l,h,d,p,m,y,v,b,x,S,_){Se.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,o,l,h,d,p,m,y,v,b,x,S,_)}set(e,t,r,i,o,l,h,d,p,m,y,v,b,x,S,_){const M=this.elements;return M[0]=e,M[4]=t,M[8]=r,M[12]=i,M[1]=o,M[5]=l,M[9]=h,M[13]=d,M[2]=p,M[6]=m,M[10]=y,M[14]=v,M[3]=b,M[7]=x,M[11]=S,M[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Se().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Ri.setFromMatrixColumn(e,0).length(),o=1/Ri.setFromMatrixColumn(e,1).length(),l=1/Ri.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*o,t[5]=r[5]*o,t[6]=r[6]*o,t[7]=0,t[8]=r[8]*l,t[9]=r[9]*l,t[10]=r[10]*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,o=e.z,l=Math.cos(r),h=Math.sin(r),d=Math.cos(i),p=Math.sin(i),m=Math.cos(o),y=Math.sin(o);if(e.order==="XYZ"){const v=l*m,b=l*y,x=h*m,S=h*y;t[0]=d*m,t[4]=-d*y,t[8]=p,t[1]=b+x*p,t[5]=v-S*p,t[9]=-h*d,t[2]=S-v*p,t[6]=x+b*p,t[10]=l*d}else if(e.order==="YXZ"){const v=d*m,b=d*y,x=p*m,S=p*y;t[0]=v+S*h,t[4]=x*h-b,t[8]=l*p,t[1]=l*y,t[5]=l*m,t[9]=-h,t[2]=b*h-x,t[6]=S+v*h,t[10]=l*d}else if(e.order==="ZXY"){const v=d*m,b=d*y,x=p*m,S=p*y;t[0]=v-S*h,t[4]=-l*y,t[8]=x+b*h,t[1]=b+x*h,t[5]=l*m,t[9]=S-v*h,t[2]=-l*p,t[6]=h,t[10]=l*d}else if(e.order==="ZYX"){const v=l*m,b=l*y,x=h*m,S=h*y;t[0]=d*m,t[4]=x*p-b,t[8]=v*p+S,t[1]=d*y,t[5]=S*p+v,t[9]=b*p-x,t[2]=-p,t[6]=h*d,t[10]=l*d}else if(e.order==="YZX"){const v=l*d,b=l*p,x=h*d,S=h*p;t[0]=d*m,t[4]=S-v*y,t[8]=x*y+b,t[1]=y,t[5]=l*m,t[9]=-h*m,t[2]=-p*m,t[6]=b*y+x,t[10]=v-S*y}else if(e.order==="XZY"){const v=l*d,b=l*p,x=h*d,S=h*p;t[0]=d*m,t[4]=-y,t[8]=p*m,t[1]=v*y+S,t[5]=l*m,t[9]=b*y-x,t[2]=x*y-b,t[6]=h*m,t[10]=S*y+v}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(tM,e,nM)}lookAt(e,t,r){const i=this.elements;return rn.subVectors(e,t),rn.lengthSq()===0&&(rn.z=1),rn.normalize(),Yr.crossVectors(r,rn),Yr.lengthSq()===0&&(Math.abs(r.z)===1?rn.x+=1e-4:rn.z+=1e-4,rn.normalize(),Yr.crossVectors(r,rn)),Yr.normalize(),lu.crossVectors(rn,Yr),i[0]=Yr.x,i[4]=lu.x,i[8]=rn.x,i[1]=Yr.y,i[5]=lu.y,i[9]=rn.y,i[2]=Yr.z,i[6]=lu.z,i[10]=rn.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,o=this.elements,l=r[0],h=r[4],d=r[8],p=r[12],m=r[1],y=r[5],v=r[9],b=r[13],x=r[2],S=r[6],_=r[10],M=r[14],T=r[3],z=r[7],C=r[11],R=r[15],N=i[0],H=i[4],D=i[8],J=i[12],G=i[1],re=i[5],le=i[9],me=i[13],xe=i[2],_e=i[6],V=i[10],Q=i[14],ae=i[3],fe=i[7],I=i[11],q=i[15];return o[0]=l*N+h*G+d*xe+p*ae,o[4]=l*H+h*re+d*_e+p*fe,o[8]=l*D+h*le+d*V+p*I,o[12]=l*J+h*me+d*Q+p*q,o[1]=m*N+y*G+v*xe+b*ae,o[5]=m*H+y*re+v*_e+b*fe,o[9]=m*D+y*le+v*V+b*I,o[13]=m*J+y*me+v*Q+b*q,o[2]=x*N+S*G+_*xe+M*ae,o[6]=x*H+S*re+_*_e+M*fe,o[10]=x*D+S*le+_*V+M*I,o[14]=x*J+S*me+_*Q+M*q,o[3]=T*N+z*G+C*xe+R*ae,o[7]=T*H+z*re+C*_e+R*fe,o[11]=T*D+z*le+C*V+R*I,o[15]=T*J+z*me+C*Q+R*q,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],o=e[12],l=e[1],h=e[5],d=e[9],p=e[13],m=e[2],y=e[6],v=e[10],b=e[14],x=e[3],S=e[7],_=e[11],M=e[15];return x*(+o*d*y-i*p*y-o*h*v+r*p*v+i*h*b-r*d*b)+S*(+t*d*b-t*p*v+o*l*v-i*l*b+i*p*m-o*d*m)+_*(+t*p*y-t*h*b-o*l*y+r*l*b+o*h*m-r*p*m)+M*(-i*h*m-t*d*y+t*h*v+i*l*y-r*l*v+r*d*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],l=e[4],h=e[5],d=e[6],p=e[7],m=e[8],y=e[9],v=e[10],b=e[11],x=e[12],S=e[13],_=e[14],M=e[15],T=y*_*p-S*v*p+S*d*b-h*_*b-y*d*M+h*v*M,z=x*v*p-m*_*p-x*d*b+l*_*b+m*d*M-l*v*M,C=m*S*p-x*y*p+x*h*b-l*S*b-m*h*M+l*y*M,R=x*y*d-m*S*d-x*h*v+l*S*v+m*h*_-l*y*_,N=t*T+r*z+i*C+o*R;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const H=1/N;return e[0]=T*H,e[1]=(S*v*o-y*_*o-S*i*b+r*_*b+y*i*M-r*v*M)*H,e[2]=(h*_*o-S*d*o+S*i*p-r*_*p-h*i*M+r*d*M)*H,e[3]=(y*d*o-h*v*o-y*i*p+r*v*p+h*i*b-r*d*b)*H,e[4]=z*H,e[5]=(m*_*o-x*v*o+x*i*b-t*_*b-m*i*M+t*v*M)*H,e[6]=(x*d*o-l*_*o-x*i*p+t*_*p+l*i*M-t*d*M)*H,e[7]=(l*v*o-m*d*o+m*i*p-t*v*p-l*i*b+t*d*b)*H,e[8]=C*H,e[9]=(x*y*o-m*S*o-x*r*b+t*S*b+m*r*M-t*y*M)*H,e[10]=(l*S*o-x*h*o+x*r*p-t*S*p-l*r*M+t*h*M)*H,e[11]=(m*h*o-l*y*o-m*r*p+t*y*p+l*r*b-t*h*b)*H,e[12]=R*H,e[13]=(m*S*i-x*y*i+x*r*v-t*S*v-m*r*_+t*y*_)*H,e[14]=(x*h*i-l*S*i-x*r*d+t*S*d+l*r*_-t*h*_)*H,e[15]=(l*y*i-m*h*i+m*r*d-t*y*d-l*r*v+t*h*v)*H,this}scale(e){const t=this.elements,r=e.x,i=e.y,o=e.z;return t[0]*=r,t[4]*=i,t[8]*=o,t[1]*=r,t[5]*=i,t[9]*=o,t[2]*=r,t[6]*=i,t[10]*=o,t[3]*=r,t[7]*=i,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),o=1-r,l=e.x,h=e.y,d=e.z,p=o*l,m=o*h;return this.set(p*l+r,p*h-i*d,p*d+i*h,0,p*h+i*d,m*h+r,m*d-i*l,0,p*d-i*h,m*d+i*l,o*d*d+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,o,l){return this.set(1,r,o,0,e,1,l,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,o=t._x,l=t._y,h=t._z,d=t._w,p=o+o,m=l+l,y=h+h,v=o*p,b=o*m,x=o*y,S=l*m,_=l*y,M=h*y,T=d*p,z=d*m,C=d*y,R=r.x,N=r.y,H=r.z;return i[0]=(1-(S+M))*R,i[1]=(b+C)*R,i[2]=(x-z)*R,i[3]=0,i[4]=(b-C)*N,i[5]=(1-(v+M))*N,i[6]=(_+T)*N,i[7]=0,i[8]=(x+z)*H,i[9]=(_-T)*H,i[10]=(1-(v+S))*H,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let o=Ri.set(i[0],i[1],i[2]).length();const l=Ri.set(i[4],i[5],i[6]).length(),h=Ri.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],An.copy(this);const d=1/o,p=1/l,m=1/h;return An.elements[0]*=d,An.elements[1]*=d,An.elements[2]*=d,An.elements[4]*=p,An.elements[5]*=p,An.elements[6]*=p,An.elements[8]*=m,An.elements[9]*=m,An.elements[10]*=m,t.setFromRotationMatrix(An),r.x=o,r.y=l,r.z=h,this}makePerspective(e,t,r,i,o,l,h=Vn){const d=this.elements,p=2*o/(t-e),m=2*o/(r-i),y=(t+e)/(t-e),v=(r+i)/(r-i);let b,x;if(h===Vn)b=-(l+o)/(l-o),x=-2*l*o/(l-o);else if(h===Qu)b=-l/(l-o),x=-l*o/(l-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+h);return d[0]=p,d[4]=0,d[8]=y,d[12]=0,d[1]=0,d[5]=m,d[9]=v,d[13]=0,d[2]=0,d[6]=0,d[10]=b,d[14]=x,d[3]=0,d[7]=0,d[11]=-1,d[15]=0,this}makeOrthographic(e,t,r,i,o,l,h=Vn){const d=this.elements,p=1/(t-e),m=1/(r-i),y=1/(l-o),v=(t+e)*p,b=(r+i)*m;let x,S;if(h===Vn)x=(l+o)*y,S=-2*y;else if(h===Qu)x=o*y,S=-1*y;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+h);return d[0]=2*p,d[4]=0,d[8]=0,d[12]=-v,d[1]=0,d[5]=2*m,d[9]=0,d[13]=-b,d[2]=0,d[6]=0,d[10]=S,d[14]=-x,d[3]=0,d[7]=0,d[11]=0,d[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Ri=new A,An=new Se,tM=new A(0,0,0),nM=new A(1,1,1),Yr=new A,lu=new A,rn=new A,V0=new Se,H0=new un;class Wn{constructor(e=0,t=0,r=0,i=Wn.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,o=i[0],l=i[4],h=i[8],d=i[1],p=i[5],m=i[9],y=i[2],v=i[6],b=i[10];switch(t){case"XYZ":this._y=Math.asin(ve(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-m,b),this._z=Math.atan2(-l,o)):(this._x=Math.atan2(v,p),this._z=0);break;case"YXZ":this._x=Math.asin(-ve(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(h,b),this._z=Math.atan2(d,p)):(this._y=Math.atan2(-y,o),this._z=0);break;case"ZXY":this._x=Math.asin(ve(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-y,b),this._z=Math.atan2(-l,p)):(this._y=0,this._z=Math.atan2(d,o));break;case"ZYX":this._y=Math.asin(-ve(y,-1,1)),Math.abs(y)<.9999999?(this._x=Math.atan2(v,b),this._z=Math.atan2(d,o)):(this._x=0,this._z=Math.atan2(-l,p));break;case"YZX":this._z=Math.asin(ve(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-m,p),this._y=Math.atan2(-y,o)):(this._x=0,this._y=Math.atan2(h,b));break;case"XZY":this._z=Math.asin(-ve(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(v,p),this._y=Math.atan2(h,o)):(this._x=Math.atan2(-m,b),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return V0.makeRotationFromQuaternion(e),this.setFromRotationMatrix(V0,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return H0.setFromEuler(this),this.setFromQuaternion(H0,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Wn.DEFAULT_ORDER="XYZ";class lb{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let rM=0;const W0=new A,Li=new un,dr=new Se,uu=new A,co=new A,sM=new A,iM=new un,U0=new A(1,0,0),q0=new A(0,1,0),X0=new A(0,0,1),J0={type:"added"},aM={type:"removed"},Oi={type:"childadded",child:null},Hd={type:"childremoved",child:null};class Ne extends ns{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:rM++}),this.uuid=ln(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ne.DEFAULT_UP.clone();const e=new A,t=new Wn,r=new un,i=new A(1,1,1);function o(){r.setFromEuler(t,!1)}function l(){t.setFromQuaternion(r,void 0,!1)}t._onChange(o),r._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Se},normalMatrix:{value:new qn}}),this.matrix=new Se,this.matrixWorld=new Se,this.matrixAutoUpdate=Ne.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ne.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new lb,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Li.setFromAxisAngle(e,t),this.quaternion.multiply(Li),this}rotateOnWorldAxis(e,t){return Li.setFromAxisAngle(e,t),this.quaternion.premultiply(Li),this}rotateX(e){return this.rotateOnAxis(U0,e)}rotateY(e){return this.rotateOnAxis(q0,e)}rotateZ(e){return this.rotateOnAxis(X0,e)}translateOnAxis(e,t){return W0.copy(e).applyQuaternion(this.quaternion),this.position.add(W0.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(U0,e)}translateY(e){return this.translateOnAxis(q0,e)}translateZ(e){return this.translateOnAxis(X0,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(dr.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?uu.copy(e):uu.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),co.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?dr.lookAt(co,uu,this.up):dr.lookAt(uu,co,this.up),this.quaternion.setFromRotationMatrix(dr),i&&(dr.extractRotation(i.matrixWorld),Li.setFromRotationMatrix(dr),this.quaternion.premultiply(Li.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(J0),Oi.child=e,this.dispatchEvent(Oi),Oi.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(aM),Hd.child=e,this.dispatchEvent(Hd),Hd.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),dr.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),dr.multiply(e.parent.matrixWorld)),e.applyMatrix4(dr),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(J0),Oi.child=e,this.dispatchEvent(Oi),Oi.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let o=0,l=i.length;o<l;o++)i[o].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(co,e,sM),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(co,iM,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let o=0,l=i.length;o<l;o++)i[o].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(h=>({...h,boundingBox:h.boundingBox?{min:h.boundingBox.min.toArray(),max:h.boundingBox.max.toArray()}:void 0,boundingSphere:h.boundingSphere?{radius:h.boundingSphere.radius,center:h.boundingSphere.center.toArray()}:void 0})),i.instanceInfo=this._instanceInfo.map(h=>({...h})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:this.boundingSphere.center.toArray(),radius:this.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:this.boundingBox.min.toArray(),max:this.boundingBox.max.toArray()}));function o(h,d){return h[d.uuid]===void 0&&(h[d.uuid]=d.toJSON(e)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const h=this.geometry.parameters;if(h!==void 0&&h.shapes!==void 0){const d=h.shapes;if(Array.isArray(d))for(let p=0,m=d.length;p<m;p++){const y=d[p];o(e.shapes,y)}else o(e.shapes,d)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const h=[];for(let d=0,p=this.material.length;d<p;d++)h.push(o(e.materials,this.material[d]));i.material=h}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let h=0;h<this.children.length;h++)i.children.push(this.children[h].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let h=0;h<this.animations.length;h++){const d=this.animations[h];i.animations.push(o(e.animations,d))}}if(t){const h=l(e.geometries),d=l(e.materials),p=l(e.textures),m=l(e.images),y=l(e.shapes),v=l(e.skeletons),b=l(e.animations),x=l(e.nodes);h.length>0&&(r.geometries=h),d.length>0&&(r.materials=d),p.length>0&&(r.textures=p),m.length>0&&(r.images=m),y.length>0&&(r.shapes=y),v.length>0&&(r.skeletons=v),b.length>0&&(r.animations=b),x.length>0&&(r.nodes=x)}return r.object=i,r;function l(h){const d=[];for(const p in h){const m=h[p];delete m.metadata,d.push(m)}return d}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Ne.DEFAULT_UP=new A(0,1,0);Ne.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ne.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const En=new A,pr=new A,Wd=new A,fr=new A,Bi=new A,Ni=new A,$0=new A,Ud=new A,qd=new A,Xd=new A,Jd=new vt,$d=new vt,Gd=new vt;class on{constructor(e=new A,t=new A,r=new A){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),En.subVectors(e,t),i.cross(En);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,t,r,i,o){En.subVectors(i,t),pr.subVectors(r,t),Wd.subVectors(e,t);const l=En.dot(En),h=En.dot(pr),d=En.dot(Wd),p=pr.dot(pr),m=pr.dot(Wd),y=l*p-h*h;if(y===0)return o.set(0,0,0),null;const v=1/y,b=(p*d-h*m)*v,x=(l*m-h*d)*v;return o.set(1-b-x,x,b)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,fr)===null?!1:fr.x>=0&&fr.y>=0&&fr.x+fr.y<=1}static getInterpolation(e,t,r,i,o,l,h,d){return this.getBarycoord(e,t,r,i,fr)===null?(d.x=0,d.y=0,"z"in d&&(d.z=0),"w"in d&&(d.w=0),null):(d.setScalar(0),d.addScaledVector(o,fr.x),d.addScaledVector(l,fr.y),d.addScaledVector(h,fr.z),d)}static getInterpolatedAttribute(e,t,r,i,o,l){return Jd.setScalar(0),$d.setScalar(0),Gd.setScalar(0),Jd.fromBufferAttribute(e,t),$d.fromBufferAttribute(e,r),Gd.fromBufferAttribute(e,i),l.setScalar(0),l.addScaledVector(Jd,o.x),l.addScaledVector($d,o.y),l.addScaledVector(Gd,o.z),l}static isFrontFacing(e,t,r,i){return En.subVectors(r,t),pr.subVectors(e,t),En.cross(pr).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return En.subVectors(this.c,this.b),pr.subVectors(this.a,this.b),En.cross(pr).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return on.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return on.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,o){return on.getInterpolation(e,this.a,this.b,this.c,t,r,i,o)}containsPoint(e){return on.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return on.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,o=this.c;let l,h;Bi.subVectors(i,r),Ni.subVectors(o,r),Ud.subVectors(e,r);const d=Bi.dot(Ud),p=Ni.dot(Ud);if(d<=0&&p<=0)return t.copy(r);qd.subVectors(e,i);const m=Bi.dot(qd),y=Ni.dot(qd);if(m>=0&&y<=m)return t.copy(i);const v=d*y-m*p;if(v<=0&&d>=0&&m<=0)return l=d/(d-m),t.copy(r).addScaledVector(Bi,l);Xd.subVectors(e,o);const b=Bi.dot(Xd),x=Ni.dot(Xd);if(x>=0&&b<=x)return t.copy(o);const S=b*p-d*x;if(S<=0&&p>=0&&x<=0)return h=p/(p-x),t.copy(r).addScaledVector(Ni,h);const _=m*x-b*y;if(_<=0&&y-m>=0&&b-x>=0)return $0.subVectors(o,i),h=(y-m)/(y-m+(b-x)),t.copy(i).addScaledVector($0,h);const M=1/(_+S+v);return l=S*M,h=v*M,t.copy(r).addScaledVector(Bi,l).addScaledVector(Ni,h)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const ub={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Qr={h:0,s:0,l:0},cu={h:0,s:0,l:0};function Yd(c,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?c+(e-c)*6*t:t<1/2?e:t<2/3?c+(e-c)*6*(2/3-t):c}class be{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=xn){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,an.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=an.workingColorSpace){return this.r=e,this.g=t,this.b=r,an.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=an.workingColorSpace){if(e=Bp(e,1),t=ve(t,0,1),r=ve(r,0,1),t===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+t):r+t-r*t,l=2*r-o;this.r=Yd(l,o,e+1/3),this.g=Yd(l,o,e),this.b=Yd(l,o,e-1/3)}return an.toWorkingColorSpace(this,i),this}setStyle(e,t=xn){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const l=i[1],h=i[2];switch(l){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,t);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,t);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],l=o.length;if(l===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,t);if(l===6)return this.setHex(parseInt(o,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=xn){const r=ub[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=yr(e.r),this.g=yr(e.g),this.b=yr(e.b),this}copyLinearToSRGB(e){return this.r=Yi(e.r),this.g=Yi(e.g),this.b=Yi(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=xn){return an.fromWorkingColorSpace(Ct.copy(this),e),Math.round(ve(Ct.r*255,0,255))*65536+Math.round(ve(Ct.g*255,0,255))*256+Math.round(ve(Ct.b*255,0,255))}getHexString(e=xn){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=an.workingColorSpace){an.fromWorkingColorSpace(Ct.copy(this),t);const r=Ct.r,i=Ct.g,o=Ct.b,l=Math.max(r,i,o),h=Math.min(r,i,o);let d,p;const m=(h+l)/2;if(h===l)d=0,p=0;else{const y=l-h;switch(p=m<=.5?y/(l+h):y/(2-l-h),l){case r:d=(i-o)/y+(i<o?6:0);break;case i:d=(o-r)/y+2;break;case o:d=(r-i)/y+4;break}d/=6}return e.h=d,e.s=p,e.l=m,e}getRGB(e,t=an.workingColorSpace){return an.fromWorkingColorSpace(Ct.copy(this),t),e.r=Ct.r,e.g=Ct.g,e.b=Ct.b,e}getStyle(e=xn){an.fromWorkingColorSpace(Ct.copy(this),e);const t=Ct.r,r=Ct.g,i=Ct.b;return e!==xn?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(Qr),this.setHSL(Qr.h+e,Qr.s+t,Qr.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Qr),e.getHSL(cu);const r=Co(Qr.h,cu.h,t),i=Co(Qr.s,cu.s,t),o=Co(Qr.l,cu.l,t);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*t+o[3]*r+o[6]*i,this.g=o[1]*t+o[4]*r+o[7]*i,this.b=o[2]*t+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ct=new be;be.NAMES=ub;let oM=0;class Dt extends ns{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:oM++}),this.uuid=ln(),this.name="",this.type="Material",this.blending=T0,this.side=yp,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=C0,this.blendDst=A0,this.blendEquation=z0,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new be(0,0,0),this.blendAlpha=0,this.depthFunc=E0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=O0,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ci,this.stencilZFail=Ci,this.stencilZPass=Ci,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==T0&&(r.blending=this.blending),this.side!==yp&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==C0&&(r.blendSrc=this.blendSrc),this.blendDst!==A0&&(r.blendDst=this.blendDst),this.blendEquation!==z0&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==E0&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==O0&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ci&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Ci&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Ci&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const l=[];for(const h in o){const d=o[h];delete d.metadata,l.push(d)}return l}if(t){const o=i(e.textures),l=i(e.images);o.length>0&&(r.textures=o),l.length>0&&(r.images=l)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=t[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class sa extends Dt{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new be(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Wn,this.combine=Ep,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const gr=lM();function lM(){const c=new ArrayBuffer(4),e=new Float32Array(c),t=new Uint32Array(c),r=new Uint32Array(512),i=new Uint32Array(512);for(let d=0;d<256;++d){const p=d-127;p<-27?(r[d]=0,r[d|256]=32768,i[d]=24,i[d|256]=24):p<-14?(r[d]=1024>>-p-14,r[d|256]=1024>>-p-14|32768,i[d]=-p-1,i[d|256]=-p-1):p<=15?(r[d]=p+15<<10,r[d|256]=p+15<<10|32768,i[d]=13,i[d|256]=13):p<128?(r[d]=31744,r[d|256]=64512,i[d]=24,i[d|256]=24):(r[d]=31744,r[d|256]=64512,i[d]=13,i[d|256]=13)}const o=new Uint32Array(2048),l=new Uint32Array(64),h=new Uint32Array(64);for(let d=1;d<1024;++d){let p=d<<13,m=0;for(;(p&8388608)===0;)p<<=1,m-=8388608;p&=-8388609,m+=947912704,o[d]=p|m}for(let d=1024;d<2048;++d)o[d]=939524096+(d-1024<<13);for(let d=1;d<31;++d)l[d]=d<<23;l[31]=1199570944,l[32]=2147483648;for(let d=33;d<63;++d)l[d]=2147483648+(d-32<<23);l[63]=3347054592;for(let d=1;d<64;++d)d!==32&&(h[d]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:l,offsetTable:h}}function Xt(c){Math.abs(c)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),c=ve(c,-65504,65504),gr.floatView[0]=c;const e=gr.uint32View[0],t=e>>23&511;return gr.baseTable[t]+((e&8388607)>>gr.shiftTable[t])}function _o(c){const e=c>>10;return gr.uint32View[0]=gr.mantissaTable[gr.offsetTable[e]+(c&1023)]+gr.exponentTable[e],gr.floatView[0]}class u3{static toHalfFloat(e){return Xt(e)}static fromHalfFloat(e){return _o(e)}}const ut=new A,hu=new Y;let uM=0;class Ze{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:uM++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=Yu,this.updateRanges=[],this.gpuType=Zi,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)hu.fromBufferAttribute(this,t),hu.applyMatrix3(e),this.setXY(t,hu.x,hu.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)ut.fromBufferAttribute(this,t),ut.applyMatrix3(e),this.setXYZ(t,ut.x,ut.y,ut.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)ut.fromBufferAttribute(this,t),ut.applyMatrix4(e),this.setXYZ(t,ut.x,ut.y,ut.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)ut.fromBufferAttribute(this,t),ut.applyNormalMatrix(e),this.setXYZ(t,ut.x,ut.y,ut.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)ut.fromBufferAttribute(this,t),ut.transformDirection(e),this.setXYZ(t,ut.x,ut.y,ut.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=Bt(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=we(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Bt(t,this.array)),t}setX(e,t){return this.normalized&&(t=we(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Bt(t,this.array)),t}setY(e,t){return this.normalized&&(t=we(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Bt(t,this.array)),t}setZ(e,t){return this.normalized&&(t=we(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Bt(t,this.array)),t}setW(e,t){return this.normalized&&(t=we(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=we(t,this.array),r=we(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=we(t,this.array),r=we(r,this.array),i=we(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,o){return e*=this.itemSize,this.normalized&&(t=we(t,this.array),r=we(r,this.array),i=we(i,this.array),o=we(o,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Yu&&(e.usage=this.usage),e}}class c3 extends Ze{constructor(e,t,r){super(new Int8Array(e),t,r)}}class h3 extends Ze{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class d3 extends Ze{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class p3 extends Ze{constructor(e,t,r){super(new Int16Array(e),t,r)}}class cM extends Ze{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class f3 extends Ze{constructor(e,t,r){super(new Int32Array(e),t,r)}}class hM extends Ze{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class m3 extends Ze{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=_o(this.array[e*this.itemSize]);return this.normalized&&(t=Bt(t,this.array)),t}setX(e,t){return this.normalized&&(t=we(t,this.array)),this.array[e*this.itemSize]=Xt(t),this}getY(e){let t=_o(this.array[e*this.itemSize+1]);return this.normalized&&(t=Bt(t,this.array)),t}setY(e,t){return this.normalized&&(t=we(t,this.array)),this.array[e*this.itemSize+1]=Xt(t),this}getZ(e){let t=_o(this.array[e*this.itemSize+2]);return this.normalized&&(t=Bt(t,this.array)),t}setZ(e,t){return this.normalized&&(t=we(t,this.array)),this.array[e*this.itemSize+2]=Xt(t),this}getW(e){let t=_o(this.array[e*this.itemSize+3]);return this.normalized&&(t=Bt(t,this.array)),t}setW(e,t){return this.normalized&&(t=we(t,this.array)),this.array[e*this.itemSize+3]=Xt(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=we(t,this.array),r=we(r,this.array)),this.array[e+0]=Xt(t),this.array[e+1]=Xt(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=we(t,this.array),r=we(r,this.array),i=we(i,this.array)),this.array[e+0]=Xt(t),this.array[e+1]=Xt(r),this.array[e+2]=Xt(i),this}setXYZW(e,t,r,i,o){return e*=this.itemSize,this.normalized&&(t=we(t,this.array),r=we(r,this.array),i=we(i,this.array),o=we(o,this.array)),this.array[e+0]=Xt(t),this.array[e+1]=Xt(r),this.array[e+2]=Xt(i),this.array[e+3]=Xt(o),this}}class oe extends Ze{constructor(e,t,r){super(new Float32Array(e),t,r)}}let dM=0;const bn=new Se,Qd=new Ne,Di=new A,sn=new Nt,ho=new Nt,yt=new A;class ze extends ns{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:dM++}),this.uuid=ln(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new($S(e)?hM:cM)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new qn().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return bn.makeRotationFromQuaternion(e),this.applyMatrix4(bn),this}rotateX(e){return bn.makeRotationX(e),this.applyMatrix4(bn),this}rotateY(e){return bn.makeRotationY(e),this.applyMatrix4(bn),this}rotateZ(e){return bn.makeRotationZ(e),this.applyMatrix4(bn),this}translate(e,t,r){return bn.makeTranslation(e,t,r),this.applyMatrix4(bn),this}scale(e,t,r){return bn.makeScale(e,t,r),this.applyMatrix4(bn),this}lookAt(e){return Qd.lookAt(e),Qd.updateMatrix(),this.applyMatrix4(Qd.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Di).negate(),this.translate(Di.x,Di.y,Di.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const r=[];for(let i=0,o=e.length;i<o;i++){const l=e[i];r.push(l.x,l.y,l.z||0)}this.setAttribute("position",new oe(r,3))}else{const r=Math.min(e.length,t.count);for(let i=0;i<r;i++){const o=e[i];t.setXYZ(i,o.x,o.y,o.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Nt);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new A(-1/0,-1/0,-1/0),new A(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const o=t[r];sn.setFromBufferAttribute(o),this.morphTargetsRelative?(yt.addVectors(this.boundingBox.min,sn.min),this.boundingBox.expandByPoint(yt),yt.addVectors(this.boundingBox.max,sn.max),this.boundingBox.expandByPoint(yt)):(this.boundingBox.expandByPoint(sn.min),this.boundingBox.expandByPoint(sn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Et);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new A,1/0);return}if(e){const r=this.boundingSphere.center;if(sn.setFromBufferAttribute(e),t)for(let o=0,l=t.length;o<l;o++){const h=t[o];ho.setFromBufferAttribute(h),this.morphTargetsRelative?(yt.addVectors(sn.min,ho.min),sn.expandByPoint(yt),yt.addVectors(sn.max,ho.max),sn.expandByPoint(yt)):(sn.expandByPoint(ho.min),sn.expandByPoint(ho.max))}sn.getCenter(r);let i=0;for(let o=0,l=e.count;o<l;o++)yt.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(yt));if(t)for(let o=0,l=t.length;o<l;o++){const h=t[o],d=this.morphTargetsRelative;for(let p=0,m=h.count;p<m;p++)yt.fromBufferAttribute(h,p),d&&(Di.fromBufferAttribute(e,p),yt.add(Di)),i=Math.max(i,r.distanceToSquared(yt))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,i=t.normal,o=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ze(new Float32Array(4*r.count),4));const l=this.getAttribute("tangent"),h=[],d=[];for(let D=0;D<r.count;D++)h[D]=new A,d[D]=new A;const p=new A,m=new A,y=new A,v=new Y,b=new Y,x=new Y,S=new A,_=new A;function M(D,J,G){p.fromBufferAttribute(r,D),m.fromBufferAttribute(r,J),y.fromBufferAttribute(r,G),v.fromBufferAttribute(o,D),b.fromBufferAttribute(o,J),x.fromBufferAttribute(o,G),m.sub(p),y.sub(p),b.sub(v),x.sub(v);const re=1/(b.x*x.y-x.x*b.y);isFinite(re)&&(S.copy(m).multiplyScalar(x.y).addScaledVector(y,-b.y).multiplyScalar(re),_.copy(y).multiplyScalar(b.x).addScaledVector(m,-x.x).multiplyScalar(re),h[D].add(S),h[J].add(S),h[G].add(S),d[D].add(_),d[J].add(_),d[G].add(_))}let T=this.groups;T.length===0&&(T=[{start:0,count:e.count}]);for(let D=0,J=T.length;D<J;++D){const G=T[D],re=G.start,le=G.count;for(let me=re,xe=re+le;me<xe;me+=3)M(e.getX(me+0),e.getX(me+1),e.getX(me+2))}const z=new A,C=new A,R=new A,N=new A;function H(D){R.fromBufferAttribute(i,D),N.copy(R);const J=h[D];z.copy(J),z.sub(R.multiplyScalar(R.dot(J))).normalize(),C.crossVectors(N,J);const G=C.dot(d[D])<0?-1:1;l.setXYZW(D,z.x,z.y,z.z,G)}for(let D=0,J=T.length;D<J;++D){const G=T[D],re=G.start,le=G.count;for(let me=re,xe=re+le;me<xe;me+=3)H(e.getX(me+0)),H(e.getX(me+1)),H(e.getX(me+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Ze(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let v=0,b=r.count;v<b;v++)r.setXYZ(v,0,0,0);const i=new A,o=new A,l=new A,h=new A,d=new A,p=new A,m=new A,y=new A;if(e)for(let v=0,b=e.count;v<b;v+=3){const x=e.getX(v+0),S=e.getX(v+1),_=e.getX(v+2);i.fromBufferAttribute(t,x),o.fromBufferAttribute(t,S),l.fromBufferAttribute(t,_),m.subVectors(l,o),y.subVectors(i,o),m.cross(y),h.fromBufferAttribute(r,x),d.fromBufferAttribute(r,S),p.fromBufferAttribute(r,_),h.add(m),d.add(m),p.add(m),r.setXYZ(x,h.x,h.y,h.z),r.setXYZ(S,d.x,d.y,d.z),r.setXYZ(_,p.x,p.y,p.z)}else for(let v=0,b=t.count;v<b;v+=3)i.fromBufferAttribute(t,v+0),o.fromBufferAttribute(t,v+1),l.fromBufferAttribute(t,v+2),m.subVectors(l,o),y.subVectors(i,o),m.cross(y),r.setXYZ(v+0,m.x,m.y,m.z),r.setXYZ(v+1,m.x,m.y,m.z),r.setXYZ(v+2,m.x,m.y,m.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)yt.fromBufferAttribute(e,t),yt.normalize(),e.setXYZ(t,yt.x,yt.y,yt.z)}toNonIndexed(){function e(h,d){const p=h.array,m=h.itemSize,y=h.normalized,v=new p.constructor(d.length*m);let b=0,x=0;for(let S=0,_=d.length;S<_;S++){h.isInterleavedBufferAttribute?b=d[S]*h.data.stride+h.offset:b=d[S]*m;for(let M=0;M<m;M++)v[x++]=p[b++]}return new Ze(v,m,y)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ze,r=this.index.array,i=this.attributes;for(const h in i){const d=i[h],p=e(d,r);t.setAttribute(h,p)}const o=this.morphAttributes;for(const h in o){const d=[],p=o[h];for(let m=0,y=p.length;m<y;m++){const v=p[m],b=e(v,r);d.push(b)}t.morphAttributes[h]=d}t.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let h=0,d=l.length;h<d;h++){const p=l[h];t.addGroup(p.start,p.count,p.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const p in d)d[p]!==void 0&&(e[p]=d[p]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const d in r){const p=r[d];e.data.attributes[d]=p.toJSON(e.data)}const i={};let o=!1;for(const d in this.morphAttributes){const p=this.morphAttributes[d],m=[];for(let y=0,v=p.length;y<v;y++){const b=p[y];m.push(b.toJSON(e.data))}m.length>0&&(i[d]=m,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));const h=this.boundingSphere;return h!==null&&(e.data.boundingSphere={center:h.center.toArray(),radius:h.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const p in i){const m=i[p];this.setAttribute(p,m.clone(t))}const o=e.morphAttributes;for(const p in o){const m=[],y=o[p];for(let v=0,b=y.length;v<b;v++)m.push(y[v].clone(t));this.morphAttributes[p]=m}this.morphTargetsRelative=e.morphTargetsRelative;const l=e.groups;for(let p=0,m=l.length;p<m;p++){const y=l[p];this.addGroup(y.start,y.count,y.materialIndex)}const h=e.boundingBox;h!==null&&(this.boundingBox=h.clone());const d=e.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const G0=new Se,_s=new Do,du=new Et,Y0=new A,pu=new A,fu=new A,mu=new A,Zd=new A,gu=new A,Q0=new A,yu=new A;class Pn extends Ne{constructor(e=new ze,t=new sa){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const r=e[t[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,o=r.length;i<o;i++){const l=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=i}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,l=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const h=this.morphTargetInfluences;if(o&&h){gu.set(0,0,0);for(let d=0,p=o.length;d<p;d++){const m=h[d],y=o[d];m!==0&&(Zd.fromBufferAttribute(y,e),l?gu.addScaledVector(Zd,m):gu.addScaledVector(Zd.sub(t),m))}t.add(gu)}return t}raycast(e,t){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),du.copy(r.boundingSphere),du.applyMatrix4(o),_s.copy(e.ray).recast(e.near),!(du.containsPoint(_s.origin)===!1&&(_s.intersectSphere(du,Y0)===null||_s.origin.distanceToSquared(Y0)>(e.far-e.near)**2))&&(G0.copy(o).invert(),_s.copy(e.ray).applyMatrix4(G0),!(r.boundingBox!==null&&_s.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,_s)))}_computeIntersections(e,t,r){let i;const o=this.geometry,l=this.material,h=o.index,d=o.attributes.position,p=o.attributes.uv,m=o.attributes.uv1,y=o.attributes.normal,v=o.groups,b=o.drawRange;if(h!==null)if(Array.isArray(l))for(let x=0,S=v.length;x<S;x++){const _=v[x],M=l[_.materialIndex],T=Math.max(_.start,b.start),z=Math.min(h.count,Math.min(_.start+_.count,b.start+b.count));for(let C=T,R=z;C<R;C+=3){const N=h.getX(C),H=h.getX(C+1),D=h.getX(C+2);i=vu(this,M,e,r,p,m,y,N,H,D),i&&(i.faceIndex=Math.floor(C/3),i.face.materialIndex=_.materialIndex,t.push(i))}}else{const x=Math.max(0,b.start),S=Math.min(h.count,b.start+b.count);for(let _=x,M=S;_<M;_+=3){const T=h.getX(_),z=h.getX(_+1),C=h.getX(_+2);i=vu(this,l,e,r,p,m,y,T,z,C),i&&(i.faceIndex=Math.floor(_/3),t.push(i))}}else if(d!==void 0)if(Array.isArray(l))for(let x=0,S=v.length;x<S;x++){const _=v[x],M=l[_.materialIndex],T=Math.max(_.start,b.start),z=Math.min(d.count,Math.min(_.start+_.count,b.start+b.count));for(let C=T,R=z;C<R;C+=3){const N=C,H=C+1,D=C+2;i=vu(this,M,e,r,p,m,y,N,H,D),i&&(i.faceIndex=Math.floor(C/3),i.face.materialIndex=_.materialIndex,t.push(i))}}else{const x=Math.max(0,b.start),S=Math.min(d.count,b.start+b.count);for(let _=x,M=S;_<M;_+=3){const T=_,z=_+1,C=_+2;i=vu(this,l,e,r,p,m,y,T,z,C),i&&(i.faceIndex=Math.floor(_/3),t.push(i))}}}}function pM(c,e,t,r,i,o,l,h){let d;if(e.side===tb?d=r.intersectTriangle(l,o,i,!0,h):d=r.intersectTriangle(i,o,l,e.side===yp,h),d===null)return null;yu.copy(h),yu.applyMatrix4(c.matrixWorld);const p=t.ray.origin.distanceTo(yu);return p<t.near||p>t.far?null:{distance:p,point:yu.clone(),object:c}}function vu(c,e,t,r,i,o,l,h,d,p){c.getVertexPosition(h,pu),c.getVertexPosition(d,fu),c.getVertexPosition(p,mu);const m=pM(c,e,t,r,pu,fu,mu,Q0);if(m){const y=new A;on.getBarycoord(Q0,pu,fu,mu,y),i&&(m.uv=on.getInterpolatedAttribute(i,h,d,p,y,new Y)),o&&(m.uv1=on.getInterpolatedAttribute(o,h,d,p,y,new Y)),l&&(m.normal=on.getInterpolatedAttribute(l,h,d,p,y,new A),m.normal.dot(r.direction)>0&&m.normal.multiplyScalar(-1));const v={a:h,b:d,c:p,normal:new A,materialIndex:0};on.getNormal(pu,fu,mu,v.normal),m.face=v,m.barycoord=y}return m}class lc extends ze{constructor(e=1,t=1,r=1,i=1,o=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:o,depthSegments:l};const h=this;i=Math.floor(i),o=Math.floor(o),l=Math.floor(l);const d=[],p=[],m=[],y=[];let v=0,b=0;x("z","y","x",-1,-1,r,t,e,l,o,0),x("z","y","x",1,-1,r,t,-e,l,o,1),x("x","z","y",1,1,e,r,t,i,l,2),x("x","z","y",1,-1,e,r,-t,i,l,3),x("x","y","z",1,-1,e,t,r,i,o,4),x("x","y","z",-1,-1,e,t,-r,i,o,5),this.setIndex(d),this.setAttribute("position",new oe(p,3)),this.setAttribute("normal",new oe(m,3)),this.setAttribute("uv",new oe(y,2));function x(S,_,M,T,z,C,R,N,H,D,J){const G=C/H,re=R/D,le=C/2,me=R/2,xe=N/2,_e=H+1,V=D+1;let Q=0,ae=0;const fe=new A;for(let I=0;I<V;I++){const q=I*re-me;for(let Z=0;Z<_e;Z++){const K=Z*G-le;fe[S]=K*T,fe[_]=q*z,fe[M]=xe,p.push(fe.x,fe.y,fe.z),fe[S]=0,fe[_]=0,fe[M]=N>0?1:-1,m.push(fe.x,fe.y,fe.z),y.push(Z/H),y.push(1-I/D),Q+=1}}for(let I=0;I<D;I++)for(let q=0;q<H;q++){const Z=v+q+_e*I,K=v+q+_e*(I+1),ce=v+(q+1)+_e*(I+1),Ae=v+(q+1)+_e*I;d.push(Z,K,Ae),d.push(K,ce,Ae),ae+=6}h.addGroup(b,ae,J),b+=ae,v+=Q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function uc(c){const e={};for(const t in c){e[t]={};for(const r in c[t]){const i=c[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function fM(c){const e={};for(let t=0;t<c.length;t++){const r=uc(c[t]);for(const i in r)e[i]=r[i]}return e}function mM(c){const e=[];for(let t=0;t<c.length;t++)e.push(c[t].clone());return e}function g3(c){const e=c.getRenderTarget();return e===null?c.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:an.workingColorSpace}const y3={clone:uc,merge:fM};var gM=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,yM=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Fp extends Dt{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=gM,this.fragmentShader=yM,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=uc(e.uniforms),this.uniformsGroups=mM(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class jp extends Ne{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Se,this.projectionMatrix=new Se,this.projectionMatrixInverse=new Se,this.coordinateSystem=Vn}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Zr=new A,Z0=new Y,K0=new Y;class wn extends jp{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Po*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Bs*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Po*2*Math.atan(Math.tan(Bs*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){Zr.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Zr.x,Zr.y).multiplyScalar(-e/Zr.z),Zr.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Zr.x,Zr.y).multiplyScalar(-e/Zr.z)}getViewSize(e,t){return this.getViewBounds(e,Z0,K0),t.subVectors(K0,Z0)}setViewOffset(e,t,r,i,o,l){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Bs*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,o=-.5*i;const l=this.view;if(this.view!==null&&this.view.enabled){const d=l.fullWidth,p=l.fullHeight;o+=l.offsetX*i/d,t-=l.offsetY*r/p,i*=l.width/d,r*=l.height/p}const h=this.filmOffset;h!==0&&(o+=e*h/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Fi=-90,ji=1;class vM extends Ne{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new wn(Fi,ji,e,t);i.layers=this.layers,this.add(i);const o=new wn(Fi,ji,e,t);o.layers=this.layers,this.add(o);const l=new wn(Fi,ji,e,t);l.layers=this.layers,this.add(l);const h=new wn(Fi,ji,e,t);h.layers=this.layers,this.add(h);const d=new wn(Fi,ji,e,t);d.layers=this.layers,this.add(d);const p=new wn(Fi,ji,e,t);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,o,l,h,d]=t;for(const p of t)this.remove(p);if(e===Vn)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),h.up.set(0,1,0),h.lookAt(0,0,1),d.up.set(0,1,0),d.lookAt(0,0,-1);else if(e===Qu)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),h.up.set(0,-1,0),h.lookAt(0,0,1),d.up.set(0,-1,0),d.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const p of t)this.add(p),p.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,l,h,d,p,m]=this.children,y=e.getRenderTarget(),v=e.getActiveCubeFace(),b=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const S=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,o),e.setRenderTarget(r,1,i),e.render(t,l),e.setRenderTarget(r,2,i),e.render(t,h),e.setRenderTarget(r,3,i),e.render(t,d),e.setRenderTarget(r,4,i),e.render(t,p),r.texture.generateMipmaps=S,e.setRenderTarget(r,5,i),e.render(t,m),e.setRenderTarget(y,v,b),e.xr.enabled=x,r.texture.needsPMREMUpdate=!0}}class Vp extends dt{constructor(e=[],t=Pp,r,i,o,l,h,d,p,m){super(e,t,r,i,o,l,h,d,p,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class v3 extends Dp{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Vp(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Sn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new lc(5,5,5),o=new Fp({name:"CubemapFromEquirect",uniforms:uc(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:tb,blending:zw});o.uniforms.tEquirect.value=t;const l=new Pn(i,o),h=t.minFilter;return t.minFilter===oc&&(t.minFilter=Sn),new vM(1,10,this).update(e,l),t.minFilter=h,l.geometry.dispose(),l.material.dispose(),this}clear(e,t=!0,r=!0,i=!0){const o=e.getRenderTarget();for(let l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(t,r,i);e.setRenderTarget(o)}}class ko extends Ne{constructor(){super(),this.isGroup=!0,this.type="Group"}}const bM={type:"move"};class b3{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ko,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ko,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new A,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new A),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ko,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new A,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new A),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,o=null,l=null;const h=this._targetRay,d=this._grip,p=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(p&&e.hand){l=!0;for(const S of e.hand.values()){const _=t.getJointPose(S,r),M=this._getHandJoint(p,S);_!==null&&(M.matrix.fromArray(_.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.matrixWorldNeedsUpdate=!0,M.jointRadius=_.radius),M.visible=_!==null}const m=p.joints["index-finger-tip"],y=p.joints["thumb-tip"],v=m.position.distanceTo(y.position),b=.02,x=.005;p.inputState.pinching&&v>b+x?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!p.inputState.pinching&&v<=b-x&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else d!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,r),o!==null&&(d.matrix.fromArray(o.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,o.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(o.linearVelocity)):d.hasLinearVelocity=!1,o.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(o.angularVelocity)):d.hasAngularVelocity=!1));h!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(h.matrix.fromArray(i.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,i.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(i.linearVelocity)):h.hasLinearVelocity=!1,i.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(i.angularVelocity)):h.hasAngularVelocity=!1,this.dispatchEvent(bM)))}return h!==null&&(h.visible=i!==null),d!==null&&(d.visible=o!==null),p!==null&&(p.visible=l!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new ko;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class Hp{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new be(e),this.density=t}clone(){return new Hp(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Wp{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new be(e),this.near=t,this.far=r}clone(){return new Wp(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class xM extends Ne{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Wn,this.environmentIntensity=1,this.environmentRotation=new Wn,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Up{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Yu,this.updateRanges=[],this.version=0,this.uuid=ln()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ln()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ln()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ot=new A;class Ki{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Ot.fromBufferAttribute(this,t),Ot.applyMatrix4(e),this.setXYZ(t,Ot.x,Ot.y,Ot.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ot.fromBufferAttribute(this,t),Ot.applyNormalMatrix(e),this.setXYZ(t,Ot.x,Ot.y,Ot.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ot.fromBufferAttribute(this,t),Ot.transformDirection(e),this.setXYZ(t,Ot.x,Ot.y,Ot.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=Bt(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=we(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=we(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=we(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=we(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=we(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Bt(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Bt(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Bt(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Bt(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=we(t,this.array),r=we(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=we(t,this.array),r=we(r,this.array),i=we(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(t=we(t,this.array),r=we(r,this.array),i=we(i,this.array),o=we(o,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[i+o])}return new Ze(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ki(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class cb extends Dt{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new be(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Vi;const po=new A,Hi=new A,Wi=new A,Ui=new Y,fo=new Y,hb=new Se,bu=new A,mo=new A,xu=new A,ev=new Y,Kd=new Y,tv=new Y;class wM extends Ne{constructor(e=new cb){if(super(),this.isSprite=!0,this.type="Sprite",Vi===void 0){Vi=new ze;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Up(t,5);Vi.setIndex([0,1,2,0,2,3]),Vi.setAttribute("position",new Ki(r,3,0,!1)),Vi.setAttribute("uv",new Ki(r,2,3,!1))}this.geometry=Vi,this.material=e,this.center=new Y(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Hi.setFromMatrixScale(this.matrixWorld),hb.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Wi.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Hi.multiplyScalar(-Wi.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const l=this.center;wu(bu.set(-.5,-.5,0),Wi,l,Hi,i,o),wu(mo.set(.5,-.5,0),Wi,l,Hi,i,o),wu(xu.set(.5,.5,0),Wi,l,Hi,i,o),ev.set(0,0),Kd.set(1,0),tv.set(1,1);let h=e.ray.intersectTriangle(bu,mo,xu,!1,po);if(h===null&&(wu(mo.set(-.5,.5,0),Wi,l,Hi,i,o),Kd.set(0,1),h=e.ray.intersectTriangle(bu,xu,mo,!1,po),h===null))return;const d=e.ray.origin.distanceTo(po);d<e.near||d>e.far||t.push({distance:d,point:po.clone(),uv:on.getInterpolation(po,bu,mo,xu,ev,Kd,tv,new Y),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function wu(c,e,t,r,i,o){Ui.subVectors(c,t).addScalar(.5).multiply(r),i!==void 0?(fo.x=o*Ui.x-i*Ui.y,fo.y=i*Ui.x+o*Ui.y):fo.copy(Ui),c.copy(e),c.x+=fo.x,c.y+=fo.y,c.applyMatrix4(hb)}const Su=new A,nv=new A;class SM extends Ne{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const o=t[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let o;for(o=0;o<i.length&&!(t<i[o].distance);o++);return i.splice(o,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let r=0;r<t.length;r++)if(t[r].distance===e){const i=t.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),e<o)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Su.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Su);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Su.setFromMatrixPosition(e.matrixWorld),nv.setFromMatrixPosition(this.matrixWorld);const r=Su.distanceTo(nv)/e.zoom;t[0].object.visible=!0;let i,o;for(i=1,o=t.length;i<o;i++){let l=t[i].distance;if(t[i].object.visible&&(l-=l*t[i].hysteresis),r>=l)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<o;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const l=r[i];t.object.levels.push({object:l.object.uuid,distance:l.distance,hysteresis:l.hysteresis})}return t}}const rv=new A,sv=new vt,iv=new vt,MM=new A,av=new Se,Mu=new A,ep=new Et,ov=new Se,tp=new Do;class _M extends Pn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=I0,this.bindMatrix=new Se,this.bindMatrixInverse=new Se,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Nt),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,Mu),this.boundingBox.expandByPoint(Mu)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Et),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,Mu),this.boundingSphere.expandByPoint(Mu)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),ep.copy(this.boundingSphere),ep.applyMatrix4(i),e.ray.intersectsSphere(ep)!==!1&&(ov.copy(i).invert(),tp.copy(e.ray).applyMatrix4(ov),!(this.boundingBox!==null&&tp.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,tp)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new vt,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===I0?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Cw?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;sv.fromBufferAttribute(i.attributes.skinIndex,e),iv.fromBufferAttribute(i.attributes.skinWeight,e),rv.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const l=iv.getComponent(o);if(l!==0){const h=sv.getComponent(o);av.multiplyMatrices(r.bones[h].matrixWorld,r.boneInverses[h]),t.addScaledVector(MM.copy(rv).applyMatrix4(av),l)}}return t.applyMatrix4(this.bindMatrixInverse)}}class db extends Ne{constructor(){super(),this.isBone=!0,this.type="Bone"}}class vr extends dt{constructor(e=null,t=1,r=1,i,o,l,h,d,p=In,m=In,y,v){super(null,l,h,d,p,m,i,o,y,v),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const lv=new Se,kM=new Se;class qp{constructor(e=[],t=[]){this.uuid=ln(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Se)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Se;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,l=e.length;o<l;o++){const h=e[o]?e[o].matrixWorld:kM;lv.multiplyMatrices(h,t[o]),lv.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new qp(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new vr(t,e,e,Io,Zi);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let l=t[o];l===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),l=new db),this.bones.push(l),this.boneInverses.push(new Se().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,o=t.length;i<o;i++){const l=t[i];e.bones.push(l.uuid);const h=r[i];e.boneInverses.push(h.toArray())}return e}}class Ro extends Ze{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const qi=new Se,uv=new Se,_u=[],cv=new Nt,TM=new Se,go=new Pn,yo=new Et;class zM extends Pn{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Ro(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,TM)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Nt),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,qi),cv.copy(e.boundingBox).applyMatrix4(qi),this.boundingBox.union(cv)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Et),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,qi),yo.copy(e.boundingSphere).applyMatrix4(qi),this.boundingSphere.union(yo)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const r=t.morphTargetInfluences,i=this.morphTexture.source.data.data,o=r.length+1,l=e*o+1;for(let h=0;h<r.length;h++)r[h]=i[l+h]}raycast(e,t){const r=this.matrixWorld,i=this.count;if(go.geometry=this.geometry,go.material=this.material,go.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),yo.copy(this.boundingSphere),yo.applyMatrix4(r),e.ray.intersectsSphere(yo)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,qi),uv.multiplyMatrices(r,qi),go.matrixWorld=uv,go.raycast(e,_u);for(let l=0,h=_u.length;l<h;l++){const d=_u[l];d.instanceId=o,d.object=this,t.push(d)}_u.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Ro(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const r=t.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new vr(new Float32Array(i*this.count),i,this.count,nb,Zi));const o=this.morphTexture.source.data.data;let l=0;for(let p=0;p<r.length;p++)l+=r[p];const h=this.geometry.morphTargetsRelative?1:1-l,d=i*e;o[d]=h,o.set(r,d+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const np=new A,CM=new A,AM=new qn;class Xi{constructor(e=new A(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=np.subVectors(r,t).cross(CM.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(np),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:t.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||AM.getNormalMatrix(e),i=this.coplanarPoint(np).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const ks=new Et,ku=new A;class Xp{constructor(e=new Xi,t=new Xi,r=new Xi,i=new Xi,o=new Xi,l=new Xi){this.planes=[e,t,r,i,o,l]}set(e,t,r,i,o,l){const h=this.planes;return h[0].copy(e),h[1].copy(t),h[2].copy(r),h[3].copy(i),h[4].copy(o),h[5].copy(l),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=Vn){const r=this.planes,i=e.elements,o=i[0],l=i[1],h=i[2],d=i[3],p=i[4],m=i[5],y=i[6],v=i[7],b=i[8],x=i[9],S=i[10],_=i[11],M=i[12],T=i[13],z=i[14],C=i[15];if(r[0].setComponents(d-o,v-p,_-b,C-M).normalize(),r[1].setComponents(d+o,v+p,_+b,C+M).normalize(),r[2].setComponents(d+l,v+m,_+x,C+T).normalize(),r[3].setComponents(d-l,v-m,_-x,C-T).normalize(),r[4].setComponents(d-h,v-y,_-S,C-z).normalize(),t===Vn)r[5].setComponents(d+h,v+y,_+S,C+z).normalize();else if(t===Qu)r[5].setComponents(h,y,S,z).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),ks.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),ks.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ks)}intersectsSprite(e){return ks.center.set(0,0,0),ks.radius=.7071067811865476,ks.applyMatrix4(e.matrixWorld),this.intersectsSphere(ks)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(ku.x=i.normal.x>0?e.max.x:e.min.x,ku.y=i.normal.y>0?e.max.y:e.min.y,ku.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(ku)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Dn=new Se,Fn=new Xp;class Jp{constructor(){this.coordinateSystem=Vn}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Dn.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Fn.setFromProjectionMatrix(Dn,this.coordinateSystem),Fn.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Dn.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Fn.setFromProjectionMatrix(Dn,this.coordinateSystem),Fn.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Dn.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Fn.setFromProjectionMatrix(Dn,this.coordinateSystem),Fn.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Dn.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Fn.setFromProjectionMatrix(Dn,this.coordinateSystem),Fn.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Dn.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Fn.setFromProjectionMatrix(Dn,this.coordinateSystem),Fn.containsPoint(e))return!0}return!1}clone(){return new Jp}}function rp(c,e){return c-e}function EM(c,e){return c.z-e.z}function IM(c,e){return e.z-c.z}class PM{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,r,i){const o=this.pool,l=this.list;this.index>=o.length&&o.push({start:-1,count:-1,z:-1,index:-1});const h=o[this.index];l.push(h),this.index++,h.start=e,h.count=t,h.z=r,h.index=i}reset(){this.list.length=0,this.index=0}}const qt=new Se,RM=new be(1,1,1),hv=new Xp,LM=new Jp,Tu=new Nt,Ts=new Et,vo=new A,dv=new A,OM=new A,sp=new PM,At=new Pn,zu=[];function BM(c,e,t=0){const r=e.itemSize;if(c.isInterleavedBufferAttribute||c.array.constructor!==e.array.constructor){const i=c.count;for(let o=0;o<i;o++)for(let l=0;l<r;l++)e.setComponent(o+t,l,c.getComponent(o,l))}else e.array.set(c.array,t*r);e.needsUpdate=!0}function zs(c,e){if(c.constructor!==e.constructor){const t=Math.min(c.length,e.length);for(let r=0;r<t;r++)e[r]=c[r]}else{const t=Math.min(c.length,e.length);e.set(new c.constructor(c.buffer,0,t))}}class NM extends Pn{constructor(e,t,r=t*2,i){super(new ze,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new vr(t,e,e,Io,Zi);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),r=new vr(t,e,e,rb,Lp);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),r=new vr(t,e,e,Io,Zi);r.colorSpace=an.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in e.attributes){const l=e.getAttribute(o),{array:h,itemSize:d,normalized:p}=l,m=new h.constructor(r*d),y=new Ze(m,d,p);t.setAttribute(o,y)}if(e.getIndex()!==null){const o=r>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new Ze(o,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),o=t.getAttribute(r);if(i.itemSize!==o.itemSize||i.normalized!==o.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Nt);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const o=t[r].geometryIndex;this.getMatrixAt(r,qt),this.getBoundingBoxAt(o,Tu).applyMatrix4(qt),e.union(Tu)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Et);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const o=t[r].geometryIndex;this.getMatrixAt(r,qt),this.getBoundingSphereAt(o,Ts).applyMatrix4(qt),e.union(Ts)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const t={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(rp),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=t):(r=this._instanceInfo.length,this._instanceInfo.push(t));const i=this._matricesTexture;qt.identity().toArray(i.image.data,r*16),i.needsUpdate=!0;const o=this._colorsTexture;return o&&(RM.toArray(o.image.data,r*4),o.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},o=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const l=e.getIndex();if(l!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?l.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let h;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(rp),h=this._availableGeometryIds.shift(),o[h]=i):(h=this._geometryCount,this._geometryCount++,o.push(i)),this.setGeometryAt(h,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,h}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,i=r.getIndex()!==null,o=r.getIndex(),l=t.getIndex(),h=this._geometryInfo[e];if(i&&l.count>h.reservedIndexCount||t.attributes.position.count>h.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const d=h.vertexStart,p=h.reservedVertexCount;h.vertexCount=t.getAttribute("position").count;for(const m in r.attributes){const y=t.getAttribute(m),v=r.getAttribute(m);BM(y,v,d);const b=y.itemSize;for(let x=y.count,S=p;x<S;x++){const _=d+x;for(let M=0;M<b;M++)v.setComponent(_,M,0)}v.needsUpdate=!0,v.addUpdateRange(d*b,p*b)}if(i){const m=h.indexStart,y=h.reservedIndexCount;h.indexCount=t.getIndex().count;for(let v=0;v<l.count;v++)o.setX(m+v,d+l.getX(v));for(let v=l.count,b=y;v<b;v++)o.setX(m+v,d);o.needsUpdate=!0,o.addUpdateRange(m,h.reservedIndexCount)}return h.start=i?h.indexStart:h.vertexStart,h.count=i?h.indexCount:h.vertexCount,h.boundingBox=null,t.boundingBox!==null&&(h.boundingBox=t.boundingBox.clone()),h.boundingSphere=null,t.boundingSphere!==null&&(h.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,o=r.length;i<o;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const r=this._geometryInfo,i=r.map((l,h)=>h).sort((l,h)=>r[l].vertexStart-r[h].vertexStart),o=this.geometry;for(let l=0,h=r.length;l<h;l++){const d=i[l],p=r[d];if(p.active!==!1){if(o.index!==null){if(p.indexStart!==t){const{indexStart:m,vertexStart:y,reservedIndexCount:v}=p,b=o.index,x=b.array,S=e-y;for(let _=m;_<m+v;_++)x[_]=x[_]+S;b.array.copyWithin(t,m,m+v),b.addUpdateRange(t,v),p.indexStart=t}t+=p.reservedIndexCount}if(p.vertexStart!==e){const{vertexStart:m,reservedVertexCount:y}=p,v=o.attributes;for(const b in v){const x=v[b],{array:S,itemSize:_}=x;S.copyWithin(e*_,m*_,(m+y)*_),x.addUpdateRange(e*_,y*_)}p.vertexStart=e}e+=p.reservedVertexCount,p.start=o.index?p.indexStart:p.vertexStart,this._nextIndexStart=o.index?p.indexStart+p.reservedIndexCount:0,this._nextVertexStart=p.vertexStart+p.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const o=new Nt,l=r.index,h=r.attributes.position;for(let d=i.start,p=i.start+i.count;d<p;d++){let m=d;l&&(m=l.getX(m)),o.expandByPoint(vo.fromBufferAttribute(h,m))}i.boundingBox=o}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const o=new Et;this.getBoundingBoxAt(e,Tu),Tu.getCenter(o.center);const l=r.index,h=r.attributes.position;let d=0;for(let p=i.start,m=i.start+i.count;p<m;p++){let y=p;l&&(y=l.getX(y)),vo.fromBufferAttribute(h,y),d=Math.max(d,o.center.distanceToSquared(vo))}o.radius=Math.sqrt(d),i.boundingSphere=o}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return t.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return t.vertexStart=r.vertexStart,t.vertexCount=r.vertexCount,t.reservedVertexCount=r.reservedVertexCount,t.indexStart=r.indexStart,t.indexCount=r.indexCount,t.reservedIndexCount=r.reservedIndexCount,t.start=r.start,t.count=r.count,t}setInstanceCount(e){const t=this._availableInstanceIds,r=this._instanceInfo;for(t.sort(rp);t[t.length-1]===r.length;)r.pop(),t.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),o=new Int32Array(e);zs(this._multiDrawCounts,i),zs(this._multiDrawStarts,o),this._multiDrawCounts=i,this._multiDrawStarts=o,this._maxInstanceCount=e;const l=this._indirectTexture,h=this._matricesTexture,d=this._colorsTexture;l.dispose(),this._initIndirectTexture(),zs(l.image.data,this._indirectTexture.image.data),h.dispose(),this._initMatricesTexture(),zs(h.image.data,this._matricesTexture.image.data),d&&(d.dispose(),this._initColorsTexture(),zs(d.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const r=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...r.map(l=>l.vertexStart+l.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const i=this.geometry;i.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new ze,this._initializeGeometry(i));const o=this.geometry;i.index&&zs(i.index.array,o.index.array);for(const l in i.attributes)zs(i.attributes[l].array,o.attributes[l].array)}raycast(e,t){const r=this._instanceInfo,i=this._geometryInfo,o=this.matrixWorld,l=this.geometry;At.material=this.material,At.geometry.index=l.index,At.geometry.attributes=l.attributes,At.geometry.boundingBox===null&&(At.geometry.boundingBox=new Nt),At.geometry.boundingSphere===null&&(At.geometry.boundingSphere=new Et);for(let h=0,d=r.length;h<d;h++){if(!r[h].visible||!r[h].active)continue;const p=r[h].geometryIndex,m=i[p];At.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(h,At.matrixWorld).premultiply(o),this.getBoundingBoxAt(p,At.geometry.boundingBox),this.getBoundingSphereAt(p,At.geometry.boundingSphere),At.raycast(e,zu);for(let y=0,v=zu.length;y<v;y++){const b=zu[y];b.object=this,b.batchId=h,t.push(b)}zu.length=0}At.material=null,At.geometry.index=null,At.geometry.attributes={},At.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,r,i,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const l=i.getIndex(),h=l===null?1:l.array.BYTES_PER_ELEMENT,d=this._instanceInfo,p=this._multiDrawStarts,m=this._multiDrawCounts,y=this._geometryInfo,v=this.perObjectFrustumCulled,b=this._indirectTexture,x=b.image.data,S=r.isArrayCamera?LM:hv;v&&!r.isArrayCamera&&(qt.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),hv.setFromProjectionMatrix(qt,e.coordinateSystem));let _=0;if(this.sortObjects){qt.copy(this.matrixWorld).invert(),vo.setFromMatrixPosition(r.matrixWorld).applyMatrix4(qt),dv.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(qt);for(let z=0,C=d.length;z<C;z++)if(d[z].visible&&d[z].active){const R=d[z].geometryIndex;this.getMatrixAt(z,qt),this.getBoundingSphereAt(R,Ts).applyMatrix4(qt);let N=!1;if(v&&(N=!S.intersectsSphere(Ts,r)),!N){const H=y[R],D=OM.subVectors(Ts.center,vo).dot(dv);sp.push(H.start,H.count,D,z)}}const M=sp.list,T=this.customSort;T===null?M.sort(o.transparent?IM:EM):T.call(this,M,r);for(let z=0,C=M.length;z<C;z++){const R=M[z];p[_]=R.start*h,m[_]=R.count,x[_]=R.index,_++}sp.reset()}else for(let M=0,T=d.length;M<T;M++)if(d[M].visible&&d[M].active){const z=d[M].geometryIndex;let C=!1;if(v&&(this.getMatrixAt(M,qt),this.getBoundingSphereAt(z,Ts).applyMatrix4(qt),C=!S.intersectsSphere(Ts,r)),!C){const R=y[z];p[_]=R.start*h,m[_]=R.count,x[_]=M,_++}}b.needsUpdate=!0,this._multiDrawCount=_,this._visibilityChanged=!1}onBeforeShadow(e,t,r,i,o,l){this.onBeforeRender(e,null,i,o,l)}}class Jt extends Dt{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new be(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Ku=new A,ec=new A,pv=new Se,bo=new Do,Cu=new Et,ip=new A,fv=new A;class Ns extends Ne{constructor(e=new ze,t=new Jt){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,o=t.count;i<o;i++)Ku.fromBufferAttribute(t,i-1),ec.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=Ku.distanceTo(ec);e.setAttribute("lineDistance",new oe(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,l=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Cu.copy(r.boundingSphere),Cu.applyMatrix4(i),Cu.radius+=o,e.ray.intersectsSphere(Cu)===!1)return;pv.copy(i).invert(),bo.copy(e.ray).applyMatrix4(pv);const h=o/((this.scale.x+this.scale.y+this.scale.z)/3),d=h*h,p=this.isLineSegments?2:1,m=r.index,y=r.attributes.position;if(m!==null){const v=Math.max(0,l.start),b=Math.min(m.count,l.start+l.count);for(let x=v,S=b-1;x<S;x+=p){const _=m.getX(x),M=m.getX(x+1),T=Au(this,e,bo,d,_,M,x);T&&t.push(T)}if(this.isLineLoop){const x=m.getX(b-1),S=m.getX(v),_=Au(this,e,bo,d,x,S,b-1);_&&t.push(_)}}else{const v=Math.max(0,l.start),b=Math.min(y.count,l.start+l.count);for(let x=v,S=b-1;x<S;x+=p){const _=Au(this,e,bo,d,x,x+1,x);_&&t.push(_)}if(this.isLineLoop){const x=Au(this,e,bo,d,b-1,v,b-1);x&&t.push(x)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const r=e[t[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,o=r.length;i<o;i++){const l=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=i}}}}}function Au(c,e,t,r,i,o,l){const h=c.geometry.attributes.position;if(Ku.fromBufferAttribute(h,i),ec.fromBufferAttribute(h,o),t.distanceSqToSegment(Ku,ec,ip,fv)>r)return;ip.applyMatrix4(c.matrixWorld);const d=e.ray.origin.distanceTo(ip);if(!(d<e.near||d>e.far))return{distance:d,point:fv.clone().applyMatrix4(c.matrixWorld),index:l,face:null,faceIndex:null,barycoord:null,object:c}}const mv=new A,gv=new A;class wr extends Ns{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,o=t.count;i<o;i+=2)mv.fromBufferAttribute(t,i),gv.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+mv.distanceTo(gv);e.setAttribute("lineDistance",new oe(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class DM extends Ns{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class pb extends Dt{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new be(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const yv=new Se,wp=new Do,Eu=new Et,Iu=new A;class FM extends Ne{constructor(e=new ze,t=new pb){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,l=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Eu.copy(r.boundingSphere),Eu.applyMatrix4(i),Eu.radius+=o,e.ray.intersectsSphere(Eu)===!1)return;yv.copy(i).invert(),wp.copy(e.ray).applyMatrix4(yv);const h=o/((this.scale.x+this.scale.y+this.scale.z)/3),d=h*h,p=r.index,m=r.attributes.position;if(p!==null){const y=Math.max(0,l.start),v=Math.min(p.count,l.start+l.count);for(let b=y,x=v;b<x;b++){const S=p.getX(b);Iu.fromBufferAttribute(m,S),vv(Iu,S,d,i,e,t,this)}}else{const y=Math.max(0,l.start),v=Math.min(m.count,l.start+l.count);for(let b=y,x=v;b<x;b++)Iu.fromBufferAttribute(m,b),vv(Iu,b,d,i,e,t,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const r=e[t[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,o=r.length;i<o;i++){const l=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=i}}}}}function vv(c,e,t,r,i,o,l){const h=wp.distanceSqToPoint(c);if(h<t){const d=new A;wp.closestPointToPoint(c,d),d.applyMatrix4(r);const p=i.ray.origin.distanceTo(d);if(p<i.near||p>i.far)return;o.push({distance:p,distanceToRay:Math.sqrt(h),point:d,index:e,face:null,faceIndex:null,barycoord:null,object:l})}}class jM extends dt{constructor(e,t,r,i,o=Sn,l=Sn,h,d,p){super(e,t,r,i,o,l,h,d,p),this.isVideoTexture=!0,this.generateMipmaps=!1;const m=this;function y(){m.needsUpdate=!0,e.requestVideoFrameCallback(y)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(y)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!("requestVideoFrameCallback"in e)&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class x3 extends jM{constructor(e,t,r,i,o,l,h,d){super({},e,t,r,i,o,l,h,d),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class w3 extends dt{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=In,this.minFilter=In,this.generateMipmaps=!1,this.needsUpdate=!0}}class $p extends dt{constructor(e,t,r,i,o,l,h,d,p,m,y,v){super(null,l,h,d,p,m,i,o,y,v),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class S3 extends $p{constructor(e,t,r,i,o,l){super(e,t,r,o,l),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=jn,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class M3 extends $p{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,Pp),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class _3 extends dt{constructor(e,t,r,i,o,l,h,d,p){super(e,t,r,i,o,l,h,d,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class VM extends dt{constructor(e,t,r=Lp,i,o,l,h=In,d=In,p,m=P0){if(m!==P0&&m!==Xw)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,i,o,l,h,d,m,r,p),this.isDepthTexture=!0,this.image={width:e,height:t},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Ls(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class k3 extends VM{constructor(e=1,t=1,r=1){super(e,t),this.isDepthArrayTexture=!0,this.image={width:e,height:t,depth:r},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Gp extends ze{constructor(e=1,t=1,r=4,i=8,o=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i,heightSegments:o},t=Math.max(0,t),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),o=Math.max(1,Math.floor(o));const l=[],h=[],d=[],p=[],m=t/2,y=Math.PI/2*e,v=t,b=2*y+v,x=r*2+o,S=i+1,_=new A,M=new A;for(let T=0;T<=x;T++){let z=0,C=0,R=0,N=0;if(T<=r){const J=T/r,G=J*Math.PI/2;C=-m-e*Math.cos(G),R=e*Math.sin(G),N=-e*Math.cos(G),z=J*y}else if(T<=r+o){const J=(T-r)/o;C=-m+J*t,R=e,N=0,z=y+J*v}else{const J=(T-r-o)/r,G=J*Math.PI/2;C=m+e*Math.sin(G),R=e*Math.cos(G),N=e*Math.sin(G),z=y+v+J*y}const H=Math.max(0,Math.min(1,z/b));let D=0;T===0?D=.5/i:T===x&&(D=-.5/i);for(let J=0;J<=i;J++){const G=J/i,re=G*Math.PI*2,le=Math.sin(re),me=Math.cos(re);M.x=-R*me,M.y=C,M.z=R*le,h.push(M.x,M.y,M.z),_.set(-R*me,N,R*le),_.normalize(),d.push(_.x,_.y,_.z),p.push(G+D,H)}if(T>0){const J=(T-1)*S;for(let G=0;G<i;G++){const re=J+G,le=J+G+1,me=T*S+G,xe=T*S+G+1;l.push(re,le,me),l.push(le,xe,me)}}}this.setIndex(l),this.setAttribute("position",new oe(h,3)),this.setAttribute("normal",new oe(d,3)),this.setAttribute("uv",new oe(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gp(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class Yp extends ze{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const o=[],l=[],h=[],d=[],p=new A,m=new Y;l.push(0,0,0),h.push(0,0,1),d.push(.5,.5);for(let y=0,v=3;y<=t;y++,v+=3){const b=r+y/t*i;p.x=e*Math.cos(b),p.y=e*Math.sin(b),l.push(p.x,p.y,p.z),h.push(0,0,1),m.x=(l[v]/e+1)/2,m.y=(l[v+1]/e+1)/2,d.push(m.x,m.y)}for(let y=1;y<=t;y++)o.push(y,y+1,0);this.setIndex(o),this.setAttribute("position",new oe(l,3)),this.setAttribute("normal",new oe(h,3)),this.setAttribute("uv",new oe(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yp(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class cc extends ze{constructor(e=1,t=1,r=1,i=32,o=1,l=!1,h=0,d=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:o,openEnded:l,thetaStart:h,thetaLength:d};const p=this;i=Math.floor(i),o=Math.floor(o);const m=[],y=[],v=[],b=[];let x=0;const S=[],_=r/2;let M=0;T(),l===!1&&(e>0&&z(!0),t>0&&z(!1)),this.setIndex(m),this.setAttribute("position",new oe(y,3)),this.setAttribute("normal",new oe(v,3)),this.setAttribute("uv",new oe(b,2));function T(){const C=new A,R=new A;let N=0;const H=(t-e)/r;for(let D=0;D<=o;D++){const J=[],G=D/o,re=G*(t-e)+e;for(let le=0;le<=i;le++){const me=le/i,xe=me*d+h,_e=Math.sin(xe),V=Math.cos(xe);R.x=re*_e,R.y=-G*r+_,R.z=re*V,y.push(R.x,R.y,R.z),C.set(_e,H,V).normalize(),v.push(C.x,C.y,C.z),b.push(me,1-G),J.push(x++)}S.push(J)}for(let D=0;D<i;D++)for(let J=0;J<o;J++){const G=S[J][D],re=S[J+1][D],le=S[J+1][D+1],me=S[J][D+1];(e>0||J!==0)&&(m.push(G,re,me),N+=3),(t>0||J!==o-1)&&(m.push(re,le,me),N+=3)}p.addGroup(M,N,0),M+=N}function z(C){const R=x,N=new Y,H=new A;let D=0;const J=C===!0?e:t,G=C===!0?1:-1;for(let le=1;le<=i;le++)y.push(0,_*G,0),v.push(0,G,0),b.push(.5,.5),x++;const re=x;for(let le=0;le<=i;le++){const me=le/i*d+h,xe=Math.cos(me),_e=Math.sin(me);H.x=J*_e,H.y=_*G,H.z=J*xe,y.push(H.x,H.y,H.z),v.push(0,G,0),N.x=xe*.5+.5,N.y=_e*.5*G+.5,b.push(N.x,N.y),x++}for(let le=0;le<i;le++){const me=R+le,xe=re+le;C===!0?m.push(xe,xe+1,me):m.push(xe+1,xe,me),D+=3}p.addGroup(M,D,C===!0?1:2),M+=D}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cc(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class hc extends cc{constructor(e=1,t=1,r=32,i=1,o=!1,l=0,h=Math.PI*2){super(0,e,t,r,i,o,l,h),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:l,thetaLength:h}}static fromJSON(e){return new hc(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class js extends ze{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const o=[],l=[];h(i),p(r),m(),this.setAttribute("position",new oe(o,3)),this.setAttribute("normal",new oe(o.slice(),3)),this.setAttribute("uv",new oe(l,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function h(T){const z=new A,C=new A,R=new A;for(let N=0;N<t.length;N+=3)b(t[N+0],z),b(t[N+1],C),b(t[N+2],R),d(z,C,R,T)}function d(T,z,C,R){const N=R+1,H=[];for(let D=0;D<=N;D++){H[D]=[];const J=T.clone().lerp(C,D/N),G=z.clone().lerp(C,D/N),re=N-D;for(let le=0;le<=re;le++)le===0&&D===N?H[D][le]=J:H[D][le]=J.clone().lerp(G,le/re)}for(let D=0;D<N;D++)for(let J=0;J<2*(N-D)-1;J++){const G=Math.floor(J/2);J%2===0?(v(H[D][G+1]),v(H[D+1][G]),v(H[D][G])):(v(H[D][G+1]),v(H[D+1][G+1]),v(H[D+1][G]))}}function p(T){const z=new A;for(let C=0;C<o.length;C+=3)z.x=o[C+0],z.y=o[C+1],z.z=o[C+2],z.normalize().multiplyScalar(T),o[C+0]=z.x,o[C+1]=z.y,o[C+2]=z.z}function m(){const T=new A;for(let z=0;z<o.length;z+=3){T.x=o[z+0],T.y=o[z+1],T.z=o[z+2];const C=_(T)/2/Math.PI+.5,R=M(T)/Math.PI+.5;l.push(C,1-R)}x(),y()}function y(){for(let T=0;T<l.length;T+=6){const z=l[T+0],C=l[T+2],R=l[T+4],N=Math.max(z,C,R),H=Math.min(z,C,R);N>.9&&H<.1&&(z<.2&&(l[T+0]+=1),C<.2&&(l[T+2]+=1),R<.2&&(l[T+4]+=1))}}function v(T){o.push(T.x,T.y,T.z)}function b(T,z){const C=T*3;z.x=e[C+0],z.y=e[C+1],z.z=e[C+2]}function x(){const T=new A,z=new A,C=new A,R=new A,N=new Y,H=new Y,D=new Y;for(let J=0,G=0;J<o.length;J+=9,G+=6){T.set(o[J+0],o[J+1],o[J+2]),z.set(o[J+3],o[J+4],o[J+5]),C.set(o[J+6],o[J+7],o[J+8]),N.set(l[G+0],l[G+1]),H.set(l[G+2],l[G+3]),D.set(l[G+4],l[G+5]),R.copy(T).add(z).add(C).divideScalar(3);const re=_(R);S(N,G+0,T,re),S(H,G+2,z,re),S(D,G+4,C,re)}}function S(T,z,C,R){R<0&&T.x===1&&(l[z]=T.x-1),C.x===0&&C.z===0&&(l[z]=R/2/Math.PI+.5)}function _(T){return Math.atan2(T.z,-T.x)}function M(T){return Math.atan2(-T.y,Math.sqrt(T.x*T.x+T.z*T.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new js(e.vertices,e.indices,e.radius,e.details)}}class Qp extends js{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,l,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Qp(e.radius,e.detail)}}const Pu=new A,Ru=new A,ap=new A,Lu=new on;class HM extends ze{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),i=Math.cos(Bs*t),o=e.getIndex(),l=e.getAttribute("position"),h=o?o.count:l.count,d=[0,0,0],p=["a","b","c"],m=new Array(3),y={},v=[];for(let b=0;b<h;b+=3){o?(d[0]=o.getX(b),d[1]=o.getX(b+1),d[2]=o.getX(b+2)):(d[0]=b,d[1]=b+1,d[2]=b+2);const{a:x,b:S,c:_}=Lu;if(x.fromBufferAttribute(l,d[0]),S.fromBufferAttribute(l,d[1]),_.fromBufferAttribute(l,d[2]),Lu.getNormal(ap),m[0]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,m[1]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,m[2]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,!(m[0]===m[1]||m[1]===m[2]||m[2]===m[0]))for(let M=0;M<3;M++){const T=(M+1)%3,z=m[M],C=m[T],R=Lu[p[M]],N=Lu[p[T]],H=`${z}_${C}`,D=`${C}_${z}`;D in y&&y[D]?(ap.dot(y[D].normal)<=i&&(v.push(R.x,R.y,R.z),v.push(N.x,N.y,N.z)),y[D]=null):H in y||(y[H]={index0:d[M],index1:d[T],normal:ap.clone()})}}for(const b in y)if(y[b]){const{index0:x,index1:S}=y[b];Pu.fromBufferAttribute(l,x),Ru.fromBufferAttribute(l,S),v.push(Pu.x,Pu.y,Pu.z),v.push(Ru.x,Ru.y,Ru.z)}this.setAttribute("position",new oe(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Xn{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),o=0;t.push(0);for(let l=1;l<=e;l++)r=this.getPoint(l/e),o+=r.distanceTo(i),t.push(o),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const r=this.getLengths();let i=0;const o=r.length;let l;t?l=t:l=e*r[o-1];let h=0,d=o-1,p;for(;h<=d;)if(i=Math.floor(h+(d-h)/2),p=r[i]-l,p<0)h=i+1;else if(p>0)d=i-1;else{d=i;break}if(i=d,r[i]===l)return i/(o-1);const m=r[i],y=r[i+1]-m,v=(l-m)/y;return(i+v)/(o-1)}getTangent(e,t){let r=e-1e-4,i=e+1e-4;r<0&&(r=0),i>1&&(i=1);const o=this.getPoint(r),l=this.getPoint(i),h=t||(o.isVector2?new Y:new A);return h.copy(l).sub(o).normalize(),h}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t=!1){const r=new A,i=[],o=[],l=[],h=new A,d=new Se;for(let b=0;b<=e;b++){const x=b/e;i[b]=this.getTangentAt(x,new A)}o[0]=new A,l[0]=new A;let p=Number.MAX_VALUE;const m=Math.abs(i[0].x),y=Math.abs(i[0].y),v=Math.abs(i[0].z);m<=p&&(p=m,r.set(1,0,0)),y<=p&&(p=y,r.set(0,1,0)),v<=p&&r.set(0,0,1),h.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],h),l[0].crossVectors(i[0],o[0]);for(let b=1;b<=e;b++){if(o[b]=o[b-1].clone(),l[b]=l[b-1].clone(),h.crossVectors(i[b-1],i[b]),h.length()>Number.EPSILON){h.normalize();const x=Math.acos(ve(i[b-1].dot(i[b]),-1,1));o[b].applyMatrix4(d.makeRotationAxis(h,x))}l[b].crossVectors(i[b],o[b])}if(t===!0){let b=Math.acos(ve(o[0].dot(o[e]),-1,1));b/=e,i[0].dot(h.crossVectors(o[0],o[e]))>0&&(b=-b);for(let x=1;x<=e;x++)o[x].applyMatrix4(d.makeRotationAxis(i[x],b*x)),l[x].crossVectors(i[x],o[x])}return{tangents:i,normals:o,binormals:l}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Zp extends Xn{constructor(e=0,t=0,r=1,i=1,o=0,l=Math.PI*2,h=!1,d=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=l,this.aClockwise=h,this.aRotation=d}getPoint(e,t=new Y){const r=t,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const l=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(l?o=0:o=i),this.aClockwise===!0&&!l&&(o===i?o=-i:o=o-i);const h=this.aStartAngle+e*o;let d=this.aX+this.xRadius*Math.cos(h),p=this.aY+this.yRadius*Math.sin(h);if(this.aRotation!==0){const m=Math.cos(this.aRotation),y=Math.sin(this.aRotation),v=d-this.aX,b=p-this.aY;d=v*m-b*y+this.aX,p=v*y+b*m+this.aY}return r.set(d,p)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class WM extends Zp{constructor(e,t,r,i,o,l){super(e,t,r,r,i,o,l),this.isArcCurve=!0,this.type="ArcCurve"}}function Kp(){let c=0,e=0,t=0,r=0;function i(o,l,h,d){c=o,e=h,t=-3*o+3*l-2*h-d,r=2*o-2*l+h+d}return{initCatmullRom:function(o,l,h,d,p){i(l,h,p*(h-o),p*(d-l))},initNonuniformCatmullRom:function(o,l,h,d,p,m,y){let v=(l-o)/p-(h-o)/(p+m)+(h-l)/m,b=(h-l)/m-(d-l)/(m+y)+(d-h)/y;v*=m,b*=m,i(l,h,v,b)},calc:function(o){const l=o*o,h=l*o;return c+e*o+t*l+r*h}}}const Ou=new A,op=new Kp,lp=new Kp,up=new Kp;class UM extends Xn{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new A){const r=t,i=this.points,o=i.length,l=(o-(this.closed?0:1))*e;let h=Math.floor(l),d=l-h;this.closed?h+=h>0?0:(Math.floor(Math.abs(h)/o)+1)*o:d===0&&h===o-1&&(h=o-2,d=1);let p,m;this.closed||h>0?p=i[(h-1)%o]:(Ou.subVectors(i[0],i[1]).add(i[0]),p=Ou);const y=i[h%o],v=i[(h+1)%o];if(this.closed||h+2<o?m=i[(h+2)%o]:(Ou.subVectors(i[o-1],i[o-2]).add(i[o-1]),m=Ou),this.curveType==="centripetal"||this.curveType==="chordal"){const b=this.curveType==="chordal"?.5:.25;let x=Math.pow(p.distanceToSquared(y),b),S=Math.pow(y.distanceToSquared(v),b),_=Math.pow(v.distanceToSquared(m),b);S<1e-4&&(S=1),x<1e-4&&(x=S),_<1e-4&&(_=S),op.initNonuniformCatmullRom(p.x,y.x,v.x,m.x,x,S,_),lp.initNonuniformCatmullRom(p.y,y.y,v.y,m.y,x,S,_),up.initNonuniformCatmullRom(p.z,y.z,v.z,m.z,x,S,_)}else this.curveType==="catmullrom"&&(op.initCatmullRom(p.x,y.x,v.x,m.x,this.tension),lp.initCatmullRom(p.y,y.y,v.y,m.y,this.tension),up.initCatmullRom(p.z,y.z,v.z,m.z,this.tension));return r.set(op.calc(d),lp.calc(d),up.calc(d)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new A().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function bv(c,e,t,r,i){const o=(r-e)*.5,l=(i-t)*.5,h=c*c,d=c*h;return(2*t-2*r+o+l)*d+(-3*t+3*r-2*o-l)*h+o*c+t}function qM(c,e){const t=1-c;return t*t*e}function XM(c,e){return 2*(1-c)*c*e}function JM(c,e){return c*c*e}function Ao(c,e,t,r){return qM(c,e)+XM(c,t)+JM(c,r)}function $M(c,e){const t=1-c;return t*t*t*e}function GM(c,e){const t=1-c;return 3*t*t*c*e}function YM(c,e){return 3*(1-c)*c*c*e}function QM(c,e){return c*c*c*e}function Eo(c,e,t,r,i){return $M(c,e)+GM(c,t)+YM(c,r)+QM(c,i)}class fb extends Xn{constructor(e=new Y,t=new Y,r=new Y,i=new Y){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Y){const r=t,i=this.v0,o=this.v1,l=this.v2,h=this.v3;return r.set(Eo(e,i.x,o.x,l.x,h.x),Eo(e,i.y,o.y,l.y,h.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ZM extends Xn{constructor(e=new A,t=new A,r=new A,i=new A){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new A){const r=t,i=this.v0,o=this.v1,l=this.v2,h=this.v3;return r.set(Eo(e,i.x,o.x,l.x,h.x),Eo(e,i.y,o.y,l.y,h.y),Eo(e,i.z,o.z,l.z,h.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class mb extends Xn{constructor(e=new Y,t=new Y){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Y){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Y){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class KM extends Xn{constructor(e=new A,t=new A){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new A){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new A){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class gb extends Xn{constructor(e=new Y,t=new Y,r=new Y){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Y){const r=t,i=this.v0,o=this.v1,l=this.v2;return r.set(Ao(e,i.x,o.x,l.x),Ao(e,i.y,o.y,l.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class yb extends Xn{constructor(e=new A,t=new A,r=new A){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new A){const r=t,i=this.v0,o=this.v1,l=this.v2;return r.set(Ao(e,i.x,o.x,l.x),Ao(e,i.y,o.y,l.y),Ao(e,i.z,o.z,l.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class vb extends Xn{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Y){const r=t,i=this.points,o=(i.length-1)*e,l=Math.floor(o),h=o-l,d=i[l===0?l:l-1],p=i[l],m=i[l>i.length-2?i.length-1:l+1],y=i[l>i.length-3?i.length-1:l+2];return r.set(bv(h,d.x,p.x,m.x,y.x),bv(h,d.y,p.y,m.y,y.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Y().fromArray(i))}return this}}var tc=Object.freeze({__proto__:null,ArcCurve:WM,CatmullRomCurve3:UM,CubicBezierCurve:fb,CubicBezierCurve3:ZM,EllipseCurve:Zp,LineCurve:mb,LineCurve3:KM,QuadraticBezierCurve:gb,QuadraticBezierCurve3:yb,SplineCurve:vb});class e_ extends Xn{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new tc[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const l=i[o]-r,h=this.curves[o],d=h.getLength(),p=d===0?0:1-l/d;return h.getPointAt(p,t)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const l=o[i],h=l.isEllipseCurve?e*2:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?e*l.points.length:e,d=l.getPoints(h);for(let p=0;p<d.length;p++){const m=d[p];r&&r.equals(m)||(t.push(m),r=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new tc[i.type]().fromJSON(i))}return this}}class Sp extends e_{constructor(e){super(),this.type="Path",this.currentPoint=new Y,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new mb(this.currentPoint.clone(),new Y(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const o=new gb(this.currentPoint.clone(),new Y(e,t),new Y(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,o,l){const h=new fb(this.currentPoint.clone(),new Y(e,t),new Y(r,i),new Y(o,l));return this.curves.push(h),this.currentPoint.set(o,l),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new vb(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,o,l){const h=this.currentPoint.x,d=this.currentPoint.y;return this.absarc(e+h,t+d,r,i,o,l),this}absarc(e,t,r,i,o,l){return this.absellipse(e,t,r,r,i,o,l),this}ellipse(e,t,r,i,o,l,h,d){const p=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+p,t+m,r,i,o,l,h,d),this}absellipse(e,t,r,i,o,l,h,d){const p=new Zp(e,t,r,i,o,l,h,d);if(this.curves.length>0){const y=p.getPoint(0);y.equals(this.currentPoint)||this.lineTo(y.x,y.y)}this.curves.push(p);const m=p.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Qi extends Sp{constructor(e){super(e),this.uuid=ln(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new Sp().fromJSON(i))}return this}}function t_(c,e,t=2){const r=e&&e.length,i=r?e[0]*t:c.length;let o=bb(c,0,i,t,!0);const l=[];if(!o||o.next===o.prev)return l;let h,d,p;if(r&&(o=a_(c,e,o,t)),c.length>80*t){h=1/0,d=1/0;let m=-1/0,y=-1/0;for(let v=t;v<i;v+=t){const b=c[v],x=c[v+1];b<h&&(h=b),x<d&&(d=x),b>m&&(m=b),x>y&&(y=x)}p=Math.max(m-h,y-d),p=p!==0?32767/p:0}return Lo(o,l,t,h,d,p,0),l}function bb(c,e,t,r,i){let o;if(i===y_(c,e,t,r)>0)for(let l=e;l<t;l+=r)o=xv(l/r|0,c[l],c[l+1],o);else for(let l=t-r;l>=e;l-=r)o=xv(l/r|0,c[l],c[l+1],o);return o&&ea(o,o.next)&&(Bo(o),o=o.next),o}function Ds(c,e){if(!c)return c;e||(e=c);let t=c,r;do if(r=!1,!t.steiner&&(ea(t,t.next)||Qe(t.prev,t,t.next)===0)){if(Bo(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function Lo(c,e,t,r,i,o,l){if(!c)return;!l&&o&&h_(c,r,i,o);let h=c;for(;c.prev!==c.next;){const d=c.prev,p=c.next;if(o?r_(c,r,i,o):n_(c)){e.push(d.i,c.i,p.i),Bo(c),c=p.next,h=p.next;continue}if(c=p,c===h){l?l===1?(c=s_(Ds(c),e),Lo(c,e,t,r,i,o,2)):l===2&&i_(c,e,t,r,i,o):Lo(Ds(c),e,t,r,i,o,1);break}}}function n_(c){const e=c.prev,t=c,r=c.next;if(Qe(e,t,r)>=0)return!1;const i=e.x,o=t.x,l=r.x,h=e.y,d=t.y,p=r.y,m=Math.min(i,o,l),y=Math.min(h,d,p),v=Math.max(i,o,l),b=Math.max(h,d,p);let x=r.next;for(;x!==e;){if(x.x>=m&&x.x<=v&&x.y>=y&&x.y<=b&&To(i,h,o,d,l,p,x.x,x.y)&&Qe(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function r_(c,e,t,r){const i=c.prev,o=c,l=c.next;if(Qe(i,o,l)>=0)return!1;const h=i.x,d=o.x,p=l.x,m=i.y,y=o.y,v=l.y,b=Math.min(h,d,p),x=Math.min(m,y,v),S=Math.max(h,d,p),_=Math.max(m,y,v),M=Mp(b,x,e,t,r),T=Mp(S,_,e,t,r);let z=c.prevZ,C=c.nextZ;for(;z&&z.z>=M&&C&&C.z<=T;){if(z.x>=b&&z.x<=S&&z.y>=x&&z.y<=_&&z!==i&&z!==l&&To(h,m,d,y,p,v,z.x,z.y)&&Qe(z.prev,z,z.next)>=0||(z=z.prevZ,C.x>=b&&C.x<=S&&C.y>=x&&C.y<=_&&C!==i&&C!==l&&To(h,m,d,y,p,v,C.x,C.y)&&Qe(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;z&&z.z>=M;){if(z.x>=b&&z.x<=S&&z.y>=x&&z.y<=_&&z!==i&&z!==l&&To(h,m,d,y,p,v,z.x,z.y)&&Qe(z.prev,z,z.next)>=0)return!1;z=z.prevZ}for(;C&&C.z<=T;){if(C.x>=b&&C.x<=S&&C.y>=x&&C.y<=_&&C!==i&&C!==l&&To(h,m,d,y,p,v,C.x,C.y)&&Qe(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function s_(c,e){let t=c;do{const r=t.prev,i=t.next.next;!ea(r,i)&&wb(r,t,t.next,i)&&Oo(r,i)&&Oo(i,r)&&(e.push(r.i,t.i,i.i),Bo(t),Bo(t.next),t=c=i),t=t.next}while(t!==c);return Ds(t)}function i_(c,e,t,r,i,o){let l=c;do{let h=l.next.next;for(;h!==l.prev;){if(l.i!==h.i&&f_(l,h)){let d=Sb(l,h);l=Ds(l,l.next),d=Ds(d,d.next),Lo(l,e,t,r,i,o,0),Lo(d,e,t,r,i,o,0);return}h=h.next}l=l.next}while(l!==c)}function a_(c,e,t,r){const i=[];for(let o=0,l=e.length;o<l;o++){const h=e[o]*r,d=o<l-1?e[o+1]*r:c.length,p=bb(c,h,d,r,!1);p===p.next&&(p.steiner=!0),i.push(p_(p))}i.sort(o_);for(let o=0;o<i.length;o++)t=l_(i[o],t);return t}function o_(c,e){let t=c.x-e.x;if(t===0&&(t=c.y-e.y,t===0)){const r=(c.next.y-c.y)/(c.next.x-c.x),i=(e.next.y-e.y)/(e.next.x-e.x);t=r-i}return t}function l_(c,e){const t=u_(c,e);if(!t)return e;const r=Sb(t,c);return Ds(r,r.next),Ds(t,t.next)}function u_(c,e){let t=e;const r=c.x,i=c.y;let o=-1/0,l;if(ea(c,t))return t;do{if(ea(c,t.next))return t.next;if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const y=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(y<=r&&y>o&&(o=y,l=t.x<t.next.x?t:t.next,y===r))return l}t=t.next}while(t!==e);if(!l)return null;const h=l,d=l.x,p=l.y;let m=1/0;t=l;do{if(r>=t.x&&t.x>=d&&r!==t.x&&xb(i<p?r:o,i,d,p,i<p?o:r,i,t.x,t.y)){const y=Math.abs(i-t.y)/(r-t.x);Oo(t,c)&&(y<m||y===m&&(t.x>l.x||t.x===l.x&&c_(l,t)))&&(l=t,m=y)}t=t.next}while(t!==h);return l}function c_(c,e){return Qe(c.prev,c,e.prev)<0&&Qe(e.next,c,c.next)<0}function h_(c,e,t,r){let i=c;do i.z===0&&(i.z=Mp(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==c);i.prevZ.nextZ=null,i.prevZ=null,d_(i)}function d_(c){let e,t=1;do{let r=c,i;c=null;let o=null;for(e=0;r;){e++;let l=r,h=0;for(let p=0;p<t&&(h++,l=l.nextZ,!!l);p++);let d=t;for(;h>0||d>0&&l;)h!==0&&(d===0||!l||r.z<=l.z)?(i=r,r=r.nextZ,h--):(i=l,l=l.nextZ,d--),o?o.nextZ=i:c=i,i.prevZ=o,o=i;r=l}o.nextZ=null,t*=2}while(e>1);return c}function Mp(c,e,t,r,i){return c=(c-t)*i|0,e=(e-r)*i|0,c=(c|c<<8)&16711935,c=(c|c<<4)&252645135,c=(c|c<<2)&858993459,c=(c|c<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,c|e<<1}function p_(c){let e=c,t=c;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==c);return t}function xb(c,e,t,r,i,o,l,h){return(i-l)*(e-h)>=(c-l)*(o-h)&&(c-l)*(r-h)>=(t-l)*(e-h)&&(t-l)*(o-h)>=(i-l)*(r-h)}function To(c,e,t,r,i,o,l,h){return!(c===l&&e===h)&&xb(c,e,t,r,i,o,l,h)}function f_(c,e){return c.next.i!==e.i&&c.prev.i!==e.i&&!m_(c,e)&&(Oo(c,e)&&Oo(e,c)&&g_(c,e)&&(Qe(c.prev,c,e.prev)||Qe(c,e.prev,e))||ea(c,e)&&Qe(c.prev,c,c.next)>0&&Qe(e.prev,e,e.next)>0)}function Qe(c,e,t){return(e.y-c.y)*(t.x-e.x)-(e.x-c.x)*(t.y-e.y)}function ea(c,e){return c.x===e.x&&c.y===e.y}function wb(c,e,t,r){const i=Nu(Qe(c,e,t)),o=Nu(Qe(c,e,r)),l=Nu(Qe(t,r,c)),h=Nu(Qe(t,r,e));return!!(i!==o&&l!==h||i===0&&Bu(c,t,e)||o===0&&Bu(c,r,e)||l===0&&Bu(t,c,r)||h===0&&Bu(t,e,r))}function Bu(c,e,t){return e.x<=Math.max(c.x,t.x)&&e.x>=Math.min(c.x,t.x)&&e.y<=Math.max(c.y,t.y)&&e.y>=Math.min(c.y,t.y)}function Nu(c){return c>0?1:c<0?-1:0}function m_(c,e){let t=c;do{if(t.i!==c.i&&t.next.i!==c.i&&t.i!==e.i&&t.next.i!==e.i&&wb(t,t.next,c,e))return!0;t=t.next}while(t!==c);return!1}function Oo(c,e){return Qe(c.prev,c,c.next)<0?Qe(c,e,c.next)>=0&&Qe(c,c.prev,e)>=0:Qe(c,e,c.prev)<0||Qe(c,c.next,e)<0}function g_(c,e){let t=c,r=!1;const i=(c.x+e.x)/2,o=(c.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&i<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==c);return r}function Sb(c,e){const t=_p(c.i,c.x,c.y),r=_p(e.i,e.x,e.y),i=c.next,o=e.prev;return c.next=e,e.prev=c,t.next=i,i.prev=t,r.next=t,t.prev=r,o.next=r,r.prev=o,r}function xv(c,e,t,r){const i=_p(c,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Bo(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function _p(c,e,t){return{i:c,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function y_(c,e,t,r){let i=0;for(let o=e,l=t-r;o<t;o+=r)i+=(c[l]-c[o])*(c[o+1]+c[l+1]),l=o;return i}class v_{static triangulate(e,t,r=2){return t_(e,t,r)}}class Hn{static area(e){const t=e.length;let r=0;for(let i=t-1,o=0;o<t;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return Hn.area(e)<0}static triangulateShape(e,t){const r=[],i=[],o=[];wv(e),Sv(r,e);let l=e.length;t.forEach(wv);for(let d=0;d<t.length;d++)i.push(l),l+=t[d].length,Sv(r,t[d]);const h=v_.triangulate(r,i);for(let d=0;d<h.length;d+=3)o.push(h.slice(d,d+3));return o}}function wv(c){const e=c.length;e>2&&c[e-1].equals(c[0])&&c.pop()}function Sv(c,e){for(let t=0;t<e.length;t++)c.push(e[t].x),c.push(e[t].y)}class ef extends ze{constructor(e=new Qi([new Y(.5,.5),new Y(-.5,.5),new Y(-.5,-.5),new Y(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let h=0,d=e.length;h<d;h++){const p=e[h];l(p)}this.setAttribute("position",new oe(i,3)),this.setAttribute("uv",new oe(o,2)),this.computeVertexNormals();function l(h){const d=[],p=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,y=t.depth!==void 0?t.depth:1;let v=t.bevelEnabled!==void 0?t.bevelEnabled:!0,b=t.bevelThickness!==void 0?t.bevelThickness:.2,x=t.bevelSize!==void 0?t.bevelSize:b-.1,S=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const M=t.extrudePath,T=t.UVGenerator!==void 0?t.UVGenerator:b_;let z,C=!1,R,N,H,D;M&&(z=M.getSpacedPoints(m),C=!0,v=!1,R=M.computeFrenetFrames(m,!1),N=new A,H=new A,D=new A),v||(_=0,b=0,x=0,S=0);const J=h.extractPoints(p);let G=J.shape;const re=J.holes;if(!Hn.isClockWise(G)){G=G.reverse();for(let ee=0,te=re.length;ee<te;ee++){const ne=re[ee];Hn.isClockWise(ne)&&(re[ee]=ne.reverse())}}function le(ee){const te=10000000000000001e-36;let ne=ee[0];for(let he=1;he<=ee.length;he++){const se=he%ee.length,Ee=ee[se],ke=Ee.x-ne.x,Ue=Ee.y-ne.y,qe=ke*ke+Ue*Ue,et=Math.max(Math.abs(Ee.x),Math.abs(Ee.y),Math.abs(ne.x),Math.abs(ne.y)),It=te*et*et;if(qe<=It){ee.splice(se,1),he--;continue}ne=Ee}}le(G),re.forEach(le);const me=re.length,xe=G;for(let ee=0;ee<me;ee++){const te=re[ee];G=G.concat(te)}function _e(ee,te,ne){return te||console.error("THREE.ExtrudeGeometry: vec does not exist"),ee.clone().addScaledVector(te,ne)}const V=G.length;function Q(ee,te,ne){let he,se,Ee;const ke=ee.x-te.x,Ue=ee.y-te.y,qe=ne.x-ee.x,et=ne.y-ee.y,It=ke*ke+Ue*Ue,rs=ke*et-Ue*qe;if(Math.abs(rs)>Number.EPSILON){const Pt=Math.sqrt(It),Mr=Math.sqrt(qe*qe+et*et),Mt=te.x-Ue/Pt,Mn=te.y+ke/Pt,Rt=ne.x-et/Mr,vc=ne.y+qe/Mr,Ho=((Rt-Mt)*et-(vc-Mn)*qe)/(ke*et-Ue*qe);he=Mt+ke*Ho-ee.x,se=Mn+Ue*Ho-ee.y;const Wo=he*he+se*se;if(Wo<=2)return new Y(he,se);Ee=Math.sqrt(Wo/2)}else{let Pt=!1;ke>Number.EPSILON?qe>Number.EPSILON&&(Pt=!0):ke<-Number.EPSILON?qe<-Number.EPSILON&&(Pt=!0):Math.sign(Ue)===Math.sign(et)&&(Pt=!0),Pt?(he=-Ue,se=ke,Ee=Math.sqrt(It)):(he=ke,se=Ue,Ee=Math.sqrt(It/2))}return new Y(he/Ee,se/Ee)}const ae=[];for(let ee=0,te=xe.length,ne=te-1,he=ee+1;ee<te;ee++,ne++,he++)ne===te&&(ne=0),he===te&&(he=0),ae[ee]=Q(xe[ee],xe[ne],xe[he]);const fe=[];let I,q=ae.concat();for(let ee=0,te=me;ee<te;ee++){const ne=re[ee];I=[];for(let he=0,se=ne.length,Ee=se-1,ke=he+1;he<se;he++,Ee++,ke++)Ee===se&&(Ee=0),ke===se&&(ke=0),I[he]=Q(ne[he],ne[Ee],ne[ke]);fe.push(I),q=q.concat(I)}let Z;if(_===0)Z=Hn.triangulateShape(xe,re);else{const ee=[],te=[];for(let ne=0;ne<_;ne++){const he=ne/_,se=b*Math.cos(he*Math.PI/2),Ee=x*Math.sin(he*Math.PI/2)+S;for(let ke=0,Ue=xe.length;ke<Ue;ke++){const qe=_e(xe[ke],ae[ke],Ee);Re(qe.x,qe.y,-se),he===0&&ee.push(qe)}for(let ke=0,Ue=me;ke<Ue;ke++){const qe=re[ke];I=fe[ke];const et=[];for(let It=0,rs=qe.length;It<rs;It++){const Pt=_e(qe[It],I[It],Ee);Re(Pt.x,Pt.y,-se),he===0&&et.push(Pt)}he===0&&te.push(et)}}Z=Hn.triangulateShape(ee,te)}const K=Z.length,ce=x+S;for(let ee=0;ee<V;ee++){const te=v?_e(G[ee],q[ee],ce):G[ee];C?(H.copy(R.normals[0]).multiplyScalar(te.x),N.copy(R.binormals[0]).multiplyScalar(te.y),D.copy(z[0]).add(H).add(N),Re(D.x,D.y,D.z)):Re(te.x,te.y,0)}for(let ee=1;ee<=m;ee++)for(let te=0;te<V;te++){const ne=v?_e(G[te],q[te],ce):G[te];C?(H.copy(R.normals[ee]).multiplyScalar(ne.x),N.copy(R.binormals[ee]).multiplyScalar(ne.y),D.copy(z[ee]).add(H).add(N),Re(D.x,D.y,D.z)):Re(ne.x,ne.y,y/m*ee)}for(let ee=_-1;ee>=0;ee--){const te=ee/_,ne=b*Math.cos(te*Math.PI/2),he=x*Math.sin(te*Math.PI/2)+S;for(let se=0,Ee=xe.length;se<Ee;se++){const ke=_e(xe[se],ae[se],he);Re(ke.x,ke.y,y+ne)}for(let se=0,Ee=re.length;se<Ee;se++){const ke=re[se];I=fe[se];for(let Ue=0,qe=ke.length;Ue<qe;Ue++){const et=_e(ke[Ue],I[Ue],he);C?Re(et.x,et.y+z[m-1].y,z[m-1].x+ne):Re(et.x,et.y,y+ne)}}}Ae(),ye();function Ae(){const ee=i.length/3;if(v){let te=0,ne=V*te;for(let he=0;he<K;he++){const se=Z[he];$t(se[2]+ne,se[1]+ne,se[0]+ne)}te=m+_*2,ne=V*te;for(let he=0;he<K;he++){const se=Z[he];$t(se[0]+ne,se[1]+ne,se[2]+ne)}}else{for(let te=0;te<K;te++){const ne=Z[te];$t(ne[2],ne[1],ne[0])}for(let te=0;te<K;te++){const ne=Z[te];$t(ne[0]+V*m,ne[1]+V*m,ne[2]+V*m)}}r.addGroup(ee,i.length/3-ee,0)}function ye(){const ee=i.length/3;let te=0;St(xe,te),te+=xe.length;for(let ne=0,he=re.length;ne<he;ne++){const se=re[ne];St(se,te),te+=se.length}r.addGroup(ee,i.length/3-ee,1)}function St(ee,te){let ne=ee.length;for(;--ne>=0;){const he=ne;let se=ne-1;se<0&&(se=ee.length-1);for(let Ee=0,ke=m+_*2;Ee<ke;Ee++){const Ue=V*Ee,qe=V*(Ee+1),et=te+he+Ue,It=te+se+Ue,rs=te+se+qe,Pt=te+he+qe;ua(et,It,rs,Pt)}}}function Re(ee,te,ne){d.push(ee),d.push(te),d.push(ne)}function $t(ee,te,ne){Ft(ee),Ft(te),Ft(ne);const he=i.length/3,se=T.generateTopUV(r,i,he-3,he-2,he-1);Gt(se[0]),Gt(se[1]),Gt(se[2])}function ua(ee,te,ne,he){Ft(ee),Ft(te),Ft(he),Ft(te),Ft(ne),Ft(he);const se=i.length/3,Ee=T.generateSideWallUV(r,i,se-6,se-3,se-2,se-1);Gt(Ee[0]),Gt(Ee[1]),Gt(Ee[3]),Gt(Ee[1]),Gt(Ee[2]),Gt(Ee[3])}function Ft(ee){i.push(d[ee*3+0]),i.push(d[ee*3+1]),i.push(d[ee*3+2])}function Gt(ee){o.push(ee.x),o.push(ee.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return x_(t,r,e)}static fromJSON(e,t){const r=[];for(let o=0,l=e.shapes.length;o<l;o++){const h=t[e.shapes[o]];r.push(h)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new tc[i.type]().fromJSON(i)),new ef(r,e.options)}}const b_={generateTopUV:function(c,e,t,r,i){const o=e[t*3],l=e[t*3+1],h=e[r*3],d=e[r*3+1],p=e[i*3],m=e[i*3+1];return[new Y(o,l),new Y(h,d),new Y(p,m)]},generateSideWallUV:function(c,e,t,r,i,o){const l=e[t*3],h=e[t*3+1],d=e[t*3+2],p=e[r*3],m=e[r*3+1],y=e[r*3+2],v=e[i*3],b=e[i*3+1],x=e[i*3+2],S=e[o*3],_=e[o*3+1],M=e[o*3+2];return Math.abs(h-m)<Math.abs(l-p)?[new Y(l,1-d),new Y(p,1-y),new Y(v,1-x),new Y(S,1-M)]:[new Y(h,1-d),new Y(m,1-y),new Y(b,1-x),new Y(_,1-M)]}};function x_(c,e,t){if(t.shapes=[],Array.isArray(c))for(let r=0,i=c.length;r<i;r++){const o=c[r];t.shapes.push(o.uuid)}else t.shapes.push(c.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class tf extends js{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new tf(e.radius,e.detail)}}class nf extends ze{constructor(e=[new Y(0,-.5),new Y(.5,0),new Y(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=ve(i,0,Math.PI*2);const o=[],l=[],h=[],d=[],p=[],m=1/t,y=new A,v=new Y,b=new A,x=new A,S=new A;let _=0,M=0;for(let T=0;T<=e.length-1;T++)switch(T){case 0:_=e[T+1].x-e[T].x,M=e[T+1].y-e[T].y,b.x=M*1,b.y=-_,b.z=M*0,S.copy(b),b.normalize(),d.push(b.x,b.y,b.z);break;case e.length-1:d.push(S.x,S.y,S.z);break;default:_=e[T+1].x-e[T].x,M=e[T+1].y-e[T].y,b.x=M*1,b.y=-_,b.z=M*0,x.copy(b),b.x+=S.x,b.y+=S.y,b.z+=S.z,b.normalize(),d.push(b.x,b.y,b.z),S.copy(x)}for(let T=0;T<=t;T++){const z=r+T*m*i,C=Math.sin(z),R=Math.cos(z);for(let N=0;N<=e.length-1;N++){y.x=e[N].x*C,y.y=e[N].y,y.z=e[N].x*R,l.push(y.x,y.y,y.z),v.x=T/t,v.y=N/(e.length-1),h.push(v.x,v.y);const H=d[3*N+0]*C,D=d[3*N+1],J=d[3*N+0]*R;p.push(H,D,J)}}for(let T=0;T<t;T++)for(let z=0;z<e.length-1;z++){const C=z+T*e.length,R=C,N=C+e.length,H=C+e.length+1,D=C+1;o.push(R,N,D),o.push(H,D,N)}this.setIndex(o),this.setAttribute("position",new oe(l,3)),this.setAttribute("uv",new oe(h,2)),this.setAttribute("normal",new oe(p,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nf(e.points,e.segments,e.phiStart,e.phiLength)}}class dc extends js{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new dc(e.radius,e.detail)}}class rf extends ze{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const o=e/2,l=t/2,h=Math.floor(r),d=Math.floor(i),p=h+1,m=d+1,y=e/h,v=t/d,b=[],x=[],S=[],_=[];for(let M=0;M<m;M++){const T=M*v-l;for(let z=0;z<p;z++){const C=z*y-o;x.push(C,-T,0),S.push(0,0,1),_.push(z/h),_.push(1-M/d)}}for(let M=0;M<d;M++)for(let T=0;T<h;T++){const z=T+p*M,C=T+p*(M+1),R=T+1+p*(M+1),N=T+1+p*M;b.push(z,C,N),b.push(C,R,N)}this.setIndex(b),this.setAttribute("position",new oe(x,3)),this.setAttribute("normal",new oe(S,3)),this.setAttribute("uv",new oe(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rf(e.width,e.height,e.widthSegments,e.heightSegments)}}class sf extends ze{constructor(e=.5,t=1,r=32,i=1,o=0,l=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:l},r=Math.max(3,r),i=Math.max(1,i);const h=[],d=[],p=[],m=[];let y=e;const v=(t-e)/i,b=new A,x=new Y;for(let S=0;S<=i;S++){for(let _=0;_<=r;_++){const M=o+_/r*l;b.x=y*Math.cos(M),b.y=y*Math.sin(M),d.push(b.x,b.y,b.z),p.push(0,0,1),x.x=(b.x/t+1)/2,x.y=(b.y/t+1)/2,m.push(x.x,x.y)}y+=v}for(let S=0;S<i;S++){const _=S*(r+1);for(let M=0;M<r;M++){const T=M+_,z=T,C=T+r+1,R=T+r+2,N=T+1;h.push(z,C,N),h.push(C,R,N)}}this.setIndex(h),this.setAttribute("position",new oe(d,3)),this.setAttribute("normal",new oe(p,3)),this.setAttribute("uv",new oe(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sf(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class af extends ze{constructor(e=new Qi([new Y(0,.5),new Y(-.5,-.5),new Y(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],o=[],l=[];let h=0,d=0;if(Array.isArray(e)===!1)p(e);else for(let m=0;m<e.length;m++)p(e[m]),this.addGroup(h,d,m),h+=d,d=0;this.setIndex(r),this.setAttribute("position",new oe(i,3)),this.setAttribute("normal",new oe(o,3)),this.setAttribute("uv",new oe(l,2));function p(m){const y=i.length/3,v=m.extractPoints(t);let b=v.shape;const x=v.holes;Hn.isClockWise(b)===!1&&(b=b.reverse());for(let _=0,M=x.length;_<M;_++){const T=x[_];Hn.isClockWise(T)===!0&&(x[_]=T.reverse())}const S=Hn.triangulateShape(b,x);for(let _=0,M=x.length;_<M;_++){const T=x[_];b=b.concat(T)}for(let _=0,M=b.length;_<M;_++){const T=b[_];i.push(T.x,T.y,0),o.push(0,0,1),l.push(T.x,T.y)}for(let _=0,M=S.length;_<M;_++){const T=S[_],z=T[0]+y,C=T[1]+y,R=T[2]+y;r.push(z,C,R),d+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return w_(t,e)}static fromJSON(e,t){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const l=t[e.shapes[i]];r.push(l)}return new af(r,e.curveSegments)}}function w_(c,e){if(e.shapes=[],Array.isArray(c))for(let t=0,r=c.length;t<r;t++){const i=c[t];e.shapes.push(i.uuid)}else e.shapes.push(c.uuid);return e}class pc extends ze{constructor(e=1,t=32,r=16,i=0,o=Math.PI*2,l=0,h=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:o,thetaStart:l,thetaLength:h},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const d=Math.min(l+h,Math.PI);let p=0;const m=[],y=new A,v=new A,b=[],x=[],S=[],_=[];for(let M=0;M<=r;M++){const T=[],z=M/r;let C=0;M===0&&l===0?C=.5/t:M===r&&d===Math.PI&&(C=-.5/t);for(let R=0;R<=t;R++){const N=R/t;y.x=-e*Math.cos(i+N*o)*Math.sin(l+z*h),y.y=e*Math.cos(l+z*h),y.z=e*Math.sin(i+N*o)*Math.sin(l+z*h),x.push(y.x,y.y,y.z),v.copy(y).normalize(),S.push(v.x,v.y,v.z),_.push(N+C,1-z),T.push(p++)}m.push(T)}for(let M=0;M<r;M++)for(let T=0;T<t;T++){const z=m[M][T+1],C=m[M][T],R=m[M+1][T],N=m[M+1][T+1];(M!==0||l>0)&&b.push(z,C,N),(M!==r-1||d<Math.PI)&&b.push(C,R,N)}this.setIndex(b),this.setAttribute("position",new oe(x,3)),this.setAttribute("normal",new oe(S,3)),this.setAttribute("uv",new oe(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pc(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class of extends js{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new of(e.radius,e.detail)}}class lf extends ze{constructor(e=1,t=.4,r=12,i=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const l=[],h=[],d=[],p=[],m=new A,y=new A,v=new A;for(let b=0;b<=r;b++)for(let x=0;x<=i;x++){const S=x/i*o,_=b/r*Math.PI*2;y.x=(e+t*Math.cos(_))*Math.cos(S),y.y=(e+t*Math.cos(_))*Math.sin(S),y.z=t*Math.sin(_),h.push(y.x,y.y,y.z),m.x=e*Math.cos(S),m.y=e*Math.sin(S),v.subVectors(y,m).normalize(),d.push(v.x,v.y,v.z),p.push(x/i),p.push(b/r)}for(let b=1;b<=r;b++)for(let x=1;x<=i;x++){const S=(i+1)*b+x-1,_=(i+1)*(b-1)+x-1,M=(i+1)*(b-1)+x,T=(i+1)*b+x;l.push(S,_,T),l.push(_,M,T)}this.setIndex(l),this.setAttribute("position",new oe(h,3)),this.setAttribute("normal",new oe(d,3)),this.setAttribute("uv",new oe(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lf(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class uf extends ze{constructor(e=1,t=.4,r=64,i=8,o=2,l=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:o,q:l},r=Math.floor(r),i=Math.floor(i);const h=[],d=[],p=[],m=[],y=new A,v=new A,b=new A,x=new A,S=new A,_=new A,M=new A;for(let z=0;z<=r;++z){const C=z/r*o*Math.PI*2;T(C,o,l,e,b),T(C+.01,o,l,e,x),_.subVectors(x,b),M.addVectors(x,b),S.crossVectors(_,M),M.crossVectors(S,_),S.normalize(),M.normalize();for(let R=0;R<=i;++R){const N=R/i*Math.PI*2,H=-t*Math.cos(N),D=t*Math.sin(N);y.x=b.x+(H*M.x+D*S.x),y.y=b.y+(H*M.y+D*S.y),y.z=b.z+(H*M.z+D*S.z),d.push(y.x,y.y,y.z),v.subVectors(y,b).normalize(),p.push(v.x,v.y,v.z),m.push(z/r),m.push(R/i)}}for(let z=1;z<=r;z++)for(let C=1;C<=i;C++){const R=(i+1)*(z-1)+(C-1),N=(i+1)*z+(C-1),H=(i+1)*z+C,D=(i+1)*(z-1)+C;h.push(R,N,D),h.push(N,H,D)}this.setIndex(h),this.setAttribute("position",new oe(d,3)),this.setAttribute("normal",new oe(p,3)),this.setAttribute("uv",new oe(m,2));function T(z,C,R,N,H){const D=Math.cos(z),J=Math.sin(z),G=R/C*z,re=Math.cos(G);H.x=N*(2+re)*.5*D,H.y=N*(2+re)*J*.5,H.z=N*Math.sin(G)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uf(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class cf extends ze{constructor(e=new yb(new A(-1,-1,0),new A(-1,1,0),new A(1,1,0)),t=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:o};const l=e.computeFrenetFrames(t,o);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const h=new A,d=new A,p=new Y;let m=new A;const y=[],v=[],b=[],x=[];S(),this.setIndex(x),this.setAttribute("position",new oe(y,3)),this.setAttribute("normal",new oe(v,3)),this.setAttribute("uv",new oe(b,2));function S(){for(let z=0;z<t;z++)_(z);_(o===!1?t:0),T(),M()}function _(z){m=e.getPointAt(z/t,m);const C=l.normals[z],R=l.binormals[z];for(let N=0;N<=i;N++){const H=N/i*Math.PI*2,D=Math.sin(H),J=-Math.cos(H);d.x=J*C.x+D*R.x,d.y=J*C.y+D*R.y,d.z=J*C.z+D*R.z,d.normalize(),v.push(d.x,d.y,d.z),h.x=m.x+r*d.x,h.y=m.y+r*d.y,h.z=m.z+r*d.z,y.push(h.x,h.y,h.z)}}function M(){for(let z=1;z<=t;z++)for(let C=1;C<=i;C++){const R=(i+1)*(z-1)+(C-1),N=(i+1)*z+(C-1),H=(i+1)*z+C,D=(i+1)*(z-1)+C;x.push(R,N,D),x.push(N,H,D)}}function T(){for(let z=0;z<=t;z++)for(let C=0;C<=i;C++)p.x=z/t,p.y=C/i,b.push(p.x,p.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new cf(new tc[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class S_ extends ze{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new A,o=new A;if(e.index!==null){const l=e.attributes.position,h=e.index;let d=e.groups;d.length===0&&(d=[{start:0,count:h.count,materialIndex:0}]);for(let p=0,m=d.length;p<m;++p){const y=d[p],v=y.start,b=y.count;for(let x=v,S=v+b;x<S;x+=3)for(let _=0;_<3;_++){const M=h.getX(x+_),T=h.getX(x+(_+1)%3);i.fromBufferAttribute(l,M),o.fromBufferAttribute(l,T),Mv(i,o,r)===!0&&(t.push(i.x,i.y,i.z),t.push(o.x,o.y,o.z))}}}else{const l=e.attributes.position;for(let h=0,d=l.count/3;h<d;h++)for(let p=0;p<3;p++){const m=3*h+p,y=3*h+(p+1)%3;i.fromBufferAttribute(l,m),o.fromBufferAttribute(l,y),Mv(i,o,r)===!0&&(t.push(i.x,i.y,i.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new oe(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Mv(c,e,t){const r=`${c.x},${c.y},${c.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${c.x},${c.y},${c.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var _v=Object.freeze({__proto__:null,BoxGeometry:lc,CapsuleGeometry:Gp,CircleGeometry:Yp,ConeGeometry:hc,CylinderGeometry:cc,DodecahedronGeometry:Qp,EdgesGeometry:HM,ExtrudeGeometry:ef,IcosahedronGeometry:tf,LatheGeometry:nf,OctahedronGeometry:dc,PlaneGeometry:rf,PolyhedronGeometry:js,RingGeometry:sf,ShapeGeometry:af,SphereGeometry:pc,TetrahedronGeometry:of,TorusGeometry:lf,TorusKnotGeometry:uf,TubeGeometry:cf,WireframeGeometry:S_});class M_ extends Dt{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new be(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class __ extends Fp{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Mb extends Dt{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new be(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ra,this.normalScale=new Y(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Wn,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class k_ extends Mb{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Y(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ve(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new be(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new be(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new be(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class T_ extends Dt{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new be(16777215),this.specular=new be(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ra,this.normalScale=new Y(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Wn,this.combine=Ep,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class z_ extends Dt{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new be(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ra,this.normalScale=new Y(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class C_ extends Dt{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ra,this.normalScale=new Y(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class A_ extends Dt{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new be(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ra,this.normalScale=new Y(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Wn,this.combine=Ep,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class E_ extends Dt{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=IS,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class I_ extends Dt{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class P_ extends Dt{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new be(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ra,this.normalScale=new Y(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class R_ extends Jt{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Os(c,e){return!c||c.constructor===e?c:typeof e.BYTES_PER_ELEMENT=="number"?new e(c):Array.prototype.slice.call(c)}function _b(c){return ArrayBuffer.isView(c)&&!(c instanceof DataView)}function kb(c){function e(i,o){return c[i]-c[o]}const t=c.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function kp(c,e,t){const r=c.length,i=new c.constructor(r);for(let o=0,l=0;l!==r;++o){const h=t[o]*e;for(let d=0;d!==e;++d)i[l++]=c[h+d]}return i}function hf(c,e,t,r){let i=1,o=c[0];for(;o!==void 0&&o[r]===void 0;)o=c[i++];if(o===void 0)return;let l=o[r];if(l!==void 0)if(Array.isArray(l))do l=o[r],l!==void 0&&(e.push(o.time),t.push(...l)),o=c[i++];while(o!==void 0);else if(l.toArray!==void 0)do l=o[r],l!==void 0&&(e.push(o.time),l.toArray(t,t.length)),o=c[i++];while(o!==void 0);else do l=o[r],l!==void 0&&(e.push(o.time),t.push(l)),o=c[i++];while(o!==void 0)}function L_(c,e,t,r,i=30){const o=c.clone();o.name=e;const l=[];for(let d=0;d<o.tracks.length;++d){const p=o.tracks[d],m=p.getValueSize(),y=[],v=[];for(let b=0;b<p.times.length;++b){const x=p.times[b]*i;if(!(x<t||x>=r)){y.push(p.times[b]);for(let S=0;S<m;++S)v.push(p.values[b*m+S])}}y.length!==0&&(p.times=Os(y,p.times.constructor),p.values=Os(v,p.values.constructor),l.push(p))}o.tracks=l;let h=1/0;for(let d=0;d<o.tracks.length;++d)h>o.tracks[d].times[0]&&(h=o.tracks[d].times[0]);for(let d=0;d<o.tracks.length;++d)o.tracks[d].shift(-1*h);return o.resetDuration(),o}function O_(c,e=0,t=c,r=30){r<=0&&(r=30);const i=t.tracks.length,o=e/r;for(let l=0;l<i;++l){const h=t.tracks[l],d=h.ValueTypeName;if(d==="bool"||d==="string")continue;const p=c.tracks.find(function(M){return M.name===h.name&&M.ValueTypeName===d});if(p===void 0)continue;let m=0;const y=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=y/3);let v=0;const b=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=b/3);const x=h.times.length-1;let S;if(o<=h.times[0]){const M=m,T=y-m;S=h.values.slice(M,T)}else if(o>=h.times[x]){const M=x*y+m,T=M+y-m;S=h.values.slice(M,T)}else{const M=h.createInterpolant(),T=m,z=y-m;M.evaluate(o),S=M.resultBuffer.slice(T,z)}d==="quaternion"&&new un().fromArray(S).normalize().conjugate().toArray(S);const _=p.times.length;for(let M=0;M<_;++M){const T=M*b+v;if(d==="quaternion")un.multiplyQuaternionsFlat(p.values,T,S,0,p.values,T);else{const z=b-v*2;for(let C=0;C<z;++C)p.values[T+C]-=S[C]}}}return c.blendMode=sb,c}class T3{static convertArray(e,t){return Os(e,t)}static isTypedArray(e){return _b(e)}static getKeyframeOrder(e){return kb(e)}static sortedArray(e,t,r){return kp(e,t,r)}static flattenJSON(e,t,r,i){hf(e,t,r,i)}static subclip(e,t,r,i,o=30){return L_(e,t,r,i,o)}static makeClipAdditive(e,t=0,r=e,i=30){return O_(e,t,r,i)}}class fc{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],o=t[r-1];e:{t:{let l;n:{r:if(!(e<i)){for(let h=r+2;;){if(i===void 0){if(e<o)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===h)break;if(o=i,i=t[++r],e<i)break t}l=t.length;break n}if(!(e>=o)){const h=t[1];e<h&&(r=2,o=h);for(let d=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===d)break;if(i=o,o=t[--r-1],e>=o)break t}l=r,r=0;break n}break e}for(;r<l;){const h=r+l>>>1;e<t[h]?l=h:r=h+1}if(i=t[r],o=t[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let l=0;l!==i;++l)t[l]=r[o+l];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class B_ extends fc{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ji,endingEnd:Ji}}intervalChanged_(e,t,r){const i=this.parameterPositions;let o=e-2,l=e+1,h=i[o],d=i[l];if(h===void 0)switch(this.getSettings_().endingStart){case $i:o=e,h=2*t-r;break;case Gu:o=i.length-2,h=t+i[o]-i[o+1];break;default:o=e,h=r}if(d===void 0)switch(this.getSettings_().endingEnd){case $i:l=e,d=2*r-t;break;case Gu:l=1,d=r+i[1]-i[0];break;default:l=e-1,d=t}const p=(r-t)*.5,m=this.valueSize;this._weightPrev=p/(t-h),this._weightNext=p/(d-r),this._offsetPrev=o*m,this._offsetNext=l*m}interpolate_(e,t,r,i){const o=this.resultBuffer,l=this.sampleValues,h=this.valueSize,d=e*h,p=d-h,m=this._offsetPrev,y=this._offsetNext,v=this._weightPrev,b=this._weightNext,x=(r-t)/(i-t),S=x*x,_=S*x,M=-v*_+2*v*S-v*x,T=(1+v)*_+(-1.5-2*v)*S+(-.5+v)*x+1,z=(-1-b)*_+(1.5+b)*S+.5*x,C=b*_-b*S;for(let R=0;R!==h;++R)o[R]=M*l[m+R]+T*l[p+R]+z*l[d+R]+C*l[y+R];return o}}class Tb extends fc{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const o=this.resultBuffer,l=this.sampleValues,h=this.valueSize,d=e*h,p=d-h,m=(r-t)/(i-t),y=1-m;for(let v=0;v!==h;++v)o[v]=l[p+v]*y+l[d+v]*m;return o}}class N_ extends fc{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Rn{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Os(t,this.TimeBufferType),this.values=Os(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Os(e.times,Array),values:Os(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new N_(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Tb(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new B_(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case $u:t=this.InterpolantFactoryMethodDiscrete;break;case xp:t=this.InterpolantFactoryMethodLinear;break;case Pd:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return $u;case this.InterpolantFactoryMethodLinear:return xp;case this.InterpolantFactoryMethodSmooth:return Pd}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let o=0,l=i-1;for(;o!==i&&r[o]<e;)++o;for(;l!==-1&&r[l]>t;)--l;if(++l,o!==0||l!==i){o>=l&&(l=Math.max(l,1),o=l-1);const h=this.getValueSize();this.times=r.slice(o,l),this.values=this.values.slice(o*h,l*h)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let l=null;for(let h=0;h!==o;h++){const d=r[h];if(typeof d=="number"&&isNaN(d)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,h,d),e=!1;break}if(l!==null&&l>d){console.error("THREE.KeyframeTrack: Out of order keys.",this,h,d,l),e=!1;break}l=d}if(i!==void 0&&_b(i))for(let h=0,d=i.length;h!==d;++h){const p=i[h];if(isNaN(p)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,h,p),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===Pd,o=e.length-1;let l=1;for(let h=1;h<o;++h){let d=!1;const p=e[h],m=e[h+1];if(p!==m&&(h!==1||p!==e[0]))if(i)d=!0;else{const y=h*r,v=y-r,b=y+r;for(let x=0;x!==r;++x){const S=t[y+x];if(S!==t[v+x]||S!==t[b+x]){d=!0;break}}}if(d){if(h!==l){e[l]=e[h];const y=h*r,v=l*r;for(let b=0;b!==r;++b)t[v+b]=t[y+b]}++l}}if(o>0){e[l]=e[o];for(let h=o*r,d=l*r,p=0;p!==r;++p)t[d+p]=t[h+p];++l}return l!==e.length?(this.times=e.slice(0,l),this.values=t.slice(0,l*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Rn.prototype.ValueTypeName="";Rn.prototype.TimeBufferType=Float32Array;Rn.prototype.ValueBufferType=Float32Array;Rn.prototype.DefaultInterpolation=xp;class ia extends Rn{constructor(e,t,r){super(e,t,r)}}ia.prototype.ValueTypeName="bool";ia.prototype.ValueBufferType=Array;ia.prototype.DefaultInterpolation=$u;ia.prototype.InterpolantFactoryMethodLinear=void 0;ia.prototype.InterpolantFactoryMethodSmooth=void 0;class zb extends Rn{constructor(e,t,r,i){super(e,t,r,i)}}zb.prototype.ValueTypeName="color";class nc extends Rn{constructor(e,t,r,i){super(e,t,r,i)}}nc.prototype.ValueTypeName="number";class D_ extends fc{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const o=this.resultBuffer,l=this.sampleValues,h=this.valueSize,d=(r-t)/(i-t);let p=e*h;for(let m=p+h;p!==m;p+=4)un.slerpFlat(o,0,l,p-h,l,p,d);return o}}class mc extends Rn{constructor(e,t,r,i){super(e,t,r,i)}InterpolantFactoryMethodLinear(e){return new D_(this.times,this.values,this.getValueSize(),e)}}mc.prototype.ValueTypeName="quaternion";mc.prototype.InterpolantFactoryMethodSmooth=void 0;class aa extends Rn{constructor(e,t,r){super(e,t,r)}}aa.prototype.ValueTypeName="string";aa.prototype.ValueBufferType=Array;aa.prototype.DefaultInterpolation=$u;aa.prototype.InterpolantFactoryMethodLinear=void 0;aa.prototype.InterpolantFactoryMethodSmooth=void 0;class rc extends Rn{constructor(e,t,r,i){super(e,t,r,i)}}rc.prototype.ValueTypeName="vector";class sc{constructor(e="",t=-1,r=[],i=Op){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=ln(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let l=0,h=r.length;l!==h;++l)t.push(j_(r[l]).scale(i));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,l=r.length;o!==l;++o)t.push(Rn.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const o=t.length,l=[];for(let h=0;h<o;h++){let d=[],p=[];d.push((h+o-1)%o,h,(h+1)%o),p.push(0,1,0);const m=kb(d);d=kp(d,1,m),p=kp(p,1,m),!i&&d[0]===0&&(d.push(o),p.push(p[0])),l.push(new nc(".morphTargetInfluences["+t[h].name+"]",d,p).scale(1/r))}return new this(e,-1,l)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let h=0,d=e.length;h<d;h++){const p=e[h],m=p.name.match(o);if(m&&m.length>1){const y=m[1];let v=i[y];v||(i[y]=v=[]),v.push(p)}}const l=[];for(const h in i)l.push(this.CreateFromMorphTargetSequence(h,i[h],t,r));return l}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(m,y,v,b,x){if(v.length!==0){const S=[],_=[];hf(v,S,_,b),S.length!==0&&x.push(new m(y,S,_))}},i=[],o=e.name||"default",l=e.fps||30,h=e.blendMode;let d=e.length||-1;const p=e.hierarchy||[];for(let m=0;m<p.length;m++){const y=p[m].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const v={};let b;for(b=0;b<y.length;b++)if(y[b].morphTargets)for(let x=0;x<y[b].morphTargets.length;x++)v[y[b].morphTargets[x]]=-1;for(const x in v){const S=[],_=[];for(let M=0;M!==y[b].morphTargets.length;++M){const T=y[b];S.push(T.time),_.push(T.morphTarget===x?1:0)}i.push(new nc(".morphTargetInfluence["+x+"]",S,_))}d=v.length*l}else{const v=".bones["+t[m].name+"]";r(rc,v+".position",y,"pos",i),r(mc,v+".quaternion",y,"rot",i),r(rc,v+".scale",y,"scl",i)}}return i.length===0?null:new this(o,d,i,h)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function F_(c){switch(c.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return nc;case"vector":case"vector2":case"vector3":case"vector4":return rc;case"color":return zb;case"quaternion":return mc;case"bool":case"boolean":return ia;case"string":return aa}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+c)}function j_(c){if(c.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=F_(c.type);if(c.times===void 0){const t=[],r=[];hf(c.keys,t,r,"value"),c.times=t,c.values=r}return e.parse!==void 0?e.parse(c):new e(c.name,c.times,c.values,c.interpolation)}const es={enabled:!1,files:{},add:function(c,e){this.enabled!==!1&&(this.files[c]=e)},get:function(c){if(this.enabled!==!1)return this.files[c]},remove:function(c){delete this.files[c]},clear:function(){this.files={}}};class Cb{constructor(e,t,r){const i=this;let o=!1,l=0,h=0,d;const p=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(m){h++,o===!1&&i.onStart!==void 0&&i.onStart(m,l,h),o=!0},this.itemEnd=function(m){l++,i.onProgress!==void 0&&i.onProgress(m,l,h),l===h&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(m){i.onError!==void 0&&i.onError(m)},this.resolveURL=function(m){return d?d(m):m},this.setURLModifier=function(m){return d=m,this},this.addHandler=function(m,y){return p.push(m,y),this},this.removeHandler=function(m){const y=p.indexOf(m);return y!==-1&&p.splice(y,2),this},this.getHandler=function(m){for(let y=0,v=p.length;y<v;y+=2){const b=p[y],x=p[y+1];if(b.global&&(b.lastIndex=0),b.test(m))return x}return null}}}const zo=new Cb;class cn{constructor(e){this.manager=e!==void 0?e:zo,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,o){r.load(e,i,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}cn.DEFAULT_MATERIAL_NAME="__DEFAULT";const mr={};class V_ extends Error{constructor(e,t){super(e),this.response=t}}class ts extends cn{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=es.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(mr[e]!==void 0){mr[e].push({onLoad:t,onProgress:r,onError:i});return}mr[e]=[],mr[e].push({onLoad:t,onProgress:r,onError:i});const l=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),h=this.mimeType,d=this.responseType;fetch(l).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const m=mr[e],y=p.body.getReader(),v=p.headers.get("X-File-Size")||p.headers.get("Content-Length"),b=v?parseInt(v):0,x=b!==0;let S=0;const _=new ReadableStream({start(M){T();function T(){y.read().then(({done:z,value:C})=>{if(z)M.close();else{S+=C.byteLength;const R=new ProgressEvent("progress",{lengthComputable:x,loaded:S,total:b});for(let N=0,H=m.length;N<H;N++){const D=m[N];D.onProgress&&D.onProgress(R)}M.enqueue(C),T()}},z=>{M.error(z)})}}});return new Response(_)}else throw new V_(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(d){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(m=>new DOMParser().parseFromString(m,h));case"json":return p.json();default:if(h==="")return p.text();{const m=/charset="?([^;"\s]*)"?/i.exec(h),y=m&&m[1]?m[1].toLowerCase():void 0,v=new TextDecoder(y);return p.arrayBuffer().then(b=>v.decode(b))}}}).then(p=>{es.add(e,p);const m=mr[e];delete mr[e];for(let y=0,v=m.length;y<v;y++){const b=m[y];b.onLoad&&b.onLoad(p)}}).catch(p=>{const m=mr[e];if(m===void 0)throw this.manager.itemError(e),p;delete mr[e];for(let y=0,v=m.length;y<v;y++){const b=m[y];b.onError&&b.onError(p)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class z3 extends cn{constructor(e){super(e)}load(e,t,r,i){const o=this,l=new ts(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(h){try{t(o.parse(JSON.parse(h)))}catch(d){i?i(d):console.error(d),o.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=sc.parse(e[r]);t.push(i)}return t}}class C3 extends cn{constructor(e){super(e)}load(e,t,r,i){const o=this,l=[],h=new $p,d=new ts(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(o.withCredentials);let p=0;function m(y){d.load(e[y],function(v){const b=o.parse(v,!0);l[y]={width:b.width,height:b.height,format:b.format,mipmaps:b.mipmaps},p+=1,p===6&&(b.mipmapCount===1&&(h.minFilter=Sn),h.image=l,h.format=b.format,h.needsUpdate=!0,t&&t(h))},r,i)}if(Array.isArray(e))for(let y=0,v=e.length;y<v;++y)m(y);else d.load(e,function(y){const v=o.parse(y,!0);if(v.isCubemap){const b=v.mipmaps.length/v.mipmapCount;for(let x=0;x<b;x++){l[x]={mipmaps:[]};for(let S=0;S<v.mipmapCount;S++)l[x].mipmaps.push(v.mipmaps[x*v.mipmapCount+S]),l[x].format=v.format,l[x].width=v.width,l[x].height=v.height}h.image=l}else h.image.width=v.width,h.image.height=v.height,h.mipmaps=v.mipmaps;v.mipmapCount===1&&(h.minFilter=Sn),h.format=v.format,h.needsUpdate=!0,t&&t(h)},r,i);return h}}class ic extends cn{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,l=es.get(e);if(l!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(l),o.manager.itemEnd(e)},0),l;const h=Zu("img");function d(){m(),es.add(e,this),t&&t(this),o.manager.itemEnd(e)}function p(y){m(),i&&i(y),o.manager.itemError(e),o.manager.itemEnd(e)}function m(){h.removeEventListener("load",d,!1),h.removeEventListener("error",p,!1)}return h.addEventListener("load",d,!1),h.addEventListener("error",p,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(h.crossOrigin=this.crossOrigin),o.manager.itemStart(e),h.src=e,h}}class A3 extends cn{constructor(e){super(e)}load(e,t,r,i){const o=new Vp;o.colorSpace=xn;const l=new ic(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let h=0;function d(p){l.load(e[p],function(m){o.images[p]=m,h++,h===6&&(o.needsUpdate=!0,t&&t(o))},void 0,i)}for(let p=0;p<e.length;++p)d(p);return o}}class E3 extends cn{constructor(e){super(e)}load(e,t,r,i){const o=this,l=new vr,h=new ts(this.manager);return h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setPath(this.path),h.setWithCredentials(o.withCredentials),h.load(e,function(d){let p;try{p=o.parse(d)}catch(m){if(i!==void 0)i(m);else{console.error(m);return}}p.image!==void 0?l.image=p.image:p.data!==void 0&&(l.image.width=p.width,l.image.height=p.height,l.image.data=p.data),l.wrapS=p.wrapS!==void 0?p.wrapS:jn,l.wrapT=p.wrapT!==void 0?p.wrapT:jn,l.magFilter=p.magFilter!==void 0?p.magFilter:Sn,l.minFilter=p.minFilter!==void 0?p.minFilter:Sn,l.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(l.colorSpace=p.colorSpace),p.flipY!==void 0&&(l.flipY=p.flipY),p.format!==void 0&&(l.format=p.format),p.type!==void 0&&(l.type=p.type),p.mipmaps!==void 0&&(l.mipmaps=p.mipmaps,l.minFilter=oc),p.mipmapCount===1&&(l.minFilter=Sn),p.generateMipmaps!==void 0&&(l.generateMipmaps=p.generateMipmaps),l.needsUpdate=!0,t&&t(l,p)},r,i),l}}class I3 extends cn{constructor(e){super(e)}load(e,t,r,i){const o=new dt,l=new ic(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(e,function(h){o.image=h,o.needsUpdate=!0,t!==void 0&&t(o)},r,i),o}}class Vs extends Ne{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new be(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class H_ extends Vs{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ne.DEFAULT_UP),this.updateMatrix(),this.groundColor=new be(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const cp=new Se,kv=new A,Tv=new A;class df{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Y(512,512),this.mapType=Rp,this.map=null,this.mapPass=null,this.matrix=new Se,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Xp,this._frameExtents=new Y(1,1),this._viewportCount=1,this._viewports=[new vt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;kv.setFromMatrixPosition(e.matrixWorld),t.position.copy(kv),Tv.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Tv),t.updateMatrixWorld(),cp.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(cp),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(cp)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class W_ extends df{constructor(){super(new wn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=Po*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(r!==t.fov||i!==t.aspect||o!==t.far)&&(t.fov=r,t.aspect=i,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class U_ extends Vs{constructor(e,t,r=0,i=Math.PI/3,o=0,l=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ne.DEFAULT_UP),this.updateMatrix(),this.target=new Ne,this.distance=r,this.angle=i,this.penumbra=o,this.decay=l,this.map=null,this.shadow=new W_}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const zv=new Se,xo=new A,hp=new A;class q_ extends df{constructor(){super(new wn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Y(4,2),this._viewportCount=6,this._viewports=[new vt(2,1,1,1),new vt(0,1,1,1),new vt(3,1,1,1),new vt(1,1,1,1),new vt(3,0,1,1),new vt(1,0,1,1)],this._cubeDirections=[new A(1,0,0),new A(-1,0,0),new A(0,0,1),new A(0,0,-1),new A(0,1,0),new A(0,-1,0)],this._cubeUps=[new A(0,1,0),new A(0,1,0),new A(0,1,0),new A(0,1,0),new A(0,0,1),new A(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),xo.setFromMatrixPosition(e.matrixWorld),r.position.copy(xo),hp.copy(r.position),hp.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(hp),r.updateMatrixWorld(),i.makeTranslation(-xo.x,-xo.y,-xo.z),zv.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(zv)}}class X_ extends Vs{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new q_}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Ab extends jp{constructor(e=-1,t=1,r=1,i=-1,o=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=o,this.far=l,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,o,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,l=r+e,h=i+t,d=i-t;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=p*this.view.offsetX,l=o+p*this.view.width,h-=m*this.view.offsetY,d=h-m*this.view.height}this.projectionMatrix.makeOrthographic(o,l,h,d,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class J_ extends df{constructor(){super(new Ab(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class $_ extends Vs{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ne.DEFAULT_UP),this.updateMatrix(),this.target=new Ne,this.shadow=new J_}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class G_ extends Vs{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Y_ extends Vs{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class Q_{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new A)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,o=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.282095),t.addScaledVector(l[1],.488603*i),t.addScaledVector(l[2],.488603*o),t.addScaledVector(l[3],.488603*r),t.addScaledVector(l[4],1.092548*(r*i)),t.addScaledVector(l[5],1.092548*(i*o)),t.addScaledVector(l[6],.315392*(3*o*o-1)),t.addScaledVector(l[7],1.092548*(r*o)),t.addScaledVector(l[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,o=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.886227),t.addScaledVector(l[1],2*.511664*i),t.addScaledVector(l[2],2*.511664*o),t.addScaledVector(l[3],2*.511664*r),t.addScaledVector(l[4],2*.429043*r*i),t.addScaledVector(l[5],2*.429043*i*o),t.addScaledVector(l[6],.743125*o*o-.247708),t.addScaledVector(l[7],2*.429043*r*o),t.addScaledVector(l[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,o=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*o,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*r*o,t[8]=.546274*(r*r-i*i)}}class Z_ extends Vs{constructor(e=new Q_,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class pf extends cn{constructor(e){super(e),this.textures={}}load(e,t,r,i){const o=this,l=new ts(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(h){try{t(o.parse(JSON.parse(h)))}catch(d){i?i(d):console.error(d),o.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(o){return t[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),t[o]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new be().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const l=e.uniforms[o];switch(i.uniforms[o]={},l.type){case"t":i.uniforms[o].value=r(l.value);break;case"c":i.uniforms[o].value=new be().setHex(l.value);break;case"v2":i.uniforms[o].value=new Y().fromArray(l.value);break;case"v3":i.uniforms[o].value=new A().fromArray(l.value);break;case"v4":i.uniforms[o].value=new vt().fromArray(l.value);break;case"m3":i.uniforms[o].value=new qn().fromArray(l.value);break;case"m4":i.uniforms[o].value=new Se().fromArray(l.value);break;default:i.uniforms[o].value=l.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new Y().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Y().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return pf.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:M_,SpriteMaterial:cb,RawShaderMaterial:__,ShaderMaterial:Fp,PointsMaterial:pb,MeshPhysicalMaterial:k_,MeshStandardMaterial:Mb,MeshPhongMaterial:T_,MeshToonMaterial:z_,MeshNormalMaterial:C_,MeshLambertMaterial:A_,MeshDepthMaterial:E_,MeshDistanceMaterial:I_,MeshBasicMaterial:sa,MeshMatcapMaterial:P_,LineDashedMaterial:R_,LineBasicMaterial:Jt,Material:Dt};return new t[e]}}class Cv{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class K_ extends ze{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class e2 extends cn{constructor(e){super(e)}load(e,t,r,i){const o=this,l=new ts(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(h){try{t(o.parse(JSON.parse(h)))}catch(d){i?i(d):console.error(d),o.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(v,b){if(t[b]!==void 0)return t[b];const x=v.interleavedBuffers[b],S=o(v,x.buffer),_=Gi(x.type,S),M=new Up(_,x.stride);return M.uuid=x.uuid,t[b]=M,M}function o(v,b){if(r[b]!==void 0)return r[b];const x=v.arrayBuffers[b],S=new Uint32Array(x).buffer;return r[b]=S,S}const l=e.isInstancedBufferGeometry?new K_:new ze,h=e.data.index;if(h!==void 0){const v=Gi(h.type,h.array);l.setIndex(new Ze(v,1))}const d=e.data.attributes;for(const v in d){const b=d[v];let x;if(b.isInterleavedBufferAttribute){const S=i(e.data,b.data);x=new Ki(S,b.itemSize,b.offset,b.normalized)}else{const S=Gi(b.type,b.array),_=b.isInstancedBufferAttribute?Ro:Ze;x=new _(S,b.itemSize,b.normalized)}b.name!==void 0&&(x.name=b.name),b.usage!==void 0&&x.setUsage(b.usage),l.setAttribute(v,x)}const p=e.data.morphAttributes;if(p)for(const v in p){const b=p[v],x=[];for(let S=0,_=b.length;S<_;S++){const M=b[S];let T;if(M.isInterleavedBufferAttribute){const z=i(e.data,M.data);T=new Ki(z,M.itemSize,M.offset,M.normalized)}else{const z=Gi(M.type,M.array);T=new Ze(z,M.itemSize,M.normalized)}M.name!==void 0&&(T.name=M.name),x.push(T)}l.morphAttributes[v]=x}e.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const m=e.data.groups||e.data.drawcalls||e.data.offsets;if(m!==void 0)for(let v=0,b=m.length;v!==b;++v){const x=m[v];l.addGroup(x.start,x.count,x.materialIndex)}const y=e.data.boundingSphere;if(y!==void 0){const v=new A;y.center!==void 0&&v.fromArray(y.center),l.boundingSphere=new Et(v,y.radius)}return e.name&&(l.name=e.name),e.userData&&(l.userData=e.userData),l}}class P3 extends cn{constructor(e){super(e)}load(e,t,r,i){const o=this,l=this.path===""?Cv.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||l;const h=new ts(this.manager);h.setPath(this.path),h.setRequestHeader(this.requestHeader),h.setWithCredentials(this.withCredentials),h.load(e,function(d){let p=null;try{p=JSON.parse(d)}catch(y){i!==void 0&&i(y),console.error("THREE:ObjectLoader: Can't parse "+e+".",y.message);return}const m=p.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(p,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?Cv.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new ts(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const l=await o.loadAsync(e,t),h=JSON.parse(l),d=h.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(h)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),l=this.parseImages(e.images,function(){t!==void 0&&t(p)}),h=this.parseTextures(e.textures,l),d=this.parseMaterials(e.materials,h),p=this.parseObject(e.object,o,d,h,r),m=this.parseSkeletons(e.skeletons,p);if(this.bindSkeletons(p,m),this.bindLightTargets(p),t!==void 0){let y=!1;for(const v in l)if(l[v].data instanceof HTMLImageElement){y=!0;break}y===!1&&t(p)}return p}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),l=this.parseTextures(e.textures,o),h=this.parseMaterials(e.materials,l),d=this.parseObject(e.object,i,h,l,t),p=this.parseSkeletons(e.skeletons,d);return this.bindSkeletons(d,p),this.bindLightTargets(d),d}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new Qi().fromJSON(e[r]);t[o.uuid]=o}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,l=e.length;o<l;o++){const h=new qp().fromJSON(e[o],i);r[h.uuid]=h}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new e2;for(let o=0,l=e.length;o<l;o++){let h;const d=e[o];switch(d.type){case"BufferGeometry":case"InstancedBufferGeometry":h=i.parse(d);break;default:d.type in _v?h=_v[d.type].fromJSON(d,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${d.type}"`)}h.uuid=d.uuid,d.name!==void 0&&(h.name=d.name),d.userData!==void 0&&(h.userData=d.userData),r[d.uuid]=h}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const o=new pf;o.setTextures(t);for(let l=0,h=e.length;l<h;l++){const d=e[l];r[d.uuid]===void 0&&(r[d.uuid]=o.parse(d)),i[d.uuid]=r[d.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=sc.parse(i);t[o.uuid]=o}return t}parseImages(e,t){const r=this,i={};let o;function l(d){return r.manager.itemStart(d),o.load(d,function(){r.manager.itemEnd(d)},void 0,function(){r.manager.itemError(d),r.manager.itemEnd(d)})}function h(d){if(typeof d=="string"){const p=d,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:r.resourcePath+p;return l(m)}else return d.data?{data:Gi(d.type,d.data),width:d.width,height:d.height}:null}if(e!==void 0&&e.length>0){const d=new Cb(t);o=new ic(d),o.setCrossOrigin(this.crossOrigin);for(let p=0,m=e.length;p<m;p++){const y=e[p],v=y.url;if(Array.isArray(v)){const b=[];for(let x=0,S=v.length;x<S;x++){const _=v[x],M=h(_);M!==null&&(M instanceof HTMLImageElement?b.push(M):b.push(new vr(M.data,M.width,M.height)))}i[y.uuid]=new Ls(b)}else{const b=h(y.url);i[y.uuid]=new Ls(b)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function o(l){if(typeof l=="string"){const h=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:t.resourcePath+h;return await i.loadAsync(d)}else return l.data?{data:Gi(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){i=new ic(this.manager),i.setCrossOrigin(this.crossOrigin);for(let l=0,h=e.length;l<h;l++){const d=e[l],p=d.url;if(Array.isArray(p)){const m=[];for(let y=0,v=p.length;y<v;y++){const b=p[y],x=await o(b);x!==null&&(x instanceof HTMLImageElement?m.push(x):m.push(new vr(x.data,x.width,x.height)))}r[d.uuid]=new Ls(m)}else{const m=await o(d.url);r[d.uuid]=new Ls(m)}}}return r}parseTextures(e,t){function r(o,l){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),l[o])}const i={};if(e!==void 0)for(let o=0,l=e.length;o<l;o++){const h=e[o];h.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',h.uuid),t[h.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",h.image);const d=t[h.image],p=d.data;let m;Array.isArray(p)?(m=new Vp,p.length===6&&(m.needsUpdate=!0)):(p&&p.data?m=new vr:m=new dt,p&&(m.needsUpdate=!0)),m.source=d,m.uuid=h.uuid,h.name!==void 0&&(m.name=h.name),h.mapping!==void 0&&(m.mapping=r(h.mapping,t2)),h.channel!==void 0&&(m.channel=h.channel),h.offset!==void 0&&m.offset.fromArray(h.offset),h.repeat!==void 0&&m.repeat.fromArray(h.repeat),h.center!==void 0&&m.center.fromArray(h.center),h.rotation!==void 0&&(m.rotation=h.rotation),h.wrap!==void 0&&(m.wrapS=r(h.wrap[0],Av),m.wrapT=r(h.wrap[1],Av)),h.format!==void 0&&(m.format=h.format),h.internalFormat!==void 0&&(m.internalFormat=h.internalFormat),h.type!==void 0&&(m.type=h.type),h.colorSpace!==void 0&&(m.colorSpace=h.colorSpace),h.minFilter!==void 0&&(m.minFilter=r(h.minFilter,Ev)),h.magFilter!==void 0&&(m.magFilter=r(h.magFilter,Ev)),h.anisotropy!==void 0&&(m.anisotropy=h.anisotropy),h.flipY!==void 0&&(m.flipY=h.flipY),h.generateMipmaps!==void 0&&(m.generateMipmaps=h.generateMipmaps),h.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=h.premultiplyAlpha),h.unpackAlignment!==void 0&&(m.unpackAlignment=h.unpackAlignment),h.compareFunction!==void 0&&(m.compareFunction=h.compareFunction),h.userData!==void 0&&(m.userData=h.userData),i[h.uuid]=m}return i}parseObject(e,t,r,i,o){let l;function h(v){return t[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",v),t[v]}function d(v){if(v!==void 0){if(Array.isArray(v)){const b=[];for(let x=0,S=v.length;x<S;x++){const _=v[x];r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),b.push(r[_])}return b}return r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),r[v]}}function p(v){return i[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",v),i[v]}let m,y;switch(e.type){case"Scene":l=new xM,e.background!==void 0&&(Number.isInteger(e.background)?l.background=new be(e.background):l.background=p(e.background)),e.environment!==void 0&&(l.environment=p(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?l.fog=new Wp(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(l.fog=new Hp(e.fog.color,e.fog.density)),e.fog.name!==""&&(l.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(l.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(l.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&l.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(l.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&l.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":l=new wn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(l.focus=e.focus),e.zoom!==void 0&&(l.zoom=e.zoom),e.filmGauge!==void 0&&(l.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(l.filmOffset=e.filmOffset),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"OrthographicCamera":l=new Ab(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(l.zoom=e.zoom),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"AmbientLight":l=new G_(e.color,e.intensity);break;case"DirectionalLight":l=new $_(e.color,e.intensity),l.target=e.target||"";break;case"PointLight":l=new X_(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":l=new Y_(e.color,e.intensity,e.width,e.height);break;case"SpotLight":l=new U_(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),l.target=e.target||"";break;case"HemisphereLight":l=new H_(e.color,e.groundColor,e.intensity);break;case"LightProbe":l=new Z_().fromJSON(e);break;case"SkinnedMesh":m=h(e.geometry),y=d(e.material),l=new _M(m,y),e.bindMode!==void 0&&(l.bindMode=e.bindMode),e.bindMatrix!==void 0&&l.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(l.skeleton=e.skeleton);break;case"Mesh":m=h(e.geometry),y=d(e.material),l=new Pn(m,y);break;case"InstancedMesh":m=h(e.geometry),y=d(e.material);const v=e.count,b=e.instanceMatrix,x=e.instanceColor;l=new zM(m,y,v),l.instanceMatrix=new Ro(new Float32Array(b.array),16),x!==void 0&&(l.instanceColor=new Ro(new Float32Array(x.array),x.itemSize));break;case"BatchedMesh":m=h(e.geometry),y=d(e.material),l=new NM(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,y),l.geometry=m,l.perObjectFrustumCulled=e.perObjectFrustumCulled,l.sortObjects=e.sortObjects,l._drawRanges=e.drawRanges,l._reservedRanges=e.reservedRanges,l._geometryInfo=e.geometryInfo.map(S=>{let _=null,M=null;return S.boundingBox!==void 0&&(_=new Nt,_.min.fromArray(S.boundingBox.min),_.max.fromArray(S.boundingBox.max)),S.boundingSphere!==void 0&&(M=new Et,M.radius=S.boundingSphere.radius,M.center.fromArray(S.boundingSphere.center)),{...S,boundingBox:_,boundingSphere:M}}),l._instanceInfo=e.instanceInfo,l._availableInstanceIds=e._availableInstanceIds,l._availableGeometryIds=e._availableGeometryIds,l._nextIndexStart=e.nextIndexStart,l._nextVertexStart=e.nextVertexStart,l._geometryCount=e.geometryCount,l._maxInstanceCount=e.maxInstanceCount,l._maxVertexCount=e.maxVertexCount,l._maxIndexCount=e.maxIndexCount,l._geometryInitialized=e.geometryInitialized,l._matricesTexture=p(e.matricesTexture.uuid),l._indirectTexture=p(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(l._colorsTexture=p(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(l.boundingSphere=new Et,l.boundingSphere.center.fromArray(e.boundingSphere.center),l.boundingSphere.radius=e.boundingSphere.radius),e.boundingBox!==void 0&&(l.boundingBox=new Nt,l.boundingBox.min.fromArray(e.boundingBox.min),l.boundingBox.max.fromArray(e.boundingBox.max));break;case"LOD":l=new SM;break;case"Line":l=new Ns(h(e.geometry),d(e.material));break;case"LineLoop":l=new DM(h(e.geometry),d(e.material));break;case"LineSegments":l=new wr(h(e.geometry),d(e.material));break;case"PointCloud":case"Points":l=new FM(h(e.geometry),d(e.material));break;case"Sprite":l=new wM(d(e.material));break;case"Group":l=new ko;break;case"Bone":l=new db;break;default:l=new Ne}if(l.uuid=e.uuid,e.name!==void 0&&(l.name=e.name),e.matrix!==void 0?(l.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(l.matrixAutoUpdate=e.matrixAutoUpdate),l.matrixAutoUpdate&&l.matrix.decompose(l.position,l.quaternion,l.scale)):(e.position!==void 0&&l.position.fromArray(e.position),e.rotation!==void 0&&l.rotation.fromArray(e.rotation),e.quaternion!==void 0&&l.quaternion.fromArray(e.quaternion),e.scale!==void 0&&l.scale.fromArray(e.scale)),e.up!==void 0&&l.up.fromArray(e.up),e.castShadow!==void 0&&(l.castShadow=e.castShadow),e.receiveShadow!==void 0&&(l.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(l.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(l.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(l.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(l.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&l.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(l.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(l.visible=e.visible),e.frustumCulled!==void 0&&(l.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(l.renderOrder=e.renderOrder),e.userData!==void 0&&(l.userData=e.userData),e.layers!==void 0&&(l.layers.mask=e.layers),e.children!==void 0){const v=e.children;for(let b=0;b<v.length;b++)l.add(this.parseObject(v[b],t,r,i,o))}if(e.animations!==void 0){const v=e.animations;for(let b=0;b<v.length;b++){const x=v[b];l.animations.push(o[x])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(l.autoUpdate=e.autoUpdate);const v=e.levels;for(let b=0;b<v.length;b++){const x=v[b],S=l.getObjectByProperty("uuid",x.object);S!==void 0&&l.addLevel(S,x.distance,x.hysteresis)}}return l}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const r=t.target,i=e.getObjectByProperty("uuid",r);i!==void 0?t.target=i:t.target=new Ne}})}}const t2={UVMapping:Ip,CubeReflectionMapping:Pp,CubeRefractionMapping:Aw,EquirectangularReflectionMapping:Ew,EquirectangularRefractionMapping:Iw,CubeUVReflectionMapping:Pw},Av={RepeatWrapping:vp,ClampToEdgeWrapping:jn,MirroredRepeatWrapping:bp},Ev={NearestFilter:In,NearestMipmapNearestFilter:Rw,NearestMipmapLinearFilter:Lw,LinearFilter:Sn,LinearMipmapNearestFilter:Ow,LinearMipmapLinearFilter:oc};class R3 extends cn{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,l=es.get(e);if(l!==void 0){if(o.manager.itemStart(e),l.then){l.then(p=>{t&&t(p),o.manager.itemEnd(e)}).catch(p=>{i&&i(p)});return}return setTimeout(function(){t&&t(l),o.manager.itemEnd(e)},0),l}const h={};h.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",h.headers=this.requestHeader;const d=fetch(e,h).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(p){return es.add(e,p),t&&t(p),o.manager.itemEnd(e),p}).catch(function(p){i&&i(p),es.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});es.add(e,d),o.manager.itemStart(e)}}let Du;class Eb{static getContext(){return Du===void 0&&(Du=new(window.AudioContext||window.webkitAudioContext)),Du}static setContext(e){Du=e}}class L3 extends cn{constructor(e){super(e)}load(e,t,r,i){const o=this,l=new ts(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(d){try{const p=d.slice(0);Eb.getContext().decodeAudioData(p,function(m){t(m)}).catch(h)}catch(p){h(p)}},r,i);function h(d){i?i(d):console.error(d),o.manager.itemError(e)}}}const Iv=new Se,Pv=new Se,Cs=new Se;class O3{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new wn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new wn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Cs.copy(e.projectionMatrix);const r=t.eyeSep/2,i=r*t.near/t.focus,o=t.near*Math.tan(Bs*t.fov*.5)/t.zoom;let l,h;Pv.elements[12]=-r,Iv.elements[12]=r,l=-o*t.aspect+i,h=o*t.aspect+i,Cs.elements[0]=2*t.near/(h-l),Cs.elements[8]=(h+l)/(h-l),this.cameraL.projectionMatrix.copy(Cs),l=-o*t.aspect-i,h=o*t.aspect-i,Cs.elements[0]=2*t.near/(h-l),Cs.elements[8]=(h+l)/(h-l),this.cameraR.projectionMatrix.copy(Cs)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Pv),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Iv)}}class B3 extends wn{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class n2{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Rv(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Rv();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function Rv(){return performance.now()}const As=new A,Lv=new un,r2=new A,Es=new A;class N3 extends Ne{constructor(){super(),this.type="AudioListener",this.context=Eb.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new n2}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(As,Lv,r2),Es.set(0,0,-1).applyQuaternion(Lv),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(As.x,i),t.positionY.linearRampToValueAtTime(As.y,i),t.positionZ.linearRampToValueAtTime(As.z,i),t.forwardX.linearRampToValueAtTime(Es.x,i),t.forwardY.linearRampToValueAtTime(Es.y,i),t.forwardZ.linearRampToValueAtTime(Es.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(As.x,As.y,As.z),t.setOrientation(Es.x,Es.y,Es.z,r.x,r.y,r.z)}}class s2 extends Ne{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Is=new A,Ov=new un,i2=new A,Ps=new A;class D3 extends s2{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Is,Ov,i2),Ps.set(0,0,1).applyQuaternion(Ov);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Is.x,r),t.positionY.linearRampToValueAtTime(Is.y,r),t.positionZ.linearRampToValueAtTime(Is.z,r),t.orientationX.linearRampToValueAtTime(Ps.x,r),t.orientationY.linearRampToValueAtTime(Ps.y,r),t.orientationZ.linearRampToValueAtTime(Ps.z,r)}else t.setPosition(Is.x,Is.y,Is.z),t.setOrientation(Ps.x,Ps.y,Ps.z)}}class F3{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class a2{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,o,l;switch(t){case"quaternion":i=this._slerp,o=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,o=e*i+i;let l=this.cumulativeWeight;if(l===0){for(let h=0;h!==i;++h)r[o+h]=r[h];l=t}else{l+=t;const h=t/l;this._mixBufferRegion(r,o,0,h,i)}this.cumulativeWeight=l}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,o=this.cumulativeWeight,l=this.cumulativeWeightAdditive,h=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const d=t*this._origIndex;this._mixBufferRegion(r,i,d,1-o,t)}l>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let d=t,p=t+t;d!==p;++d)if(r[d]!==r[d+t]){h.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let o=r,l=i;o!==l;++o)t[o]=t[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,o){if(i>=.5)for(let l=0;l!==o;++l)e[t+l]=e[r+l]}_slerp(e,t,r,i){un.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,o){const l=this._workIndex*o;un.multiplyQuaternionsFlat(e,l,e,t,e,r),un.slerpFlat(e,t,e,t,e,l,i)}_lerp(e,t,r,i,o){const l=1-i;for(let h=0;h!==o;++h){const d=t+h;e[d]=e[d]*l+e[r+h]*i}}_lerpAdditive(e,t,r,i,o){for(let l=0;l!==o;++l){const h=t+l;e[h]=e[h]+e[r+l]*i}}}const ff="\\[\\]\\.:\\/",o2=new RegExp("["+ff+"]","g"),mf="[^"+ff+"]",l2="[^"+ff.replace("\\.","")+"]",u2=/((?:WC+[\/:])*)/.source.replace("WC",mf),c2=/(WCOD+)?/.source.replace("WCOD",l2),h2=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",mf),d2=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",mf),p2=new RegExp("^"+u2+c2+h2+d2+"$"),f2=["material","materials","bones","map"];class m2{constructor(e,t,r){const i=r||Be.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Be{constructor(e,t,r){this.path=t,this.parsedPath=r||Be.parseTrackName(t),this.node=Be.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Be.Composite(e,t,r):new Be(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(o2,"")}static parseTrackName(e){const t=p2.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);f2.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(o){for(let l=0;l<o.length;l++){const h=o[l];if(h.name===t||h.uuid===t)return h;const d=r(h.children);if(d)return d}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let o=t.propertyIndex;if(e||(e=Be.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let p=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===p){p=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(p!==void 0){if(e[p]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[p]}}const l=e[i];if(l===void 0){const p=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+p+"."+i+" but it wasn't found.",e);return}let h=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?h=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(h=this.Versioning.MatrixWorldNeedsUpdate);let d=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}d=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=o}else l.fromArray!==void 0&&l.toArray!==void 0?(d=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(d=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=i;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][h]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Be.Composite=m2;Be.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Be.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Be.prototype.GetterByBindingType=[Be.prototype._getValue_direct,Be.prototype._getValue_array,Be.prototype._getValue_arrayElement,Be.prototype._getValue_toArray];Be.prototype.SetterByBindingTypeAndVersioning=[[Be.prototype._setValue_direct,Be.prototype._setValue_direct_setNeedsUpdate,Be.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Be.prototype._setValue_array,Be.prototype._setValue_array_setNeedsUpdate,Be.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Be.prototype._setValue_arrayElement,Be.prototype._setValue_arrayElement_setNeedsUpdate,Be.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Be.prototype._setValue_fromArray,Be.prototype._setValue_fromArray_setNeedsUpdate,Be.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class j3{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ln(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,l=o.length;let h,d=e.length,p=this.nCachedObjects_;for(let m=0,y=arguments.length;m!==y;++m){const v=arguments[m],b=v.uuid;let x=t[b];if(x===void 0){x=d++,t[b]=x,e.push(v);for(let S=0,_=l;S!==_;++S)o[S].push(new Be(v,r[S],i[S]))}else if(x<p){h=e[x];const S=--p,_=e[S];t[_.uuid]=x,e[x]=_,t[b]=S,e[S]=v;for(let M=0,T=l;M!==T;++M){const z=o[M],C=z[S];let R=z[x];z[x]=C,R===void 0&&(R=new Be(v,r[M],i[M])),z[S]=R}}else e[x]!==h&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let l=0,h=arguments.length;l!==h;++l){const d=arguments[l],p=d.uuid,m=t[p];if(m!==void 0&&m>=o){const y=o++,v=e[y];t[v.uuid]=m,e[m]=v,t[p]=y,e[y]=d;for(let b=0,x=i;b!==x;++b){const S=r[b],_=S[y],M=S[m];S[m]=_,S[y]=M}}}this.nCachedObjects_=o}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,l=e.length;for(let h=0,d=arguments.length;h!==d;++h){const p=arguments[h],m=p.uuid,y=t[m];if(y!==void 0)if(delete t[m],y<o){const v=--o,b=e[v],x=--l,S=e[x];t[b.uuid]=y,e[y]=b,t[S.uuid]=v,e[v]=S,e.pop();for(let _=0,M=i;_!==M;++_){const T=r[_],z=T[v],C=T[x];T[y]=z,T[v]=C,T.pop()}}else{const v=--l,b=e[v];v>0&&(t[b.uuid]=y),e[y]=b,e.pop();for(let x=0,S=i;x!==S;++x){const _=r[x];_[y]=_[v],_.pop()}}}this.nCachedObjects_=o}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const l=this._paths,h=this._parsedPaths,d=this._objects,p=d.length,m=this.nCachedObjects_,y=new Array(p);i=o.length,r[e]=i,l.push(e),h.push(t),o.push(y);for(let v=m,b=d.length;v!==b;++v){const x=d[v];y[v]=new Be(x,e,t)}return y}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,l=this._bindings,h=l.length-1,d=l[h],p=e[h];t[p]=r,l[r]=d,l.pop(),o[r]=o[h],o.pop(),i[r]=i[h],i.pop()}}}class g2{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const o=t.tracks,l=o.length,h=new Array(l),d={endingStart:Ji,endingEnd:Ji};for(let p=0;p!==l;++p){const m=o[p].createInterpolant(null);h[p]=m,m.settings=d}this._interpolantSettings=d,this._interpolants=h,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=AS,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r=!1){if(e.fadeOut(t),this.fadeIn(t),r===!0){const i=this._clip.duration,o=e._clip.duration,l=o/i,h=i/o;e.warp(1,l,t),this.warp(h,1,t)}return this}crossFadeTo(e,t,r=!1){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,o=i.time,l=this.timeScale;let h=this._timeScaleInterpolant;h===null&&(h=i._lendControlInterpolant(),this._timeScaleInterpolant=h);const d=h.parameterPositions,p=h.sampleValues;return d[0]=o,d[1]=o+r,p[0]=e/l,p[1]=t/l,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const d=(e-o)*r;d<0||r===0?t=0:(this._startTime=null,t=r*d)}t*=this._updateTimeScale(e);const l=this._updateTime(t),h=this._updateWeight(e);if(h>0){const d=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case sb:for(let m=0,y=d.length;m!==y;++m)d[m].evaluate(l),p[m].accumulateAdditive(h);break;case Op:default:for(let m=0,y=d.length;m!==y;++m)d[m].evaluate(l),p[m].accumulate(i,h)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const l=r===ES;if(e===0)return o===-1?i:l&&(o&1)===1?t-i:i;if(r===CS){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),i>=t||i<0){const h=Math.floor(i/t);i-=t*h,o+=Math.abs(h);const d=this.repetitions-o;if(d<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(d===1){const p=e<0;this._setEndings(p,!p,l)}else this._setEndings(!1,!1,l);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:h})}}else this.time=i;if(l&&(o&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=$i,i.endingEnd=$i):(e?i.endingStart=this.zeroSlopeAtStart?$i:Ji:i.endingStart=Gu,t?i.endingEnd=this.zeroSlopeAtEnd?$i:Ji:i.endingEnd=Gu)}_scheduleFading(e,t,r){const i=this._mixer,o=i.time;let l=this._weightInterpolant;l===null&&(l=i._lendControlInterpolant(),this._weightInterpolant=l);const h=l.parameterPositions,d=l.sampleValues;return h[0]=o,d[0]=t,h[1]=o+e,d[1]=r,this}}const y2=new Float32Array(1);class V3 extends ns{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,l=e._propertyBindings,h=e._interpolants,d=r.uuid,p=this._bindingsByRootAndName;let m=p[d];m===void 0&&(m={},p[d]=m);for(let y=0;y!==o;++y){const v=i[y],b=v.name;let x=m[b];if(x!==void 0)++x.referenceCount,l[y]=x;else{if(x=l[y],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,d,b));continue}const S=t&&t._propertyBindings[y].binding.parsedPath;x=new a2(Be.create(r,b,S),v.ValueTypeName,v.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,d,b),l[y]=x}h[y].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const o=t[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const o=t[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,o=this._actionsByClip;let l=o[t];if(l===void 0)l={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=l;else{const h=l.knownActions;e._byClipCacheIndex=h.length,h.push(e)}e._cacheIndex=i.length,i.push(e),l.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,l=this._actionsByClip,h=l[o],d=h.knownActions,p=d[d.length-1],m=e._byClipCacheIndex;p._byClipCacheIndex=m,d[m]=p,d.pop(),e._byClipCacheIndex=null;const y=h.actionByRoot,v=(e._localRoot||this._root).uuid;delete y[v],d.length===0&&delete l[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const o=t[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,o=this._bindings;let l=i[t];l===void 0&&(l={},i[t]=l),l[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,l=this._bindingsByRootAndName,h=l[i],d=t[t.length-1],p=e._cacheIndex;d._cacheIndex=p,t[p]=d,t.pop(),delete h[o],Object.keys(h).length===0&&delete l[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new Tb(new Float32Array(2),new Float32Array(2),1,y2),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=t[i];e.__cacheIndex=i,t[i]=e,o.__cacheIndex=r,t[r]=o}clipAction(e,t,r){const i=t||this._root,o=i.uuid;let l=typeof e=="string"?sc.findByName(i,e):e;const h=l!==null?l.uuid:e,d=this._actionsByClip[h];let p=null;if(r===void 0&&(l!==null?r=l.blendMode:r=Op),d!==void 0){const y=d.actionByRoot[o];if(y!==void 0&&y.blendMode===r)return y;p=d.knownActions[0],l===null&&(l=p._clip)}if(l===null)return null;const m=new g2(this,l,t,r);return this._bindAction(m,p),this._addInactiveAction(m,h,o),m}existingAction(e,t){const r=t||this._root,i=r.uuid,o=typeof e=="string"?sc.findByName(r,e):e,l=o?o.uuid:e,h=this._actionsByClip[l];return h!==void 0&&h.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),l=this._accuIndex^=1;for(let p=0;p!==r;++p)t[p]._update(i,e,o,l);const h=this._bindings,d=this._nActiveBindings;for(let p=0;p!==d;++p)h[p].apply(l);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const l=o.knownActions;for(let h=0,d=l.length;h!==d;++h){const p=l[h];this._deactivateAction(p);const m=p._cacheIndex,y=t[t.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,y._cacheIndex=m,t[m]=y,t.pop(),this._removeInactiveBindingsForAction(p)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const l in r){const h=r[l].actionByRoot,d=h[t];d!==void 0&&(this._deactivateAction(d),this._removeInactiveAction(d))}const i=this._bindingsByRootAndName,o=i[t];if(o!==void 0)for(const l in o){const h=o[l];h.restoreOriginalState(),this._removeInactiveBinding(h)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class H3 extends Np{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new ob(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class W3 extends Np{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isRenderTargetArray=!0,this.depth=r,this.texture=new ab(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class Ib{constructor(e){this.value=e}clone(){return new Ib(this.value.clone===void 0?this.value:this.value.clone())}}let v2=0;class U3 extends ns{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:v2++}),this.name="",this.usage=Yu,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++){const o=Array.isArray(t[r])?t[r]:[t[r]];for(let l=0;l<o.length;l++)this.uniforms.push(o[l].clone())}return this}clone(){return new this.constructor().copy(this)}}class q3 extends Up{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class X3{constructor(e,t,r,i,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const Bv=new Se;class J3{constructor(e,t,r=0,i=1/0){this.ray=new Do(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new lb,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return Bv.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Bv),this}intersectObject(e,t=!0,r=[]){return Tp(e,this,r,t),r.sort(Nv),r}intersectObjects(e,t=!0,r=[]){for(let i=0,o=e.length;i<o;i++)Tp(e[i],this,r,t);return r.sort(Nv),r}}function Nv(c,e){return c.distance-e.distance}function Tp(c,e,t,r){let i=!0;if(c.layers.test(e.layers)&&c.raycast(e,t)===!1&&(i=!1),i===!0&&r===!0){const o=c.children;for(let l=0,h=o.length;l<h;l++)Tp(o[l],e,t,!0)}}class $3{constructor(e=1,t=0,r=0){this.radius=e,this.phi=t,this.theta=r}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=ve(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(ve(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class G3{constructor(e=1,t=0,r=0){this.radius=e,this.theta=t,this.y=r}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}class Pb{constructor(e,t,r,i){Pb.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let r=0;r<4;r++)this.elements[r]=e[r+t];return this}set(e,t,r,i){const o=this.elements;return o[0]=e,o[2]=t,o[1]=r,o[3]=i,this}}const Dv=new Y;class Y3{constructor(e=new Y(1/0,1/0),t=new Y(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Dv.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Dv).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Fv=new A,Fu=new A;class Q3{constructor(e=new A,t=new A){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Fv.subVectors(e,this.start),Fu.subVectors(this.end,this.start);const r=Fu.dot(Fu);let i=Fu.dot(Fv)/r;return t&&(i=ve(i,0,1)),i}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const jv=new A;class Z3 extends Ne{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new ze,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,h=1,d=32;l<d;l++,h++){const p=l/d*Math.PI*2,m=h/d*Math.PI*2;i.push(Math.cos(p),Math.sin(p),1,Math.cos(m),Math.sin(m),1)}r.setAttribute("position",new oe(i,3));const o=new Jt({fog:!1,toneMapped:!1});this.cone=new wr(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),jv.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(jv),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Kr=new A,ju=new Se,dp=new Se;class K3 extends wr{constructor(e){const t=Rb(e),r=new ze,i=[],o=[],l=new be(0,0,1),h=new be(0,1,0);for(let p=0;p<t.length;p++){const m=t[p];m.parent&&m.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(l.r,l.g,l.b),o.push(h.r,h.g,h.b))}r.setAttribute("position",new oe(i,3)),r.setAttribute("color",new oe(o,3));const d=new Jt({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,d),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");dp.copy(this.root.matrixWorld).invert();for(let o=0,l=0;o<t.length;o++){const h=t[o];h.parent&&h.parent.isBone&&(ju.multiplyMatrices(dp,h.matrixWorld),Kr.setFromMatrixPosition(ju),i.setXYZ(l,Kr.x,Kr.y,Kr.z),ju.multiplyMatrices(dp,h.parent.matrixWorld),Kr.setFromMatrixPosition(ju),i.setXYZ(l+1,Kr.x,Kr.y,Kr.z),l+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Rb(c){const e=[];c.isBone===!0&&e.push(c);for(let t=0;t<c.children.length;t++)e.push(...Rb(c.children[t]));return e}class eC extends Pn{constructor(e,t,r){const i=new pc(t,4,2),o=new sa({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const b2=new A,Vv=new be,Hv=new be;class tC extends Ne{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new dc(t);i.rotateY(Math.PI*.5),this.material=new sa({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),l=new Float32Array(o.count*3);i.setAttribute("color",new Ze(l,3)),this.add(new Pn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Vv.copy(this.light.color),Hv.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const o=r<i/2?Vv:Hv;t.setXYZ(r,o.r,o.g,o.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(b2.setFromMatrixPosition(this.light.matrixWorld).negate())}}class nC extends wr{constructor(e=10,t=10,r=4473924,i=8947848){r=new be(r),i=new be(i);const o=t/2,l=e/t,h=e/2,d=[],p=[];for(let v=0,b=0,x=-h;v<=t;v++,x+=l){d.push(-h,0,x,h,0,x),d.push(x,0,-h,x,0,h);const S=v===o?r:i;S.toArray(p,b),b+=3,S.toArray(p,b),b+=3,S.toArray(p,b),b+=3,S.toArray(p,b),b+=3}const m=new ze;m.setAttribute("position",new oe(d,3)),m.setAttribute("color",new oe(p,3));const y=new Jt({vertexColors:!0,toneMapped:!1});super(m,y),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class rC extends wr{constructor(e=10,t=16,r=8,i=64,o=4473924,l=8947848){o=new be(o),l=new be(l);const h=[],d=[];if(t>1)for(let y=0;y<t;y++){const v=y/t*(Math.PI*2),b=Math.sin(v)*e,x=Math.cos(v)*e;h.push(0,0,0),h.push(b,0,x);const S=y&1?o:l;d.push(S.r,S.g,S.b),d.push(S.r,S.g,S.b)}for(let y=0;y<r;y++){const v=y&1?o:l,b=e-e/r*y;for(let x=0;x<i;x++){let S=x/i*(Math.PI*2),_=Math.sin(S)*b,M=Math.cos(S)*b;h.push(_,0,M),d.push(v.r,v.g,v.b),S=(x+1)/i*(Math.PI*2),_=Math.sin(S)*b,M=Math.cos(S)*b,h.push(_,0,M),d.push(v.r,v.g,v.b)}}const p=new ze;p.setAttribute("position",new oe(h,3)),p.setAttribute("color",new oe(d,3));const m=new Jt({vertexColors:!0,toneMapped:!1});super(p,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Wv=new A,Vu=new A,Uv=new A;class sC extends Ne{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new ze;i.setAttribute("position",new oe([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const o=new Jt({fog:!1,toneMapped:!1});this.lightPlane=new Ns(i,o),this.add(this.lightPlane),i=new ze,i.setAttribute("position",new oe([0,0,0,0,0,1],3)),this.targetLine=new Ns(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Wv.setFromMatrixPosition(this.light.matrixWorld),Vu.setFromMatrixPosition(this.light.target.matrixWorld),Uv.subVectors(Vu,Wv),this.lightPlane.lookAt(Vu),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Vu),this.targetLine.scale.z=Uv.length()}}const Hu=new A,rt=new jp;class iC extends wr{constructor(e){const t=new ze,r=new Jt({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],l={};h("n1","n2"),h("n2","n4"),h("n4","n3"),h("n3","n1"),h("f1","f2"),h("f2","f4"),h("f4","f3"),h("f3","f1"),h("n1","f1"),h("n2","f2"),h("n3","f3"),h("n4","f4"),h("p","n1"),h("p","n2"),h("p","n3"),h("p","n4"),h("u1","u2"),h("u2","u3"),h("u3","u1"),h("c","t"),h("p","c"),h("cn1","cn2"),h("cn3","cn4"),h("cf1","cf2"),h("cf3","cf4");function h(x,S){d(x),d(S)}function d(x){i.push(0,0,0),o.push(0,0,0),l[x]===void 0&&(l[x]=[]),l[x].push(i.length/3-1)}t.setAttribute("position",new oe(i,3)),t.setAttribute("color",new oe(o,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update();const p=new be(16755200),m=new be(16711680),y=new be(43775),v=new be(16777215),b=new be(3355443);this.setColors(p,m,y,v,b)}setColors(e,t,r,i,o){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,t.r,t.g,t.b),l.setXYZ(25,t.r,t.g,t.b),l.setXYZ(26,t.r,t.g,t.b),l.setXYZ(27,t.r,t.g,t.b),l.setXYZ(28,t.r,t.g,t.b),l.setXYZ(29,t.r,t.g,t.b),l.setXYZ(30,t.r,t.g,t.b),l.setXYZ(31,t.r,t.g,t.b),l.setXYZ(32,r.r,r.g,r.b),l.setXYZ(33,r.r,r.g,r.b),l.setXYZ(34,r.r,r.g,r.b),l.setXYZ(35,r.r,r.g,r.b),l.setXYZ(36,r.r,r.g,r.b),l.setXYZ(37,r.r,r.g,r.b),l.setXYZ(38,i.r,i.g,i.b),l.setXYZ(39,i.r,i.g,i.b),l.setXYZ(40,o.r,o.g,o.b),l.setXYZ(41,o.r,o.g,o.b),l.setXYZ(42,o.r,o.g,o.b),l.setXYZ(43,o.r,o.g,o.b),l.setXYZ(44,o.r,o.g,o.b),l.setXYZ(45,o.r,o.g,o.b),l.setXYZ(46,o.r,o.g,o.b),l.setXYZ(47,o.r,o.g,o.b),l.setXYZ(48,o.r,o.g,o.b),l.setXYZ(49,o.r,o.g,o.b),l.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;rt.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const o=this.camera.coordinateSystem===Vn?-1:0;at("c",t,e,rt,0,0,o),at("t",t,e,rt,0,0,1),at("n1",t,e,rt,-1,-1,o),at("n2",t,e,rt,r,-1,o),at("n3",t,e,rt,-1,i,o),at("n4",t,e,rt,r,i,o),at("f1",t,e,rt,-1,-1,1),at("f2",t,e,rt,r,-1,1),at("f3",t,e,rt,-1,i,1),at("f4",t,e,rt,r,i,1),at("u1",t,e,rt,r*.7,i*1.1,o),at("u2",t,e,rt,-1*.7,i*1.1,o),at("u3",t,e,rt,0,i*2,o),at("cf1",t,e,rt,-1,0,1),at("cf2",t,e,rt,r,0,1),at("cf3",t,e,rt,0,-1,1),at("cf4",t,e,rt,0,i,1),at("cn1",t,e,rt,-1,0,o),at("cn2",t,e,rt,r,0,o),at("cn3",t,e,rt,0,-1,o),at("cn4",t,e,rt,0,i,o),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function at(c,e,t,r,i,o,l){Hu.set(i,o,l).unproject(r);const h=e[c];if(h!==void 0){const d=t.getAttribute("position");for(let p=0,m=h.length;p<m;p++)d.setXYZ(h[p],Hu.x,Hu.y,Hu.z)}}const Wu=new Nt;class aC extends wr{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new ze;o.setIndex(new Ze(r,1)),o.setAttribute("position",new Ze(i,3)),super(o,new Jt({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Wu.setFromObject(this.object),Wu.isEmpty())return;const e=Wu.min,t=Wu.max,r=this.geometry.attributes.position,i=r.array;i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=e.x,i[4]=t.y,i[5]=t.z,i[6]=e.x,i[7]=e.y,i[8]=t.z,i[9]=t.x,i[10]=e.y,i[11]=t.z,i[12]=t.x,i[13]=t.y,i[14]=e.z,i[15]=e.x,i[16]=t.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=t.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class oC extends wr{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new ze;o.setIndex(new Ze(r,1)),o.setAttribute("position",new oe(i,3)),super(o,new Jt({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class lC extends Ns{constructor(e,t=1,r=16776960){const i=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new ze;l.setAttribute("position",new oe(o,3)),l.computeBoundingSphere(),super(l,new Jt({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const h=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],d=new ze;d.setAttribute("position",new oe(h,3)),d.computeBoundingSphere(),this.add(new Pn(d,new sa({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const qv=new A;let Uu,pp;class uC extends Ne{constructor(e=new A(0,0,1),t=new A(0,0,0),r=1,i=16776960,o=r*.2,l=o*.2){super(),this.type="ArrowHelper",Uu===void 0&&(Uu=new ze,Uu.setAttribute("position",new oe([0,0,0,0,1,0],3)),pp=new hc(.5,1,5,1),pp.translate(0,-.5,0)),this.position.copy(t),this.line=new Ns(Uu,new Jt({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Pn(pp,new sa({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,l)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{qv.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(qv,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class cC extends wr{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new ze;i.setAttribute("position",new oe(t,3)),i.setAttribute("color",new oe(r,3));const o=new Jt({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,t,r){const i=new be,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(t),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class hC{constructor(){this.type="ShapePath",this.color=new be,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Sp,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,o,l){return this.currentPath.bezierCurveTo(e,t,r,i,o,l),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(M){const T=[];for(let z=0,C=M.length;z<C;z++){const R=M[z],N=new Qi;N.curves=R.curves,T.push(N)}return T}function r(M,T){const z=T.length;let C=!1;for(let R=z-1,N=0;N<z;R=N++){let H=T[R],D=T[N],J=D.x-H.x,G=D.y-H.y;if(Math.abs(G)>Number.EPSILON){if(G<0&&(H=T[N],J=-J,D=T[R],G=-G),M.y<H.y||M.y>D.y)continue;if(M.y===H.y){if(M.x===H.x)return!0}else{const re=G*(M.x-H.x)-J*(M.y-H.y);if(re===0)return!0;if(re<0)continue;C=!C}}else{if(M.y!==H.y)continue;if(D.x<=M.x&&M.x<=H.x||H.x<=M.x&&M.x<=D.x)return!0}}return C}const i=Hn.isClockWise,o=this.subPaths;if(o.length===0)return[];let l,h,d;const p=[];if(o.length===1)return h=o[0],d=new Qi,d.curves=h.curves,p.push(d),p;let m=!i(o[0].getPoints());m=e?!m:m;const y=[],v=[];let b=[],x=0,S;v[x]=void 0,b[x]=[];for(let M=0,T=o.length;M<T;M++)h=o[M],S=h.getPoints(),l=i(S),l=e?!l:l,l?(!m&&v[x]&&x++,v[x]={s:new Qi,p:S},v[x].s.curves=h.curves,m&&x++,b[x]=[]):b[x].push({h,p:S[0]});if(!v[0])return t(o);if(v.length>1){let M=!1,T=0;for(let z=0,C=v.length;z<C;z++)y[z]=[];for(let z=0,C=v.length;z<C;z++){const R=b[z];for(let N=0;N<R.length;N++){const H=R[N];let D=!0;for(let J=0;J<v.length;J++)r(H.p,v[J].p)&&(z!==J&&T++,D?(D=!1,y[J].push(H)):M=!0);D&&y[z].push(H)}}T>0&&M===!1&&(b=y)}let _;for(let M=0,T=v.length;M<T;M++){d=v[M].s,p.push(d),_=b[M];for(let z=0,C=_.length;z<C;z++)d.holes.push(_[z].h)}return p}}class dC extends ns{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function x2(c,e){const t=c.image&&c.image.width?c.image.width/c.image.height:1;return t>e?(c.repeat.x=1,c.repeat.y=t/e,c.offset.x=0,c.offset.y=(1-c.repeat.y)/2):(c.repeat.x=e/t,c.repeat.y=1,c.offset.x=(1-c.repeat.x)/2,c.offset.y=0),c}function w2(c,e){const t=c.image&&c.image.width?c.image.width/c.image.height:1;return t>e?(c.repeat.x=e/t,c.repeat.y=1,c.offset.x=(1-c.repeat.x)/2,c.offset.y=0):(c.repeat.x=1,c.repeat.y=t/e,c.offset.x=0,c.offset.y=(1-c.repeat.y)/2),c}function S2(c){return c.repeat.x=1,c.repeat.y=1,c.offset.x=0,c.offset.y=0,c}function M2(c,e,t,r){const i=_2(r);switch(t){case Uw:return c*e;case nb:return c*e/i.components*i.byteLength;case rb:return c*e/i.components*i.byteLength;case Jw:return c*e*2/i.components*i.byteLength;case $w:return c*e*2/i.components*i.byteLength;case qw:return c*e*3/i.components*i.byteLength;case Io:return c*e*4/i.components*i.byteLength;case Gw:return c*e*4/i.components*i.byteLength;case Yw:case Qw:return Math.floor((c+3)/4)*Math.floor((e+3)/4)*8;case Zw:case Kw:return Math.floor((c+3)/4)*Math.floor((e+3)/4)*16;case tS:case rS:return Math.max(c,16)*Math.max(e,8)/4;case eS:case nS:return Math.max(c,8)*Math.max(e,8)/2;case sS:case iS:return Math.floor((c+3)/4)*Math.floor((e+3)/4)*8;case aS:return Math.floor((c+3)/4)*Math.floor((e+3)/4)*16;case oS:return Math.floor((c+3)/4)*Math.floor((e+3)/4)*16;case lS:return Math.floor((c+4)/5)*Math.floor((e+3)/4)*16;case uS:return Math.floor((c+4)/5)*Math.floor((e+4)/5)*16;case cS:return Math.floor((c+5)/6)*Math.floor((e+4)/5)*16;case hS:return Math.floor((c+5)/6)*Math.floor((e+5)/6)*16;case dS:return Math.floor((c+7)/8)*Math.floor((e+4)/5)*16;case pS:return Math.floor((c+7)/8)*Math.floor((e+5)/6)*16;case fS:return Math.floor((c+7)/8)*Math.floor((e+7)/8)*16;case mS:return Math.floor((c+9)/10)*Math.floor((e+4)/5)*16;case gS:return Math.floor((c+9)/10)*Math.floor((e+5)/6)*16;case yS:return Math.floor((c+9)/10)*Math.floor((e+7)/8)*16;case vS:return Math.floor((c+9)/10)*Math.floor((e+9)/10)*16;case bS:return Math.floor((c+11)/12)*Math.floor((e+9)/10)*16;case xS:return Math.floor((c+11)/12)*Math.floor((e+11)/12)*16;case wS:case SS:case MS:return Math.ceil(c/4)*Math.ceil(e/4)*16;case _S:case kS:return Math.ceil(c/4)*Math.ceil(e/4)*8;case TS:case zS:return Math.ceil(c/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function _2(c){switch(c){case Rp:case Bw:return{byteLength:1,components:1};case Dw:case Nw:case jw:return{byteLength:2,components:1};case Vw:case Hw:return{byteLength:2,components:4};case Lp:case Fw:case Zi:return{byteLength:4,components:1};case Ww:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${c}.`)}class pC{static contain(e,t){return x2(e,t)}static cover(e,t){return w2(e,t)}static fill(e){return S2(e)}static getByteLength(e,t,r,i){return M2(e,t,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:eb}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=eb);const Xv=c=>{let e;const t=new Set,r=(h,d)=>{const p=typeof h=="function"?h(e):h;if(!Object.is(p,e)){const m=e;e=d??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(y=>y(e,m))}},i=()=>e,o={setState:r,getState:i,getInitialState:()=>l,subscribe:h=>(t.add(h),()=>t.delete(h))},l=e=c(r,i,o);return o},k2=c=>c?Xv(c):Xv,T2=c=>c;function z2(c,e=T2){const t=gp.useSyncExternalStore(c.subscribe,()=>e(c.getState()),()=>e(c.getInitialState()));return gp.useDebugValue(t),t}const Jv=c=>{const e=k2(c),t=r=>z2(e,r);return Object.assign(t,e),t},C2=c=>c?Jv(c):Jv;let wo=0;const Lb=C2(c=>(zo.onStart=(e,t,r)=>{c({active:!0,item:e,loaded:t,total:r,progress:(t-wo)/(r-wo)*100})},zo.onLoad=()=>{c({active:!1})},zo.onError=e=>c(t=>({errors:[...t.errors,e]})),zo.onProgress=(e,t,r)=>{t===r&&(wo=r),c({active:!0,item:e,loaded:t,total:r,progress:(t-wo)/(r-wo)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));var So={},$v;function A2(){if($v)return So;$v=1,Object.defineProperty(So,"__esModule",{value:!0}),So.parse=l,So.serialize=p;const c=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function l(v,b){const x=new o,S=v.length;if(S<2)return x;const _=(b==null?void 0:b.decode)||m;let M=0;do{const T=v.indexOf("=",M);if(T===-1)break;const z=v.indexOf(";",M),C=z===-1?S:z;if(T>C){M=v.lastIndexOf(";",T-1)+1;continue}const R=h(v,M,T),N=d(v,T,R),H=v.slice(R,N);if(x[H]===void 0){let D=h(v,T+1,C),J=d(v,C,D);const G=_(v.slice(D,J));x[H]=G}M=C+1}while(M<S);return x}function h(v,b,x){do{const S=v.charCodeAt(b);if(S!==32&&S!==9)return b}while(++b<x);return x}function d(v,b,x){for(;b>x;){const S=v.charCodeAt(--b);if(S!==32&&S!==9)return b+1}return x}function p(v,b,x){const S=(x==null?void 0:x.encode)||encodeURIComponent;if(!c.test(v))throw new TypeError(`argument name is invalid: ${v}`);const _=S(b);if(!e.test(_))throw new TypeError(`argument val is invalid: ${b}`);let M=v+"="+_;if(!x)return M;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);M+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);M+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);M+="; Path="+x.path}if(x.expires){if(!y(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);M+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(M+="; HttpOnly"),x.secure&&(M+="; Secure"),x.partitioned&&(M+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return M}function m(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return i.call(v)==="[object Date]"}return So}A2();var Gv="popstate";function E2(c={}){function e(r,i){let{pathname:o,search:l,hash:h}=r.location;return zp("",{pathname:o,search:l,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:No(i)}return P2(e,t,null,c)}function Ke(c,e){if(c===!1||c===null||typeof c>"u")throw new Error(e)}function Un(c,e){if(!c){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function I2(){return Math.random().toString(36).substring(2,10)}function Yv(c,e){return{usr:c.state,key:c.key,idx:e}}function zp(c,e,t=null,r){return{pathname:typeof c=="string"?c:c.pathname,search:"",hash:"",...typeof e=="string"?oa(e):e,state:t,key:e&&e.key||r||I2()}}function No({pathname:c="/",search:e="",hash:t=""}){return e&&e!=="?"&&(c+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(c+=t.charAt(0)==="#"?t:"#"+t),c}function oa(c){let e={};if(c){let t=c.indexOf("#");t>=0&&(e.hash=c.substring(t),c=c.substring(0,t));let r=c.indexOf("?");r>=0&&(e.search=c.substring(r),c=c.substring(0,r)),c&&(e.pathname=c)}return e}function P2(c,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,h="POP",d=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function y(){h="POP";let _=m(),M=_==null?null:_-p;p=_,d&&d({action:h,location:S.location,delta:M})}function v(_,M){h="PUSH";let T=zp(S.location,_,M);p=m()+1;let z=Yv(T,p),C=S.createHref(T);try{l.pushState(z,"",C)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(C)}o&&d&&d({action:h,location:S.location,delta:1})}function b(_,M){h="REPLACE";let T=zp(S.location,_,M);p=m();let z=Yv(T,p),C=S.createHref(T);l.replaceState(z,"",C),o&&d&&d({action:h,location:S.location,delta:0})}function x(_){return R2(_)}let S={get action(){return h},get location(){return c(i,l)},listen(_){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(Gv,y),d=_,()=>{i.removeEventListener(Gv,y),d=null}},createHref(_){return e(i,_)},createURL:x,encodeLocation(_){let M=x(_);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:v,replace:b,go(_){return l.go(_)}};return S}function R2(c,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(t,"No window.location.(origin|href) available to create URL");let r=typeof c=="string"?c:No(c);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function Ob(c,e,t="/"){return L2(c,e,t,!1)}function L2(c,e,t,r){let i=typeof e=="string"?oa(e):e,o=xr(i.pathname||"/",t);if(o==null)return null;let l=Bb(c);O2(l);let h=null;for(let d=0;h==null&&d<l.length;++d){let p=X2(o);h=U2(l[d],p,r)}return h}function Bb(c,e=[],t=[],r=""){let i=(o,l,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(Ke(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=br([r,d.relativePath]),m=t.concat(d);o.children&&o.children.length>0&&(Ke(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Bb(o.children,e,m,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:H2(p,o.index),routesMeta:m})};return c.forEach((o,l)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))i(o,l);else for(let d of Nb(o.path))i(o,l,d)}),e}function Nb(c){let e=c.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=Nb(r.join("/")),h=[];return h.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&h.push(...l),h.map(d=>c.startsWith("/")&&d===""?"/":d)}function O2(c){c.sort((e,t)=>e.score!==t.score?t.score-e.score:W2(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var B2=/^:[\w-]+$/,N2=3,D2=2,F2=1,j2=10,V2=-2,Qv=c=>c==="*";function H2(c,e){let t=c.split("/"),r=t.length;return t.some(Qv)&&(r+=V2),e&&(r+=D2),t.filter(i=>!Qv(i)).reduce((i,o)=>i+(B2.test(o)?N2:o===""?F2:j2),r)}function W2(c,e){return c.length===e.length&&c.slice(0,-1).every((t,r)=>t===e[r])?c[c.length-1]-e[e.length-1]:0}function U2(c,e,t=!1){let{routesMeta:r}=c,i={},o="/",l=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=ac({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),v=d.route;if(!y&&p&&t&&!r[r.length-1].route.index&&(y=ac({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:br([o,y.pathname]),pathnameBase:Y2(br([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=br([o,y.pathnameBase]))}return l}function ac(c,e){typeof c=="string"&&(c={path:c,caseSensitive:!1,end:!0});let[t,r]=q2(c.path,c.caseSensitive,c.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((d,{paramName:p,isOptional:m},y)=>{if(p==="*"){let b=h[y]||"";l=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const v=h[y];return m&&!v?d[p]=void 0:d[p]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:c}}function q2(c,e=!1,t=!0){Un(c==="*"||!c.endsWith("*")||c.endsWith("/*"),`Route path "${c}" will be treated as if it were "${c.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${c.replace(/\*$/,"/*")}".`);let r=[],i="^"+c.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,h)=>(r.push({paramName:l,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return c.endsWith("*")?(r.push({paramName:"*"}),i+=c==="*"||c==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":c!==""&&c!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function X2(c){try{return c.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Un(!1,`The URL path "${c}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),c}}function xr(c,e){if(e==="/")return c;if(!c.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=c.charAt(t);return r&&r!=="/"?null:c.slice(t)||"/"}function J2(c,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof c=="string"?oa(c):c;return{pathname:t?t.startsWith("/")?t:$2(t,e):e,search:Q2(r),hash:Z2(i)}}function $2(c,e){let t=e.replace(/\/+$/,"").split("/");return c.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function fp(c,e,t,r){return`Cannot include a '${c}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function G2(c){return c.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Db(c){let e=G2(c);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Fb(c,e,t,r=!1){let i;typeof c=="string"?i=oa(c):(i={...c},Ke(!i.pathname||!i.pathname.includes("?"),fp("?","pathname","search",i)),Ke(!i.pathname||!i.pathname.includes("#"),fp("#","pathname","hash",i)),Ke(!i.search||!i.search.includes("#"),fp("#","search","hash",i)));let o=c===""||i.pathname==="",l=o?"/":i.pathname,h;if(l==null)h=t;else{let y=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),y-=1;i.pathname=v.join("/")}h=y>=0?e[y]:"/"}let d=J2(i,h),p=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}var br=c=>c.join("/").replace(/\/\/+/g,"/"),Y2=c=>c.replace(/\/+$/,"").replace(/^\/*/,"/"),Q2=c=>!c||c==="?"?"":c.startsWith("?")?c:"?"+c,Z2=c=>!c||c==="#"?"":c.startsWith("#")?c:"#"+c;function K2(c){return c!=null&&typeof c.status=="number"&&typeof c.statusText=="string"&&typeof c.internal=="boolean"&&"data"in c}var jb=["POST","PUT","PATCH","DELETE"];new Set(jb);var ek=["GET",...jb];new Set(ek);var la=W.createContext(null);la.displayName="DataRouter";var gc=W.createContext(null);gc.displayName="DataRouterState";var Vb=W.createContext({isTransitioning:!1});Vb.displayName="ViewTransition";var tk=W.createContext(new Map);tk.displayName="Fetchers";var nk=W.createContext(null);nk.displayName="Await";var Jn=W.createContext(null);Jn.displayName="Navigation";var Fo=W.createContext(null);Fo.displayName="Location";var Sr=W.createContext({outlet:null,matches:[],isDataRoute:!1});Sr.displayName="Route";var gf=W.createContext(null);gf.displayName="RouteError";function rk(c,{relative:e}={}){Ke(jo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=W.useContext(Jn),{hash:i,pathname:o,search:l}=Vo(c,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:br([t,o])),r.createHref({pathname:h,search:l,hash:i})}function jo(){return W.useContext(Fo)!=null}function Hs(){return Ke(jo(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Fo).location}var Hb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wb(c){W.useContext(Jn).static||W.useLayoutEffect(c)}function sk(){let{isDataRoute:c}=W.useContext(Sr);return c?yk():ik()}function ik(){Ke(jo(),"useNavigate() may be used only in the context of a <Router> component.");let c=W.useContext(la),{basename:e,navigator:t}=W.useContext(Jn),{matches:r}=W.useContext(Sr),{pathname:i}=Hs(),o=JSON.stringify(Db(r)),l=W.useRef(!1);return Wb(()=>{l.current=!0}),W.useCallback((h,d={})=>{if(Un(l.current,Hb),!l.current)return;if(typeof h=="number"){t.go(h);return}let p=Fb(h,JSON.parse(o),i,d.relative==="path");c==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:br([e,p.pathname])),(d.replace?t.replace:t.push)(p,d.state,d)},[e,t,o,i,c])}W.createContext(null);function Vo(c,{relative:e}={}){let{matches:t}=W.useContext(Sr),{pathname:r}=Hs(),i=JSON.stringify(Db(t));return W.useMemo(()=>Fb(c,JSON.parse(i),r,e==="path"),[c,i,r,e])}function ak(c,e){return Ub(c,e)}function Ub(c,e,t,r){var i;Ke(jo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=W.useContext(Jn),{matches:l}=W.useContext(Sr),h=l[l.length-1],d=h?h.params:{},p=h?h.pathname:"/",m=h?h.pathnameBase:"/",y=h&&h.route;{let T=y&&y.path||"";qb(p,!y||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let v=Hs(),b;if(e){let T=typeof e=="string"?oa(e):e;Ke(m==="/"||((i=T.pathname)==null?void 0:i.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${T.pathname}" was given in the \`location\` prop.`),b=T}else b=v;let x=b.pathname||"/",S=x;if(m!=="/"){let T=m.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(T.length).join("/")}let _=Ob(c,{pathname:S});Un(y||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Un(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=hk(_&&_.map(T=>Object.assign({},T,{params:Object.assign({},d,T.params),pathname:br([m,o.encodeLocation?o.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?m:br([m,o.encodeLocation?o.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),l,t,r);return e&&M?W.createElement(Fo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},M):M}function ok(){let c=gk(),e=K2(c)?`${c.status} ${c.statusText}`:c instanceof Error?c.message:JSON.stringify(c),t=c instanceof Error?c.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",c),l=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:i},t):null,l)}var lk=W.createElement(ok,null),uk=class extends W.Component{constructor(c){super(c),this.state={location:c.location,revalidation:c.revalidation,error:c.error}}static getDerivedStateFromError(c){return{error:c}}static getDerivedStateFromProps(c,e){return e.location!==c.location||e.revalidation!=="idle"&&c.revalidation==="idle"?{error:c.error,location:c.location,revalidation:c.revalidation}:{error:c.error!==void 0?c.error:e.error,location:e.location,revalidation:c.revalidation||e.revalidation}}componentDidCatch(c,e){console.error("React Router caught the following error during render",c,e)}render(){return this.state.error!==void 0?W.createElement(Sr.Provider,{value:this.props.routeContext},W.createElement(gf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ck({routeContext:c,match:e,children:t}){let r=W.useContext(la);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(Sr.Provider,{value:c},t)}function hk(c,e=[],t=null,r=null){if(c==null){if(!t)return null;if(t.errors)c=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)c=t.matches;else return null}let i=c,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);Ke(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,h=-1;if(t)for(let d=0;d<i.length;d++){let p=i[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:m,errors:y}=t,v=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||v){l=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}return i.reduceRight((d,p,m)=>{let y,v=!1,b=null,x=null;t&&(y=o&&p.route.id?o[p.route.id]:void 0,b=p.route.errorElement||lk,l&&(h<0&&m===0?(qb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):h===m&&(v=!0,x=p.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,m+1)),_=()=>{let M;return y?M=b:v?M=x:p.route.Component?M=W.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=d,W.createElement(ck,{match:p,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:M})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?W.createElement(uk,{location:t.location,revalidation:t.revalidation,component:b,error:y,children:_(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):_()},null)}function yf(c){return`${c} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dk(c){let e=W.useContext(la);return Ke(e,yf(c)),e}function pk(c){let e=W.useContext(gc);return Ke(e,yf(c)),e}function fk(c){let e=W.useContext(Sr);return Ke(e,yf(c)),e}function vf(c){let e=fk(c),t=e.matches[e.matches.length-1];return Ke(t.route.id,`${c} can only be used on routes that contain a unique "id"`),t.route.id}function mk(){return vf("useRouteId")}function gk(){var c;let e=W.useContext(gf),t=pk("useRouteError"),r=vf("useRouteError");return e!==void 0?e:(c=t.errors)==null?void 0:c[r]}function yk(){let{router:c}=dk("useNavigate"),e=vf("useNavigate"),t=W.useRef(!1);return Wb(()=>{t.current=!0}),W.useCallback(async(r,i={})=>{Un(t.current,Hb),t.current&&(typeof r=="number"?c.navigate(r):await c.navigate(r,{fromRouteId:e,...i}))},[c,e])}var Zv={};function qb(c,e,t){!e&&!Zv[c]&&(Zv[c]=!0,Un(!1,t))}W.memo(vk);function vk({routes:c,future:e,state:t}){return Ub(c,void 0,t,e)}function Rs(c){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bk({basename:c="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){Ke(!jo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=c.replace(/^\/*/,"/"),h=W.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=oa(t));let{pathname:d="/",search:p="",hash:m="",state:y=null,key:v="default"}=t,b=W.useMemo(()=>{let x=xr(d,l);return x==null?null:{location:{pathname:x,search:p,hash:m,state:y,key:v},navigationType:r}},[l,d,p,m,y,v,r]);return Un(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:W.createElement(Jn.Provider,{value:h},W.createElement(Fo.Provider,{children:e,value:b}))}function xk({children:c,location:e}){return ak(Cp(c),e)}function Cp(c,e=[]){let t=[];return W.Children.forEach(c,(r,i)=>{if(!W.isValidElement(r))return;let o=[...e,i];if(r.type===W.Fragment){t.push.apply(t,Cp(r.props.children,o));return}Ke(r.type===Rs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Cp(r.props.children,o)),t.push(l)}),t}var Xu="get",Ju="application/x-www-form-urlencoded";function yc(c){return c!=null&&typeof c.tagName=="string"}function wk(c){return yc(c)&&c.tagName.toLowerCase()==="button"}function Sk(c){return yc(c)&&c.tagName.toLowerCase()==="form"}function Mk(c){return yc(c)&&c.tagName.toLowerCase()==="input"}function _k(c){return!!(c.metaKey||c.altKey||c.ctrlKey||c.shiftKey)}function kk(c,e){return c.button===0&&(!e||e==="_self")&&!_k(c)}var qu=null;function Tk(){if(qu===null)try{new FormData(document.createElement("form"),0),qu=!1}catch{qu=!0}return qu}var zk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mp(c){return c!=null&&!zk.has(c)?(Un(!1,`"${c}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ju}"`),null):c}function Ck(c,e){let t,r,i,o,l;if(Sk(c)){let h=c.getAttribute("action");r=h?xr(h,e):null,t=c.getAttribute("method")||Xu,i=mp(c.getAttribute("enctype"))||Ju,o=new FormData(c)}else if(wk(c)||Mk(c)&&(c.type==="submit"||c.type==="image")){let h=c.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=c.getAttribute("formaction")||h.getAttribute("action");if(r=d?xr(d,e):null,t=c.getAttribute("formmethod")||h.getAttribute("method")||Xu,i=mp(c.getAttribute("formenctype"))||mp(h.getAttribute("enctype"))||Ju,o=new FormData(h,c),!Tk()){let{name:p,type:m,value:y}=c;if(m==="image"){let v=p?`${p}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else p&&o.append(p,y)}}else{if(yc(c))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Xu,r=null,i=Ju,l=c}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}function bf(c,e){if(c===!1||c===null||typeof c>"u")throw new Error(e)}async function Ak(c,e){if(c.id in e)return e[c.id];try{let t=await import(c.module);return e[c.id]=t,t}catch(t){return console.error(`Error loading route module \`${c.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ek(c){return c==null?!1:c.href==null?c.rel==="preload"&&typeof c.imageSrcSet=="string"&&typeof c.imageSizes=="string":typeof c.rel=="string"&&typeof c.href=="string"}async function Ik(c,e,t){let r=await Promise.all(c.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await Ak(o,t);return l.links?l.links():[]}return[]}));return Ok(r.flat(1).filter(Ek).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Kv(c,e,t,r,i,o){let l=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,h=(d,p)=>{var m;return t[p].pathname!==d.pathname||((m=t[p].route.path)==null?void 0:m.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,p)=>l(d,p)||h(d,p)):o==="data"?e.filter((d,p)=>{var m;let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(l(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(c,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Pk(c,e,{includeHydrateFallback:t}={}){return Rk(c.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function Rk(c){return[...new Set(c)]}function Lk(c){let e={},t=Object.keys(c).sort();for(let r of t)e[r]=c[r];return e}function Ok(c,e){let t=new Set;return new Set(e),c.reduce((r,i)=>{let o=JSON.stringify(Lk(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Bk=new Set([100,101,204,205]);function Nk(c,e){let t=typeof c=="string"?new URL(c,typeof window>"u"?"server://singlefetch/":window.location.origin):c;return t.pathname==="/"?t.pathname="_root.data":e&&xr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Xb(){let c=W.useContext(la);return bf(c,"You must render this element inside a <DataRouterContext.Provider> element"),c}function Dk(){let c=W.useContext(gc);return bf(c,"You must render this element inside a <DataRouterStateContext.Provider> element"),c}var xf=W.createContext(void 0);xf.displayName="FrameworkContext";function Jb(){let c=W.useContext(xf);return bf(c,"You must render this element inside a <HydratedRouter> element"),c}function Fk(c,e){let t=W.useContext(xf),[r,i]=W.useState(!1),[o,l]=W.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:m,onTouchStart:y}=e,v=W.useRef(null);W.useEffect(()=>{if(c==="render"&&l(!0),c==="viewport"){let S=M=>{M.forEach(T=>{l(T.isIntersecting)})},_=new IntersectionObserver(S,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[c]),W.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let b=()=>{i(!0)},x=()=>{i(!1),l(!1)};return t?c!=="intent"?[o,v,{}]:[o,v,{onFocus:Mo(h,b),onBlur:Mo(d,x),onMouseEnter:Mo(p,b),onMouseLeave:Mo(m,x),onTouchStart:Mo(y,b)}]:[!1,v,{}]}function Mo(c,e){return t=>{c&&c(t),t.defaultPrevented||e(t)}}function jk({page:c,...e}){let{router:t}=Xb(),r=W.useMemo(()=>Ob(t.routes,c,t.basename),[t.routes,c,t.basename]);return r?W.createElement(Hk,{page:c,matches:r,...e}):null}function Vk(c){let{manifest:e,routeModules:t}=Jb(),[r,i]=W.useState([]);return W.useEffect(()=>{let o=!1;return Ik(c,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[c,e,t]),r}function Hk({page:c,matches:e,...t}){let r=Hs(),{manifest:i,routeModules:o}=Jb(),{basename:l}=Xb(),{loaderData:h,matches:d}=Dk(),p=W.useMemo(()=>Kv(c,e,d,i,r,"data"),[c,e,d,i,r]),m=W.useMemo(()=>Kv(c,e,d,i,r,"assets"),[c,e,d,i,r]),y=W.useMemo(()=>{if(c===r.pathname+r.search+r.hash)return[];let x=new Set,S=!1;if(e.forEach(M=>{var T;let z=i.routes[M.route.id];!z||!z.hasLoader||(!p.some(C=>C.route.id===M.route.id)&&M.route.id in h&&(T=o[M.route.id])!=null&&T.shouldRevalidate||z.hasClientLoader?S=!0:x.add(M.route.id))}),x.size===0)return[];let _=Nk(c,l);return S&&x.size>0&&_.searchParams.set("_routes",e.filter(M=>x.has(M.route.id)).map(M=>M.route.id).join(",")),[_.pathname+_.search]},[l,h,r,i,p,e,c,o]),v=W.useMemo(()=>Pk(m,i),[m,i]),b=Vk(m);return W.createElement(W.Fragment,null,y.map(x=>W.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),v.map(x=>W.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),b.map(({key:x,link:S})=>W.createElement("link",{key:x,...S})))}function Wk(...c){return e=>{c.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var $b=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$b&&(window.__reactRouterVersion="7.6.1")}catch{}function Uk({basename:c,children:e,window:t}){let r=W.useRef();r.current==null&&(r.current=E2({window:t,v5Compat:!0}));let i=r.current,[o,l]=W.useState({action:i.action,location:i.location}),h=W.useCallback(d=>{W.startTransition(()=>l(d))},[l]);return W.useLayoutEffect(()=>i.listen(h),[i,h]),W.createElement(bk,{basename:c,children:e,location:o.location,navigationType:o.action,navigator:i})}var Gb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yb=W.forwardRef(function({onClick:c,discover:e="render",prefetch:t="none",relative:r,reloadDocument:i,replace:o,state:l,target:h,to:d,preventScrollReset:p,viewTransition:m,...y},v){let{basename:b}=W.useContext(Jn),x=typeof d=="string"&&Gb.test(d),S,_=!1;if(typeof d=="string"&&x&&(S=d,$b))try{let D=new URL(window.location.href),J=d.startsWith("//")?new URL(D.protocol+d):new URL(d),G=xr(J.pathname,b);J.origin===D.origin&&G!=null?d=G+J.search+J.hash:_=!0}catch{Un(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=rk(d,{relative:r}),[T,z,C]=Fk(t,y),R=$k(d,{replace:o,state:l,target:h,preventScrollReset:p,relative:r,viewTransition:m});function N(D){c&&c(D),D.defaultPrevented||R(D)}let H=W.createElement("a",{...y,...C,href:S||M,onClick:_||i?c:N,ref:Wk(v,z),target:h,"data-discover":!x&&e==="render"?"true":void 0});return T&&!x?W.createElement(W.Fragment,null,H,W.createElement(jk,{page:M})):H});Yb.displayName="Link";var qk=W.forwardRef(function({"aria-current":c="page",caseSensitive:e=!1,className:t="",end:r=!1,style:i,to:o,viewTransition:l,children:h,...d},p){let m=Vo(o,{relative:d.relative}),y=Hs(),v=W.useContext(gc),{navigator:b,basename:x}=W.useContext(Jn),S=v!=null&&Kk(m)&&l===!0,_=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,M=y.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(M=M.toLowerCase(),T=T?T.toLowerCase():null,_=_.toLowerCase()),T&&x&&(T=xr(T,x)||T);const z=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let C=M===_||!r&&M.startsWith(_)&&M.charAt(z)==="/",R=T!=null&&(T===_||!r&&T.startsWith(_)&&T.charAt(_.length)==="/"),N={isActive:C,isPending:R,isTransitioning:S},H=C?c:void 0,D;typeof t=="function"?D=t(N):D=[t,C?"active":null,R?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let J=typeof i=="function"?i(N):i;return W.createElement(Yb,{...d,"aria-current":H,className:D,ref:p,style:J,to:o,viewTransition:l},typeof h=="function"?h(N):h)});qk.displayName="NavLink";var Xk=W.forwardRef(({discover:c="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=Xu,action:h,onSubmit:d,relative:p,preventScrollReset:m,viewTransition:y,...v},b)=>{let x=Qk(),S=Zk(h,{relative:p}),_=l.toLowerCase()==="get"?"get":"post",M=typeof h=="string"&&Gb.test(h),T=z=>{if(d&&d(z),z.defaultPrevented)return;z.preventDefault();let C=z.nativeEvent.submitter,R=(C==null?void 0:C.getAttribute("formmethod"))||l;x(C||z.currentTarget,{fetcherKey:e,method:R,navigate:t,replace:i,state:o,relative:p,preventScrollReset:m,viewTransition:y})};return W.createElement("form",{ref:b,method:_,action:S,onSubmit:r?d:T,...v,"data-discover":!M&&c==="render"?"true":void 0})});Xk.displayName="Form";function Jk(c){return`${c} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qb(c){let e=W.useContext(la);return Ke(e,Jk(c)),e}function $k(c,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let h=sk(),d=Hs(),p=Vo(c,{relative:o});return W.useCallback(m=>{if(kk(m,e)){m.preventDefault();let y=t!==void 0?t:No(d)===No(p);h(c,{replace:y,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[d,h,p,t,r,e,c,i,o,l])}var Gk=0,Yk=()=>`__${String(++Gk)}__`;function Qk(){let{router:c}=Qb("useSubmit"),{basename:e}=W.useContext(Jn),t=mk();return W.useCallback(async(r,i={})=>{let{action:o,method:l,encType:h,formData:d,body:p}=Ck(r,e);if(i.navigate===!1){let m=i.fetcherKey||Yk();await c.fetch(m,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:p,formMethod:i.method||l,formEncType:i.encType||h,flushSync:i.flushSync})}else await c.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:p,formMethod:i.method||l,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[c,e,t])}function Zk(c,{relative:e}={}){let{basename:t}=W.useContext(Jn),r=W.useContext(Sr);Ke(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Vo(c||".",{relative:e})},l=Hs();if(c==null){o.search=l.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(p=>p==="")){h.delete("index"),d.filter(m=>m).forEach(m=>h.append("index",m));let p=h.toString();o.search=p?`?${p}`:""}}return(!c||c===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:br([t,o.pathname])),No(o)}function Kk(c,e={}){let t=W.useContext(Vb);Ke(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Qb("useViewTransitionState"),i=Vo(c,{relative:e.relative});if(!t.isTransitioning)return!1;let o=xr(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=xr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return ac(i.pathname,l)!=null||ac(i.pathname,o)!=null}[...Bk];const eT=W.createContext(),tT=({children:c})=>{const[e,t]=W.useState("en");W.useEffect(()=>{const i=navigator.language.slice(0,2);["es","en"].includes(i)&&t(i)},[]);const r=i=>{t(i)};return $e.jsx(eT.Provider,{value:{idioma:e,cambiarIdioma:r},children:c})},nT=()=>{const{progress:c}=Lb(),[e,t]=W.useState(!0);return W.useEffect(()=>{c>=100&&setTimeout(()=>t(!1),500)},[c]),e?$e.jsxs("div",{className:`pantalla-carga ${c>=100?"fade-out":""}`,children:[$e.jsxs("div",{className:"carga-contenedor",children:[$e.jsx("div",{className:"spinner"}),$e.jsx("p",{children:"Cargando..."})]}),$e.jsx("div",{className:"barra-progreso",children:$e.jsx("div",{className:"barra-progreso-inner",style:{width:`${c}%`}})})]}):null},rT=W.lazy(()=>na(()=>ta(()=>import("./RutaPrincipal-Bq2aptRT-DTltwZHV.js"),__vite__mapDeps([0,1,2])).then(c=>c.R),Fs([0,1,2,3,4,5]))),sT=W.lazy(()=>na(()=>ta(()=>import("./RutaGaleria-DBNweeWk-i9hANpid.js"),__vite__mapDeps([3,1,2])),Fs([6,1,2,3,4,7]))),iT=W.lazy(()=>na(()=>ta(()=>import("./RutaPrivacidad-Bef9SSgP-BP2xXnTu.js"),__vite__mapDeps([4,1,5])),Fs([8,1,2,9,10]))),aT=W.lazy(()=>na(()=>ta(()=>import("./RutaCookies-BXGI4ksc-CbfThwsS.js"),__vite__mapDeps([6,1])),Fs([11,1,2]))),oT=W.lazy(()=>na(()=>ta(()=>import("./RutaAvisosLegales-yMytLAYF-zOLIQJ9i.js"),__vite__mapDeps([7,5,1])),Fs([12,9,10,1,2]))),lT=W.lazy(()=>na(()=>ta(()=>import("./Admin-DjU9vF7V-CcEjkFDu.js"),[]),Fs([13,14]))),uT=()=>{const[c,e]=W.useState(!0),{progress:t}=Lb();return W.useEffect(()=>{t===100&&setTimeout(()=>e(!1),0)},[t]),$e.jsx(tT,{children:$e.jsx(Uk,{children:$e.jsx(W.Suspense,{fallback:$e.jsx(nT,{}),children:$e.jsxs(xk,{children:[$e.jsx(Rs,{path:"/",element:$e.jsx(rT,{cargando:c})}),$e.jsx(Rs,{path:"/Privacidad",element:$e.jsx(iT,{})}),$e.jsx(Rs,{path:"/Galeria",element:$e.jsx(sT,{})}),$e.jsx(Rs,{path:"/Cookies",element:$e.jsx(aT,{})}),$e.jsx(Rs,{path:"/AvisosLegales",element:$e.jsx(oT,{})}),$e.jsx(Rs,{path:"/Dashboard",element:$e.jsx(lT,{})})]})})})})};_w.createRoot(document.getElementById("root")).render($e.jsx(W.StrictMode,{children:$e.jsx(uT,{})}));export{Zi as $,r3 as A,oc as B,A as C,Rp as D,tb as E,yp as F,$3 as G,Dp as H,i3 as I,Xp as J,rz as K,VM as L,wn as M,a3 as N,s3 as O,W as P,nT as Q,R0 as R,Sn as S,Ab as T,jw as U,Vn as V,KT as W,lb as X,Io as Y,$e as Z,ta as _,_w as a,Fw as a$,k2 as a0,n2 as a1,ns as a2,B3 as a3,b3 as a4,Xw as a5,P0 as a6,hz as a7,Lp as a8,Po as a9,In as aA,Fz as aB,Dz as aC,jz as aD,Bz as aE,Nz as aF,Oz as aG,Vz as aH,Lz as aI,qn as aJ,E_ as aK,gz as aL,I_ as aM,Fp as aN,ze as aO,Ze as aP,Pn as aQ,zw as aR,Dw as aS,Vw as aT,Hw as aU,dt as aV,rf as aW,Ap as aX,Ww as aY,Bw as aZ,Nw as a_,ib as aa,E0 as ab,CT as ac,zT as ad,z0 as ae,WT as af,HT as ag,VT as ah,jT as ai,BT as aj,DT as ak,A0 as al,LT as am,OT as an,NT as ao,FT as ap,C0 as aq,RT as ar,PT as as,IT as at,bp as au,jn as av,vp as aw,Ow as ax,Lw as ay,Rw as az,gp as b,bz as b$,Uw as b0,qw as b1,nb as b2,rb as b3,Jw as b4,$w as b5,Gw as b6,Yw as b7,Qw as b8,Zw as b9,_S as bA,kS as bB,TS as bC,zS as bD,YT as bE,GT as bF,$T as bG,JT as bH,XT as bI,qT as bJ,UT as bK,fT as bL,mT as bM,gT as bN,T0 as bO,TT as bP,kT as bQ,_T as bR,MT as bS,Ew as bT,Iw as bU,v3 as bV,ab as bW,y3 as bX,fM as bY,Pw as bZ,ra as b_,Kw as ba,Rd as bb,eS as bc,tS as bd,nS as be,rS as bf,sS as bg,iS as bh,aS as bi,oS as bj,lS as bk,uS as bl,cS as bm,hS as bn,dS as bo,pS as bp,fS as bq,mS as br,gS as bs,yS as bt,vS as bu,bS as bv,xS as bw,wS as bx,SS as by,MS as bz,un as c,Z3 as c$,g3 as c0,lc as c1,uc as c2,Wn as c3,M2 as c4,L0 as c5,Pp as c6,Aw as c7,sa as c8,hM as c9,rc as cA,U3 as cB,Ib as cC,d3 as cD,h3 as cE,Ip as cF,cf as cG,pz as cH,fz as cI,mz as cJ,on as cK,uf as cL,lf as cM,Zz as cN,pC as cO,I3 as cP,of as cQ,aa as cR,Xz as cS,Wz as cT,Gz as cU,O3 as cV,Uz as cW,Yu as cX,Jz as cY,cb as cZ,wM as c_,cM as ca,$S as cb,Qz as cc,sz as cd,az as ce,iz as cf,nz as cg,tz as ch,ez as ci,Vp as cj,ob as ck,ZT as cl,QT as cm,Ep as cn,AT as co,ET as cp,xz as cq,$i as cr,Ji as cs,Gu as ct,S_ as cu,Qu as cv,o3 as cw,l3 as cx,jM as cy,x3 as cz,xT as d,Cb as d$,U_ as d0,vb as d1,Q_ as d2,pc as d3,Et as d4,Ls as d5,_M as d6,K3 as d7,qp as d8,Hn as d9,eC as dA,X_ as dB,lC as dC,Sp as dD,dc as dE,P3 as dF,Ne as dG,nc as dH,Pz as dI,Op as dJ,zz as dK,oz as dL,lz as dM,z_ as dN,Mb as dO,k_ as dP,T_ as dQ,C_ as dR,P_ as dS,A_ as dT,Pb as dU,t3 as dV,pf as dW,Dt as dX,AS as dY,ES as dZ,CS as d_,hC as da,af as db,Qi as dc,M_ as dd,sf as de,wz as df,W3 as dg,H3 as dh,Np as di,Y_ as dj,__ as dk,vz as dl,dz as dm,yz as dn,D_ as dp,mc as dq,yb as dr,gb as ds,a2 as dt,Be as du,D3 as dv,js as dw,rC as dx,pb as dy,FM as dz,vT as e,Hz as e$,Cv as e0,cn as e1,uz as e2,cz as e3,Tb as e4,wr as e5,DM as e6,R_ as e7,KM as e8,mb as e9,Ro as eA,_z as eB,Sz as eC,QS as eD,ic as eE,R3 as eF,tf as eG,tC as eH,H_ as eI,ko as eJ,nC as eK,Iz as eL,Rz as eM,Yz as eN,X3 as eO,Jp as eP,w3 as eQ,Hp as eR,Wp as eS,oe as eT,m3 as eU,ts as eV,ef as eW,Az as eX,Zp as eY,HM as eZ,qz as e_,Jt as ea,Q3 as eb,Ns as ec,Z_ as ed,Vs as ee,Cz as ef,Ez as eg,nf as eh,SM as ei,Rn as ej,Ci as ek,Tz as el,Kz as em,e3 as en,Pd as eo,xp as ep,$u as eq,fc as er,Ki as es,Up as et,c3 as eu,f3 as ev,p3 as ew,zM as ex,q3 as ey,K_ as ez,an as f,sb as f$,$z as f0,Qp as f1,N_ as f2,sC as f3,$_ as f4,Cw as f5,k3 as f6,zo as f7,kz as f8,Mz as f9,es as fA,e2 as fB,aC as fC,oC as fD,Nt as fE,Y3 as fF,ia as fG,db as fH,NM as fI,IS as fJ,cC as fK,L3 as fL,N3 as fM,Eb as fN,F3 as fO,s2 as fP,I0 as fQ,uC as fR,WM as fS,T3 as fT,j3 as fU,V3 as fV,z3 as fW,sc as fX,g2 as fY,G_ as fZ,O0 as f_,u3 as fa,E3 as fb,vr as fc,G3 as fd,cc as fe,e_ as ff,Xn as fg,yT as fh,B_ as fi,ZM as fj,fb as fk,A3 as fl,vM as fm,dC as fn,hc as fo,C3 as fp,$p as fq,M3 as fr,S3 as fs,zb as ft,Yp as fu,UM as fv,Gp as fw,_3 as fx,iC as fy,jp as fz,ST as g,Zu as g0,eT as g1,cT as g2,Do as h,na as i,Y as j,Xi as k,dT as l,xM as m,ww as n,pT as o,bT as p,J3 as q,hT as r,n3 as s,vt as t,fw as u,xn as v,be as w,Se as x,wT as y,eb as z};
