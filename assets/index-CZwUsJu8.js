const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/RutaPrincipal-Bq2aptRT.js","assets/RutaPrincipal-BNL2tyW5.js","assets/RutaPrincipal-Dx12AUPm.css","assets/infoNuestrosTrabajos-oMYqesbl.js","assets/infoNuestrosTrabajos-BMD19QWe.css","assets/RutaPrincipal-B-p4PSoI.css","assets/RutaGaleria-DBNweeWk.js","assets/RutaGaleria-C7MitIqe.css","assets/RutaPrivacidad-Bef9SSgP.js","assets/Enlaces-BAchbKQX.js","assets/Enlaces-a5_1FaFr.css","assets/RutaCookies-BXGI4ksc.js","assets/RutaAvisosLegales-yMytLAYF.js","assets/Admin-DjU9vF7V.js","assets/Admin-B2Fu8fAo.css"])))=>i.map(i=>d[i]);
function oM(h,t){for(var e=0;e<t.length;e++){const n=t[e];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in h)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(h,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();var aT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uM(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var Cf={exports:{}},al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg;function cM(){if(fg)return al;fg=1;var h=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,a,l){var o=null;if(l!==void 0&&(o=""+l),a.key!==void 0&&(o=""+a.key),"key"in a){l={};for(var c in a)c!=="key"&&(l[c]=a[c])}else l=a;return a=l.ref,{$$typeof:h,type:n,key:o,ref:a!==void 0?a:null,props:l}}return al.Fragment=t,al.jsx=e,al.jsxs=e,al}var dg;function hM(){return dg||(dg=1,Cf.exports=cM()),Cf.exports}var Zt=hM(),Rf={exports:{}},_t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg;function fM(){if(pg)return _t;pg=1;var h=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function x(B){return B===null||typeof B!="object"?null:(B=g&&B[g]||B["@@iterator"],typeof B=="function"?B:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,S={};function _(B,G,$){this.props=B,this.context=G,this.refs=S,this.updater=$||b}_.prototype.isReactComponent={},_.prototype.setState=function(B,G){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,G,"setState")},_.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function w(){}w.prototype=_.prototype;function T(B,G,$){this.props=B,this.context=G,this.refs=S,this.updater=$||b}var z=T.prototype=new w;z.constructor=T,v(z,_.prototype),z.isPureReactComponent=!0;var E=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function H(B,G,$,K,ut,zt){return $=zt.ref,{$$typeof:h,type:B,key:G,ref:$!==void 0?$:null,props:zt}}function k(B,G){return H(B.type,G,void 0,void 0,void 0,B.props)}function X(B){return typeof B=="object"&&B!==null&&B.$$typeof===h}function J(B){var G={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function($){return G[$]})}var et=/\/+/g;function ot(B,G){return typeof B=="object"&&B!==null&&B.key!=null?J(""+B.key):G.toString(36)}function gt(){}function Bt(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(gt,gt):(B.status="pending",B.then(function(G){B.status==="pending"&&(B.status="fulfilled",B.value=G)},function(G){B.status==="pending"&&(B.status="rejected",B.reason=G)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function xt(B,G,$,K,ut){var zt=typeof B;(zt==="undefined"||zt==="boolean")&&(B=null);var yt=!1;if(B===null)yt=!0;else switch(zt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(B.$$typeof){case h:case t:yt=!0;break;case m:return yt=B._init,xt(yt(B._payload),G,$,K,ut)}}if(yt)return ut=ut(B),yt=K===""?"."+ot(B,0):K,E(ut)?($="",yt!=null&&($=yt.replace(et,"$&/")+"/"),xt(ut,G,$,"",function(pe){return pe})):ut!=null&&(X(ut)&&(ut=k(ut,$+(ut.key==null||B&&B.key===ut.key?"":(""+ut.key).replace(et,"$&/")+"/")+yt)),G.push(ut)),1;yt=0;var De=K===""?".":K+":";if(E(B))for(var Pt=0;Pt<B.length;Pt++)K=B[Pt],zt=De+ot(K,Pt),yt+=xt(K,G,$,zt,ut);else if(Pt=x(B),typeof Pt=="function")for(B=Pt.call(B),Pt=0;!(K=B.next()).done;)K=K.value,zt=De+ot(K,Pt++),yt+=xt(K,G,$,zt,ut);else if(zt==="object"){if(typeof B.then=="function")return xt(Bt(B),G,$,K,ut);throw G=String(B),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return yt}function q(B,G,$){if(B==null)return B;var K=[],ut=0;return xt(B,K,"","",function(zt){return G.call($,zt,ut++)}),K}function Q(B){if(B._status===-1){var G=B._result;G=G(),G.then(function($){(B._status===0||B._status===-1)&&(B._status=1,B._result=$)},function($){(B._status===0||B._status===-1)&&(B._status=2,B._result=$)}),B._status===-1&&(B._status=0,B._result=G)}if(B._status===1)return B._result.default;throw B._result}var lt=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function dt(){}return _t.Children={map:q,forEach:function(B,G,$){q(B,function(){G.apply(this,arguments)},$)},count:function(B){var G=0;return q(B,function(){G++}),G},toArray:function(B){return q(B,function(G){return G})||[]},only:function(B){if(!X(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},_t.Component=_,_t.Fragment=e,_t.Profiler=a,_t.PureComponent=T,_t.StrictMode=n,_t.Suspense=f,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,_t.__COMPILER_RUNTIME={__proto__:null,c:function(B){return D.H.useMemoCache(B)}},_t.cache=function(B){return function(){return B.apply(null,arguments)}},_t.cloneElement=function(B,G,$){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var K=v({},B.props),ut=B.key,zt=void 0;if(G!=null)for(yt in G.ref!==void 0&&(zt=void 0),G.key!==void 0&&(ut=""+G.key),G)!I.call(G,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&G.ref===void 0||(K[yt]=G[yt]);var yt=arguments.length-2;if(yt===1)K.children=$;else if(1<yt){for(var De=Array(yt),Pt=0;Pt<yt;Pt++)De[Pt]=arguments[Pt+2];K.children=De}return H(B.type,ut,void 0,void 0,zt,K)},_t.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},_t.createElement=function(B,G,$){var K,ut={},zt=null;if(G!=null)for(K in G.key!==void 0&&(zt=""+G.key),G)I.call(G,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ut[K]=G[K]);var yt=arguments.length-2;if(yt===1)ut.children=$;else if(1<yt){for(var De=Array(yt),Pt=0;Pt<yt;Pt++)De[Pt]=arguments[Pt+2];ut.children=De}if(B&&B.defaultProps)for(K in yt=B.defaultProps,yt)ut[K]===void 0&&(ut[K]=yt[K]);return H(B,zt,void 0,void 0,null,ut)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(B){return{$$typeof:c,render:B}},_t.isValidElement=X,_t.lazy=function(B){return{$$typeof:m,_payload:{_status:-1,_result:B},_init:Q}},_t.memo=function(B,G){return{$$typeof:d,type:B,compare:G===void 0?null:G}},_t.startTransition=function(B){var G=D.T,$={};D.T=$;try{var K=B(),ut=D.S;ut!==null&&ut($,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(dt,lt)}catch(zt){lt(zt)}finally{D.T=G}},_t.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},_t.use=function(B){return D.H.use(B)},_t.useActionState=function(B,G,$){return D.H.useActionState(B,G,$)},_t.useCallback=function(B,G){return D.H.useCallback(B,G)},_t.useContext=function(B){return D.H.useContext(B)},_t.useDebugValue=function(){},_t.useDeferredValue=function(B,G){return D.H.useDeferredValue(B,G)},_t.useEffect=function(B,G,$){var K=D.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(B,G)},_t.useId=function(){return D.H.useId()},_t.useImperativeHandle=function(B,G,$){return D.H.useImperativeHandle(B,G,$)},_t.useInsertionEffect=function(B,G){return D.H.useInsertionEffect(B,G)},_t.useLayoutEffect=function(B,G){return D.H.useLayoutEffect(B,G)},_t.useMemo=function(B,G){return D.H.useMemo(B,G)},_t.useOptimistic=function(B,G){return D.H.useOptimistic(B,G)},_t.useReducer=function(B,G,$){return D.H.useReducer(B,G,$)},_t.useRef=function(B){return D.H.useRef(B)},_t.useState=function(B){return D.H.useState(B)},_t.useSyncExternalStore=function(B,G,$){return D.H.useSyncExternalStore(B,G,$)},_t.useTransition=function(){return D.H.useTransition()},_t.version="19.1.0",_t}var mg;function Od(){return mg||(mg=1,Rf.exports=fM()),Rf.exports}var P=Od();const bd=uM(P),rT=oM({__proto__:null,default:bd},[P]);var Bf={exports:{}},rl={},Of={exports:{}},Df={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg;function dM(){return yg||(yg=1,function(h){function t(q,Q){var lt=q.length;q.push(Q);t:for(;0<lt;){var dt=lt-1>>>1,B=q[dt];if(0<a(B,Q))q[dt]=Q,q[lt]=B,lt=dt;else break t}}function e(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var Q=q[0],lt=q.pop();if(lt!==Q){q[0]=lt;t:for(var dt=0,B=q.length,G=B>>>1;dt<G;){var $=2*(dt+1)-1,K=q[$],ut=$+1,zt=q[ut];if(0>a(K,lt))ut<B&&0>a(zt,K)?(q[dt]=zt,q[ut]=lt,dt=ut):(q[dt]=K,q[$]=lt,dt=$);else if(ut<B&&0>a(zt,lt))q[dt]=zt,q[ut]=lt,dt=ut;else break t}}return Q}function a(q,Q){var lt=q.sortIndex-Q.sortIndex;return lt!==0?lt:q.id-Q.id}if(h.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;h.unstable_now=function(){return l.now()}}else{var o=Date,c=o.now();h.unstable_now=function(){return o.now()-c}}var f=[],d=[],m=1,g=null,x=3,b=!1,v=!1,S=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function E(q){for(var Q=e(d);Q!==null;){if(Q.callback===null)n(d);else if(Q.startTime<=q)n(d),Q.sortIndex=Q.expirationTime,t(f,Q);else break;Q=e(d)}}function D(q){if(S=!1,E(q),!v)if(e(f)!==null)v=!0,I||(I=!0,ot());else{var Q=e(d);Q!==null&&xt(D,Q.startTime-q)}}var I=!1,H=-1,k=5,X=-1;function J(){return _?!0:!(h.unstable_now()-X<k)}function et(){if(_=!1,I){var q=h.unstable_now();X=q;var Q=!0;try{t:{v=!1,S&&(S=!1,T(H),H=-1),b=!0;var lt=x;try{e:{for(E(q),g=e(f);g!==null&&!(g.expirationTime>q&&J());){var dt=g.callback;if(typeof dt=="function"){g.callback=null,x=g.priorityLevel;var B=dt(g.expirationTime<=q);if(q=h.unstable_now(),typeof B=="function"){g.callback=B,E(q),Q=!0;break e}g===e(f)&&n(f),E(q)}else n(f);g=e(f)}if(g!==null)Q=!0;else{var G=e(d);G!==null&&xt(D,G.startTime-q),Q=!1}}break t}finally{g=null,x=lt,b=!1}Q=void 0}}finally{Q?ot():I=!1}}}var ot;if(typeof z=="function")ot=function(){z(et)};else if(typeof MessageChannel<"u"){var gt=new MessageChannel,Bt=gt.port2;gt.port1.onmessage=et,ot=function(){Bt.postMessage(null)}}else ot=function(){w(et,0)};function xt(q,Q){H=w(function(){q(h.unstable_now())},Q)}h.unstable_IdlePriority=5,h.unstable_ImmediatePriority=1,h.unstable_LowPriority=4,h.unstable_NormalPriority=3,h.unstable_Profiling=null,h.unstable_UserBlockingPriority=2,h.unstable_cancelCallback=function(q){q.callback=null},h.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<q?Math.floor(1e3/q):5},h.unstable_getCurrentPriorityLevel=function(){return x},h.unstable_next=function(q){switch(x){case 1:case 2:case 3:var Q=3;break;default:Q=x}var lt=x;x=Q;try{return q()}finally{x=lt}},h.unstable_requestPaint=function(){_=!0},h.unstable_runWithPriority=function(q,Q){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var lt=x;x=q;try{return Q()}finally{x=lt}},h.unstable_scheduleCallback=function(q,Q,lt){var dt=h.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?dt+lt:dt):lt=dt,q){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=lt+B,q={id:m++,callback:Q,priorityLevel:q,startTime:lt,expirationTime:B,sortIndex:-1},lt>dt?(q.sortIndex=lt,t(d,q),e(f)===null&&q===e(d)&&(S?(T(H),H=-1):S=!0,xt(D,lt-dt))):(q.sortIndex=B,t(f,q),v||b||(v=!0,I||(I=!0,ot()))),q},h.unstable_shouldYield=J,h.unstable_wrapCallback=function(q){var Q=x;return function(){var lt=x;x=Q;try{return q.apply(this,arguments)}finally{x=lt}}}}(Df)),Df}var gg;function pM(){return gg||(gg=1,Of.exports=dM()),Of.exports}var Nf={exports:{}},Ee={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg;function mM(){if(xg)return Ee;xg=1;var h=Od();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,d,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:d,implementation:m}}var o=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ee.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ee.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return l(f,d,null,m)},Ee.flushSync=function(f){var d=o.T,m=n.p;try{if(o.T=null,n.p=2,f)return f()}finally{o.T=d,n.p=m,n.d.f()}},Ee.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(f,d))},Ee.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},Ee.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,g=c(m,d.crossOrigin),x=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?n.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:b}):m==="script"&&n.d.X(f,{crossOrigin:g,integrity:x,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ee.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);n.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(f)},Ee.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,g=c(m,d.crossOrigin);n.d.L(f,m,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ee.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=c(d.as,d.crossOrigin);n.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(f)},Ee.requestFormReset=function(f){n.d.r(f)},Ee.unstable_batchedUpdates=function(f,d){return f(d)},Ee.useFormState=function(f,d,m){return o.H.useFormState(f,d,m)},Ee.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ee.version="19.1.0",Ee}var bg;function yM(){if(bg)return Nf.exports;bg=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(t){console.error(t)}}return h(),Nf.exports=mM(),Nf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function gM(){if(vg)return rl;vg=1;var h=pM(),t=Od(),e=yM();function n(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,r=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(r=s.return),i=s.return;while(i)}return s.tag===3?r:null}function o(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(l(i)!==i)throw Error(n(188))}function f(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(n(188));return s!==i?null:i}for(var r=i,u=s;;){var p=r.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){r=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===r)return c(p),i;if(y===u)return c(p),s;y=y.sibling}throw Error(n(188))}if(r.return!==u.return)r=p,u=y;else{for(var M=!1,A=p.child;A;){if(A===r){M=!0,r=p,u=y;break}if(A===u){M=!0,u=p,r=y;break}A=A.sibling}if(!M){for(A=y.child;A;){if(A===r){M=!0,r=y,u=p;break}if(A===u){M=!0,u=y,r=p;break}A=A.sibling}if(!M)throw Error(n(189))}}if(r.alternate!==u)throw Error(n(190))}if(r.tag!==3)throw Error(n(188));return r.stateNode.current===r?i:s}function d(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=d(i),s!==null)return s;i=i.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),z=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),et=Symbol.iterator;function ot(i){return i===null||typeof i!="object"?null:(i=et&&i[et]||i["@@iterator"],typeof i=="function"?i:null)}var gt=Symbol.for("react.client.reference");function Bt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===gt?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case v:return"Fragment";case _:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case I:return"SuspenseList";case X:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case z:return(i.displayName||"Context")+".Provider";case T:return(i._context.displayName||"Context")+".Consumer";case E:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case H:return s=i.displayName||null,s!==null?s:Bt(i.type)||"Memo";case k:s=i._payload,i=i._init;try{return Bt(i(s))}catch{}}return null}var xt=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},dt=[],B=-1;function G(i){return{current:i}}function $(i){0>B||(i.current=dt[B],dt[B]=null,B--)}function K(i,s){B++,dt[B]=i.current,i.current=s}var ut=G(null),zt=G(null),yt=G(null),De=G(null);function Pt(i,s){switch(K(yt,s),K(zt,i),K(ut,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?F0(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=F0(s),i=H0(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}$(ut),K(ut,i)}function pe(){$(ut),$(zt),$(yt)}function _n(i){i.memoizedState!==null&&K(De,i);var s=ut.current,r=H0(s,i.type);s!==r&&(K(zt,i),K(ut,r))}function Gs(i){zt.current===i&&($(ut),$(zt)),De.current===i&&($(De),tl._currentValue=lt)}var We=Object.prototype.hasOwnProperty,Je=h.unstable_scheduleCallback,tt=h.unstable_cancelCallback,it=h.unstable_shouldYield,nt=h.unstable_requestPaint,st=h.unstable_now,ct=h.unstable_getCurrentPriorityLevel,Ot=h.unstable_ImmediatePriority,Mt=h.unstable_UserBlockingPriority,kt=h.unstable_NormalPriority,Wt=h.unstable_LowPriority,te=h.unstable_IdlePriority,Ne=h.log,Wi=h.unstable_setDisableYieldValue,ce=null,_e=null;function wi(i){if(typeof Ne=="function"&&Wi(i),_e&&typeof _e.setStrictMode=="function")try{_e.setStrictMode(ce,i)}catch{}}var Ae=Math.clz32?Math.clz32:Fl,mc=Math.log,yc=Math.LN2;function Fl(i){return i>>>=0,i===0?32:31-(mc(i)/yc|0)|0}var ss=256,Hl=4194304;function as(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ql(i,s,r){var u=i.pendingLanes;if(u===0)return 0;var p=0,y=i.suspendedLanes,M=i.pingedLanes;i=i.warmLanes;var A=u&134217727;return A!==0?(u=A&~y,u!==0?p=as(u):(M&=A,M!==0?p=as(M):r||(r=A&~i,r!==0&&(p=as(r))))):(A=u&~y,A!==0?p=as(A):M!==0?p=as(M):r||(r=u&~i,r!==0&&(p=as(r)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,r=s&-s,y>=r||y===32&&(r&4194048)!==0)?s:p}function ur(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function J1(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wp(){var i=ss;return ss<<=1,(ss&4194048)===0&&(ss=256),i}function _p(){var i=Hl;return Hl<<=1,(Hl&62914560)===0&&(Hl=4194304),i}function gc(i){for(var s=[],r=0;31>r;r++)s.push(i);return s}function cr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function j1(i,s,r,u,p,y){var M=i.pendingLanes;i.pendingLanes=r,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=r,i.entangledLanes&=r,i.errorRecoveryDisabledLanes&=r,i.shellSuspendCounter=0;var A=i.entanglements,R=i.expirationTimes,L=i.hiddenUpdates;for(r=M&~r;0<r;){var Y=31-Ae(r),W=1<<Y;A[Y]=0,R[Y]=-1;var V=L[Y];if(V!==null)for(L[Y]=null,Y=0;Y<V.length;Y++){var F=V[Y];F!==null&&(F.lane&=-536870913)}r&=~W}u!==0&&Ap(i,u,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(M&~s))}function Ap(i,s,r){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Ae(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|r&4194090}function Tp(i,s){var r=i.entangledLanes|=s;for(i=i.entanglements;r;){var u=31-Ae(r),p=1<<u;p&s|i[u]&s&&(i[u]|=s),r&=~p}}function xc(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function bc(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function zp(){var i=Q.p;return i!==0?i:(i=window.event,i===void 0?32:rg(i.type))}function Q1(i,s){var r=Q.p;try{return Q.p=i,s()}finally{Q.p=r}}var An=Math.random().toString(36).slice(2),Te="__reactFiber$"+An,Fe="__reactProps$"+An,Ps="__reactContainer$"+An,vc="__reactEvents$"+An,K1="__reactListeners$"+An,$1="__reactHandles$"+An,Ep="__reactResources$"+An,hr="__reactMarker$"+An;function Mc(i){delete i[Te],delete i[Fe],delete i[vc],delete i[K1],delete i[$1]}function Ys(i){var s=i[Te];if(s)return s;for(var r=i.parentNode;r;){if(s=r[Ps]||r[Te]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(i=Y0(i);i!==null;){if(r=i[Te])return r;i=Y0(i)}return s}i=r,r=i.parentNode}return null}function Xs(i){if(i=i[Te]||i[Ps]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function fr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(n(33))}function Zs(i){var s=i[Ep];return s||(s=i[Ep]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function me(i){i[hr]=!0}var Cp=new Set,Rp={};function rs(i,s){Ws(i,s),Ws(i+"Capture",s)}function Ws(i,s){for(Rp[i]=s,i=0;i<s.length;i++)Cp.add(s[i])}var tb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bp={},Op={};function eb(i){return We.call(Op,i)?!0:We.call(Bp,i)?!1:tb.test(i)?Op[i]=!0:(Bp[i]=!0,!1)}function Gl(i,s,r){if(eb(s))if(r===null)i.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+r)}}function Pl(i,s,r){if(r===null)i.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+r)}}function Ji(i,s,r,u){if(u===null)i.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttributeNS(s,r,""+u)}}var Sc,Dp;function Js(i){if(Sc===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);Sc=s&&s[1]||"",Dp=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sc+i+Dp}var wc=!1;function _c(i,s){if(!i||wc)return"";wc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(F){var V=F}Reflect.construct(i,[],W)}else{try{W.call()}catch(F){V=F}i.call(W.prototype)}}else{try{throw Error()}catch(F){V=F}(W=i())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(F){if(F&&V&&typeof F.stack=="string")return[F.stack,V.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),M=y[0],A=y[1];if(M&&A){var R=M.split(`
`),L=A.split(`
`);for(p=u=0;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;for(;p<L.length&&!L[p].includes("DetermineComponentFrameRoot");)p++;if(u===R.length||p===L.length)for(u=R.length-1,p=L.length-1;1<=u&&0<=p&&R[u]!==L[p];)p--;for(;1<=u&&0<=p;u--,p--)if(R[u]!==L[p]){if(u!==1||p!==1)do if(u--,p--,0>p||R[u]!==L[p]){var Y=`
`+R[u].replace(" at new "," at ");return i.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",i.displayName)),Y}while(1<=u&&0<=p);break}}}finally{wc=!1,Error.prepareStackTrace=r}return(r=i?i.displayName||i.name:"")?Js(r):""}function ib(i){switch(i.tag){case 26:case 27:case 5:return Js(i.type);case 16:return Js("Lazy");case 13:return Js("Suspense");case 19:return Js("SuspenseList");case 0:case 15:return _c(i.type,!1);case 11:return _c(i.type.render,!1);case 1:return _c(i.type,!0);case 31:return Js("Activity");default:return""}}function Np(i){try{var s="";do s+=ib(i),i=i.return;while(i);return s}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ci(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Up(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function nb(i){var s=Up(i)?"checked":"value",r=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var p=r.get,y=r.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(M){u=""+M,y.call(this,M)}}),Object.defineProperty(i,s,{enumerable:r.enumerable}),{getValue:function(){return u},setValue:function(M){u=""+M},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Yl(i){i._valueTracker||(i._valueTracker=nb(i))}function Lp(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var r=s.getValue(),u="";return i&&(u=Up(i)?i.checked?"true":"false":i.value),i=u,i!==r?(s.setValue(i),!0):!1}function Xl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var sb=/[\n"\\]/g;function hi(i){return i.replace(sb,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ac(i,s,r,u,p,y,M,A){i.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.type=M:i.removeAttribute("type"),s!=null?M==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+ci(s)):i.value!==""+ci(s)&&(i.value=""+ci(s)):M!=="submit"&&M!=="reset"||i.removeAttribute("value"),s!=null?Tc(i,M,ci(s)):r!=null?Tc(i,M,ci(r)):u!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+ci(A):i.removeAttribute("name")}function Ip(i,s,r,u,p,y,M,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||r!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;r=r!=null?""+ci(r):"",s=s!=null?""+ci(s):r,A||s===i.value||(i.value=s),i.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=A?i.checked:!!u,i.defaultChecked=!!u,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(i.name=M)}function Tc(i,s,r){s==="number"&&Xl(i.ownerDocument)===i||i.defaultValue===""+r||(i.defaultValue=""+r)}function js(i,s,r,u){if(i=i.options,s){s={};for(var p=0;p<r.length;p++)s["$"+r[p]]=!0;for(r=0;r<i.length;r++)p=s.hasOwnProperty("$"+i[r].value),i[r].selected!==p&&(i[r].selected=p),p&&u&&(i[r].defaultSelected=!0)}else{for(r=""+ci(r),s=null,p=0;p<i.length;p++){if(i[p].value===r){i[p].selected=!0,u&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function kp(i,s,r){if(s!=null&&(s=""+ci(s),s!==i.value&&(i.value=s),r==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=r!=null?""+ci(r):""}function Vp(i,s,r,u){if(s==null){if(u!=null){if(r!=null)throw Error(n(92));if(xt(u)){if(1<u.length)throw Error(n(93));u=u[0]}r=u}r==null&&(r=""),s=r}r=ci(s),i.defaultValue=r,u=i.textContent,u===r&&u!==""&&u!==null&&(i.value=u)}function Qs(i,s){if(s){var r=i.firstChild;if(r&&r===i.lastChild&&r.nodeType===3){r.nodeValue=s;return}}i.textContent=s}var ab=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fp(i,s,r){var u=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,r):typeof r!="number"||r===0||ab.has(s)?s==="float"?i.cssFloat=r:i[s]=(""+r).trim():i[s]=r+"px"}function Hp(i,s,r){if(s!=null&&typeof s!="object")throw Error(n(62));if(i=i.style,r!=null){for(var u in r)!r.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&r[p]!==u&&Fp(i,p,u)}else for(var y in s)s.hasOwnProperty(y)&&Fp(i,y,s[y])}function zc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zl(i){return lb.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ec=null;function Cc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ks=null,$s=null;function qp(i){var s=Xs(i);if(s&&(i=s.stateNode)){var r=i[Fe]||null;t:switch(i=s.stateNode,s.type){case"input":if(Ac(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=i;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+hi(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var u=r[s];if(u!==i&&u.form===i.form){var p=u[Fe]||null;if(!p)throw Error(n(90));Ac(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<r.length;s++)u=r[s],u.form===i.form&&Lp(u)}break t;case"textarea":kp(i,r.value,r.defaultValue);break t;case"select":s=r.value,s!=null&&js(i,!!r.multiple,s,!1)}}}var Rc=!1;function Gp(i,s,r){if(Rc)return i(s,r);Rc=!0;try{var u=i(s);return u}finally{if(Rc=!1,(Ks!==null||$s!==null)&&(Do(),Ks&&(s=Ks,i=$s,$s=Ks=null,qp(s),i)))for(s=0;s<i.length;s++)qp(i[s])}}function dr(i,s){var r=i.stateNode;if(r===null)return null;var u=r[Fe]||null;if(u===null)return null;r=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(r&&typeof r!="function")throw Error(n(231,s,typeof r));return r}var ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bc=!1;if(ji)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){Bc=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{Bc=!1}var Tn=null,Oc=null,Wl=null;function Pp(){if(Wl)return Wl;var i,s=Oc,r=s.length,u,p="value"in Tn?Tn.value:Tn.textContent,y=p.length;for(i=0;i<r&&s[i]===p[i];i++);var M=r-i;for(u=1;u<=M&&s[r-u]===p[y-u];u++);return Wl=p.slice(i,1<u?1-u:void 0)}function Jl(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function jl(){return!0}function Yp(){return!1}function He(i){function s(r,u,p,y,M){this._reactName=r,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=M,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(r=i[A],this[A]=r?r(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?jl:Yp,this.isPropagationStopped=Yp,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),s}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ql=He(ls),mr=m({},ls,{view:0,detail:0}),ob=He(mr),Dc,Nc,yr,Kl=m({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yr&&(yr&&i.type==="mousemove"?(Dc=i.screenX-yr.screenX,Nc=i.screenY-yr.screenY):Nc=Dc=0,yr=i),Dc)},movementY:function(i){return"movementY"in i?i.movementY:Nc}}),Xp=He(Kl),ub=m({},Kl,{dataTransfer:0}),cb=He(ub),hb=m({},mr,{relatedTarget:0}),Uc=He(hb),fb=m({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),db=He(fb),pb=m({},ls,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),mb=He(pb),yb=m({},ls,{data:0}),Zp=He(yb),gb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vb(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=bb[i])?!!s[i]:!1}function Lc(){return vb}var Mb=m({},mr,{key:function(i){if(i.key){var s=gb[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Jl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?xb[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lc,charCode:function(i){return i.type==="keypress"?Jl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Jl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Sb=He(Mb),wb=m({},Kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wp=He(wb),_b=m({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lc}),Ab=He(_b),Tb=m({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),zb=He(Tb),Eb=m({},Kl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Cb=He(Eb),Rb=m({},ls,{newState:0,oldState:0}),Bb=He(Rb),Ob=[9,13,27,32],Ic=ji&&"CompositionEvent"in window,gr=null;ji&&"documentMode"in document&&(gr=document.documentMode);var Db=ji&&"TextEvent"in window&&!gr,Jp=ji&&(!Ic||gr&&8<gr&&11>=gr),jp=" ",Qp=!1;function Kp(i,s){switch(i){case"keyup":return Ob.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $p(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ta=!1;function Nb(i,s){switch(i){case"compositionend":return $p(s);case"keypress":return s.which!==32?null:(Qp=!0,jp);case"textInput":return i=s.data,i===jp&&Qp?null:i;default:return null}}function Ub(i,s){if(ta)return i==="compositionend"||!Ic&&Kp(i,s)?(i=Pp(),Wl=Oc=Tn=null,ta=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Jp&&s.locale!=="ko"?null:s.data;default:return null}}var Lb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Lb[i.type]:s==="textarea"}function em(i,s,r,u){Ks?$s?$s.push(u):$s=[u]:Ks=u,s=Vo(s,"onChange"),0<s.length&&(r=new Ql("onChange","change",null,r,u),i.push({event:r,listeners:s}))}var xr=null,br=null;function Ib(i){U0(i,0)}function $l(i){var s=fr(i);if(Lp(s))return i}function im(i,s){if(i==="change")return s}var nm=!1;if(ji){var kc;if(ji){var Vc="oninput"in document;if(!Vc){var sm=document.createElement("div");sm.setAttribute("oninput","return;"),Vc=typeof sm.oninput=="function"}kc=Vc}else kc=!1;nm=kc&&(!document.documentMode||9<document.documentMode)}function am(){xr&&(xr.detachEvent("onpropertychange",rm),br=xr=null)}function rm(i){if(i.propertyName==="value"&&$l(br)){var s=[];em(s,br,i,Cc(i)),Gp(Ib,s)}}function kb(i,s,r){i==="focusin"?(am(),xr=s,br=r,xr.attachEvent("onpropertychange",rm)):i==="focusout"&&am()}function Vb(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return $l(br)}function Fb(i,s){if(i==="click")return $l(s)}function Hb(i,s){if(i==="input"||i==="change")return $l(s)}function qb(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var je=typeof Object.is=="function"?Object.is:qb;function vr(i,s){if(je(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var r=Object.keys(i),u=Object.keys(s);if(r.length!==u.length)return!1;for(u=0;u<r.length;u++){var p=r[u];if(!We.call(s,p)||!je(i[p],s[p]))return!1}return!0}function lm(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function om(i,s){var r=lm(i);i=0;for(var u;r;){if(r.nodeType===3){if(u=i+r.textContent.length,i<=s&&u>=s)return{node:r,offset:s-i};i=u}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=lm(r)}}function um(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?um(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function cm(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Xl(i.document);s instanceof i.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)i=s.contentWindow;else break;s=Xl(i.document)}return s}function Fc(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Gb=ji&&"documentMode"in document&&11>=document.documentMode,ea=null,Hc=null,Mr=null,qc=!1;function hm(i,s,r){var u=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qc||ea==null||ea!==Xl(u)||(u=ea,"selectionStart"in u&&Fc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Mr&&vr(Mr,u)||(Mr=u,u=Vo(Hc,"onSelect"),0<u.length&&(s=new Ql("onSelect","select",null,s,r),i.push({event:s,listeners:u}),s.target=ea)))}function os(i,s){var r={};return r[i.toLowerCase()]=s.toLowerCase(),r["Webkit"+i]="webkit"+s,r["Moz"+i]="moz"+s,r}var ia={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionrun:os("Transition","TransitionRun"),transitionstart:os("Transition","TransitionStart"),transitioncancel:os("Transition","TransitionCancel"),transitionend:os("Transition","TransitionEnd")},Gc={},fm={};ji&&(fm=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function us(i){if(Gc[i])return Gc[i];if(!ia[i])return i;var s=ia[i],r;for(r in s)if(s.hasOwnProperty(r)&&r in fm)return Gc[i]=s[r];return i}var dm=us("animationend"),pm=us("animationiteration"),mm=us("animationstart"),Pb=us("transitionrun"),Yb=us("transitionstart"),Xb=us("transitioncancel"),ym=us("transitionend"),gm=new Map,Pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pc.push("scrollEnd");function _i(i,s){gm.set(i,s),rs(s,[i])}var xm=new WeakMap;function fi(i,s){if(typeof i=="object"&&i!==null){var r=xm.get(i);return r!==void 0?r:(s={value:i,source:s,stack:Np(s)},xm.set(i,s),s)}return{value:i,source:s,stack:Np(s)}}var di=[],na=0,Yc=0;function to(){for(var i=na,s=Yc=na=0;s<i;){var r=di[s];di[s++]=null;var u=di[s];di[s++]=null;var p=di[s];di[s++]=null;var y=di[s];if(di[s++]=null,u!==null&&p!==null){var M=u.pending;M===null?p.next=p:(p.next=M.next,M.next=p),u.pending=p}y!==0&&bm(r,p,y)}}function eo(i,s,r,u){di[na++]=i,di[na++]=s,di[na++]=r,di[na++]=u,Yc|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Xc(i,s,r,u){return eo(i,s,r,u),io(i)}function sa(i,s){return eo(i,null,null,s),io(i)}function bm(i,s,r){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r);for(var p=!1,y=i.return;y!==null;)y.childLanes|=r,u=y.alternate,u!==null&&(u.childLanes|=r),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&s!==null&&(p=31-Ae(r),i=y.hiddenUpdates,u=i[p],u===null?i[p]=[s]:u.push(s),s.lane=r|536870912),y):null}function io(i){if(50<Xr)throw Xr=0,Kh=null,Error(n(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var aa={};function Zb(i,s,r,u){this.tag=i,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qe(i,s,r,u){return new Zb(i,s,r,u)}function Zc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Qi(i,s){var r=i.alternate;return r===null?(r=Qe(i.tag,s,i.key,i.mode),r.elementType=i.elementType,r.type=i.type,r.stateNode=i.stateNode,r.alternate=i,i.alternate=r):(r.pendingProps=s,r.type=i.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=i.flags&65011712,r.childLanes=i.childLanes,r.lanes=i.lanes,r.child=i.child,r.memoizedProps=i.memoizedProps,r.memoizedState=i.memoizedState,r.updateQueue=i.updateQueue,s=i.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=i.sibling,r.index=i.index,r.ref=i.ref,r.refCleanup=i.refCleanup,r}function vm(i,s){i.flags&=65011714;var r=i.alternate;return r===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=r.childLanes,i.lanes=r.lanes,i.child=r.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=r.memoizedProps,i.memoizedState=r.memoizedState,i.updateQueue=r.updateQueue,i.type=r.type,s=r.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function no(i,s,r,u,p,y){var M=0;if(u=i,typeof i=="function")Zc(i)&&(M=1);else if(typeof i=="string")M=Jv(i,r,ut.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case X:return i=Qe(31,r,s,p),i.elementType=X,i.lanes=y,i;case v:return cs(r.children,p,y,s);case S:M=8,p|=24;break;case _:return i=Qe(12,r,s,p|2),i.elementType=_,i.lanes=y,i;case D:return i=Qe(13,r,s,p),i.elementType=D,i.lanes=y,i;case I:return i=Qe(19,r,s,p),i.elementType=I,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case w:case z:M=10;break t;case T:M=9;break t;case E:M=11;break t;case H:M=14;break t;case k:M=16,u=null;break t}M=29,r=Error(n(130,i===null?"null":typeof i,"")),u=null}return s=Qe(M,r,s,p),s.elementType=i,s.type=u,s.lanes=y,s}function cs(i,s,r,u){return i=Qe(7,i,u,s),i.lanes=r,i}function Wc(i,s,r){return i=Qe(6,i,null,s),i.lanes=r,i}function Jc(i,s,r){return s=Qe(4,i.children!==null?i.children:[],i.key,s),s.lanes=r,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var ra=[],la=0,so=null,ao=0,pi=[],mi=0,hs=null,Ki=1,$i="";function fs(i,s){ra[la++]=ao,ra[la++]=so,so=i,ao=s}function Mm(i,s,r){pi[mi++]=Ki,pi[mi++]=$i,pi[mi++]=hs,hs=i;var u=Ki;i=$i;var p=32-Ae(u)-1;u&=~(1<<p),r+=1;var y=32-Ae(s)+p;if(30<y){var M=p-p%5;y=(u&(1<<M)-1).toString(32),u>>=M,p-=M,Ki=1<<32-Ae(s)+p|r<<p|u,$i=y+i}else Ki=1<<y|r<<p|u,$i=i}function jc(i){i.return!==null&&(fs(i,1),Mm(i,1,0))}function Qc(i){for(;i===so;)so=ra[--la],ra[la]=null,ao=ra[--la],ra[la]=null;for(;i===hs;)hs=pi[--mi],pi[mi]=null,$i=pi[--mi],pi[mi]=null,Ki=pi[--mi],pi[mi]=null}var Ue=null,ee=null,It=!1,ds=null,Di=!1,Kc=Error(n(519));function ps(i){var s=Error(n(418,""));throw _r(fi(s,i)),Kc}function Sm(i){var s=i.stateNode,r=i.type,u=i.memoizedProps;switch(s[Te]=i,s[Fe]=u,r){case"dialog":Rt("cancel",s),Rt("close",s);break;case"iframe":case"object":case"embed":Rt("load",s);break;case"video":case"audio":for(r=0;r<Wr.length;r++)Rt(Wr[r],s);break;case"source":Rt("error",s);break;case"img":case"image":case"link":Rt("error",s),Rt("load",s);break;case"details":Rt("toggle",s);break;case"input":Rt("invalid",s),Ip(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Yl(s);break;case"select":Rt("invalid",s);break;case"textarea":Rt("invalid",s),Vp(s,u.value,u.defaultValue,u.children),Yl(s)}r=u.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||u.suppressHydrationWarning===!0||V0(s.textContent,r)?(u.popover!=null&&(Rt("beforetoggle",s),Rt("toggle",s)),u.onScroll!=null&&Rt("scroll",s),u.onScrollEnd!=null&&Rt("scrollend",s),u.onClick!=null&&(s.onclick=Fo),s=!0):s=!1,s||ps(i)}function wm(i){for(Ue=i.return;Ue;)switch(Ue.tag){case 5:case 13:Di=!1;return;case 27:case 3:Di=!0;return;default:Ue=Ue.return}}function Sr(i){if(i!==Ue)return!1;if(!It)return wm(i),It=!0,!1;var s=i.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=i.type,r=!(r!=="form"&&r!=="button")||mf(i.type,i.memoizedProps)),r=!r),r&&ee&&ps(i),wm(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(r=i.data,r==="/$"){if(s===0){ee=Ti(i.nextSibling);break t}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++;i=i.nextSibling}ee=null}}else s===27?(s=ee,qn(i.type)?(i=bf,bf=null,ee=i):ee=s):ee=Ue?Ti(i.stateNode.nextSibling):null;return!0}function wr(){ee=Ue=null,It=!1}function _m(){var i=ds;return i!==null&&(Pe===null?Pe=i:Pe.push.apply(Pe,i),ds=null),i}function _r(i){ds===null?ds=[i]:ds.push(i)}var $c=G(null),ms=null,tn=null;function zn(i,s,r){K($c,s._currentValue),s._currentValue=r}function en(i){i._currentValue=$c.current,$($c)}function th(i,s,r){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===r)break;i=i.return}}function eh(i,s,r,u){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var M=p.child;y=y.firstContext;t:for(;y!==null;){var A=y;y=p;for(var R=0;R<s.length;R++)if(A.context===s[R]){y.lanes|=r,A=y.alternate,A!==null&&(A.lanes|=r),th(y.return,r,i),u||(M=null);break t}y=A.next}}else if(p.tag===18){if(M=p.return,M===null)throw Error(n(341));M.lanes|=r,y=M.alternate,y!==null&&(y.lanes|=r),th(M,r,i),M=null}else M=p.child;if(M!==null)M.return=p;else for(M=p;M!==null;){if(M===i){M=null;break}if(p=M.sibling,p!==null){p.return=M.return,M=p;break}M=M.return}p=M}}function Ar(i,s,r,u){i=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var M=p.alternate;if(M===null)throw Error(n(387));if(M=M.memoizedProps,M!==null){var A=p.type;je(p.pendingProps.value,M.value)||(i!==null?i.push(A):i=[A])}}else if(p===De.current){if(M=p.alternate,M===null)throw Error(n(387));M.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(tl):i=[tl])}p=p.return}i!==null&&eh(s,i,r,u),s.flags|=262144}function ro(i){for(i=i.firstContext;i!==null;){if(!je(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ys(i){ms=i,tn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ze(i){return Am(ms,i)}function lo(i,s){return ms===null&&ys(i),Am(i,s)}function Am(i,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},tn===null){if(i===null)throw Error(n(308));tn=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else tn=tn.next=s;return r}var Wb=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(r,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(r){return r()})}},Jb=h.unstable_scheduleCallback,jb=h.unstable_NormalPriority,he={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ih(){return{controller:new Wb,data:new Map,refCount:0}}function Tr(i){i.refCount--,i.refCount===0&&Jb(jb,function(){i.controller.abort()})}var zr=null,nh=0,oa=0,ua=null;function Qb(i,s){if(zr===null){var r=zr=[];nh=0,oa=rf(),ua={status:"pending",value:void 0,then:function(u){r.push(u)}}}return nh++,s.then(Tm,Tm),s}function Tm(){if(--nh===0&&zr!==null){ua!==null&&(ua.status="fulfilled");var i=zr;zr=null,oa=0,ua=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Kb(i,s){var r=[],u={status:"pending",value:null,reason:null,then:function(p){r.push(p)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<r.length;p++)(0,r[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<r.length;p++)(0,r[p])(void 0)}),u}var zm=q.S;q.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Qb(i,s),zm!==null&&zm(i,s)};var gs=G(null);function sh(){var i=gs.current;return i!==null?i:Xt.pooledCache}function oo(i,s){s===null?K(gs,gs.current):K(gs,s.pool)}function Em(){var i=sh();return i===null?null:{parent:he._currentValue,pool:i}}var Er=Error(n(460)),Cm=Error(n(474)),uo=Error(n(542)),ah={then:function(){}};function Rm(i){return i=i.status,i==="fulfilled"||i==="rejected"}function co(){}function Bm(i,s,r){switch(r=i[r],r===void 0?i.push(s):r!==s&&(s.then(co,co),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Dm(i),i;default:if(typeof s.status=="string")s.then(co,co);else{if(i=Xt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Dm(i),i}throw Cr=s,Er}}var Cr=null;function Om(){if(Cr===null)throw Error(n(459));var i=Cr;return Cr=null,i}function Dm(i){if(i===Er||i===uo)throw Error(n(483))}var En=!1;function rh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Cn(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Rn(i,s,r){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Vt&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=io(i),bm(i,null,r),s}return eo(i,u,s,r),io(i)}function Rr(i,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,r|=u,s.lanes=r,Tp(i,r)}}function oh(i,s){var r=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,r===u)){var p=null,y=null;if(r=r.firstBaseUpdate,r!==null){do{var M={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};y===null?p=y=M:y=y.next=M,r=r.next}while(r!==null);y===null?p=y=s:y=y.next=s}else p=y=s;r={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},i.updateQueue=r;return}i=r.lastBaseUpdate,i===null?r.firstBaseUpdate=s:i.next=s,r.lastBaseUpdate=s}var uh=!1;function Br(){if(uh){var i=ua;if(i!==null)throw i}}function Or(i,s,r,u){uh=!1;var p=i.updateQueue;En=!1;var y=p.firstBaseUpdate,M=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var R=A,L=R.next;R.next=null,M===null?y=L:M.next=L,M=R;var Y=i.alternate;Y!==null&&(Y=Y.updateQueue,A=Y.lastBaseUpdate,A!==M&&(A===null?Y.firstBaseUpdate=L:A.next=L,Y.lastBaseUpdate=R))}if(y!==null){var W=p.baseState;M=0,Y=L=R=null,A=y;do{var V=A.lane&-536870913,F=V!==A.lane;if(F?(Dt&V)===V:(u&V)===V){V!==0&&V===oa&&(uh=!0),Y!==null&&(Y=Y.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var mt=i,ft=A;V=s;var Gt=r;switch(ft.tag){case 1:if(mt=ft.payload,typeof mt=="function"){W=mt.call(Gt,W,V);break t}W=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ft.payload,V=typeof mt=="function"?mt.call(Gt,W,V):mt,V==null)break t;W=m({},W,V);break t;case 2:En=!0}}V=A.callback,V!==null&&(i.flags|=64,F&&(i.flags|=8192),F=p.callbacks,F===null?p.callbacks=[V]:F.push(V))}else F={lane:V,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Y===null?(L=Y=F,R=W):Y=Y.next=F,M|=V;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;F=A,A=F.next,F.next=null,p.lastBaseUpdate=F,p.shared.pending=null}}while(!0);Y===null&&(R=W),p.baseState=R,p.firstBaseUpdate=L,p.lastBaseUpdate=Y,y===null&&(p.shared.lanes=0),kn|=M,i.lanes=M,i.memoizedState=W}}function Nm(i,s){if(typeof i!="function")throw Error(n(191,i));i.call(s)}function Um(i,s){var r=i.callbacks;if(r!==null)for(i.callbacks=null,i=0;i<r.length;i++)Nm(r[i],s)}var ca=G(null),ho=G(0);function Lm(i,s){i=un,K(ho,i),K(ca,s),un=i|s.baseLanes}function ch(){K(ho,un),K(ca,ca.current)}function hh(){un=ho.current,$(ca),$(ho)}var Bn=0,At=null,Ht=null,le=null,fo=!1,ha=!1,xs=!1,po=0,Dr=0,fa=null,$b=0;function se(){throw Error(n(321))}function fh(i,s){if(s===null)return!1;for(var r=0;r<s.length&&r<i.length;r++)if(!je(i[r],s[r]))return!1;return!0}function dh(i,s,r,u,p,y){return Bn=y,At=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,q.H=i===null||i.memoizedState===null?by:vy,xs=!1,y=r(u,p),xs=!1,ha&&(y=km(s,r,u,p)),Im(i),y}function Im(i){q.H=vo;var s=Ht!==null&&Ht.next!==null;if(Bn=0,le=Ht=At=null,fo=!1,Dr=0,fa=null,s)throw Error(n(300));i===null||ye||(i=i.dependencies,i!==null&&ro(i)&&(ye=!0))}function km(i,s,r,u){At=i;var p=0;do{if(ha&&(fa=null),Dr=0,ha=!1,25<=p)throw Error(n(301));if(p+=1,le=Ht=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}q.H=rv,y=s(r,u)}while(ha);return y}function tv(){var i=q.H,s=i.useState()[0];return s=typeof s.then=="function"?Nr(s):s,i=i.useState()[0],(Ht!==null?Ht.memoizedState:null)!==i&&(At.flags|=1024),s}function ph(){var i=po!==0;return po=0,i}function mh(i,s,r){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~r}function yh(i){if(fo){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}fo=!1}Bn=0,le=Ht=At=null,ha=!1,Dr=po=0,fa=null}function qe(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?At.memoizedState=le=i:le=le.next=i,le}function oe(){if(Ht===null){var i=At.alternate;i=i!==null?i.memoizedState:null}else i=Ht.next;var s=le===null?At.memoizedState:le.next;if(s!==null)le=s,Ht=i;else{if(i===null)throw At.alternate===null?Error(n(467)):Error(n(310));Ht=i,i={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},le===null?At.memoizedState=le=i:le=le.next=i}return le}function gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nr(i){var s=Dr;return Dr+=1,fa===null&&(fa=[]),i=Bm(fa,i,s),s=At,(le===null?s.memoizedState:le.next)===null&&(s=s.alternate,q.H=s===null||s.memoizedState===null?by:vy),i}function mo(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Nr(i);if(i.$$typeof===z)return ze(i)}throw Error(n(438,String(i)))}function xh(i){var s=null,r=At.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var u=At.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=gh(),At.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(i),u=0;u<i;u++)r[u]=J;return s.index++,r}function nn(i,s){return typeof s=="function"?s(i):s}function yo(i){var s=oe();return bh(s,Ht,i)}function bh(i,s,r){var u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var p=i.baseQueue,y=u.pending;if(y!==null){if(p!==null){var M=p.next;p.next=y.next,y.next=M}s.baseQueue=p=y,u.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{s=p.next;var A=M=null,R=null,L=s,Y=!1;do{var W=L.lane&-536870913;if(W!==L.lane?(Dt&W)===W:(Bn&W)===W){var V=L.revertLane;if(V===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),W===oa&&(Y=!0);else if((Bn&V)===V){L=L.next,V===oa&&(Y=!0);continue}else W={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(A=R=W,M=y):R=R.next=W,At.lanes|=V,kn|=V;W=L.action,xs&&r(y,W),y=L.hasEagerState?L.eagerState:r(y,W)}else V={lane:W,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(A=R=V,M=y):R=R.next=V,At.lanes|=W,kn|=W;L=L.next}while(L!==null&&L!==s);if(R===null?M=y:R.next=A,!je(y,i.memoizedState)&&(ye=!0,Y&&(r=ua,r!==null)))throw r;i.memoizedState=y,i.baseState=M,i.baseQueue=R,u.lastRenderedState=y}return p===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function vh(i){var s=oe(),r=s.queue;if(r===null)throw Error(n(311));r.lastRenderedReducer=i;var u=r.dispatch,p=r.pending,y=s.memoizedState;if(p!==null){r.pending=null;var M=p=p.next;do y=i(y,M.action),M=M.next;while(M!==p);je(y,s.memoizedState)||(ye=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),r.lastRenderedState=y}return[y,u]}function Vm(i,s,r){var u=At,p=oe(),y=It;if(y){if(r===void 0)throw Error(n(407));r=r()}else r=s();var M=!je((Ht||p).memoizedState,r);M&&(p.memoizedState=r,ye=!0),p=p.queue;var A=qm.bind(null,u,p,i);if(Ur(2048,8,A,[i]),p.getSnapshot!==s||M||le!==null&&le.memoizedState.tag&1){if(u.flags|=2048,da(9,go(),Hm.bind(null,u,p,r,s),null),Xt===null)throw Error(n(349));y||(Bn&124)!==0||Fm(u,s,r)}return r}function Fm(i,s,r){i.flags|=16384,i={getSnapshot:s,value:r},s=At.updateQueue,s===null?(s=gh(),At.updateQueue=s,s.stores=[i]):(r=s.stores,r===null?s.stores=[i]:r.push(i))}function Hm(i,s,r,u){s.value=r,s.getSnapshot=u,Gm(s)&&Pm(i)}function qm(i,s,r){return r(function(){Gm(s)&&Pm(i)})}function Gm(i){var s=i.getSnapshot;i=i.value;try{var r=s();return!je(i,r)}catch{return!0}}function Pm(i){var s=sa(i,2);s!==null&&ii(s,i,2)}function Mh(i){var s=qe();if(typeof i=="function"){var r=i;if(i=r(),xs){wi(!0);try{r()}finally{wi(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nn,lastRenderedState:i},s}function Ym(i,s,r,u){return i.baseState=r,bh(i,Ht,typeof u=="function"?u:nn)}function ev(i,s,r,u,p){if(bo(i))throw Error(n(485));if(i=s.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){y.listeners.push(M)}};q.T!==null?r(!0):y.isTransition=!1,u(y),r=s.pending,r===null?(y.next=s.pending=y,Xm(s,y)):(y.next=r.next,s.pending=r.next=y)}}function Xm(i,s){var r=s.action,u=s.payload,p=i.state;if(s.isTransition){var y=q.T,M={};q.T=M;try{var A=r(p,u),R=q.S;R!==null&&R(M,A),Zm(i,s,A)}catch(L){Sh(i,s,L)}finally{q.T=y}}else try{y=r(p,u),Zm(i,s,y)}catch(L){Sh(i,s,L)}}function Zm(i,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(u){Wm(i,s,u)},function(u){return Sh(i,s,u)}):Wm(i,s,r)}function Wm(i,s,r){s.status="fulfilled",s.value=r,Jm(s),i.state=r,s=i.pending,s!==null&&(r=s.next,r===s?i.pending=null:(r=r.next,s.next=r,Xm(i,r)))}function Sh(i,s,r){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=r,Jm(s),s=s.next;while(s!==u)}i.action=null}function Jm(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function jm(i,s){return s}function Qm(i,s){if(It){var r=Xt.formState;if(r!==null){t:{var u=At;if(It){if(ee){e:{for(var p=ee,y=Di;p.nodeType!==8;){if(!y){p=null;break e}if(p=Ti(p.nextSibling),p===null){p=null;break e}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){ee=Ti(p.nextSibling),u=p.data==="F!";break t}}ps(u)}u=!1}u&&(s=r[0])}}return r=qe(),r.memoizedState=r.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jm,lastRenderedState:s},r.queue=u,r=yy.bind(null,At,u),u.dispatch=r,u=Mh(!1),y=zh.bind(null,At,!1,u.queue),u=qe(),p={state:s,dispatch:null,action:i,pending:null},u.queue=p,r=ev.bind(null,At,p,y,r),p.dispatch=r,u.memoizedState=i,[s,r,!1]}function Km(i){var s=oe();return $m(s,Ht,i)}function $m(i,s,r){if(s=bh(i,s,jm)[0],i=yo(nn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Nr(s)}catch(M){throw M===Er?uo:M}else u=s;s=oe();var p=s.queue,y=p.dispatch;return r!==s.memoizedState&&(At.flags|=2048,da(9,go(),iv.bind(null,p,r),null)),[u,y,i]}function iv(i,s){i.action=s}function ty(i){var s=oe(),r=Ht;if(r!==null)return $m(s,r,i);oe(),s=s.memoizedState,r=oe();var u=r.queue.dispatch;return r.memoizedState=i,[s,u,!1]}function da(i,s,r,u){return i={tag:i,create:r,deps:u,inst:s,next:null},s=At.updateQueue,s===null&&(s=gh(),At.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=i.next=i:(u=r.next,r.next=i,i.next=u,s.lastEffect=i),i}function go(){return{destroy:void 0,resource:void 0}}function ey(){return oe().memoizedState}function xo(i,s,r,u){var p=qe();u=u===void 0?null:u,At.flags|=i,p.memoizedState=da(1|s,go(),r,u)}function Ur(i,s,r,u){var p=oe();u=u===void 0?null:u;var y=p.memoizedState.inst;Ht!==null&&u!==null&&fh(u,Ht.memoizedState.deps)?p.memoizedState=da(s,y,r,u):(At.flags|=i,p.memoizedState=da(1|s,y,r,u))}function iy(i,s){xo(8390656,8,i,s)}function ny(i,s){Ur(2048,8,i,s)}function sy(i,s){return Ur(4,2,i,s)}function ay(i,s){return Ur(4,4,i,s)}function ry(i,s){if(typeof s=="function"){i=i();var r=s(i);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function ly(i,s,r){r=r!=null?r.concat([i]):null,Ur(4,4,ry.bind(null,s,i),r)}function wh(){}function oy(i,s){var r=oe();s=s===void 0?null:s;var u=r.memoizedState;return s!==null&&fh(s,u[1])?u[0]:(r.memoizedState=[i,s],i)}function uy(i,s){var r=oe();s=s===void 0?null:s;var u=r.memoizedState;if(s!==null&&fh(s,u[1]))return u[0];if(u=i(),xs){wi(!0);try{i()}finally{wi(!1)}}return r.memoizedState=[u,s],u}function _h(i,s,r){return r===void 0||(Bn&1073741824)!==0?i.memoizedState=s:(i.memoizedState=r,i=f0(),At.lanes|=i,kn|=i,r)}function cy(i,s,r,u){return je(r,s)?r:ca.current!==null?(i=_h(i,r,u),je(i,s)||(ye=!0),i):(Bn&42)===0?(ye=!0,i.memoizedState=r):(i=f0(),At.lanes|=i,kn|=i,s)}function hy(i,s,r,u,p){var y=Q.p;Q.p=y!==0&&8>y?y:8;var M=q.T,A={};q.T=A,zh(i,!1,s,r);try{var R=p(),L=q.S;if(L!==null&&L(A,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Y=Kb(R,u);Lr(i,s,Y,ei(i))}else Lr(i,s,u,ei(i))}catch(W){Lr(i,s,{then:function(){},status:"rejected",reason:W},ei())}finally{Q.p=y,q.T=M}}function nv(){}function Ah(i,s,r,u){if(i.tag!==5)throw Error(n(476));var p=fy(i).queue;hy(i,p,s,lt,r===null?nv:function(){return dy(i),r(u)})}function fy(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nn,lastRenderedState:lt},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nn,lastRenderedState:r},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function dy(i){var s=fy(i).next.queue;Lr(i,s,{},ei())}function Th(){return ze(tl)}function py(){return oe().memoizedState}function my(){return oe().memoizedState}function sv(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var r=ei();i=Cn(r);var u=Rn(s,i,r);u!==null&&(ii(u,s,r),Rr(u,s,r)),s={cache:ih()},i.payload=s;return}s=s.return}}function av(i,s,r){var u=ei();r={lane:u,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},bo(i)?gy(s,r):(r=Xc(i,s,r,u),r!==null&&(ii(r,i,u),xy(r,s,u)))}function yy(i,s,r){var u=ei();Lr(i,s,r,u)}function Lr(i,s,r,u){var p={lane:u,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(bo(i))gy(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var M=s.lastRenderedState,A=y(M,r);if(p.hasEagerState=!0,p.eagerState=A,je(A,M))return eo(i,s,p,0),Xt===null&&to(),!1}catch{}finally{}if(r=Xc(i,s,p,u),r!==null)return ii(r,i,u),xy(r,s,u),!0}return!1}function zh(i,s,r,u){if(u={lane:2,revertLane:rf(),action:u,hasEagerState:!1,eagerState:null,next:null},bo(i)){if(s)throw Error(n(479))}else s=Xc(i,r,u,2),s!==null&&ii(s,i,2)}function bo(i){var s=i.alternate;return i===At||s!==null&&s===At}function gy(i,s){ha=fo=!0;var r=i.pending;r===null?s.next=s:(s.next=r.next,r.next=s),i.pending=s}function xy(i,s,r){if((r&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,r|=u,s.lanes=r,Tp(i,r)}}var vo={readContext:ze,use:mo,useCallback:se,useContext:se,useEffect:se,useImperativeHandle:se,useLayoutEffect:se,useInsertionEffect:se,useMemo:se,useReducer:se,useRef:se,useState:se,useDebugValue:se,useDeferredValue:se,useTransition:se,useSyncExternalStore:se,useId:se,useHostTransitionStatus:se,useFormState:se,useActionState:se,useOptimistic:se,useMemoCache:se,useCacheRefresh:se},by={readContext:ze,use:mo,useCallback:function(i,s){return qe().memoizedState=[i,s===void 0?null:s],i},useContext:ze,useEffect:iy,useImperativeHandle:function(i,s,r){r=r!=null?r.concat([i]):null,xo(4194308,4,ry.bind(null,s,i),r)},useLayoutEffect:function(i,s){return xo(4194308,4,i,s)},useInsertionEffect:function(i,s){xo(4,2,i,s)},useMemo:function(i,s){var r=qe();s=s===void 0?null:s;var u=i();if(xs){wi(!0);try{i()}finally{wi(!1)}}return r.memoizedState=[u,s],u},useReducer:function(i,s,r){var u=qe();if(r!==void 0){var p=r(s);if(xs){wi(!0);try{r(s)}finally{wi(!1)}}}else p=s;return u.memoizedState=u.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},u.queue=i,i=i.dispatch=av.bind(null,At,i),[u.memoizedState,i]},useRef:function(i){var s=qe();return i={current:i},s.memoizedState=i},useState:function(i){i=Mh(i);var s=i.queue,r=yy.bind(null,At,s);return s.dispatch=r,[i.memoizedState,r]},useDebugValue:wh,useDeferredValue:function(i,s){var r=qe();return _h(r,i,s)},useTransition:function(){var i=Mh(!1);return i=hy.bind(null,At,i.queue,!0,!1),qe().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,r){var u=At,p=qe();if(It){if(r===void 0)throw Error(n(407));r=r()}else{if(r=s(),Xt===null)throw Error(n(349));(Dt&124)!==0||Fm(u,s,r)}p.memoizedState=r;var y={value:r,getSnapshot:s};return p.queue=y,iy(qm.bind(null,u,y,i),[i]),u.flags|=2048,da(9,go(),Hm.bind(null,u,y,r,s),null),r},useId:function(){var i=qe(),s=Xt.identifierPrefix;if(It){var r=$i,u=Ki;r=(u&~(1<<32-Ae(u)-1)).toString(32)+r,s=""+s+"R"+r,r=po++,0<r&&(s+="H"+r.toString(32)),s+=""}else r=$b++,s=""+s+"r"+r.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:Th,useFormState:Qm,useActionState:Qm,useOptimistic:function(i){var s=qe();s.memoizedState=s.baseState=i;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=zh.bind(null,At,!0,r),r.dispatch=s,[i,s]},useMemoCache:xh,useCacheRefresh:function(){return qe().memoizedState=sv.bind(null,At)}},vy={readContext:ze,use:mo,useCallback:oy,useContext:ze,useEffect:ny,useImperativeHandle:ly,useInsertionEffect:sy,useLayoutEffect:ay,useMemo:uy,useReducer:yo,useRef:ey,useState:function(){return yo(nn)},useDebugValue:wh,useDeferredValue:function(i,s){var r=oe();return cy(r,Ht.memoizedState,i,s)},useTransition:function(){var i=yo(nn)[0],s=oe().memoizedState;return[typeof i=="boolean"?i:Nr(i),s]},useSyncExternalStore:Vm,useId:py,useHostTransitionStatus:Th,useFormState:Km,useActionState:Km,useOptimistic:function(i,s){var r=oe();return Ym(r,Ht,i,s)},useMemoCache:xh,useCacheRefresh:my},rv={readContext:ze,use:mo,useCallback:oy,useContext:ze,useEffect:ny,useImperativeHandle:ly,useInsertionEffect:sy,useLayoutEffect:ay,useMemo:uy,useReducer:vh,useRef:ey,useState:function(){return vh(nn)},useDebugValue:wh,useDeferredValue:function(i,s){var r=oe();return Ht===null?_h(r,i,s):cy(r,Ht.memoizedState,i,s)},useTransition:function(){var i=vh(nn)[0],s=oe().memoizedState;return[typeof i=="boolean"?i:Nr(i),s]},useSyncExternalStore:Vm,useId:py,useHostTransitionStatus:Th,useFormState:ty,useActionState:ty,useOptimistic:function(i,s){var r=oe();return Ht!==null?Ym(r,Ht,i,s):(r.baseState=i,[i,r.queue.dispatch])},useMemoCache:xh,useCacheRefresh:my},pa=null,Ir=0;function Mo(i){var s=Ir;return Ir+=1,pa===null&&(pa=[]),Bm(pa,i,s)}function kr(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function So(i,s){throw s.$$typeof===g?Error(n(525)):(i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function My(i){var s=i._init;return s(i._payload)}function Sy(i){function s(N,O){if(i){var U=N.deletions;U===null?(N.deletions=[O],N.flags|=16):U.push(O)}}function r(N,O){if(!i)return null;for(;O!==null;)s(N,O),O=O.sibling;return null}function u(N){for(var O=new Map;N!==null;)N.key!==null?O.set(N.key,N):O.set(N.index,N),N=N.sibling;return O}function p(N,O){return N=Qi(N,O),N.index=0,N.sibling=null,N}function y(N,O,U){return N.index=U,i?(U=N.alternate,U!==null?(U=U.index,U<O?(N.flags|=67108866,O):U):(N.flags|=67108866,O)):(N.flags|=1048576,O)}function M(N){return i&&N.alternate===null&&(N.flags|=67108866),N}function A(N,O,U,Z){return O===null||O.tag!==6?(O=Wc(U,N.mode,Z),O.return=N,O):(O=p(O,U),O.return=N,O)}function R(N,O,U,Z){var at=U.type;return at===v?Y(N,O,U.props.children,Z,U.key):O!==null&&(O.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===k&&My(at)===O.type)?(O=p(O,U.props),kr(O,U),O.return=N,O):(O=no(U.type,U.key,U.props,null,N.mode,Z),kr(O,U),O.return=N,O)}function L(N,O,U,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=Jc(U,N.mode,Z),O.return=N,O):(O=p(O,U.children||[]),O.return=N,O)}function Y(N,O,U,Z,at){return O===null||O.tag!==7?(O=cs(U,N.mode,Z,at),O.return=N,O):(O=p(O,U),O.return=N,O)}function W(N,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Wc(""+O,N.mode,U),O.return=N,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case x:return U=no(O.type,O.key,O.props,null,N.mode,U),kr(U,O),U.return=N,U;case b:return O=Jc(O,N.mode,U),O.return=N,O;case k:var Z=O._init;return O=Z(O._payload),W(N,O,U)}if(xt(O)||ot(O))return O=cs(O,N.mode,U,null),O.return=N,O;if(typeof O.then=="function")return W(N,Mo(O),U);if(O.$$typeof===z)return W(N,lo(N,O),U);So(N,O)}return null}function V(N,O,U,Z){var at=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return at!==null?null:A(N,O,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case x:return U.key===at?R(N,O,U,Z):null;case b:return U.key===at?L(N,O,U,Z):null;case k:return at=U._init,U=at(U._payload),V(N,O,U,Z)}if(xt(U)||ot(U))return at!==null?null:Y(N,O,U,Z,null);if(typeof U.then=="function")return V(N,O,Mo(U),Z);if(U.$$typeof===z)return V(N,O,lo(N,U),Z);So(N,U)}return null}function F(N,O,U,Z,at){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return N=N.get(U)||null,A(O,N,""+Z,at);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case x:return N=N.get(Z.key===null?U:Z.key)||null,R(O,N,Z,at);case b:return N=N.get(Z.key===null?U:Z.key)||null,L(O,N,Z,at);case k:var Et=Z._init;return Z=Et(Z._payload),F(N,O,U,Z,at)}if(xt(Z)||ot(Z))return N=N.get(U)||null,Y(O,N,Z,at,null);if(typeof Z.then=="function")return F(N,O,U,Mo(Z),at);if(Z.$$typeof===z)return F(N,O,U,lo(O,Z),at);So(O,Z)}return null}function mt(N,O,U,Z){for(var at=null,Et=null,ht=O,pt=O=0,xe=null;ht!==null&&pt<U.length;pt++){ht.index>pt?(xe=ht,ht=null):xe=ht.sibling;var Nt=V(N,ht,U[pt],Z);if(Nt===null){ht===null&&(ht=xe);break}i&&ht&&Nt.alternate===null&&s(N,ht),O=y(Nt,O,pt),Et===null?at=Nt:Et.sibling=Nt,Et=Nt,ht=xe}if(pt===U.length)return r(N,ht),It&&fs(N,pt),at;if(ht===null){for(;pt<U.length;pt++)ht=W(N,U[pt],Z),ht!==null&&(O=y(ht,O,pt),Et===null?at=ht:Et.sibling=ht,Et=ht);return It&&fs(N,pt),at}for(ht=u(ht);pt<U.length;pt++)xe=F(ht,N,pt,U[pt],Z),xe!==null&&(i&&xe.alternate!==null&&ht.delete(xe.key===null?pt:xe.key),O=y(xe,O,pt),Et===null?at=xe:Et.sibling=xe,Et=xe);return i&&ht.forEach(function(Zn){return s(N,Zn)}),It&&fs(N,pt),at}function ft(N,O,U,Z){if(U==null)throw Error(n(151));for(var at=null,Et=null,ht=O,pt=O=0,xe=null,Nt=U.next();ht!==null&&!Nt.done;pt++,Nt=U.next()){ht.index>pt?(xe=ht,ht=null):xe=ht.sibling;var Zn=V(N,ht,Nt.value,Z);if(Zn===null){ht===null&&(ht=xe);break}i&&ht&&Zn.alternate===null&&s(N,ht),O=y(Zn,O,pt),Et===null?at=Zn:Et.sibling=Zn,Et=Zn,ht=xe}if(Nt.done)return r(N,ht),It&&fs(N,pt),at;if(ht===null){for(;!Nt.done;pt++,Nt=U.next())Nt=W(N,Nt.value,Z),Nt!==null&&(O=y(Nt,O,pt),Et===null?at=Nt:Et.sibling=Nt,Et=Nt);return It&&fs(N,pt),at}for(ht=u(ht);!Nt.done;pt++,Nt=U.next())Nt=F(ht,N,pt,Nt.value,Z),Nt!==null&&(i&&Nt.alternate!==null&&ht.delete(Nt.key===null?pt:Nt.key),O=y(Nt,O,pt),Et===null?at=Nt:Et.sibling=Nt,Et=Nt);return i&&ht.forEach(function(lM){return s(N,lM)}),It&&fs(N,pt),at}function Gt(N,O,U,Z){if(typeof U=="object"&&U!==null&&U.type===v&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case x:t:{for(var at=U.key;O!==null;){if(O.key===at){if(at=U.type,at===v){if(O.tag===7){r(N,O.sibling),Z=p(O,U.props.children),Z.return=N,N=Z;break t}}else if(O.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===k&&My(at)===O.type){r(N,O.sibling),Z=p(O,U.props),kr(Z,U),Z.return=N,N=Z;break t}r(N,O);break}else s(N,O);O=O.sibling}U.type===v?(Z=cs(U.props.children,N.mode,Z,U.key),Z.return=N,N=Z):(Z=no(U.type,U.key,U.props,null,N.mode,Z),kr(Z,U),Z.return=N,N=Z)}return M(N);case b:t:{for(at=U.key;O!==null;){if(O.key===at)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){r(N,O.sibling),Z=p(O,U.children||[]),Z.return=N,N=Z;break t}else{r(N,O);break}else s(N,O);O=O.sibling}Z=Jc(U,N.mode,Z),Z.return=N,N=Z}return M(N);case k:return at=U._init,U=at(U._payload),Gt(N,O,U,Z)}if(xt(U))return mt(N,O,U,Z);if(ot(U)){if(at=ot(U),typeof at!="function")throw Error(n(150));return U=at.call(U),ft(N,O,U,Z)}if(typeof U.then=="function")return Gt(N,O,Mo(U),Z);if(U.$$typeof===z)return Gt(N,O,lo(N,U),Z);So(N,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(r(N,O.sibling),Z=p(O,U),Z.return=N,N=Z):(r(N,O),Z=Wc(U,N.mode,Z),Z.return=N,N=Z),M(N)):r(N,O)}return function(N,O,U,Z){try{Ir=0;var at=Gt(N,O,U,Z);return pa=null,at}catch(ht){if(ht===Er||ht===uo)throw ht;var Et=Qe(29,ht,null,N.mode);return Et.lanes=Z,Et.return=N,Et}finally{}}}var ma=Sy(!0),wy=Sy(!1),yi=G(null),Ni=null;function On(i){var s=i.alternate;K(fe,fe.current&1),K(yi,i),Ni===null&&(s===null||ca.current!==null||s.memoizedState!==null)&&(Ni=i)}function _y(i){if(i.tag===22){if(K(fe,fe.current),K(yi,i),Ni===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ni=i)}}else Dn()}function Dn(){K(fe,fe.current),K(yi,yi.current)}function sn(i){$(yi),Ni===i&&(Ni=null),$(fe)}var fe=G(0);function wo(i){for(var s=i;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||xf(r)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Eh(i,s,r,u){s=i.memoizedState,r=r(u,s),r=r==null?s:m({},s,r),i.memoizedState=r,i.lanes===0&&(i.updateQueue.baseState=r)}var Ch={enqueueSetState:function(i,s,r){i=i._reactInternals;var u=ei(),p=Cn(u);p.payload=s,r!=null&&(p.callback=r),s=Rn(i,p,u),s!==null&&(ii(s,i,u),Rr(s,i,u))},enqueueReplaceState:function(i,s,r){i=i._reactInternals;var u=ei(),p=Cn(u);p.tag=1,p.payload=s,r!=null&&(p.callback=r),s=Rn(i,p,u),s!==null&&(ii(s,i,u),Rr(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var r=ei(),u=Cn(r);u.tag=2,s!=null&&(u.callback=s),s=Rn(i,u,r),s!==null&&(ii(s,i,r),Rr(s,i,r))}};function Ay(i,s,r,u,p,y,M){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,y,M):s.prototype&&s.prototype.isPureReactComponent?!vr(r,u)||!vr(p,y):!0}function Ty(i,s,r,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,u),s.state!==i&&Ch.enqueueReplaceState(s,s.state,null)}function bs(i,s){var r=s;if("ref"in s){r={};for(var u in s)u!=="ref"&&(r[u]=s[u])}if(i=i.defaultProps){r===s&&(r=m({},r));for(var p in i)r[p]===void 0&&(r[p]=i[p])}return r}var _o=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function zy(i){_o(i)}function Ey(i){console.error(i)}function Cy(i){_o(i)}function Ao(i,s){try{var r=i.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Ry(i,s,r){try{var u=i.onCaughtError;u(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Rh(i,s,r){return r=Cn(r),r.tag=3,r.payload={element:null},r.callback=function(){Ao(i,s)},r}function By(i){return i=Cn(i),i.tag=3,i}function Oy(i,s,r,u){var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;i.payload=function(){return p(y)},i.callback=function(){Ry(s,r,u)}}var M=r.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(i.callback=function(){Ry(s,r,u),typeof p!="function"&&(Vn===null?Vn=new Set([this]):Vn.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function lv(i,s,r,u,p){if(r.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=r.alternate,s!==null&&Ar(s,r,p,!0),r=yi.current,r!==null){switch(r.tag){case 13:return Ni===null?tf():r.alternate===null&&ie===0&&(ie=3),r.flags&=-257,r.flags|=65536,r.lanes=p,u===ah?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([u]):s.add(u),nf(i,u,p)),!1;case 22:return r.flags|=65536,u===ah?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([u]):r.add(u)),nf(i,u,p)),!1}throw Error(n(435,r.tag))}return nf(i,u,p),tf(),!1}if(It)return s=yi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==Kc&&(i=Error(n(422),{cause:u}),_r(fi(i,r)))):(u!==Kc&&(s=Error(n(423),{cause:u}),_r(fi(s,r))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,u=fi(u,r),p=Rh(i.stateNode,u,p),oh(i,p),ie!==4&&(ie=2)),!1;var y=Error(n(520),{cause:u});if(y=fi(y,r),Yr===null?Yr=[y]:Yr.push(y),ie!==4&&(ie=2),s===null)return!0;u=fi(u,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,i=p&-p,r.lanes|=i,i=Rh(r.stateNode,u,i),oh(r,i),!1;case 1:if(s=r.type,y=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Vn===null||!Vn.has(y))))return r.flags|=65536,p&=-p,r.lanes|=p,p=By(p),Oy(p,i,r,u),oh(r,p),!1}r=r.return}while(r!==null);return!1}var Dy=Error(n(461)),ye=!1;function Me(i,s,r,u){s.child=i===null?wy(s,null,r,u):ma(s,i.child,r,u)}function Ny(i,s,r,u,p){r=r.render;var y=s.ref;if("ref"in u){var M={};for(var A in u)A!=="ref"&&(M[A]=u[A])}else M=u;return ys(s),u=dh(i,s,r,M,y,p),A=ph(),i!==null&&!ye?(mh(i,s,p),an(i,s,p)):(It&&A&&jc(s),s.flags|=1,Me(i,s,u,p),s.child)}function Uy(i,s,r,u,p){if(i===null){var y=r.type;return typeof y=="function"&&!Zc(y)&&y.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=y,Ly(i,s,y,u,p)):(i=no(r.type,null,u,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!kh(i,p)){var M=y.memoizedProps;if(r=r.compare,r=r!==null?r:vr,r(M,u)&&i.ref===s.ref)return an(i,s,p)}return s.flags|=1,i=Qi(y,u),i.ref=s.ref,i.return=s,s.child=i}function Ly(i,s,r,u,p){if(i!==null){var y=i.memoizedProps;if(vr(y,u)&&i.ref===s.ref)if(ye=!1,s.pendingProps=u=y,kh(i,p))(i.flags&131072)!==0&&(ye=!0);else return s.lanes=i.lanes,an(i,s,p)}return Bh(i,s,r,u,p)}function Iy(i,s,r){var u=s.pendingProps,p=u.children,y=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=y!==null?y.baseLanes|r:r,i!==null){for(p=s.child=i.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;s.childLanes=y&~u}else s.childLanes=0,s.child=null;return ky(i,s,u,r)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&oo(s,y!==null?y.cachePool:null),y!==null?Lm(s,y):ch(),_y(s);else return s.lanes=s.childLanes=536870912,ky(i,s,y!==null?y.baseLanes|r:r,r)}else y!==null?(oo(s,y.cachePool),Lm(s,y),Dn(),s.memoizedState=null):(i!==null&&oo(s,null),ch(),Dn());return Me(i,s,p,r),s.child}function ky(i,s,r,u){var p=sh();return p=p===null?null:{parent:he._currentValue,pool:p},s.memoizedState={baseLanes:r,cachePool:p},i!==null&&oo(s,null),ch(),_y(s),i!==null&&Ar(i,s,u,!0),null}function To(i,s){var r=s.ref;if(r===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(n(284));(i===null||i.ref!==r)&&(s.flags|=4194816)}}function Bh(i,s,r,u,p){return ys(s),r=dh(i,s,r,u,void 0,p),u=ph(),i!==null&&!ye?(mh(i,s,p),an(i,s,p)):(It&&u&&jc(s),s.flags|=1,Me(i,s,r,p),s.child)}function Vy(i,s,r,u,p,y){return ys(s),s.updateQueue=null,r=km(s,u,r,p),Im(i),u=ph(),i!==null&&!ye?(mh(i,s,y),an(i,s,y)):(It&&u&&jc(s),s.flags|=1,Me(i,s,r,y),s.child)}function Fy(i,s,r,u,p){if(ys(s),s.stateNode===null){var y=aa,M=r.contextType;typeof M=="object"&&M!==null&&(y=ze(M)),y=new r(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Ch,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},rh(s),M=r.contextType,y.context=typeof M=="object"&&M!==null?ze(M):aa,y.state=s.memoizedState,M=r.getDerivedStateFromProps,typeof M=="function"&&(Eh(s,r,M,u),y.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(M=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),M!==y.state&&Ch.enqueueReplaceState(y,y.state,null),Or(s,u,y,p),Br(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){y=s.stateNode;var A=s.memoizedProps,R=bs(r,A);y.props=R;var L=y.context,Y=r.contextType;M=aa,typeof Y=="object"&&Y!==null&&(M=ze(Y));var W=r.getDerivedStateFromProps;Y=typeof W=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,Y||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||L!==M)&&Ty(s,y,u,M),En=!1;var V=s.memoizedState;y.state=V,Or(s,u,y,p),Br(),L=s.memoizedState,A||V!==L||En?(typeof W=="function"&&(Eh(s,r,W,u),L=s.memoizedState),(R=En||Ay(s,r,R,u,V,L,M))?(Y||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=L),y.props=u,y.state=L,y.context=M,u=R):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,lh(i,s),M=s.memoizedProps,Y=bs(r,M),y.props=Y,W=s.pendingProps,V=y.context,L=r.contextType,R=aa,typeof L=="object"&&L!==null&&(R=ze(L)),A=r.getDerivedStateFromProps,(L=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(M!==W||V!==R)&&Ty(s,y,u,R),En=!1,V=s.memoizedState,y.state=V,Or(s,u,y,p),Br();var F=s.memoizedState;M!==W||V!==F||En||i!==null&&i.dependencies!==null&&ro(i.dependencies)?(typeof A=="function"&&(Eh(s,r,A,u),F=s.memoizedState),(Y=En||Ay(s,r,Y,u,V,F,R)||i!==null&&i.dependencies!==null&&ro(i.dependencies))?(L||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,F,R),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,F,R)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||M===i.memoizedProps&&V===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&V===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=F),y.props=u,y.state=F,y.context=R,u=Y):(typeof y.componentDidUpdate!="function"||M===i.memoizedProps&&V===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&V===i.memoizedState||(s.flags|=1024),u=!1)}return y=u,To(i,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,r=u&&typeof r.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&u?(s.child=ma(s,i.child,null,p),s.child=ma(s,null,r,p)):Me(i,s,r,p),s.memoizedState=y.state,i=s.child):i=an(i,s,p),i}function Hy(i,s,r,u){return wr(),s.flags|=256,Me(i,s,r,u),s.child}var Oh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dh(i){return{baseLanes:i,cachePool:Em()}}function Nh(i,s,r){return i=i!==null?i.childLanes&~r:0,s&&(i|=gi),i}function qy(i,s,r){var u=s.pendingProps,p=!1,y=(s.flags&128)!==0,M;if((M=y)||(M=i!==null&&i.memoizedState===null?!1:(fe.current&2)!==0),M&&(p=!0,s.flags&=-129),M=(s.flags&32)!==0,s.flags&=-33,i===null){if(It){if(p?On(s):Dn(),It){var A=ee,R;if(R=A){t:{for(R=A,A=Di;R.nodeType!==8;){if(!A){A=null;break t}if(R=Ti(R.nextSibling),R===null){A=null;break t}}A=R}A!==null?(s.memoizedState={dehydrated:A,treeContext:hs!==null?{id:Ki,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},R=Qe(18,null,null,0),R.stateNode=A,R.return=s,s.child=R,Ue=s,ee=null,R=!0):R=!1}R||ps(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return xf(A)?s.lanes=32:s.lanes=536870912,null;sn(s)}return A=u.children,u=u.fallback,p?(Dn(),p=s.mode,A=zo({mode:"hidden",children:A},p),u=cs(u,p,r,null),A.return=s,u.return=s,A.sibling=u,s.child=A,p=s.child,p.memoizedState=Dh(r),p.childLanes=Nh(i,M,r),s.memoizedState=Oh,u):(On(s),Uh(s,A))}if(R=i.memoizedState,R!==null&&(A=R.dehydrated,A!==null)){if(y)s.flags&256?(On(s),s.flags&=-257,s=Lh(i,s,r)):s.memoizedState!==null?(Dn(),s.child=i.child,s.flags|=128,s=null):(Dn(),p=u.fallback,A=s.mode,u=zo({mode:"visible",children:u.children},A),p=cs(p,A,r,null),p.flags|=2,u.return=s,p.return=s,u.sibling=p,s.child=u,ma(s,i.child,null,r),u=s.child,u.memoizedState=Dh(r),u.childLanes=Nh(i,M,r),s.memoizedState=Oh,s=p);else if(On(s),xf(A)){if(M=A.nextSibling&&A.nextSibling.dataset,M)var L=M.dgst;M=L,u=Error(n(419)),u.stack="",u.digest=M,_r({value:u,source:null,stack:null}),s=Lh(i,s,r)}else if(ye||Ar(i,s,r,!1),M=(r&i.childLanes)!==0,ye||M){if(M=Xt,M!==null&&(u=r&-r,u=(u&42)!==0?1:xc(u),u=(u&(M.suspendedLanes|r))!==0?0:u,u!==0&&u!==R.retryLane))throw R.retryLane=u,sa(i,u),ii(M,i,u),Dy;A.data==="$?"||tf(),s=Lh(i,s,r)}else A.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=R.treeContext,ee=Ti(A.nextSibling),Ue=s,It=!0,ds=null,Di=!1,i!==null&&(pi[mi++]=Ki,pi[mi++]=$i,pi[mi++]=hs,Ki=i.id,$i=i.overflow,hs=s),s=Uh(s,u.children),s.flags|=4096);return s}return p?(Dn(),p=u.fallback,A=s.mode,R=i.child,L=R.sibling,u=Qi(R,{mode:"hidden",children:u.children}),u.subtreeFlags=R.subtreeFlags&65011712,L!==null?p=Qi(L,p):(p=cs(p,A,r,null),p.flags|=2),p.return=s,u.return=s,u.sibling=p,s.child=u,u=p,p=s.child,A=i.child.memoizedState,A===null?A=Dh(r):(R=A.cachePool,R!==null?(L=he._currentValue,R=R.parent!==L?{parent:L,pool:L}:R):R=Em(),A={baseLanes:A.baseLanes|r,cachePool:R}),p.memoizedState=A,p.childLanes=Nh(i,M,r),s.memoizedState=Oh,u):(On(s),r=i.child,i=r.sibling,r=Qi(r,{mode:"visible",children:u.children}),r.return=s,r.sibling=null,i!==null&&(M=s.deletions,M===null?(s.deletions=[i],s.flags|=16):M.push(i)),s.child=r,s.memoizedState=null,r)}function Uh(i,s){return s=zo({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function zo(i,s){return i=Qe(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Lh(i,s,r){return ma(s,i.child,null,r),i=Uh(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Gy(i,s,r){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),th(i.return,s,r)}function Ih(i,s,r,u,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:r,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=r,y.tailMode=p)}function Py(i,s,r){var u=s.pendingProps,p=u.revealOrder,y=u.tail;if(Me(i,s,u.children,r),u=fe.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Gy(i,r,s);else if(i.tag===19)Gy(i,r,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(K(fe,u),p){case"forwards":for(r=s.child,p=null;r!==null;)i=r.alternate,i!==null&&wo(i)===null&&(p=r),r=r.sibling;r=p,r===null?(p=s.child,s.child=null):(p=r.sibling,r.sibling=null),Ih(s,!1,p,r,y);break;case"backwards":for(r=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&wo(i)===null){s.child=p;break}i=p.sibling,p.sibling=r,r=p,p=i}Ih(s,!0,r,null,y);break;case"together":Ih(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function an(i,s,r){if(i!==null&&(s.dependencies=i.dependencies),kn|=s.lanes,(r&s.childLanes)===0)if(i!==null){if(Ar(i,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,r=Qi(i,i.pendingProps),s.child=r,r.return=s;i.sibling!==null;)i=i.sibling,r=r.sibling=Qi(i,i.pendingProps),r.return=s;r.sibling=null}return s.child}function kh(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&ro(i)))}function ov(i,s,r){switch(s.tag){case 3:Pt(s,s.stateNode.containerInfo),zn(s,he,i.memoizedState.cache),wr();break;case 27:case 5:_n(s);break;case 4:Pt(s,s.stateNode.containerInfo);break;case 10:zn(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(On(s),s.flags|=128,null):(r&s.child.childLanes)!==0?qy(i,s,r):(On(s),i=an(i,s,r),i!==null?i.sibling:null);On(s);break;case 19:var p=(i.flags&128)!==0;if(u=(r&s.childLanes)!==0,u||(Ar(i,s,r,!1),u=(r&s.childLanes)!==0),p){if(u)return Py(i,s,r);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),K(fe,fe.current),u)break;return null;case 22:case 23:return s.lanes=0,Iy(i,s,r);case 24:zn(s,he,i.memoizedState.cache)}return an(i,s,r)}function Yy(i,s,r){if(i!==null)if(i.memoizedProps!==s.pendingProps)ye=!0;else{if(!kh(i,r)&&(s.flags&128)===0)return ye=!1,ov(i,s,r);ye=(i.flags&131072)!==0}else ye=!1,It&&(s.flags&1048576)!==0&&Mm(s,ao,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var u=s.elementType,p=u._init;if(u=p(u._payload),s.type=u,typeof u=="function")Zc(u)?(i=bs(u,i),s.tag=1,s=Fy(null,s,u,i,r)):(s.tag=0,s=Bh(null,s,u,i,r));else{if(u!=null){if(p=u.$$typeof,p===E){s.tag=11,s=Ny(null,s,u,i,r);break t}else if(p===H){s.tag=14,s=Uy(null,s,u,i,r);break t}}throw s=Bt(u)||u,Error(n(306,s,""))}}return s;case 0:return Bh(i,s,s.type,s.pendingProps,r);case 1:return u=s.type,p=bs(u,s.pendingProps),Fy(i,s,u,p,r);case 3:t:{if(Pt(s,s.stateNode.containerInfo),i===null)throw Error(n(387));u=s.pendingProps;var y=s.memoizedState;p=y.element,lh(i,s),Or(s,u,null,r);var M=s.memoizedState;if(u=M.cache,zn(s,he,u),u!==y.cache&&eh(s,[he],r,!0),Br(),u=M.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:M.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=Hy(i,s,u,r);break t}else if(u!==p){p=fi(Error(n(424)),s),_r(p),s=Hy(i,s,u,r);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ee=Ti(i.firstChild),Ue=s,It=!0,ds=null,Di=!0,r=wy(s,null,u,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(wr(),u===p){s=an(i,s,r);break t}Me(i,s,u,r)}s=s.child}return s;case 26:return To(i,s),i===null?(r=J0(s.type,null,s.pendingProps,null))?s.memoizedState=r:It||(r=s.type,i=s.pendingProps,u=Ho(yt.current).createElement(r),u[Te]=s,u[Fe]=i,we(u,r,i),me(u),s.stateNode=u):s.memoizedState=J0(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return _n(s),i===null&&It&&(u=s.stateNode=X0(s.type,s.pendingProps,yt.current),Ue=s,Di=!0,p=ee,qn(s.type)?(bf=p,ee=Ti(u.firstChild)):ee=p),Me(i,s,s.pendingProps.children,r),To(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&It&&((p=u=ee)&&(u=Lv(u,s.type,s.pendingProps,Di),u!==null?(s.stateNode=u,Ue=s,ee=Ti(u.firstChild),Di=!1,p=!0):p=!1),p||ps(s)),_n(s),p=s.type,y=s.pendingProps,M=i!==null?i.memoizedProps:null,u=y.children,mf(p,y)?u=null:M!==null&&mf(p,M)&&(s.flags|=32),s.memoizedState!==null&&(p=dh(i,s,tv,null,null,r),tl._currentValue=p),To(i,s),Me(i,s,u,r),s.child;case 6:return i===null&&It&&((i=r=ee)&&(r=Iv(r,s.pendingProps,Di),r!==null?(s.stateNode=r,Ue=s,ee=null,i=!0):i=!1),i||ps(s)),null;case 13:return qy(i,s,r);case 4:return Pt(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=ma(s,null,u,r):Me(i,s,u,r),s.child;case 11:return Ny(i,s,s.type,s.pendingProps,r);case 7:return Me(i,s,s.pendingProps,r),s.child;case 8:return Me(i,s,s.pendingProps.children,r),s.child;case 12:return Me(i,s,s.pendingProps.children,r),s.child;case 10:return u=s.pendingProps,zn(s,s.type,u.value),Me(i,s,u.children,r),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,ys(s),p=ze(p),u=u(p),s.flags|=1,Me(i,s,u,r),s.child;case 14:return Uy(i,s,s.type,s.pendingProps,r);case 15:return Ly(i,s,s.type,s.pendingProps,r);case 19:return Py(i,s,r);case 31:return u=s.pendingProps,r=s.mode,u={mode:u.mode,children:u.children},i===null?(r=zo(u,r),r.ref=s.ref,s.child=r,r.return=s,s=r):(r=Qi(i.child,u),r.ref=s.ref,s.child=r,r.return=s,s=r),s;case 22:return Iy(i,s,r);case 24:return ys(s),u=ze(he),i===null?(p=sh(),p===null&&(p=Xt,y=ih(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=r),p=y),s.memoizedState={parent:u,cache:p},rh(s),zn(s,he,p)):((i.lanes&r)!==0&&(lh(i,s),Or(s,null,null,r),Br()),p=i.memoizedState,y=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),zn(s,he,u)):(u=y.cache,zn(s,he,u),u!==p.cache&&eh(s,[he],r,!0))),Me(i,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function rn(i){i.flags|=4}function Xy(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!tg(s)){if(s=yi.current,s!==null&&((Dt&4194048)===Dt?Ni!==null:(Dt&62914560)!==Dt&&(Dt&536870912)===0||s!==Ni))throw Cr=ah,Cm;i.flags|=8192}}function Eo(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?_p():536870912,i.lanes|=s,ba|=s)}function Vr(i,s){if(!It)switch(i.tailMode){case"hidden":s=i.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?i.tail=null:r.sibling=null;break;case"collapsed":r=i.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function jt(i){var s=i.alternate!==null&&i.alternate.child===i.child,r=0,u=0;if(s)for(var p=i.child;p!==null;)r|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)r|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=u,i.childLanes=r,s}function uv(i,s,r){var u=s.pendingProps;switch(Qc(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(s),null;case 1:return jt(s),null;case 3:return r=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),en(he),pe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(i===null||i.child===null)&&(Sr(s)?rn(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,_m())),jt(s),null;case 26:return r=s.memoizedState,i===null?(rn(s),r!==null?(jt(s),Xy(s,r)):(jt(s),s.flags&=-16777217)):r?r!==i.memoizedState?(rn(s),jt(s),Xy(s,r)):(jt(s),s.flags&=-16777217):(i.memoizedProps!==u&&rn(s),jt(s),s.flags&=-16777217),null;case 27:Gs(s),r=yt.current;var p=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&rn(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return jt(s),null}i=ut.current,Sr(s)?Sm(s):(i=X0(p,u,r),s.stateNode=i,rn(s))}return jt(s),null;case 5:if(Gs(s),r=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&rn(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return jt(s),null}if(i=ut.current,Sr(s))Sm(s);else{switch(p=Ho(yt.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?p.createElement(r,{is:u.is}):p.createElement(r)}}i[Te]=s,i[Fe]=u;t:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break t;for(;p.sibling===null;){if(p.return===null||p.return===s)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=i;t:switch(we(i,r,u),r){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&rn(s)}}return jt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&rn(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(n(166));if(i=yt.current,Sr(s)){if(i=s.stateNode,r=s.memoizedProps,u=null,p=Ue,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}i[Te]=s,i=!!(i.nodeValue===r||u!==null&&u.suppressHydrationWarning===!0||V0(i.nodeValue,r)),i||ps(s)}else i=Ho(i).createTextNode(u),i[Te]=s,s.stateNode=i}return jt(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Sr(s),u!==null&&u.dehydrated!==null){if(i===null){if(!p)throw Error(n(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Te]=s}else wr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;jt(s),p=!1}else p=_m(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(sn(s),s):(sn(s),null)}if(sn(s),(s.flags&128)!==0)return s.lanes=r,s;if(r=u!==null,i=i!==null&&i.memoizedState!==null,r){u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)}return r!==i&&r&&(s.child.flags|=8192),Eo(s,s.updateQueue),jt(s),null;case 4:return pe(),i===null&&cf(s.stateNode.containerInfo),jt(s),null;case 10:return en(s.type),jt(s),null;case 19:if($(fe),p=s.memoizedState,p===null)return jt(s),null;if(u=(s.flags&128)!==0,y=p.rendering,y===null)if(u)Vr(p,!1);else{if(ie!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=wo(i),y!==null){for(s.flags|=128,Vr(p,!1),i=y.updateQueue,s.updateQueue=i,Eo(s,i),s.subtreeFlags=0,i=r,r=s.child;r!==null;)vm(r,i),r=r.sibling;return K(fe,fe.current&1|2),s.child}i=i.sibling}p.tail!==null&&st()>Bo&&(s.flags|=128,u=!0,Vr(p,!1),s.lanes=4194304)}else{if(!u)if(i=wo(y),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,Eo(s,i),Vr(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!It)return jt(s),null}else 2*st()-p.renderingStartTime>Bo&&r!==536870912&&(s.flags|=128,u=!0,Vr(p,!1),s.lanes=4194304);p.isBackwards?(y.sibling=s.child,s.child=y):(i=p.last,i!==null?i.sibling=y:s.child=y,p.last=y)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=st(),s.sibling=null,i=fe.current,K(fe,u?i&1|2:i&1),s):(jt(s),null);case 22:case 23:return sn(s),hh(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(r&536870912)!==0&&(s.flags&128)===0&&(jt(s),s.subtreeFlags&6&&(s.flags|=8192)):jt(s),r=s.updateQueue,r!==null&&Eo(s,r.retryQueue),r=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==r&&(s.flags|=2048),i!==null&&$(gs),null;case 24:return r=null,i!==null&&(r=i.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),en(he),jt(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function cv(i,s){switch(Qc(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return en(he),pe(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Gs(s),null;case 13:if(sn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));wr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return $(fe),null;case 4:return pe(),null;case 10:return en(s.type),null;case 22:case 23:return sn(s),hh(),i!==null&&$(gs),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return en(he),null;case 25:return null;default:return null}}function Zy(i,s){switch(Qc(s),s.tag){case 3:en(he),pe();break;case 26:case 27:case 5:Gs(s);break;case 4:pe();break;case 13:sn(s);break;case 19:$(fe);break;case 10:en(s.type);break;case 22:case 23:sn(s),hh(),i!==null&&$(gs);break;case 24:en(he)}}function Fr(i,s){try{var r=s.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var p=u.next;r=p;do{if((r.tag&i)===i){u=void 0;var y=r.create,M=r.inst;u=y(),M.destroy=u}r=r.next}while(r!==p)}}catch(A){Yt(s,s.return,A)}}function Nn(i,s,r){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&i)===i){var M=u.inst,A=M.destroy;if(A!==void 0){M.destroy=void 0,p=s;var R=r,L=A;try{L()}catch(Y){Yt(p,R,Y)}}}u=u.next}while(u!==y)}}catch(Y){Yt(s,s.return,Y)}}function Wy(i){var s=i.updateQueue;if(s!==null){var r=i.stateNode;try{Um(s,r)}catch(u){Yt(i,i.return,u)}}}function Jy(i,s,r){r.props=bs(i.type,i.memoizedProps),r.state=i.memoizedState;try{r.componentWillUnmount()}catch(u){Yt(i,s,u)}}function Hr(i,s){try{var r=i.ref;if(r!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof r=="function"?i.refCleanup=r(u):r.current=u}}catch(p){Yt(i,s,p)}}function Ui(i,s){var r=i.ref,u=i.refCleanup;if(r!==null)if(typeof u=="function")try{u()}catch(p){Yt(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(p){Yt(i,s,p)}else r.current=null}function jy(i){var s=i.type,r=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&u.focus();break t;case"img":r.src?u.src=r.src:r.srcSet&&(u.srcset=r.srcSet)}}catch(p){Yt(i,i.return,p)}}function Vh(i,s,r){try{var u=i.stateNode;Bv(u,i.type,r,s),u[Fe]=s}catch(p){Yt(i,i.return,p)}}function Qy(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&qn(i.type)||i.tag===4}function Fh(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Qy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&qn(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Hh(i,s,r){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(i,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(i),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Fo));else if(u!==4&&(u===27&&qn(i.type)&&(r=i.stateNode,s=null),i=i.child,i!==null))for(Hh(i,s,r),i=i.sibling;i!==null;)Hh(i,s,r),i=i.sibling}function Co(i,s,r){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?r.insertBefore(i,s):r.appendChild(i);else if(u!==4&&(u===27&&qn(i.type)&&(r=i.stateNode),i=i.child,i!==null))for(Co(i,s,r),i=i.sibling;i!==null;)Co(i,s,r),i=i.sibling}function Ky(i){var s=i.stateNode,r=i.memoizedProps;try{for(var u=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);we(s,u,r),s[Te]=i,s[Fe]=r}catch(y){Yt(i,i.return,y)}}var ln=!1,ae=!1,qh=!1,$y=typeof WeakSet=="function"?WeakSet:Set,ge=null;function hv(i,s){if(i=i.containerInfo,df=Zo,i=cm(i),Fc(i)){if("selectionStart"in i)var r={start:i.selectionStart,end:i.selectionEnd};else t:{r=(r=i.ownerDocument)&&r.defaultView||window;var u=r.getSelection&&r.getSelection();if(u&&u.rangeCount!==0){r=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{r.nodeType,y.nodeType}catch{r=null;break t}var M=0,A=-1,R=-1,L=0,Y=0,W=i,V=null;e:for(;;){for(var F;W!==r||p!==0&&W.nodeType!==3||(A=M+p),W!==y||u!==0&&W.nodeType!==3||(R=M+u),W.nodeType===3&&(M+=W.nodeValue.length),(F=W.firstChild)!==null;)V=W,W=F;for(;;){if(W===i)break e;if(V===r&&++L===p&&(A=M),V===y&&++Y===u&&(R=M),(F=W.nextSibling)!==null)break;W=V,V=W.parentNode}W=F}r=A===-1||R===-1?null:{start:A,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(pf={focusedElem:i,selectionRange:r},Zo=!1,ge=s;ge!==null;)if(s=ge,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,ge=i;else for(;ge!==null;){switch(s=ge,y=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,r=s,p=y.memoizedProps,y=y.memoizedState,u=r.stateNode;try{var mt=bs(r.type,p,r.elementType===r.type);i=u.getSnapshotBeforeUpdate(mt,y),u.__reactInternalSnapshotBeforeUpdate=i}catch(ft){Yt(r,r.return,ft)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,r=i.nodeType,r===9)gf(i);else if(r===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":gf(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=s.sibling,i!==null){i.return=s.return,ge=i;break}ge=s.return}}function t0(i,s,r){var u=r.flags;switch(r.tag){case 0:case 11:case 15:Un(i,r),u&4&&Fr(5,r);break;case 1:if(Un(i,r),u&4)if(i=r.stateNode,s===null)try{i.componentDidMount()}catch(M){Yt(r,r.return,M)}else{var p=bs(r.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(M){Yt(r,r.return,M)}}u&64&&Wy(r),u&512&&Hr(r,r.return);break;case 3:if(Un(i,r),u&64&&(i=r.updateQueue,i!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{Um(i,s)}catch(M){Yt(r,r.return,M)}}break;case 27:s===null&&u&4&&Ky(r);case 26:case 5:Un(i,r),s===null&&u&4&&jy(r),u&512&&Hr(r,r.return);break;case 12:Un(i,r);break;case 13:Un(i,r),u&4&&n0(i,r),u&64&&(i=r.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(r=vv.bind(null,r),kv(i,r))));break;case 22:if(u=r.memoizedState!==null||ln,!u){s=s!==null&&s.memoizedState!==null||ae,p=ln;var y=ae;ln=u,(ae=s)&&!y?Ln(i,r,(r.subtreeFlags&8772)!==0):Un(i,r),ln=p,ae=y}break;case 30:break;default:Un(i,r)}}function e0(i){var s=i.alternate;s!==null&&(i.alternate=null,e0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Mc(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Jt=null,Ge=!1;function on(i,s,r){for(r=r.child;r!==null;)i0(i,s,r),r=r.sibling}function i0(i,s,r){if(_e&&typeof _e.onCommitFiberUnmount=="function")try{_e.onCommitFiberUnmount(ce,r)}catch{}switch(r.tag){case 26:ae||Ui(r,s),on(i,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ae||Ui(r,s);var u=Jt,p=Ge;qn(r.type)&&(Jt=r.stateNode,Ge=!1),on(i,s,r),jr(r.stateNode),Jt=u,Ge=p;break;case 5:ae||Ui(r,s);case 6:if(u=Jt,p=Ge,Jt=null,on(i,s,r),Jt=u,Ge=p,Jt!==null)if(Ge)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(r.stateNode)}catch(y){Yt(r,s,y)}else try{Jt.removeChild(r.stateNode)}catch(y){Yt(r,s,y)}break;case 18:Jt!==null&&(Ge?(i=Jt,P0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,r.stateNode),sl(i)):P0(Jt,r.stateNode));break;case 4:u=Jt,p=Ge,Jt=r.stateNode.containerInfo,Ge=!0,on(i,s,r),Jt=u,Ge=p;break;case 0:case 11:case 14:case 15:ae||Nn(2,r,s),ae||Nn(4,r,s),on(i,s,r);break;case 1:ae||(Ui(r,s),u=r.stateNode,typeof u.componentWillUnmount=="function"&&Jy(r,s,u)),on(i,s,r);break;case 21:on(i,s,r);break;case 22:ae=(u=ae)||r.memoizedState!==null,on(i,s,r),ae=u;break;default:on(i,s,r)}}function n0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{sl(i)}catch(r){Yt(s,s.return,r)}}function fv(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new $y),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new $y),s;default:throw Error(n(435,i.tag))}}function Gh(i,s){var r=fv(i);s.forEach(function(u){var p=Mv.bind(null,i,u);r.has(u)||(r.add(u),u.then(p,p))})}function Ke(i,s){var r=s.deletions;if(r!==null)for(var u=0;u<r.length;u++){var p=r[u],y=i,M=s,A=M;t:for(;A!==null;){switch(A.tag){case 27:if(qn(A.type)){Jt=A.stateNode,Ge=!1;break t}break;case 5:Jt=A.stateNode,Ge=!1;break t;case 3:case 4:Jt=A.stateNode.containerInfo,Ge=!0;break t}A=A.return}if(Jt===null)throw Error(n(160));i0(y,M,p),Jt=null,Ge=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)s0(s,i),s=s.sibling}var Ai=null;function s0(i,s){var r=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ke(s,i),$e(i),u&4&&(Nn(3,i,i.return),Fr(3,i),Nn(5,i,i.return));break;case 1:Ke(s,i),$e(i),u&512&&(ae||r===null||Ui(r,r.return)),u&64&&ln&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(r=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=r===null?u:r.concat(u))));break;case 26:var p=Ai;if(Ke(s,i),$e(i),u&512&&(ae||r===null||Ui(r,r.return)),u&4){var y=r!==null?r.memoizedState:null;if(u=i.memoizedState,r===null)if(u===null)if(i.stateNode===null){t:{u=i.type,r=i.memoizedProps,p=p.ownerDocument||p;e:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[hr]||y[Te]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),we(y,u,r),y[Te]=i,me(y),u=y;break t;case"link":var M=K0("link","href",p).get(u+(r.href||""));if(M){for(var A=0;A<M.length;A++)if(y=M[A],y.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&y.getAttribute("rel")===(r.rel==null?null:r.rel)&&y.getAttribute("title")===(r.title==null?null:r.title)&&y.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){M.splice(A,1);break e}}y=p.createElement(u),we(y,u,r),p.head.appendChild(y);break;case"meta":if(M=K0("meta","content",p).get(u+(r.content||""))){for(A=0;A<M.length;A++)if(y=M[A],y.getAttribute("content")===(r.content==null?null:""+r.content)&&y.getAttribute("name")===(r.name==null?null:r.name)&&y.getAttribute("property")===(r.property==null?null:r.property)&&y.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&y.getAttribute("charset")===(r.charSet==null?null:r.charSet)){M.splice(A,1);break e}}y=p.createElement(u),we(y,u,r),p.head.appendChild(y);break;default:throw Error(n(468,u))}y[Te]=i,me(y),u=y}i.stateNode=u}else $0(p,i.type,i.stateNode);else i.stateNode=Q0(p,u,i.memoizedProps);else y!==u?(y===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):y.count--,u===null?$0(p,i.type,i.stateNode):Q0(p,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Vh(i,i.memoizedProps,r.memoizedProps)}break;case 27:Ke(s,i),$e(i),u&512&&(ae||r===null||Ui(r,r.return)),r!==null&&u&4&&Vh(i,i.memoizedProps,r.memoizedProps);break;case 5:if(Ke(s,i),$e(i),u&512&&(ae||r===null||Ui(r,r.return)),i.flags&32){p=i.stateNode;try{Qs(p,"")}catch(F){Yt(i,i.return,F)}}u&4&&i.stateNode!=null&&(p=i.memoizedProps,Vh(i,p,r!==null?r.memoizedProps:p)),u&1024&&(qh=!0);break;case 6:if(Ke(s,i),$e(i),u&4){if(i.stateNode===null)throw Error(n(162));u=i.memoizedProps,r=i.stateNode;try{r.nodeValue=u}catch(F){Yt(i,i.return,F)}}break;case 3:if(Po=null,p=Ai,Ai=qo(s.containerInfo),Ke(s,i),Ai=p,$e(i),u&4&&r!==null&&r.memoizedState.isDehydrated)try{sl(s.containerInfo)}catch(F){Yt(i,i.return,F)}qh&&(qh=!1,a0(i));break;case 4:u=Ai,Ai=qo(i.stateNode.containerInfo),Ke(s,i),$e(i),Ai=u;break;case 12:Ke(s,i),$e(i);break;case 13:Ke(s,i),$e(i),i.child.flags&8192&&i.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Jh=st()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Gh(i,u)));break;case 22:p=i.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,L=ln,Y=ae;if(ln=L||p,ae=Y||R,Ke(s,i),ae=Y,ln=L,$e(i),u&8192)t:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(r===null||R||ln||ae||vs(i)),r=null,s=i;;){if(s.tag===5||s.tag===26){if(r===null){R=r=s;try{if(y=R.stateNode,p)M=y.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{A=R.stateNode;var W=R.memoizedProps.style,V=W!=null&&W.hasOwnProperty("display")?W.display:null;A.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(F){Yt(R,R.return,F)}}}else if(s.tag===6){if(r===null){R=s;try{R.stateNode.nodeValue=p?"":R.memoizedProps}catch(F){Yt(R,R.return,F)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(r=u.retryQueue,r!==null&&(u.retryQueue=null,Gh(i,r))));break;case 19:Ke(s,i),$e(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Gh(i,u)));break;case 30:break;case 21:break;default:Ke(s,i),$e(i)}}function $e(i){var s=i.flags;if(s&2){try{for(var r,u=i.return;u!==null;){if(Qy(u)){r=u;break}u=u.return}if(r==null)throw Error(n(160));switch(r.tag){case 27:var p=r.stateNode,y=Fh(i);Co(i,y,p);break;case 5:var M=r.stateNode;r.flags&32&&(Qs(M,""),r.flags&=-33);var A=Fh(i);Co(i,A,M);break;case 3:case 4:var R=r.stateNode.containerInfo,L=Fh(i);Hh(i,L,R);break;default:throw Error(n(161))}}catch(Y){Yt(i,i.return,Y)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function a0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;a0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Un(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)t0(i,s.alternate,s),s=s.sibling}function vs(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Nn(4,s,s.return),vs(s);break;case 1:Ui(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&Jy(s,s.return,r),vs(s);break;case 27:jr(s.stateNode);case 26:case 5:Ui(s,s.return),vs(s);break;case 22:s.memoizedState===null&&vs(s);break;case 30:vs(s);break;default:vs(s)}i=i.sibling}}function Ln(i,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=i,y=s,M=y.flags;switch(y.tag){case 0:case 11:case 15:Ln(p,y,r),Fr(4,y);break;case 1:if(Ln(p,y,r),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(L){Yt(u,u.return,L)}if(u=y,p=u.updateQueue,p!==null){var A=u.stateNode;try{var R=p.shared.hiddenCallbacks;if(R!==null)for(p.shared.hiddenCallbacks=null,p=0;p<R.length;p++)Nm(R[p],A)}catch(L){Yt(u,u.return,L)}}r&&M&64&&Wy(y),Hr(y,y.return);break;case 27:Ky(y);case 26:case 5:Ln(p,y,r),r&&u===null&&M&4&&jy(y),Hr(y,y.return);break;case 12:Ln(p,y,r);break;case 13:Ln(p,y,r),r&&M&4&&n0(p,y);break;case 22:y.memoizedState===null&&Ln(p,y,r),Hr(y,y.return);break;case 30:break;default:Ln(p,y,r)}s=s.sibling}}function Ph(i,s){var r=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==r&&(i!=null&&i.refCount++,r!=null&&Tr(r))}function Yh(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Tr(i))}function Li(i,s,r,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)r0(i,s,r,u),s=s.sibling}function r0(i,s,r,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Li(i,s,r,u),p&2048&&Fr(9,s);break;case 1:Li(i,s,r,u);break;case 3:Li(i,s,r,u),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Tr(i)));break;case 12:if(p&2048){Li(i,s,r,u),i=s.stateNode;try{var y=s.memoizedProps,M=y.id,A=y.onPostCommit;typeof A=="function"&&A(M,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(R){Yt(s,s.return,R)}}else Li(i,s,r,u);break;case 13:Li(i,s,r,u);break;case 23:break;case 22:y=s.stateNode,M=s.alternate,s.memoizedState!==null?y._visibility&2?Li(i,s,r,u):qr(i,s):y._visibility&2?Li(i,s,r,u):(y._visibility|=2,ya(i,s,r,u,(s.subtreeFlags&10256)!==0)),p&2048&&Ph(M,s);break;case 24:Li(i,s,r,u),p&2048&&Yh(s.alternate,s);break;default:Li(i,s,r,u)}}function ya(i,s,r,u,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=i,M=s,A=r,R=u,L=M.flags;switch(M.tag){case 0:case 11:case 15:ya(y,M,A,R,p),Fr(8,M);break;case 23:break;case 22:var Y=M.stateNode;M.memoizedState!==null?Y._visibility&2?ya(y,M,A,R,p):qr(y,M):(Y._visibility|=2,ya(y,M,A,R,p)),p&&L&2048&&Ph(M.alternate,M);break;case 24:ya(y,M,A,R,p),p&&L&2048&&Yh(M.alternate,M);break;default:ya(y,M,A,R,p)}s=s.sibling}}function qr(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=i,u=s,p=u.flags;switch(u.tag){case 22:qr(r,u),p&2048&&Ph(u.alternate,u);break;case 24:qr(r,u),p&2048&&Yh(u.alternate,u);break;default:qr(r,u)}s=s.sibling}}var Gr=8192;function ga(i){if(i.subtreeFlags&Gr)for(i=i.child;i!==null;)l0(i),i=i.sibling}function l0(i){switch(i.tag){case 26:ga(i),i.flags&Gr&&i.memoizedState!==null&&Qv(Ai,i.memoizedState,i.memoizedProps);break;case 5:ga(i);break;case 3:case 4:var s=Ai;Ai=qo(i.stateNode.containerInfo),ga(i),Ai=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Gr,Gr=16777216,ga(i),Gr=s):ga(i));break;default:ga(i)}}function o0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Pr(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var u=s[r];ge=u,c0(u,i)}o0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)u0(i),i=i.sibling}function u0(i){switch(i.tag){case 0:case 11:case 15:Pr(i),i.flags&2048&&Nn(9,i,i.return);break;case 3:Pr(i);break;case 12:Pr(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Ro(i)):Pr(i);break;default:Pr(i)}}function Ro(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var u=s[r];ge=u,c0(u,i)}o0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Nn(8,s,s.return),Ro(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,Ro(s));break;default:Ro(s)}i=i.sibling}}function c0(i,s){for(;ge!==null;){var r=ge;switch(r.tag){case 0:case 11:case 15:Nn(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var u=r.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Tr(r.memoizedState.cache)}if(u=r.child,u!==null)u.return=r,ge=u;else t:for(r=i;ge!==null;){u=ge;var p=u.sibling,y=u.return;if(e0(u),u===r){ge=null;break t}if(p!==null){p.return=y,ge=p;break t}ge=y}}}var dv={getCacheForType:function(i){var s=ze(he),r=s.data.get(i);return r===void 0&&(r=i(),s.data.set(i,r)),r}},pv=typeof WeakMap=="function"?WeakMap:Map,Vt=0,Xt=null,Ct=null,Dt=0,Ft=0,ti=null,In=!1,xa=!1,Xh=!1,un=0,ie=0,kn=0,Ms=0,Zh=0,gi=0,ba=0,Yr=null,Pe=null,Wh=!1,Jh=0,Bo=1/0,Oo=null,Vn=null,Se=0,Fn=null,va=null,Ma=0,jh=0,Qh=null,h0=null,Xr=0,Kh=null;function ei(){if((Vt&2)!==0&&Dt!==0)return Dt&-Dt;if(q.T!==null){var i=oa;return i!==0?i:rf()}return zp()}function f0(){gi===0&&(gi=(Dt&536870912)===0||It?wp():536870912);var i=yi.current;return i!==null&&(i.flags|=32),gi}function ii(i,s,r){(i===Xt&&(Ft===2||Ft===9)||i.cancelPendingCommit!==null)&&(Sa(i,0),Hn(i,Dt,gi,!1)),cr(i,r),((Vt&2)===0||i!==Xt)&&(i===Xt&&((Vt&2)===0&&(Ms|=r),ie===4&&Hn(i,Dt,gi,!1)),Ii(i))}function d0(i,s,r){if((Vt&6)!==0)throw Error(n(327));var u=!r&&(s&124)===0&&(s&i.expiredLanes)===0||ur(i,s),p=u?gv(i,s):ef(i,s,!0),y=u;do{if(p===0){xa&&!u&&Hn(i,s,0,!1);break}else{if(r=i.current.alternate,y&&!mv(r)){p=ef(i,s,!1),y=!1;continue}if(p===2){if(y=s,i.errorRecoveryDisabledLanes&y)var M=0;else M=i.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){s=M;t:{var A=i;p=Yr;var R=A.current.memoizedState.isDehydrated;if(R&&(Sa(A,M).flags|=256),M=ef(A,M,!1),M!==2){if(Xh&&!R){A.errorRecoveryDisabledLanes|=y,Ms|=y,p=4;break t}y=Pe,Pe=p,y!==null&&(Pe===null?Pe=y:Pe.push.apply(Pe,y))}p=M}if(y=!1,p!==2)continue}}if(p===1){Sa(i,0),Hn(i,s,0,!0);break}t:{switch(u=i,y=p,y){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:Hn(u,s,gi,!In);break t;case 2:Pe=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(p=Jh+300-st(),10<p)){if(Hn(u,s,gi,!In),ql(u,0,!0)!==0)break t;u.timeoutHandle=q0(p0.bind(null,u,r,Pe,Oo,Wh,s,gi,Ms,ba,In,y,2,-0,0),p);break t}p0(u,r,Pe,Oo,Wh,s,gi,Ms,ba,In,y,0,-0,0)}}break}while(!0);Ii(i)}function p0(i,s,r,u,p,y,M,A,R,L,Y,W,V,F){if(i.timeoutHandle=-1,W=s.subtreeFlags,(W&8192||(W&16785408)===16785408)&&($r={stylesheets:null,count:0,unsuspend:jv},l0(s),W=Kv(),W!==null)){i.cancelPendingCommit=W(M0.bind(null,i,s,y,r,u,p,M,A,R,Y,1,V,F)),Hn(i,y,M,!L);return}M0(i,s,y,r,u,p,M,A,R)}function mv(i){for(var s=i;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var u=0;u<r.length;u++){var p=r[u],y=p.getSnapshot;p=p.value;try{if(!je(y(),p))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Hn(i,s,r,u){s&=~Zh,s&=~Ms,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var p=s;0<p;){var y=31-Ae(p),M=1<<y;u[y]=-1,p&=~M}r!==0&&Ap(i,r,s)}function Do(){return(Vt&6)===0?(Zr(0),!1):!0}function $h(){if(Ct!==null){if(Ft===0)var i=Ct.return;else i=Ct,tn=ms=null,yh(i),pa=null,Ir=0,i=Ct;for(;i!==null;)Zy(i.alternate,i),i=i.return;Ct=null}}function Sa(i,s){var r=i.timeoutHandle;r!==-1&&(i.timeoutHandle=-1,Dv(r)),r=i.cancelPendingCommit,r!==null&&(i.cancelPendingCommit=null,r()),$h(),Xt=i,Ct=r=Qi(i.current,null),Dt=s,Ft=0,ti=null,In=!1,xa=ur(i,s),Xh=!1,ba=gi=Zh=Ms=kn=ie=0,Pe=Yr=null,Wh=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var p=31-Ae(u),y=1<<p;s|=i[p],u&=~y}return un=s,to(),r}function m0(i,s){At=null,q.H=vo,s===Er||s===uo?(s=Om(),Ft=3):s===Cm?(s=Om(),Ft=4):Ft=s===Dy?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ti=s,Ct===null&&(ie=1,Ao(i,fi(s,i.current)))}function y0(){var i=q.H;return q.H=vo,i===null?vo:i}function g0(){var i=q.A;return q.A=dv,i}function tf(){ie=4,In||(Dt&4194048)!==Dt&&yi.current!==null||(xa=!0),(kn&134217727)===0&&(Ms&134217727)===0||Xt===null||Hn(Xt,Dt,gi,!1)}function ef(i,s,r){var u=Vt;Vt|=2;var p=y0(),y=g0();(Xt!==i||Dt!==s)&&(Oo=null,Sa(i,s)),s=!1;var M=ie;t:do try{if(Ft!==0&&Ct!==null){var A=Ct,R=ti;switch(Ft){case 8:$h(),M=6;break t;case 3:case 2:case 9:case 6:yi.current===null&&(s=!0);var L=Ft;if(Ft=0,ti=null,wa(i,A,R,L),r&&xa){M=0;break t}break;default:L=Ft,Ft=0,ti=null,wa(i,A,R,L)}}yv(),M=ie;break}catch(Y){m0(i,Y)}while(!0);return s&&i.shellSuspendCounter++,tn=ms=null,Vt=u,q.H=p,q.A=y,Ct===null&&(Xt=null,Dt=0,to()),M}function yv(){for(;Ct!==null;)x0(Ct)}function gv(i,s){var r=Vt;Vt|=2;var u=y0(),p=g0();Xt!==i||Dt!==s?(Oo=null,Bo=st()+500,Sa(i,s)):xa=ur(i,s);t:do try{if(Ft!==0&&Ct!==null){s=Ct;var y=ti;e:switch(Ft){case 1:Ft=0,ti=null,wa(i,s,y,1);break;case 2:case 9:if(Rm(y)){Ft=0,ti=null,b0(s);break}s=function(){Ft!==2&&Ft!==9||Xt!==i||(Ft=7),Ii(i)},y.then(s,s);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Rm(y)?(Ft=0,ti=null,b0(s)):(Ft=0,ti=null,wa(i,s,y,7));break;case 5:var M=null;switch(Ct.tag){case 26:M=Ct.memoizedState;case 5:case 27:var A=Ct;if(!M||tg(M)){Ft=0,ti=null;var R=A.sibling;if(R!==null)Ct=R;else{var L=A.return;L!==null?(Ct=L,No(L)):Ct=null}break e}}Ft=0,ti=null,wa(i,s,y,5);break;case 6:Ft=0,ti=null,wa(i,s,y,6);break;case 8:$h(),ie=6;break t;default:throw Error(n(462))}}xv();break}catch(Y){m0(i,Y)}while(!0);return tn=ms=null,q.H=u,q.A=p,Vt=r,Ct!==null?0:(Xt=null,Dt=0,to(),ie)}function xv(){for(;Ct!==null&&!it();)x0(Ct)}function x0(i){var s=Yy(i.alternate,i,un);i.memoizedProps=i.pendingProps,s===null?No(i):Ct=s}function b0(i){var s=i,r=s.alternate;switch(s.tag){case 15:case 0:s=Vy(r,s,s.pendingProps,s.type,void 0,Dt);break;case 11:s=Vy(r,s,s.pendingProps,s.type.render,s.ref,Dt);break;case 5:yh(s);default:Zy(r,s),s=Ct=vm(s,un),s=Yy(r,s,un)}i.memoizedProps=i.pendingProps,s===null?No(i):Ct=s}function wa(i,s,r,u){tn=ms=null,yh(s),pa=null,Ir=0;var p=s.return;try{if(lv(i,p,s,r,Dt)){ie=1,Ao(i,fi(r,i.current)),Ct=null;return}}catch(y){if(p!==null)throw Ct=p,y;ie=1,Ao(i,fi(r,i.current)),Ct=null;return}s.flags&32768?(It||u===1?i=!0:xa||(Dt&536870912)!==0?i=!1:(In=i=!0,(u===2||u===9||u===3||u===6)&&(u=yi.current,u!==null&&u.tag===13&&(u.flags|=16384))),v0(s,i)):No(s)}function No(i){var s=i;do{if((s.flags&32768)!==0){v0(s,In);return}i=s.return;var r=uv(s.alternate,s,un);if(r!==null){Ct=r;return}if(s=s.sibling,s!==null){Ct=s;return}Ct=s=i}while(s!==null);ie===0&&(ie=5)}function v0(i,s){do{var r=cv(i.alternate,i);if(r!==null){r.flags&=32767,Ct=r;return}if(r=i.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(i=i.sibling,i!==null)){Ct=i;return}Ct=i=r}while(i!==null);ie=6,Ct=null}function M0(i,s,r,u,p,y,M,A,R){i.cancelPendingCommit=null;do Uo();while(Se!==0);if((Vt&6)!==0)throw Error(n(327));if(s!==null){if(s===i.current)throw Error(n(177));if(y=s.lanes|s.childLanes,y|=Yc,j1(i,r,y,M,A,R),i===Xt&&(Ct=Xt=null,Dt=0),va=s,Fn=i,Ma=r,jh=y,Qh=p,h0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Sv(kt,function(){return T0(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=q.T,q.T=null,p=Q.p,Q.p=2,M=Vt,Vt|=4;try{hv(i,s,r)}finally{Vt=M,Q.p=p,q.T=u}}Se=1,S0(),w0(),_0()}}function S0(){if(Se===1){Se=0;var i=Fn,s=va,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var u=Q.p;Q.p=2;var p=Vt;Vt|=4;try{s0(s,i);var y=pf,M=cm(i.containerInfo),A=y.focusedElem,R=y.selectionRange;if(M!==A&&A&&A.ownerDocument&&um(A.ownerDocument.documentElement,A)){if(R!==null&&Fc(A)){var L=R.start,Y=R.end;if(Y===void 0&&(Y=L),"selectionStart"in A)A.selectionStart=L,A.selectionEnd=Math.min(Y,A.value.length);else{var W=A.ownerDocument||document,V=W&&W.defaultView||window;if(V.getSelection){var F=V.getSelection(),mt=A.textContent.length,ft=Math.min(R.start,mt),Gt=R.end===void 0?ft:Math.min(R.end,mt);!F.extend&&ft>Gt&&(M=Gt,Gt=ft,ft=M);var N=om(A,ft),O=om(A,Gt);if(N&&O&&(F.rangeCount!==1||F.anchorNode!==N.node||F.anchorOffset!==N.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var U=W.createRange();U.setStart(N.node,N.offset),F.removeAllRanges(),ft>Gt?(F.addRange(U),F.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),F.addRange(U))}}}}for(W=[],F=A;F=F.parentNode;)F.nodeType===1&&W.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<W.length;A++){var Z=W[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Zo=!!df,pf=df=null}finally{Vt=p,Q.p=u,q.T=r}}i.current=s,Se=2}}function w0(){if(Se===2){Se=0;var i=Fn,s=va,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var u=Q.p;Q.p=2;var p=Vt;Vt|=4;try{t0(i,s.alternate,s)}finally{Vt=p,Q.p=u,q.T=r}}Se=3}}function _0(){if(Se===4||Se===3){Se=0,nt();var i=Fn,s=va,r=Ma,u=h0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Se=5:(Se=0,va=Fn=null,A0(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Vn=null),bc(r),s=s.stateNode,_e&&typeof _e.onCommitFiberRoot=="function")try{_e.onCommitFiberRoot(ce,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=q.T,p=Q.p,Q.p=2,q.T=null;try{for(var y=i.onRecoverableError,M=0;M<u.length;M++){var A=u[M];y(A.value,{componentStack:A.stack})}}finally{q.T=s,Q.p=p}}(Ma&3)!==0&&Uo(),Ii(i),p=i.pendingLanes,(r&4194090)!==0&&(p&42)!==0?i===Kh?Xr++:(Xr=0,Kh=i):Xr=0,Zr(0)}}function A0(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Tr(s)))}function Uo(i){return S0(),w0(),_0(),T0()}function T0(){if(Se!==5)return!1;var i=Fn,s=jh;jh=0;var r=bc(Ma),u=q.T,p=Q.p;try{Q.p=32>r?32:r,q.T=null,r=Qh,Qh=null;var y=Fn,M=Ma;if(Se=0,va=Fn=null,Ma=0,(Vt&6)!==0)throw Error(n(331));var A=Vt;if(Vt|=4,u0(y.current),r0(y,y.current,M,r),Vt=A,Zr(0,!1),_e&&typeof _e.onPostCommitFiberRoot=="function")try{_e.onPostCommitFiberRoot(ce,y)}catch{}return!0}finally{Q.p=p,q.T=u,A0(i,s)}}function z0(i,s,r){s=fi(r,s),s=Rh(i.stateNode,s,2),i=Rn(i,s,2),i!==null&&(cr(i,2),Ii(i))}function Yt(i,s,r){if(i.tag===3)z0(i,i,r);else for(;s!==null;){if(s.tag===3){z0(s,i,r);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Vn===null||!Vn.has(u))){i=fi(r,i),r=By(2),u=Rn(s,r,2),u!==null&&(Oy(r,u,s,i),cr(u,2),Ii(u));break}}s=s.return}}function nf(i,s,r){var u=i.pingCache;if(u===null){u=i.pingCache=new pv;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(r)||(Xh=!0,p.add(r),i=bv.bind(null,i,s,r),s.then(i,i))}function bv(i,s,r){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&r,i.warmLanes&=~r,Xt===i&&(Dt&r)===r&&(ie===4||ie===3&&(Dt&62914560)===Dt&&300>st()-Jh?(Vt&2)===0&&Sa(i,0):Zh|=r,ba===Dt&&(ba=0)),Ii(i)}function E0(i,s){s===0&&(s=_p()),i=sa(i,s),i!==null&&(cr(i,s),Ii(i))}function vv(i){var s=i.memoizedState,r=0;s!==null&&(r=s.retryLane),E0(i,r)}function Mv(i,s){var r=0;switch(i.tag){case 13:var u=i.stateNode,p=i.memoizedState;p!==null&&(r=p.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(n(314))}u!==null&&u.delete(s),E0(i,r)}function Sv(i,s){return Je(i,s)}var Lo=null,_a=null,sf=!1,Io=!1,af=!1,Ss=0;function Ii(i){i!==_a&&i.next===null&&(_a===null?Lo=_a=i:_a=_a.next=i),Io=!0,sf||(sf=!0,_v())}function Zr(i,s){if(!af&&Io){af=!0;do for(var r=!1,u=Lo;u!==null;){if(i!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var M=u.suspendedLanes,A=u.pingedLanes;y=(1<<31-Ae(42|i)+1)-1,y&=p&~(M&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(r=!0,O0(u,y))}else y=Dt,y=ql(u,u===Xt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||ur(u,y)||(r=!0,O0(u,y));u=u.next}while(r);af=!1}}function wv(){C0()}function C0(){Io=sf=!1;var i=0;Ss!==0&&(Ov()&&(i=Ss),Ss=0);for(var s=st(),r=null,u=Lo;u!==null;){var p=u.next,y=R0(u,s);y===0?(u.next=null,r===null?Lo=p:r.next=p,p===null&&(_a=r)):(r=u,(i!==0||(y&3)!==0)&&(Io=!0)),u=p}Zr(i)}function R0(i,s){for(var r=i.suspendedLanes,u=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var M=31-Ae(y),A=1<<M,R=p[M];R===-1?((A&r)===0||(A&u)!==0)&&(p[M]=J1(A,s)):R<=s&&(i.expiredLanes|=A),y&=~A}if(s=Xt,r=Dt,r=ql(i,i===s?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,r===0||i===s&&(Ft===2||Ft===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&tt(u),i.callbackNode=null,i.callbackPriority=0;if((r&3)===0||ur(i,r)){if(s=r&-r,s===i.callbackPriority)return s;switch(u!==null&&tt(u),bc(r)){case 2:case 8:r=Mt;break;case 32:r=kt;break;case 268435456:r=te;break;default:r=kt}return u=B0.bind(null,i),r=Je(r,u),i.callbackPriority=s,i.callbackNode=r,s}return u!==null&&u!==null&&tt(u),i.callbackPriority=2,i.callbackNode=null,2}function B0(i,s){if(Se!==0&&Se!==5)return i.callbackNode=null,i.callbackPriority=0,null;var r=i.callbackNode;if(Uo()&&i.callbackNode!==r)return null;var u=Dt;return u=ql(i,i===Xt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(d0(i,u,s),R0(i,st()),i.callbackNode!=null&&i.callbackNode===r?B0.bind(null,i):null)}function O0(i,s){if(Uo())return null;d0(i,s,!0)}function _v(){Nv(function(){(Vt&6)!==0?Je(Ot,wv):C0()})}function rf(){return Ss===0&&(Ss=wp()),Ss}function D0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Zl(""+i)}function N0(i,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,i.id&&r.setAttribute("form",i.id),s.parentNode.insertBefore(r,s),i=new FormData(i),r.parentNode.removeChild(r),i}function Av(i,s,r,u,p){if(s==="submit"&&r&&r.stateNode===p){var y=D0((p[Fe]||null).action),M=u.submitter;M&&(s=(s=M[Fe]||null)?D0(s.formAction):M.getAttribute("formAction"),s!==null&&(y=s,M=null));var A=new Ql("action","action",null,u,p);i.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ss!==0){var R=M?N0(p,M):new FormData(p);Ah(r,{pending:!0,data:R,method:p.method,action:y},null,R)}}else typeof y=="function"&&(A.preventDefault(),R=M?N0(p,M):new FormData(p),Ah(r,{pending:!0,data:R,method:p.method,action:y},y,R))},currentTarget:p}]})}}for(var lf=0;lf<Pc.length;lf++){var of=Pc[lf],Tv=of.toLowerCase(),zv=of[0].toUpperCase()+of.slice(1);_i(Tv,"on"+zv)}_i(dm,"onAnimationEnd"),_i(pm,"onAnimationIteration"),_i(mm,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(Pb,"onTransitionRun"),_i(Yb,"onTransitionStart"),_i(Xb,"onTransitionCancel"),_i(ym,"onTransitionEnd"),Ws("onMouseEnter",["mouseout","mouseover"]),Ws("onMouseLeave",["mouseout","mouseover"]),Ws("onPointerEnter",["pointerout","pointerover"]),Ws("onPointerLeave",["pointerout","pointerover"]),rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rs("onBeforeInput",["compositionend","keypress","textInput","paste"]),rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ev=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wr));function U0(i,s){s=(s&4)!==0;for(var r=0;r<i.length;r++){var u=i[r],p=u.event;u=u.listeners;t:{var y=void 0;if(s)for(var M=u.length-1;0<=M;M--){var A=u[M],R=A.instance,L=A.currentTarget;if(A=A.listener,R!==y&&p.isPropagationStopped())break t;y=A,p.currentTarget=L;try{y(p)}catch(Y){_o(Y)}p.currentTarget=null,y=R}else for(M=0;M<u.length;M++){if(A=u[M],R=A.instance,L=A.currentTarget,A=A.listener,R!==y&&p.isPropagationStopped())break t;y=A,p.currentTarget=L;try{y(p)}catch(Y){_o(Y)}p.currentTarget=null,y=R}}}}function Rt(i,s){var r=s[vc];r===void 0&&(r=s[vc]=new Set);var u=i+"__bubble";r.has(u)||(L0(s,i,2,!1),r.add(u))}function uf(i,s,r){var u=0;s&&(u|=4),L0(r,i,u,s)}var ko="_reactListening"+Math.random().toString(36).slice(2);function cf(i){if(!i[ko]){i[ko]=!0,Cp.forEach(function(r){r!=="selectionchange"&&(Ev.has(r)||uf(r,!1,i),uf(r,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[ko]||(s[ko]=!0,uf("selectionchange",!1,s))}}function L0(i,s,r,u){switch(rg(s)){case 2:var p=eM;break;case 8:p=iM;break;default:p=_f}r=p.bind(null,s,r,i),p=void 0,!Bc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?i.addEventListener(s,r,{capture:!0,passive:p}):i.addEventListener(s,r,!0):p!==void 0?i.addEventListener(s,r,{passive:p}):i.addEventListener(s,r,!1)}function hf(i,s,r,u,p){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var M=u.tag;if(M===3||M===4){var A=u.stateNode.containerInfo;if(A===p)break;if(M===4)for(M=u.return;M!==null;){var R=M.tag;if((R===3||R===4)&&M.stateNode.containerInfo===p)return;M=M.return}for(;A!==null;){if(M=Ys(A),M===null)return;if(R=M.tag,R===5||R===6||R===26||R===27){u=y=M;continue t}A=A.parentNode}}u=u.return}Gp(function(){var L=y,Y=Cc(r),W=[];t:{var V=gm.get(i);if(V!==void 0){var F=Ql,mt=i;switch(i){case"keypress":if(Jl(r)===0)break t;case"keydown":case"keyup":F=Sb;break;case"focusin":mt="focus",F=Uc;break;case"focusout":mt="blur",F=Uc;break;case"beforeblur":case"afterblur":F=Uc;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Xp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=cb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Ab;break;case dm:case pm:case mm:F=db;break;case ym:F=zb;break;case"scroll":case"scrollend":F=ob;break;case"wheel":F=Cb;break;case"copy":case"cut":case"paste":F=mb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Wp;break;case"toggle":case"beforetoggle":F=Bb}var ft=(s&4)!==0,Gt=!ft&&(i==="scroll"||i==="scrollend"),N=ft?V!==null?V+"Capture":null:V;ft=[];for(var O=L,U;O!==null;){var Z=O;if(U=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||U===null||N===null||(Z=dr(O,N),Z!=null&&ft.push(Jr(O,Z,U))),Gt)break;O=O.return}0<ft.length&&(V=new F(V,mt,null,r,Y),W.push({event:V,listeners:ft}))}}if((s&7)===0){t:{if(V=i==="mouseover"||i==="pointerover",F=i==="mouseout"||i==="pointerout",V&&r!==Ec&&(mt=r.relatedTarget||r.fromElement)&&(Ys(mt)||mt[Ps]))break t;if((F||V)&&(V=Y.window===Y?Y:(V=Y.ownerDocument)?V.defaultView||V.parentWindow:window,F?(mt=r.relatedTarget||r.toElement,F=L,mt=mt?Ys(mt):null,mt!==null&&(Gt=l(mt),ft=mt.tag,mt!==Gt||ft!==5&&ft!==27&&ft!==6)&&(mt=null)):(F=null,mt=L),F!==mt)){if(ft=Xp,Z="onMouseLeave",N="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(ft=Wp,Z="onPointerLeave",N="onPointerEnter",O="pointer"),Gt=F==null?V:fr(F),U=mt==null?V:fr(mt),V=new ft(Z,O+"leave",F,r,Y),V.target=Gt,V.relatedTarget=U,Z=null,Ys(Y)===L&&(ft=new ft(N,O+"enter",mt,r,Y),ft.target=U,ft.relatedTarget=Gt,Z=ft),Gt=Z,F&&mt)e:{for(ft=F,N=mt,O=0,U=ft;U;U=Aa(U))O++;for(U=0,Z=N;Z;Z=Aa(Z))U++;for(;0<O-U;)ft=Aa(ft),O--;for(;0<U-O;)N=Aa(N),U--;for(;O--;){if(ft===N||N!==null&&ft===N.alternate)break e;ft=Aa(ft),N=Aa(N)}ft=null}else ft=null;F!==null&&I0(W,V,F,ft,!1),mt!==null&&Gt!==null&&I0(W,Gt,mt,ft,!0)}}t:{if(V=L?fr(L):window,F=V.nodeName&&V.nodeName.toLowerCase(),F==="select"||F==="input"&&V.type==="file")var at=im;else if(tm(V))if(nm)at=Hb;else{at=Vb;var Et=kb}else F=V.nodeName,!F||F.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?L&&zc(L.elementType)&&(at=im):at=Fb;if(at&&(at=at(i,L))){em(W,at,r,Y);break t}Et&&Et(i,V,L),i==="focusout"&&L&&V.type==="number"&&L.memoizedProps.value!=null&&Tc(V,"number",V.value)}switch(Et=L?fr(L):window,i){case"focusin":(tm(Et)||Et.contentEditable==="true")&&(ea=Et,Hc=L,Mr=null);break;case"focusout":Mr=Hc=ea=null;break;case"mousedown":qc=!0;break;case"contextmenu":case"mouseup":case"dragend":qc=!1,hm(W,r,Y);break;case"selectionchange":if(Gb)break;case"keydown":case"keyup":hm(W,r,Y)}var ht;if(Ic)t:{switch(i){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else ta?Kp(i,r)&&(pt="onCompositionEnd"):i==="keydown"&&r.keyCode===229&&(pt="onCompositionStart");pt&&(Jp&&r.locale!=="ko"&&(ta||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&ta&&(ht=Pp()):(Tn=Y,Oc="value"in Tn?Tn.value:Tn.textContent,ta=!0)),Et=Vo(L,pt),0<Et.length&&(pt=new Zp(pt,i,null,r,Y),W.push({event:pt,listeners:Et}),ht?pt.data=ht:(ht=$p(r),ht!==null&&(pt.data=ht)))),(ht=Db?Nb(i,r):Ub(i,r))&&(pt=Vo(L,"onBeforeInput"),0<pt.length&&(Et=new Zp("onBeforeInput","beforeinput",null,r,Y),W.push({event:Et,listeners:pt}),Et.data=ht)),Av(W,i,L,r,Y)}U0(W,s)})}function Jr(i,s,r){return{instance:i,listener:s,currentTarget:r}}function Vo(i,s){for(var r=s+"Capture",u=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=dr(i,r),p!=null&&u.unshift(Jr(i,p,y)),p=dr(i,s),p!=null&&u.push(Jr(i,p,y))),i.tag===3)return u;i=i.return}return[]}function Aa(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function I0(i,s,r,u,p){for(var y=s._reactName,M=[];r!==null&&r!==u;){var A=r,R=A.alternate,L=A.stateNode;if(A=A.tag,R!==null&&R===u)break;A!==5&&A!==26&&A!==27||L===null||(R=L,p?(L=dr(r,y),L!=null&&M.unshift(Jr(r,L,R))):p||(L=dr(r,y),L!=null&&M.push(Jr(r,L,R)))),r=r.return}M.length!==0&&i.push({event:s,listeners:M})}var Cv=/\r\n?/g,Rv=/\u0000|\uFFFD/g;function k0(i){return(typeof i=="string"?i:""+i).replace(Cv,`
`).replace(Rv,"")}function V0(i,s){return s=k0(s),k0(i)===s}function Fo(){}function qt(i,s,r,u,p,y){switch(r){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Qs(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Qs(i,""+u);break;case"className":Pl(i,"class",u);break;case"tabIndex":Pl(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Pl(i,r,u);break;case"style":Hp(i,u,y);break;case"data":if(s!=="object"){Pl(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||r!=="href")){i.removeAttribute(r);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(r);break}u=Zl(""+u),i.setAttribute(r,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(r==="formAction"?(s!=="input"&&qt(i,s,"name",p.name,p,null),qt(i,s,"formEncType",p.formEncType,p,null),qt(i,s,"formMethod",p.formMethod,p,null),qt(i,s,"formTarget",p.formTarget,p,null)):(qt(i,s,"encType",p.encType,p,null),qt(i,s,"method",p.method,p,null),qt(i,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(r);break}u=Zl(""+u),i.setAttribute(r,u);break;case"onClick":u!=null&&(i.onclick=Fo);break;case"onScroll":u!=null&&Rt("scroll",i);break;case"onScrollEnd":u!=null&&Rt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(r=u.__html,r!=null){if(p.children!=null)throw Error(n(60));i.innerHTML=r}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}r=Zl(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(r,""+u):i.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(r,""):i.removeAttribute(r);break;case"capture":case"download":u===!0?i.setAttribute(r,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(r,u):i.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(r,u):i.removeAttribute(r);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(r):i.setAttribute(r,u);break;case"popover":Rt("beforetoggle",i),Rt("toggle",i),Gl(i,"popover",u);break;case"xlinkActuate":Ji(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ji(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ji(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ji(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ji(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ji(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ji(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ji(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ji(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Gl(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=rb.get(r)||r,Gl(i,r,u))}}function ff(i,s,r,u,p,y){switch(r){case"style":Hp(i,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(r=u.__html,r!=null){if(p.children!=null)throw Error(n(60));i.innerHTML=r}}break;case"children":typeof u=="string"?Qs(i,u):(typeof u=="number"||typeof u=="bigint")&&Qs(i,""+u);break;case"onScroll":u!=null&&Rt("scroll",i);break;case"onScrollEnd":u!=null&&Rt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Fo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rp.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(p=r.endsWith("Capture"),s=r.slice(2,p?r.length-7:void 0),y=i[Fe]||null,y=y!=null?y[r]:null,typeof y=="function"&&i.removeEventListener(s,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(r in i?i[r]=null:i.hasAttribute(r)&&i.removeAttribute(r)),i.addEventListener(s,u,p);break t}r in i?i[r]=u:u===!0?i.setAttribute(r,""):Gl(i,r,u)}}}function we(i,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",i),Rt("load",i);var u=!1,p=!1,y;for(y in r)if(r.hasOwnProperty(y)){var M=r[y];if(M!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:qt(i,s,y,M,r,null)}}p&&qt(i,s,"srcSet",r.srcSet,r,null),u&&qt(i,s,"src",r.src,r,null);return;case"input":Rt("invalid",i);var A=y=M=p=null,R=null,L=null;for(u in r)if(r.hasOwnProperty(u)){var Y=r[u];if(Y!=null)switch(u){case"name":p=Y;break;case"type":M=Y;break;case"checked":R=Y;break;case"defaultChecked":L=Y;break;case"value":y=Y;break;case"defaultValue":A=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(n(137,s));break;default:qt(i,s,u,Y,r,null)}}Ip(i,y,A,R,L,M,p,!1),Yl(i);return;case"select":Rt("invalid",i),u=M=y=null;for(p in r)if(r.hasOwnProperty(p)&&(A=r[p],A!=null))switch(p){case"value":y=A;break;case"defaultValue":M=A;break;case"multiple":u=A;default:qt(i,s,p,A,r,null)}s=y,r=M,i.multiple=!!u,s!=null?js(i,!!u,s,!1):r!=null&&js(i,!!u,r,!0);return;case"textarea":Rt("invalid",i),y=p=u=null;for(M in r)if(r.hasOwnProperty(M)&&(A=r[M],A!=null))switch(M){case"value":u=A;break;case"defaultValue":p=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(n(91));break;default:qt(i,s,M,A,r,null)}Vp(i,u,p,y),Yl(i);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(u=r[R],u!=null))switch(R){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:qt(i,s,R,u,r,null)}return;case"dialog":Rt("beforetoggle",i),Rt("toggle",i),Rt("cancel",i),Rt("close",i);break;case"iframe":case"object":Rt("load",i);break;case"video":case"audio":for(u=0;u<Wr.length;u++)Rt(Wr[u],i);break;case"image":Rt("error",i),Rt("load",i);break;case"details":Rt("toggle",i);break;case"embed":case"source":case"link":Rt("error",i),Rt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in r)if(r.hasOwnProperty(L)&&(u=r[L],u!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:qt(i,s,L,u,r,null)}return;default:if(zc(s)){for(Y in r)r.hasOwnProperty(Y)&&(u=r[Y],u!==void 0&&ff(i,s,Y,u,r,void 0));return}}for(A in r)r.hasOwnProperty(A)&&(u=r[A],u!=null&&qt(i,s,A,u,r,null))}function Bv(i,s,r,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,M=null,A=null,R=null,L=null,Y=null;for(F in r){var W=r[F];if(r.hasOwnProperty(F)&&W!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":R=W;default:u.hasOwnProperty(F)||qt(i,s,F,null,u,W)}}for(var V in u){var F=u[V];if(W=r[V],u.hasOwnProperty(V)&&(F!=null||W!=null))switch(V){case"type":y=F;break;case"name":p=F;break;case"checked":L=F;break;case"defaultChecked":Y=F;break;case"value":M=F;break;case"defaultValue":A=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(n(137,s));break;default:F!==W&&qt(i,s,V,F,u,W)}}Ac(i,M,A,R,L,Y,y,p);return;case"select":F=M=A=V=null;for(y in r)if(R=r[y],r.hasOwnProperty(y)&&R!=null)switch(y){case"value":break;case"multiple":F=R;default:u.hasOwnProperty(y)||qt(i,s,y,null,u,R)}for(p in u)if(y=u[p],R=r[p],u.hasOwnProperty(p)&&(y!=null||R!=null))switch(p){case"value":V=y;break;case"defaultValue":A=y;break;case"multiple":M=y;default:y!==R&&qt(i,s,p,y,u,R)}s=A,r=M,u=F,V!=null?js(i,!!r,V,!1):!!u!=!!r&&(s!=null?js(i,!!r,s,!0):js(i,!!r,r?[]:"",!1));return;case"textarea":F=V=null;for(A in r)if(p=r[A],r.hasOwnProperty(A)&&p!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:qt(i,s,A,null,u,p)}for(M in u)if(p=u[M],y=r[M],u.hasOwnProperty(M)&&(p!=null||y!=null))switch(M){case"value":V=p;break;case"defaultValue":F=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(n(91));break;default:p!==y&&qt(i,s,M,p,u,y)}kp(i,V,F);return;case"option":for(var mt in r)if(V=r[mt],r.hasOwnProperty(mt)&&V!=null&&!u.hasOwnProperty(mt))switch(mt){case"selected":i.selected=!1;break;default:qt(i,s,mt,null,u,V)}for(R in u)if(V=u[R],F=r[R],u.hasOwnProperty(R)&&V!==F&&(V!=null||F!=null))switch(R){case"selected":i.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:qt(i,s,R,V,u,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in r)V=r[ft],r.hasOwnProperty(ft)&&V!=null&&!u.hasOwnProperty(ft)&&qt(i,s,ft,null,u,V);for(L in u)if(V=u[L],F=r[L],u.hasOwnProperty(L)&&V!==F&&(V!=null||F!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(n(137,s));break;default:qt(i,s,L,V,u,F)}return;default:if(zc(s)){for(var Gt in r)V=r[Gt],r.hasOwnProperty(Gt)&&V!==void 0&&!u.hasOwnProperty(Gt)&&ff(i,s,Gt,void 0,u,V);for(Y in u)V=u[Y],F=r[Y],!u.hasOwnProperty(Y)||V===F||V===void 0&&F===void 0||ff(i,s,Y,V,u,F);return}}for(var N in r)V=r[N],r.hasOwnProperty(N)&&V!=null&&!u.hasOwnProperty(N)&&qt(i,s,N,null,u,V);for(W in u)V=u[W],F=r[W],!u.hasOwnProperty(W)||V===F||V==null&&F==null||qt(i,s,W,V,u,F)}var df=null,pf=null;function Ho(i){return i.nodeType===9?i:i.ownerDocument}function F0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H0(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function mf(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var yf=null;function Ov(){var i=window.event;return i&&i.type==="popstate"?i===yf?!1:(yf=i,!0):(yf=null,!1)}var q0=typeof setTimeout=="function"?setTimeout:void 0,Dv=typeof clearTimeout=="function"?clearTimeout:void 0,G0=typeof Promise=="function"?Promise:void 0,Nv=typeof queueMicrotask=="function"?queueMicrotask:typeof G0<"u"?function(i){return G0.resolve(null).then(i).catch(Uv)}:q0;function Uv(i){setTimeout(function(){throw i})}function qn(i){return i==="head"}function P0(i,s){var r=s,u=0,p=0;do{var y=r.nextSibling;if(i.removeChild(r),y&&y.nodeType===8)if(r=y.data,r==="/$"){if(0<u&&8>u){r=u;var M=i.ownerDocument;if(r&1&&jr(M.documentElement),r&2&&jr(M.body),r&4)for(r=M.head,jr(r),M=r.firstChild;M;){var A=M.nextSibling,R=M.nodeName;M[hr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&M.rel.toLowerCase()==="stylesheet"||r.removeChild(M),M=A}}if(p===0){i.removeChild(y),sl(s);return}p--}else r==="$"||r==="$?"||r==="$!"?p++:u=r.charCodeAt(0)-48;else u=0;r=y}while(r);sl(s)}function gf(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":gf(r),Mc(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}i.removeChild(r)}}function Lv(i,s,r,u){for(;i.nodeType===1;){var p=r;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[hr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Ti(i.nextSibling),i===null)break}return null}function Iv(i,s,r){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Ti(i.nextSibling),i===null))return null;return i}function xf(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function kv(i,s){var r=i.ownerDocument;if(i.data!=="$?"||r.readyState==="complete")s();else{var u=function(){s(),r.removeEventListener("DOMContentLoaded",u)};r.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Ti(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var bf=null;function Y0(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var r=i.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return i;s--}else r==="/$"&&s++}i=i.previousSibling}return null}function X0(i,s,r){switch(s=Ho(r),i){case"html":if(i=s.documentElement,!i)throw Error(n(452));return i;case"head":if(i=s.head,!i)throw Error(n(453));return i;case"body":if(i=s.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function jr(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Mc(i)}var xi=new Map,Z0=new Set;function qo(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var cn=Q.d;Q.d={f:Vv,r:Fv,D:Hv,C:qv,L:Gv,m:Pv,X:Xv,S:Yv,M:Zv};function Vv(){var i=cn.f(),s=Do();return i||s}function Fv(i){var s=Xs(i);s!==null&&s.tag===5&&s.type==="form"?dy(s):cn.r(i)}var Ta=typeof document>"u"?null:document;function W0(i,s,r){var u=Ta;if(u&&typeof s=="string"&&s){var p=hi(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof r=="string"&&(p+='[crossorigin="'+r+'"]'),Z0.has(p)||(Z0.add(p),i={rel:i,crossOrigin:r,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),we(s,"link",i),me(s),u.head.appendChild(s)))}}function Hv(i){cn.D(i),W0("dns-prefetch",i,null)}function qv(i,s){cn.C(i,s),W0("preconnect",i,s)}function Gv(i,s,r){cn.L(i,s,r);var u=Ta;if(u&&i&&s){var p='link[rel="preload"][as="'+hi(s)+'"]';s==="image"&&r&&r.imageSrcSet?(p+='[imagesrcset="'+hi(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(p+='[imagesizes="'+hi(r.imageSizes)+'"]')):p+='[href="'+hi(i)+'"]';var y=p;switch(s){case"style":y=za(i);break;case"script":y=Ea(i)}xi.has(y)||(i=m({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:i,as:s},r),xi.set(y,i),u.querySelector(p)!==null||s==="style"&&u.querySelector(Qr(y))||s==="script"&&u.querySelector(Kr(y))||(s=u.createElement("link"),we(s,"link",i),me(s),u.head.appendChild(s)))}}function Pv(i,s){cn.m(i,s);var r=Ta;if(r&&i){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+hi(u)+'"][href="'+hi(i)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ea(i)}if(!xi.has(y)&&(i=m({rel:"modulepreload",href:i},s),xi.set(y,i),r.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Kr(y)))return}u=r.createElement("link"),we(u,"link",i),me(u),r.head.appendChild(u)}}}function Yv(i,s,r){cn.S(i,s,r);var u=Ta;if(u&&i){var p=Zs(u).hoistableStyles,y=za(i);s=s||"default";var M=p.get(y);if(!M){var A={loading:0,preload:null};if(M=u.querySelector(Qr(y)))A.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":s},r),(r=xi.get(y))&&vf(i,r);var R=M=u.createElement("link");me(R),we(R,"link",i),R._p=new Promise(function(L,Y){R.onload=L,R.onerror=Y}),R.addEventListener("load",function(){A.loading|=1}),R.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Go(M,s,u)}M={type:"stylesheet",instance:M,count:1,state:A},p.set(y,M)}}}function Xv(i,s){cn.X(i,s);var r=Ta;if(r&&i){var u=Zs(r).hoistableScripts,p=Ea(i),y=u.get(p);y||(y=r.querySelector(Kr(p)),y||(i=m({src:i,async:!0},s),(s=xi.get(p))&&Mf(i,s),y=r.createElement("script"),me(y),we(y,"link",i),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function Zv(i,s){cn.M(i,s);var r=Ta;if(r&&i){var u=Zs(r).hoistableScripts,p=Ea(i),y=u.get(p);y||(y=r.querySelector(Kr(p)),y||(i=m({src:i,async:!0,type:"module"},s),(s=xi.get(p))&&Mf(i,s),y=r.createElement("script"),me(y),we(y,"link",i),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function J0(i,s,r,u){var p=(p=yt.current)?qo(p):null;if(!p)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=za(r.href),r=Zs(p).hoistableStyles,u=r.get(s),u||(u={type:"style",instance:null,count:0,state:null},r.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){i=za(r.href);var y=Zs(p).hoistableStyles,M=y.get(i);if(M||(p=p.ownerDocument||p,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,M),(y=p.querySelector(Qr(i)))&&!y._p&&(M.instance=y,M.state.loading=5),xi.has(i)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},xi.set(i,r),y||Wv(p,i,r,M.state))),s&&u===null)throw Error(n(528,""));return M}if(s&&u!==null)throw Error(n(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ea(r),r=Zs(p).hoistableScripts,u=r.get(s),u||(u={type:"script",instance:null,count:0,state:null},r.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function za(i){return'href="'+hi(i)+'"'}function Qr(i){return'link[rel="stylesheet"]['+i+"]"}function j0(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function Wv(i,s,r,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),we(s,"link",r),me(s),i.head.appendChild(s))}function Ea(i){return'[src="'+hi(i)+'"]'}function Kr(i){return"script[async]"+i}function Q0(i,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+hi(r.href)+'"]');if(u)return s.instance=u,me(u),u;var p=m({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),me(u),we(u,"style",p),Go(u,r.precedence,i),s.instance=u;case"stylesheet":p=za(r.href);var y=i.querySelector(Qr(p));if(y)return s.state.loading|=4,s.instance=y,me(y),y;u=j0(r),(p=xi.get(p))&&vf(u,p),y=(i.ownerDocument||i).createElement("link"),me(y);var M=y;return M._p=new Promise(function(A,R){M.onload=A,M.onerror=R}),we(y,"link",u),s.state.loading|=4,Go(y,r.precedence,i),s.instance=y;case"script":return y=Ea(r.src),(p=i.querySelector(Kr(y)))?(s.instance=p,me(p),p):(u=r,(p=xi.get(y))&&(u=m({},r),Mf(u,p)),i=i.ownerDocument||i,p=i.createElement("script"),me(p),we(p,"link",u),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Go(u,r.precedence,i));return s.instance}function Go(i,s,r){for(var u=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,M=0;M<u.length;M++){var A=u[M];if(A.dataset.precedence===s)y=A;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(i,s.firstChild))}function vf(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Mf(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Po=null;function K0(i,s,r){if(Po===null){var u=new Map,p=Po=new Map;p.set(r,u)}else p=Po,u=p.get(r),u||(u=new Map,p.set(r,u));if(u.has(i))return u;for(u.set(i,null),r=r.getElementsByTagName(i),p=0;p<r.length;p++){var y=r[p];if(!(y[hr]||y[Te]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var M=y.getAttribute(s)||"";M=i+M;var A=u.get(M);A?A.push(y):u.set(M,[y])}}return u}function $0(i,s,r){i=i.ownerDocument||i,i.head.insertBefore(r,s==="title"?i.querySelector("head > title"):null)}function Jv(i,s,r){if(r===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function tg(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var $r=null;function jv(){}function Qv(i,s,r){if($r===null)throw Error(n(475));var u=$r;if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=za(r.href),y=i.querySelector(Qr(p));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Yo.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=y,me(y);return}y=i.ownerDocument||i,r=j0(r),(p=xi.get(p))&&vf(r,p),y=y.createElement("link"),me(y);var M=y;M._p=new Promise(function(A,R){M.onload=A,M.onerror=R}),we(y,"link",r),s.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Yo.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function Kv(){if($r===null)throw Error(n(475));var i=$r;return i.stylesheets&&i.count===0&&Sf(i,i.stylesheets),0<i.count?function(s){var r=setTimeout(function(){if(i.stylesheets&&Sf(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(r)}}:null}function Yo(){if(this.count--,this.count===0){if(this.stylesheets)Sf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Xo=null;function Sf(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Xo=new Map,s.forEach($v,i),Xo=null,Yo.call(i))}function $v(i,s){if(!(s.state.loading&4)){var r=Xo.get(i);if(r)var u=r.get(null);else{r=new Map,Xo.set(i,r);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var M=p[y];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(r.set(M.dataset.precedence,M),u=M)}u&&r.set(null,u)}p=s.instance,M=p.getAttribute("data-precedence"),y=r.get(M)||u,y===u&&r.set(null,p),r.set(M,p),this.count++,u=Yo.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var tl={$$typeof:z,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function tM(i,s,r,u,p,y,M,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gc(0),this.hiddenUpdates=gc(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function eg(i,s,r,u,p,y,M,A,R,L,Y,W){return i=new tM(i,s,r,M,A,R,L,W),s=1,y===!0&&(s|=24),y=Qe(3,null,null,s),i.current=y,y.stateNode=i,s=ih(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:r,cache:s},rh(y),i}function ig(i){return i?(i=aa,i):aa}function ng(i,s,r,u,p,y){p=ig(p),u.context===null?u.context=p:u.pendingContext=p,u=Cn(s),u.payload={element:r},y=y===void 0?null:y,y!==null&&(u.callback=y),r=Rn(i,u,s),r!==null&&(ii(r,i,s),Rr(r,i,s))}function sg(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var r=i.retryLane;i.retryLane=r!==0&&r<s?r:s}}function wf(i,s){sg(i,s),(i=i.alternate)&&sg(i,s)}function ag(i){if(i.tag===13){var s=sa(i,67108864);s!==null&&ii(s,i,67108864),wf(i,67108864)}}var Zo=!0;function eM(i,s,r,u){var p=q.T;q.T=null;var y=Q.p;try{Q.p=2,_f(i,s,r,u)}finally{Q.p=y,q.T=p}}function iM(i,s,r,u){var p=q.T;q.T=null;var y=Q.p;try{Q.p=8,_f(i,s,r,u)}finally{Q.p=y,q.T=p}}function _f(i,s,r,u){if(Zo){var p=Af(u);if(p===null)hf(i,s,u,Wo,r),lg(i,u);else if(sM(p,i,s,r,u))u.stopPropagation();else if(lg(i,u),s&4&&-1<nM.indexOf(i)){for(;p!==null;){var y=Xs(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var M=as(y.pendingLanes);if(M!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;M;){var R=1<<31-Ae(M);A.entanglements[1]|=R,M&=~R}Ii(y),(Vt&6)===0&&(Bo=st()+500,Zr(0))}}break;case 13:A=sa(y,2),A!==null&&ii(A,y,2),Do(),wf(y,2)}if(y=Af(u),y===null&&hf(i,s,u,Wo,r),y===p)break;p=y}p!==null&&u.stopPropagation()}else hf(i,s,u,null,r)}}function Af(i){return i=Cc(i),Tf(i)}var Wo=null;function Tf(i){if(Wo=null,i=Ys(i),i!==null){var s=l(i);if(s===null)i=null;else{var r=s.tag;if(r===13){if(i=o(s),i!==null)return i;i=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Wo=i,null}function rg(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ct()){case Ot:return 2;case Mt:return 8;case kt:case Wt:return 32;case te:return 268435456;default:return 32}default:return 32}}var zf=!1,Gn=null,Pn=null,Yn=null,el=new Map,il=new Map,Xn=[],nM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lg(i,s){switch(i){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Yn=null;break;case"pointerover":case"pointerout":el.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(s.pointerId)}}function nl(i,s,r,u,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:r,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Xs(s),s!==null&&ag(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function sM(i,s,r,u,p){switch(s){case"focusin":return Gn=nl(Gn,i,s,r,u,p),!0;case"dragenter":return Pn=nl(Pn,i,s,r,u,p),!0;case"mouseover":return Yn=nl(Yn,i,s,r,u,p),!0;case"pointerover":var y=p.pointerId;return el.set(y,nl(el.get(y)||null,i,s,r,u,p)),!0;case"gotpointercapture":return y=p.pointerId,il.set(y,nl(il.get(y)||null,i,s,r,u,p)),!0}return!1}function og(i){var s=Ys(i.target);if(s!==null){var r=l(s);if(r!==null){if(s=r.tag,s===13){if(s=o(r),s!==null){i.blockedOn=s,Q1(i.priority,function(){if(r.tag===13){var u=ei();u=xc(u);var p=sa(r,u);p!==null&&ii(p,r,u),wf(r,u)}});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){i.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Jo(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var r=Af(i.nativeEvent);if(r===null){r=i.nativeEvent;var u=new r.constructor(r.type,r);Ec=u,r.target.dispatchEvent(u),Ec=null}else return s=Xs(r),s!==null&&ag(s),i.blockedOn=r,!1;s.shift()}return!0}function ug(i,s,r){Jo(i)&&r.delete(s)}function aM(){zf=!1,Gn!==null&&Jo(Gn)&&(Gn=null),Pn!==null&&Jo(Pn)&&(Pn=null),Yn!==null&&Jo(Yn)&&(Yn=null),el.forEach(ug),il.forEach(ug)}function jo(i,s){i.blockedOn===s&&(i.blockedOn=null,zf||(zf=!0,h.unstable_scheduleCallback(h.unstable_NormalPriority,aM)))}var Qo=null;function cg(i){Qo!==i&&(Qo=i,h.unstable_scheduleCallback(h.unstable_NormalPriority,function(){Qo===i&&(Qo=null);for(var s=0;s<i.length;s+=3){var r=i[s],u=i[s+1],p=i[s+2];if(typeof u!="function"){if(Tf(u||r)===null)continue;break}var y=Xs(r);y!==null&&(i.splice(s,3),s-=3,Ah(y,{pending:!0,data:p,method:r.method,action:u},u,p))}}))}function sl(i){function s(R){return jo(R,i)}Gn!==null&&jo(Gn,i),Pn!==null&&jo(Pn,i),Yn!==null&&jo(Yn,i),el.forEach(s),il.forEach(s);for(var r=0;r<Xn.length;r++){var u=Xn[r];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Xn.length&&(r=Xn[0],r.blockedOn===null);)og(r),r.blockedOn===null&&Xn.shift();if(r=(i.ownerDocument||i).$$reactFormReplay,r!=null)for(u=0;u<r.length;u+=3){var p=r[u],y=r[u+1],M=p[Fe]||null;if(typeof y=="function")M||cg(r);else if(M){var A=null;if(y&&y.hasAttribute("formAction")){if(p=y,M=y[Fe]||null)A=M.formAction;else if(Tf(p)!==null)continue}else A=M.action;typeof A=="function"?r[u+1]=A:(r.splice(u,3),u-=3),cg(r)}}}function Ef(i){this._internalRoot=i}Ko.prototype.render=Ef.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));var r=s.current,u=ei();ng(r,u,i,s,null,null)},Ko.prototype.unmount=Ef.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;ng(i.current,2,null,i,null,null),Do(),s[Ps]=null}};function Ko(i){this._internalRoot=i}Ko.prototype.unstable_scheduleHydration=function(i){if(i){var s=zp();i={blockedOn:null,target:i,priority:s};for(var r=0;r<Xn.length&&s!==0&&s<Xn[r].priority;r++);Xn.splice(r,0,i),r===0&&og(i)}};var hg=t.version;if(hg!=="19.1.0")throw Error(n(527,hg,"19.1.0"));Q.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=f(s),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var rM={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$o.isDisabled&&$o.supportsFiber)try{ce=$o.inject(rM),_e=$o}catch{}}return rl.createRoot=function(i,s){if(!a(i))throw Error(n(299));var r=!1,u="",p=zy,y=Ey,M=Cy,A=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(M=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=eg(i,1,!1,null,null,r,u,p,y,M,A,null),i[Ps]=s.current,cf(i),new Ef(s)},rl.hydrateRoot=function(i,s,r){if(!a(i))throw Error(n(299));var u=!1,p="",y=zy,M=Ey,A=Cy,R=null,L=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(p=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(M=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(L=r.formState)),s=eg(i,1,!0,s,r??null,u,p,y,M,A,R,L),s.context=ig(null),r=s.current,u=ei(),u=xc(u),p=Cn(u),p.callback=null,Rn(r,p,u),r=u,s.current.lanes=r,cr(s,r),Ii(s),i[Ps]=s.current,cf(i),new Ko(s)},rl.version="19.1.0",rl}var Mg;function xM(){if(Mg)return Bf.exports;Mg=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(t){console.error(t)}}return h(),Bf.exports=gM(),Bf.exports}var bM=xM();const vM="modulepreload",MM=function(h){return"/"+h},Sg={},ir=function(t,e,n){let a=Promise.resolve();if(e&&e.length>0){let o=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=o(e.map(d=>{if(d=MM(d),d in Sg)return;Sg[d]=!0;const m=d.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":vM,m||(x.as="script"),x.crossOrigin="",x.href=d,f&&x.setAttribute("nonce",f),document.head.appendChild(x),m)return new Promise((b,v)=>{x.addEventListener("load",b),x.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function l(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return a.then(o=>{for(const c of o||[])c.status==="rejected"&&l(c.reason);return t().catch(l)})};/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Qx="176",lT={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},oT={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},uT=0,cT=1,hT=2,fT=3,dT=0,pT=1,mT=2,yT=3,vd=0,Kx=1,gT=2,SM=0,wg=1,xT=2,bT=3,vT=4,MT=5,_g=100,ST=101,wT=102,_T=103,AT=104,TT=200,zT=201,ET=202,CT=203,Ag=204,Tg=205,RT=206,BT=207,OT=208,DT=209,NT=210,UT=211,LT=212,IT=213,kT=214,VT=0,FT=1,HT=2,zg=3,qT=4,GT=5,PT=6,YT=7,Dd=0,XT=1,ZT=2,WT=0,JT=1,jT=2,QT=3,KT=4,$T=5,t3=6,e3=7,Eg="attached",wM="detached",Nd=300,Ud=301,_M=302,AM=303,TM=304,zM=306,Md=1e3,Fi=1001,Sd=1002,Ri=1003,EM=1004,i3=1004,CM=1005,n3=1005,Si=1006,RM=1007,s3=1007,sc=1008,a3=1008,Ld=1009,BM=1010,OM=1011,DM=1012,NM=1013,Id=1014,$a=1015,UM=1016,LM=1017,IM=1018,r3=1020,kM=35902,VM=1021,FM=1022,Cl=1023,Cg=1026,HM=1027,$x=1028,t1=1029,qM=1030,GM=1031,l3=1032,PM=1033,YM=33776,XM=33777,ZM=33778,WM=33779,JM=35840,jM=35841,QM=35842,KM=35843,$M=36196,tS=37492,eS=37496,iS=37808,nS=37809,sS=37810,aS=37811,rS=37812,lS=37813,oS=37814,uS=37815,cS=37816,hS=37817,fS=37818,dS=37819,pS=37820,mS=37821,yS=36492,gS=36494,xS=36495,bS=36283,vS=36284,MS=36285,SS=36286,wS=2200,_S=2201,AS=2202,Yu=2300,wd=2301,Uf=2302,Wa=2400,Ja=2401,Xu=2402,kd=2500,e1=2501,o3=0,u3=1,c3=2,TS=3200,h3=3201,f3=3202,d3=3203,nr=0,p3=1,i1="",vi="srgb",Rg="srgb-linear",Bg="linear",Lf="srgb",m3=0,Ca=7680,y3=7681,g3=7682,x3=7683,b3=34055,v3=34056,M3=5386,S3=512,w3=513,_3=514,A3=515,T3=516,z3=517,E3=518,Og=519,C3=512,R3=513,B3=514,O3=515,D3=516,N3=517,U3=518,L3=519,Zu=35044,I3=35048,k3=35040,V3=35045,F3=35049,H3=35041,q3=35046,G3=35050,P3=35042,Y3="100",X3="300 es",Hi=2e3,Wu=2001,Z3={COMPUTE:"compute",RENDER:"render"},W3={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},J3={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FLAT_FIRST:"flat first",FLAT_EITHER:"flat either"};class ns{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[t]===void 0&&(n[t]=[]),n[t].indexOf(e)===-1&&n[t].push(e)}hasEventListener(t,e){const n=this._listeners;return n===void 0?!1:n[t]!==void 0&&n[t].indexOf(e)!==-1}removeEventListener(t,e){const n=this._listeners;if(n===void 0)return;const a=n[t];if(a!==void 0){const l=a.indexOf(e);l!==-1&&a.splice(l,1)}}dispatchEvent(t){const e=this._listeners;if(e===void 0)return;const n=e[t.type];if(n!==void 0){t.target=this;const a=n.slice(0);for(let l=0,o=a.length;l<o;l++)a[l].call(this,t);t.target=null}}}const Ce=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Dg=1234567;const Is=Math.PI/180,Rl=180/Math.PI;function li(){const h=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Ce[h&255]+Ce[h>>8&255]+Ce[h>>16&255]+Ce[h>>24&255]+"-"+Ce[t&255]+Ce[t>>8&255]+"-"+Ce[t>>16&15|64]+Ce[t>>24&255]+"-"+Ce[e&63|128]+Ce[e>>8&255]+"-"+Ce[e>>16&255]+Ce[e>>24&255]+Ce[n&255]+Ce[n>>8&255]+Ce[n>>16&255]+Ce[n>>24&255]).toLowerCase()}function bt(h,t,e){return Math.max(t,Math.min(e,h))}function Vd(h,t){return(h%t+t)%t}function zS(h,t,e,n,a){return n+(h-t)*(a-n)/(e-t)}function ES(h,t,e){return h!==t?(e-h)/(t-h):0}function Tl(h,t,e){return(1-e)*h+e*t}function CS(h,t,e,n){return Tl(h,t,1-Math.exp(-e*n))}function RS(h,t=1){return t-Math.abs(Vd(h,t*2)-t)}function BS(h,t,e){return h<=t?0:h>=e?1:(h=(h-t)/(e-t),h*h*(3-2*h))}function OS(h,t,e){return h<=t?0:h>=e?1:(h=(h-t)/(e-t),h*h*h*(h*(h*6-15)+10))}function DS(h,t){return h+Math.floor(Math.random()*(t-h+1))}function NS(h,t){return h+Math.random()*(t-h)}function US(h){return h*(.5-Math.random())}function LS(h){h!==void 0&&(Dg=h);let t=Dg+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function IS(h){return h*Is}function kS(h){return h*Rl}function VS(h){return(h&h-1)===0&&h!==0}function FS(h){return Math.pow(2,Math.ceil(Math.log(h)/Math.LN2))}function HS(h){return Math.pow(2,Math.floor(Math.log(h)/Math.LN2))}function qS(h,t,e,n,a){const l=Math.cos,o=Math.sin,c=l(e/2),f=o(e/2),d=l((t+n)/2),m=o((t+n)/2),g=l((t-n)/2),x=o((t-n)/2),b=l((n-t)/2),v=o((n-t)/2);switch(a){case"XYX":h.set(c*m,f*g,f*x,c*d);break;case"YZY":h.set(f*x,c*m,f*g,c*d);break;case"ZXZ":h.set(f*g,f*x,c*m,c*d);break;case"XZX":h.set(c*m,f*v,f*b,c*d);break;case"YXY":h.set(f*b,c*m,f*v,c*d);break;case"ZYZ":h.set(f*v,f*b,c*m,c*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}function Ie(h,t){switch(t.constructor){case Float32Array:return h;case Uint32Array:return h/4294967295;case Uint16Array:return h/65535;case Uint8Array:return h/255;case Int32Array:return Math.max(h/2147483647,-1);case Int16Array:return Math.max(h/32767,-1);case Int8Array:return Math.max(h/127,-1);default:throw new Error("Invalid component type.")}}function St(h,t){switch(t.constructor){case Float32Array:return h;case Uint32Array:return Math.round(h*4294967295);case Uint16Array:return Math.round(h*65535);case Uint8Array:return Math.round(h*255);case Int32Array:return Math.round(h*2147483647);case Int16Array:return Math.round(h*32767);case Int8Array:return Math.round(h*127);default:throw new Error("Invalid component type.")}}const j3={DEG2RAD:Is,RAD2DEG:Rl,generateUUID:li,clamp:bt,euclideanModulo:Vd,mapLinear:zS,inverseLerp:ES,lerp:Tl,damp:CS,pingpong:RS,smoothstep:BS,smootherstep:OS,randInt:DS,randFloat:NS,randFloatSpread:US,seededRandom:LS,degToRad:IS,radToDeg:kS,isPowerOfTwo:VS,ceilPowerOfTwo:FS,floorPowerOfTwo:HS,setQuaternionFromProperEuler:qS,normalize:St,denormalize:Ie};class j{constructor(t=0,e=0){j.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,a=t.elements;return this.x=a[0]*e+a[3]*n+a[6],this.y=a[1]*e+a[4]*n+a[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=bt(this.x,t.x,e.x),this.y=bt(this.y,t.y,e.y),this}clampScalar(t,e){return this.x=bt(this.x,t,e),this.y=bt(this.y,t,e),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(bt(n,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(bt(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),a=Math.sin(e),l=this.x-t.x,o=this.y-t.y;return this.x=l*n-o*a+t.x,this.y=l*a+o*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Yi{constructor(t,e,n,a,l,o,c,f,d){Yi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,e,n,a,l,o,c,f,d)}set(t,e,n,a,l,o,c,f,d){const m=this.elements;return m[0]=t,m[1]=a,m[2]=c,m[3]=e,m[4]=l,m[5]=f,m[6]=n,m[7]=o,m[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,a=e.elements,l=this.elements,o=n[0],c=n[3],f=n[6],d=n[1],m=n[4],g=n[7],x=n[2],b=n[5],v=n[8],S=a[0],_=a[3],w=a[6],T=a[1],z=a[4],E=a[7],D=a[2],I=a[5],H=a[8];return l[0]=o*S+c*T+f*D,l[3]=o*_+c*z+f*I,l[6]=o*w+c*E+f*H,l[1]=d*S+m*T+g*D,l[4]=d*_+m*z+g*I,l[7]=d*w+m*E+g*H,l[2]=x*S+b*T+v*D,l[5]=x*_+b*z+v*I,l[8]=x*w+b*E+v*H,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],a=t[2],l=t[3],o=t[4],c=t[5],f=t[6],d=t[7],m=t[8];return e*o*m-e*c*d-n*l*m+n*c*f+a*l*d-a*o*f}invert(){const t=this.elements,e=t[0],n=t[1],a=t[2],l=t[3],o=t[4],c=t[5],f=t[6],d=t[7],m=t[8],g=m*o-c*d,x=c*f-m*l,b=d*l-o*f,v=e*g+n*x+a*b;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/v;return t[0]=g*S,t[1]=(a*d-m*n)*S,t[2]=(c*n-a*o)*S,t[3]=x*S,t[4]=(m*e-a*f)*S,t[5]=(a*l-c*e)*S,t[6]=b*S,t[7]=(n*f-d*e)*S,t[8]=(o*e-n*l)*S,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,a,l,o,c){const f=Math.cos(l),d=Math.sin(l);return this.set(n*f,n*d,-n*(f*o+d*c)+o+t,-a*d,a*f,-a*(-d*o+f*c)+c+e,0,0,1),this}scale(t,e){return this.premultiply(If.makeScale(t,e)),this}rotate(t){return this.premultiply(If.makeRotation(-t)),this}translate(t,e){return this.premultiply(If.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,n,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,n=t.elements;for(let a=0;a<9;a++)if(e[a]!==n[a])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const If=new Yi;function GS(h){for(let t=h.length-1;t>=0;--t)if(h[t]>=65535)return!0;return!1}const PS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function ja(h,t){return new PS[h](t)}function Ju(h){return document.createElementNS("http://www.w3.org/1999/xhtml",h)}function Q3(){const h=Ju("canvas");return h.style.display="block",h}const Ng={};function K3(h){h in Ng||(Ng[h]=!0,console.warn(h))}function $3(h,t,e){return new Promise(function(n,a){function l(){switch(h.clientWaitSync(t,h.SYNC_FLUSH_COMMANDS_BIT,0)){case h.WAIT_FAILED:a();break;case h.TIMEOUT_EXPIRED:setTimeout(l,e);break;default:n()}}setTimeout(l,e)})}function tz(h){const t=h.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}function ez(h){const t=h.elements;t[11]===-1?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=-t[14]+1)}const Ug=new Yi().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Lg=new Yi().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function YS(){const h={enabled:!0,workingColorSpace:Rg,spaces:{},convert:function(a,l,o){return this.enabled===!1||l===o||!l||!o||(this.spaces[l].transfer===Lf&&(a.r=xn(a.r),a.g=xn(a.g),a.b=xn(a.b)),this.spaces[l].primaries!==this.spaces[o].primaries&&(a.applyMatrix3(this.spaces[l].toXYZ),a.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Lf&&(a.r=Qa(a.r),a.g=Qa(a.g),a.b=Qa(a.b))),a},fromWorkingColorSpace:function(a,l){return this.convert(a,this.workingColorSpace,l)},toWorkingColorSpace:function(a,l){return this.convert(a,l,this.workingColorSpace)},getPrimaries:function(a){return this.spaces[a].primaries},getTransfer:function(a){return a===i1?Bg:this.spaces[a].transfer},getLuminanceCoefficients:function(a,l=this.workingColorSpace){return a.fromArray(this.spaces[l].luminanceCoefficients)},define:function(a){Object.assign(this.spaces,a)},_getMatrix:function(a,l,o){return a.copy(this.spaces[l].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(a){return this.spaces[a].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(a=this.workingColorSpace){return this.spaces[a].workingColorSpaceConfig.unpackColorSpace}},t=[.64,.33,.3,.6,.15,.06],e=[.2126,.7152,.0722],n=[.3127,.329];return h.define({[Rg]:{primaries:t,whitePoint:n,transfer:Bg,toXYZ:Ug,fromXYZ:Lg,luminanceCoefficients:e,workingColorSpaceConfig:{unpackColorSpace:vi},outputColorSpaceConfig:{drawingBufferColorSpace:vi}},[vi]:{primaries:t,whitePoint:n,transfer:Lf,toXYZ:Ug,fromXYZ:Lg,luminanceCoefficients:e,outputColorSpaceConfig:{drawingBufferColorSpace:vi}}}),h}const ai=YS();function xn(h){return h<.04045?h*.0773993808:Math.pow(h*.9478672986+.0521327014,2.4)}function Qa(h){return h<.0031308?h*12.92:1.055*Math.pow(h,.41666)-.055}let Ra;class XS{static getDataURL(t,e="image/png"){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let n;if(t instanceof HTMLCanvasElement)n=t;else{Ra===void 0&&(Ra=Ju("canvas")),Ra.width=t.width,Ra.height=t.height;const a=Ra.getContext("2d");t instanceof ImageData?a.putImageData(t,0,0):a.drawImage(t,0,0,t.width,t.height),n=Ra}return n.toDataURL(e)}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=Ju("canvas");e.width=t.width,e.height=t.height;const n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);const a=n.getImageData(0,0,t.width,t.height),l=a.data;for(let o=0;o<l.length;o++)l[o]=xn(l[o]/255)*255;return n.putImageData(a,0,0),e}else if(t.data){const e=t.data.slice(0);for(let n=0;n<e.length;n++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[n]=Math.floor(xn(e[n]/255)*255):e[n]=xn(e[n]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let ZS=0;class Us{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:ZS++}),this.uuid=li(),this.data=t,this.dataReady=!0,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const n={uuid:this.uuid,url:""},a=this.data;if(a!==null){let l;if(Array.isArray(a)){l=[];for(let o=0,c=a.length;o<c;o++)a[o].isDataTexture?l.push(kf(a[o].image)):l.push(kf(a[o]))}else l=kf(a);n.url=l}return e||(t.images[this.uuid]=n),n}}function kf(h){return typeof HTMLImageElement<"u"&&h instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&h instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&h instanceof ImageBitmap?XS.getDataURL(h):h.data?{data:Array.from(h.data),width:h.width,height:h.height,type:h.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let WS=0;class de extends ns{constructor(t=de.DEFAULT_IMAGE,e=de.DEFAULT_MAPPING,n=Fi,a=Fi,l=Si,o=sc,c=Cl,f=Ld,d=de.DEFAULT_ANISOTROPY,m=i1){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:WS++}),this.uuid=li(),this.name="",this.source=new Us(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=n,this.wrapT=a,this.magFilter=l,this.minFilter=o,this.anisotropy=d,this.format=c,this.internalFormat=null,this.type=f,this.offset=new j(0,0),this.repeat=new j(1,1),this.center=new j(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Yi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isTextureArray=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.renderTarget=t.renderTarget,this.isRenderTargetTexture=t.isRenderTargetTexture,this.isTextureArray=t.isTextureArray,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),e||(t.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==Nd)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Md:t.x=t.x-Math.floor(t.x);break;case Fi:t.x=t.x<0?0:1;break;case Sd:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case Md:t.y=t.y-Math.floor(t.y);break;case Fi:t.y=t.y<0?0:1;break;case Sd:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){t===!0&&this.pmremVersion++}}de.DEFAULT_IMAGE=null;de.DEFAULT_MAPPING=Nd;de.DEFAULT_ANISOTROPY=1;class ve{constructor(t=0,e=0,n=0,a=1){ve.prototype.isVector4=!0,this.x=t,this.y=e,this.z=n,this.w=a}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,a){return this.x=t,this.y=e,this.z=n,this.w=a,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,a=this.z,l=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*a+o[12]*l,this.y=o[1]*e+o[5]*n+o[9]*a+o[13]*l,this.z=o[2]*e+o[6]*n+o[10]*a+o[14]*l,this.w=o[3]*e+o[7]*n+o[11]*a+o[15]*l,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,a,l;const f=t.elements,d=f[0],m=f[4],g=f[8],x=f[1],b=f[5],v=f[9],S=f[2],_=f[6],w=f[10];if(Math.abs(m-x)<.01&&Math.abs(g-S)<.01&&Math.abs(v-_)<.01){if(Math.abs(m+x)<.1&&Math.abs(g+S)<.1&&Math.abs(v+_)<.1&&Math.abs(d+b+w-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const z=(d+1)/2,E=(b+1)/2,D=(w+1)/2,I=(m+x)/4,H=(g+S)/4,k=(v+_)/4;return z>E&&z>D?z<.01?(n=0,a=.707106781,l=.707106781):(n=Math.sqrt(z),a=I/n,l=H/n):E>D?E<.01?(n=.707106781,a=0,l=.707106781):(a=Math.sqrt(E),n=I/a,l=k/a):D<.01?(n=.707106781,a=.707106781,l=0):(l=Math.sqrt(D),n=H/l,a=k/l),this.set(n,a,l,e),this}let T=Math.sqrt((_-v)*(_-v)+(g-S)*(g-S)+(x-m)*(x-m));return Math.abs(T)<.001&&(T=1),this.x=(_-v)/T,this.y=(g-S)/T,this.z=(x-m)/T,this.w=Math.acos((d+b+w-1)/2),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=bt(this.x,t.x,e.x),this.y=bt(this.y,t.y,e.y),this.z=bt(this.z,t.z,e.z),this.w=bt(this.w,t.w,e.w),this}clampScalar(t,e){return this.x=bt(this.x,t,e),this.y=bt(this.y,t,e),this.z=bt(this.z,t,e),this.w=bt(this.w,t,e),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(bt(n,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Fd extends ns{constructor(t=1,e=1,n={}){super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=n.depth?n.depth:1,this.scissor=new ve(0,0,t,e),this.scissorTest=!1,this.viewport=new ve(0,0,t,e);const a={width:t,height:e,depth:this.depth};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Si,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,multiview:!1},n);const l=new de(a,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);l.flipY=!1,l.generateMipmaps=n.generateMipmaps,l.internalFormat=n.internalFormat,this.textures=[];const o=n.count;for(let c=0;c<o;c++)this.textures[c]=l.clone(),this.textures[c].isRenderTargetTexture=!0,this.textures[c].renderTarget=this;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}set depthTexture(t){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),t!==null&&(t.renderTarget=this),this._depthTexture=t}get depthTexture(){return this._depthTexture}setSize(t,e,n=1){if(this.width!==t||this.height!==e||this.depth!==n){this.width=t,this.height=e,this.depth=n;for(let a=0,l=this.textures.length;a<l;a++)this.textures[a].image.width=t,this.textures[a].image.height=e,this.textures[a].image.depth=n;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let e=0,n=t.textures.length;e<n;e++){this.textures[e]=t.textures[e].clone(),this.textures[e].isRenderTargetTexture=!0,this.textures[e].renderTarget=this;const a=Object.assign({},t.textures[e].image);this.textures[e].source=new Us(a)}return this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Hd extends Fd{constructor(t=1,e=1,n={}){super(t,e,n),this.isWebGLRenderTarget=!0}}class n1 extends de{constructor(t=null,e=1,n=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:n,depth:a},this.magFilter=Ri,this.minFilter=Ri,this.wrapR=Fi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class iz extends Hd{constructor(t=1,e=1,n=1,a={}){super(t,e,a),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new n1(null,t,e,n),this.texture.isRenderTargetTexture=!0}}class s1 extends de{constructor(t=null,e=1,n=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:n,depth:a},this.magFilter=Ri,this.minFilter=Ri,this.wrapR=Fi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class nz extends Hd{constructor(t=1,e=1,n=1,a={}){super(t,e,a),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new s1(null,t,e,n),this.texture.isRenderTargetTexture=!0}}class oi{constructor(t=0,e=0,n=0,a=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=n,this._w=a}static slerpFlat(t,e,n,a,l,o,c){let f=n[a+0],d=n[a+1],m=n[a+2],g=n[a+3];const x=l[o+0],b=l[o+1],v=l[o+2],S=l[o+3];if(c===0){t[e+0]=f,t[e+1]=d,t[e+2]=m,t[e+3]=g;return}if(c===1){t[e+0]=x,t[e+1]=b,t[e+2]=v,t[e+3]=S;return}if(g!==S||f!==x||d!==b||m!==v){let _=1-c;const w=f*x+d*b+m*v+g*S,T=w>=0?1:-1,z=1-w*w;if(z>Number.EPSILON){const D=Math.sqrt(z),I=Math.atan2(D,w*T);_=Math.sin(_*I)/D,c=Math.sin(c*I)/D}const E=c*T;if(f=f*_+x*E,d=d*_+b*E,m=m*_+v*E,g=g*_+S*E,_===1-c){const D=1/Math.sqrt(f*f+d*d+m*m+g*g);f*=D,d*=D,m*=D,g*=D}}t[e]=f,t[e+1]=d,t[e+2]=m,t[e+3]=g}static multiplyQuaternionsFlat(t,e,n,a,l,o){const c=n[a],f=n[a+1],d=n[a+2],m=n[a+3],g=l[o],x=l[o+1],b=l[o+2],v=l[o+3];return t[e]=c*v+m*g+f*b-d*x,t[e+1]=f*v+m*x+d*g-c*b,t[e+2]=d*v+m*b+c*x-f*g,t[e+3]=m*v-c*g-f*x-d*b,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,a){return this._x=t,this._y=e,this._z=n,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const n=t._x,a=t._y,l=t._z,o=t._order,c=Math.cos,f=Math.sin,d=c(n/2),m=c(a/2),g=c(l/2),x=f(n/2),b=f(a/2),v=f(l/2);switch(o){case"XYZ":this._x=x*m*g+d*b*v,this._y=d*b*g-x*m*v,this._z=d*m*v+x*b*g,this._w=d*m*g-x*b*v;break;case"YXZ":this._x=x*m*g+d*b*v,this._y=d*b*g-x*m*v,this._z=d*m*v-x*b*g,this._w=d*m*g+x*b*v;break;case"ZXY":this._x=x*m*g-d*b*v,this._y=d*b*g+x*m*v,this._z=d*m*v+x*b*g,this._w=d*m*g-x*b*v;break;case"ZYX":this._x=x*m*g-d*b*v,this._y=d*b*g+x*m*v,this._z=d*m*v-x*b*g,this._w=d*m*g+x*b*v;break;case"YZX":this._x=x*m*g+d*b*v,this._y=d*b*g+x*m*v,this._z=d*m*v-x*b*g,this._w=d*m*g-x*b*v;break;case"XZY":this._x=x*m*g-d*b*v,this._y=d*b*g-x*m*v,this._z=d*m*v+x*b*g,this._w=d*m*g+x*b*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return e===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,a=Math.sin(n);return this._x=t.x*a,this._y=t.y*a,this._z=t.z*a,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],a=e[4],l=e[8],o=e[1],c=e[5],f=e[9],d=e[2],m=e[6],g=e[10],x=n+c+g;if(x>0){const b=.5/Math.sqrt(x+1);this._w=.25/b,this._x=(m-f)*b,this._y=(l-d)*b,this._z=(o-a)*b}else if(n>c&&n>g){const b=2*Math.sqrt(1+n-c-g);this._w=(m-f)/b,this._x=.25*b,this._y=(a+o)/b,this._z=(l+d)/b}else if(c>g){const b=2*Math.sqrt(1+c-n-g);this._w=(l-d)/b,this._x=(a+o)/b,this._y=.25*b,this._z=(f+m)/b}else{const b=2*Math.sqrt(1+g-n-c);this._w=(o-a)/b,this._x=(l+d)/b,this._y=(f+m)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(bt(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(n===0)return this;const a=Math.min(1,e/n);return this.slerp(t,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,a=t._y,l=t._z,o=t._w,c=e._x,f=e._y,d=e._z,m=e._w;return this._x=n*m+o*c+a*d-l*f,this._y=a*m+o*f+l*c-n*d,this._z=l*m+o*d+n*f-a*c,this._w=o*m-n*c-a*f-l*d,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const n=this._x,a=this._y,l=this._z,o=this._w;let c=o*t._w+n*t._x+a*t._y+l*t._z;if(c<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,c=-c):this.copy(t),c>=1)return this._w=o,this._x=n,this._y=a,this._z=l,this;const f=1-c*c;if(f<=Number.EPSILON){const b=1-e;return this._w=b*o+e*this._w,this._x=b*n+e*this._x,this._y=b*a+e*this._y,this._z=b*l+e*this._z,this.normalize(),this}const d=Math.sqrt(f),m=Math.atan2(d,c),g=Math.sin((1-e)*m)/d,x=Math.sin(e*m)/d;return this._w=o*g+this._w*x,this._x=n*g+this._x*x,this._y=a*g+this._y*x,this._z=l*g+this._z*x,this._onChangeCallback(),this}slerpQuaternions(t,e,n){return this.copy(t).slerp(e,n)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),n=Math.random(),a=Math.sqrt(1-n),l=Math.sqrt(n);return this.set(a*Math.sin(t),a*Math.cos(t),l*Math.sin(e),l*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class C{constructor(t=0,e=0,n=0){C.prototype.isVector3=!0,this.x=t,this.y=e,this.z=n}set(t,e,n){return n===void 0&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(Ig.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(Ig.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,a=this.z,l=t.elements;return this.x=l[0]*e+l[3]*n+l[6]*a,this.y=l[1]*e+l[4]*n+l[7]*a,this.z=l[2]*e+l[5]*n+l[8]*a,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,a=this.z,l=t.elements,o=1/(l[3]*e+l[7]*n+l[11]*a+l[15]);return this.x=(l[0]*e+l[4]*n+l[8]*a+l[12])*o,this.y=(l[1]*e+l[5]*n+l[9]*a+l[13])*o,this.z=(l[2]*e+l[6]*n+l[10]*a+l[14])*o,this}applyQuaternion(t){const e=this.x,n=this.y,a=this.z,l=t.x,o=t.y,c=t.z,f=t.w,d=2*(o*a-c*n),m=2*(c*e-l*a),g=2*(l*n-o*e);return this.x=e+f*d+o*g-c*m,this.y=n+f*m+c*d-l*g,this.z=a+f*g+l*m-o*d,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,a=this.z,l=t.elements;return this.x=l[0]*e+l[4]*n+l[8]*a,this.y=l[1]*e+l[5]*n+l[9]*a,this.z=l[2]*e+l[6]*n+l[10]*a,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=bt(this.x,t.x,e.x),this.y=bt(this.y,t.y,e.y),this.z=bt(this.z,t.z,e.z),this}clampScalar(t,e){return this.x=bt(this.x,t,e),this.y=bt(this.y,t,e),this.z=bt(this.z,t,e),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(bt(n,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,a=t.y,l=t.z,o=e.x,c=e.y,f=e.z;return this.x=a*f-l*c,this.y=l*o-n*f,this.z=n*c-a*o,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return Vf.copy(this).projectOnVector(t),this.sub(Vf)}reflect(t){return this.sub(Vf.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(bt(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,a=this.z-t.z;return e*e+n*n+a*a}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const a=Math.sin(e)*t;return this.x=a*Math.sin(n),this.y=Math.cos(e)*t,this.z=a*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),a=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=a,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=Math.random()*2-1,n=Math.sqrt(1-e*e);return this.x=n*Math.cos(t),this.y=e,this.z=n*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Vf=new C,Ig=new oi;class ke{constructor(t=new C(1/0,1/0,1/0),e=new C(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e+=3)this.expandByPoint(zi.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,n=t.count;e<n;e++)this.expandByPoint(zi.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=zi.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const n=t.geometry;if(n!==void 0){const l=n.getAttribute("position");if(e===!0&&l!==void 0&&t.isInstancedMesh!==!0)for(let o=0,c=l.count;o<c;o++)t.isMesh===!0?t.getVertexPosition(o,zi):zi.fromBufferAttribute(l,o),zi.applyMatrix4(t.matrixWorld),this.expandByPoint(zi);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),tu.copy(t.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),tu.copy(n.boundingBox)),tu.applyMatrix4(t.matrixWorld),this.union(tu)}const a=t.children;for(let l=0,o=a.length;l<o;l++)this.expandByObject(a[l],e);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,zi),zi.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(ll),eu.subVectors(this.max,ll),Ba.subVectors(t.a,ll),Oa.subVectors(t.b,ll),Da.subVectors(t.c,ll),Wn.subVectors(Oa,Ba),Jn.subVectors(Da,Oa),ws.subVectors(Ba,Da);let e=[0,-Wn.z,Wn.y,0,-Jn.z,Jn.y,0,-ws.z,ws.y,Wn.z,0,-Wn.x,Jn.z,0,-Jn.x,ws.z,0,-ws.x,-Wn.y,Wn.x,0,-Jn.y,Jn.x,0,-ws.y,ws.x,0];return!Ff(e,Ba,Oa,Da,eu)||(e=[1,0,0,0,1,0,0,0,1],!Ff(e,Ba,Oa,Da,eu))?!1:(iu.crossVectors(Wn,Jn),e=[iu.x,iu.y,iu.z],Ff(e,Ba,Oa,Da,eu))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,zi).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(zi).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(hn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),hn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),hn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),hn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),hn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),hn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),hn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),hn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(hn),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const hn=[new C,new C,new C,new C,new C,new C,new C,new C],zi=new C,tu=new ke,Ba=new C,Oa=new C,Da=new C,Wn=new C,Jn=new C,ws=new C,ll=new C,eu=new C,iu=new C,_s=new C;function Ff(h,t,e,n,a){for(let l=0,o=h.length-3;l<=o;l+=3){_s.fromArray(h,l);const c=a.x*Math.abs(_s.x)+a.y*Math.abs(_s.y)+a.z*Math.abs(_s.z),f=t.dot(_s),d=e.dot(_s),m=n.dot(_s);if(Math.max(-Math.max(f,d,m),Math.min(f,d,m))>c)return!1}return!0}const JS=new ke,ol=new C,Hf=new C;class Oe{constructor(t=new C,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;e!==void 0?n.copy(e):JS.setFromPoints(t).getCenter(n);let a=0;for(let l=0,o=t.length;l<o;l++)a=Math.max(a,n.distanceToSquared(t[l]));return this.radius=Math.sqrt(a),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;ol.subVectors(t,this.center);const e=ol.lengthSq();if(e>this.radius*this.radius){const n=Math.sqrt(e),a=(n-this.radius)*.5;this.center.addScaledVector(ol,a/n),this.radius+=a}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(Hf.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(ol.copy(t.center).add(Hf)),this.expandByPoint(ol.copy(t.center).sub(Hf))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const fn=new C,qf=new C,nu=new C,jn=new C,Gf=new C,su=new C,Pf=new C;class Ll{constructor(t=new C,e=new C(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,fn)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=fn.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(fn.copy(this.origin).addScaledVector(this.direction,e),fn.distanceToSquared(t))}distanceSqToSegment(t,e,n,a){qf.copy(t).add(e).multiplyScalar(.5),nu.copy(e).sub(t).normalize(),jn.copy(this.origin).sub(qf);const l=t.distanceTo(e)*.5,o=-this.direction.dot(nu),c=jn.dot(this.direction),f=-jn.dot(nu),d=jn.lengthSq(),m=Math.abs(1-o*o);let g,x,b,v;if(m>0)if(g=o*f-c,x=o*c-f,v=l*m,g>=0)if(x>=-v)if(x<=v){const S=1/m;g*=S,x*=S,b=g*(g+o*x+2*c)+x*(o*g+x+2*f)+d}else x=l,g=Math.max(0,-(o*x+c)),b=-g*g+x*(x+2*f)+d;else x=-l,g=Math.max(0,-(o*x+c)),b=-g*g+x*(x+2*f)+d;else x<=-v?(g=Math.max(0,-(-o*l+c)),x=g>0?-l:Math.min(Math.max(-l,-f),l),b=-g*g+x*(x+2*f)+d):x<=v?(g=0,x=Math.min(Math.max(-l,-f),l),b=x*(x+2*f)+d):(g=Math.max(0,-(o*l+c)),x=g>0?l:Math.min(Math.max(-l,-f),l),b=-g*g+x*(x+2*f)+d);else x=o>0?-l:l,g=Math.max(0,-(o*x+c)),b=-g*g+x*(x+2*f)+d;return n&&n.copy(this.origin).addScaledVector(this.direction,g),a&&a.copy(qf).addScaledVector(nu,x),b}intersectSphere(t,e){fn.subVectors(t.center,this.origin);const n=fn.dot(this.direction),a=fn.dot(fn)-n*n,l=t.radius*t.radius;if(a>l)return null;const o=Math.sqrt(l-a),c=n-o,f=n+o;return f<0?null:c<0?this.at(f,e):this.at(c,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return n===null?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,a,l,o,c,f;const d=1/this.direction.x,m=1/this.direction.y,g=1/this.direction.z,x=this.origin;return d>=0?(n=(t.min.x-x.x)*d,a=(t.max.x-x.x)*d):(n=(t.max.x-x.x)*d,a=(t.min.x-x.x)*d),m>=0?(l=(t.min.y-x.y)*m,o=(t.max.y-x.y)*m):(l=(t.max.y-x.y)*m,o=(t.min.y-x.y)*m),n>o||l>a||((l>n||isNaN(n))&&(n=l),(o<a||isNaN(a))&&(a=o),g>=0?(c=(t.min.z-x.z)*g,f=(t.max.z-x.z)*g):(c=(t.max.z-x.z)*g,f=(t.min.z-x.z)*g),n>f||c>a)||((c>n||n!==n)&&(n=c),(f<a||a!==a)&&(a=f),a<0)?null:this.at(n>=0?n:a,e)}intersectsBox(t){return this.intersectBox(t,fn)!==null}intersectTriangle(t,e,n,a,l){Gf.subVectors(e,t),su.subVectors(n,t),Pf.crossVectors(Gf,su);let o=this.direction.dot(Pf),c;if(o>0){if(a)return null;c=1}else if(o<0)c=-1,o=-o;else return null;jn.subVectors(this.origin,t);const f=c*this.direction.dot(su.crossVectors(jn,su));if(f<0)return null;const d=c*this.direction.dot(Gf.cross(jn));if(d<0||f+d>o)return null;const m=-c*jn.dot(Pf);return m<0?null:this.at(m/o,l)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class wt{constructor(t,e,n,a,l,o,c,f,d,m,g,x,b,v,S,_){wt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,e,n,a,l,o,c,f,d,m,g,x,b,v,S,_)}set(t,e,n,a,l,o,c,f,d,m,g,x,b,v,S,_){const w=this.elements;return w[0]=t,w[4]=e,w[8]=n,w[12]=a,w[1]=l,w[5]=o,w[9]=c,w[13]=f,w[2]=d,w[6]=m,w[10]=g,w[14]=x,w[3]=b,w[7]=v,w[11]=S,w[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new wt().fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,a=1/Na.setFromMatrixColumn(t,0).length(),l=1/Na.setFromMatrixColumn(t,1).length(),o=1/Na.setFromMatrixColumn(t,2).length();return e[0]=n[0]*a,e[1]=n[1]*a,e[2]=n[2]*a,e[3]=0,e[4]=n[4]*l,e[5]=n[5]*l,e[6]=n[6]*l,e[7]=0,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,n=t.x,a=t.y,l=t.z,o=Math.cos(n),c=Math.sin(n),f=Math.cos(a),d=Math.sin(a),m=Math.cos(l),g=Math.sin(l);if(t.order==="XYZ"){const x=o*m,b=o*g,v=c*m,S=c*g;e[0]=f*m,e[4]=-f*g,e[8]=d,e[1]=b+v*d,e[5]=x-S*d,e[9]=-c*f,e[2]=S-x*d,e[6]=v+b*d,e[10]=o*f}else if(t.order==="YXZ"){const x=f*m,b=f*g,v=d*m,S=d*g;e[0]=x+S*c,e[4]=v*c-b,e[8]=o*d,e[1]=o*g,e[5]=o*m,e[9]=-c,e[2]=b*c-v,e[6]=S+x*c,e[10]=o*f}else if(t.order==="ZXY"){const x=f*m,b=f*g,v=d*m,S=d*g;e[0]=x-S*c,e[4]=-o*g,e[8]=v+b*c,e[1]=b+v*c,e[5]=o*m,e[9]=S-x*c,e[2]=-o*d,e[6]=c,e[10]=o*f}else if(t.order==="ZYX"){const x=o*m,b=o*g,v=c*m,S=c*g;e[0]=f*m,e[4]=v*d-b,e[8]=x*d+S,e[1]=f*g,e[5]=S*d+x,e[9]=b*d-v,e[2]=-d,e[6]=c*f,e[10]=o*f}else if(t.order==="YZX"){const x=o*f,b=o*d,v=c*f,S=c*d;e[0]=f*m,e[4]=S-x*g,e[8]=v*g+b,e[1]=g,e[5]=o*m,e[9]=-c*m,e[2]=-d*m,e[6]=b*g+v,e[10]=x-S*g}else if(t.order==="XZY"){const x=o*f,b=o*d,v=c*f,S=c*d;e[0]=f*m,e[4]=-g,e[8]=d*m,e[1]=x*g+S,e[5]=o*m,e[9]=b*g-v,e[2]=v*g-b,e[6]=c*m,e[10]=S*g+x}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(jS,t,QS)}lookAt(t,e,n){const a=this.elements;return ni.subVectors(t,e),ni.lengthSq()===0&&(ni.z=1),ni.normalize(),Qn.crossVectors(n,ni),Qn.lengthSq()===0&&(Math.abs(n.z)===1?ni.x+=1e-4:ni.z+=1e-4,ni.normalize(),Qn.crossVectors(n,ni)),Qn.normalize(),au.crossVectors(ni,Qn),a[0]=Qn.x,a[4]=au.x,a[8]=ni.x,a[1]=Qn.y,a[5]=au.y,a[9]=ni.y,a[2]=Qn.z,a[6]=au.z,a[10]=ni.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,a=e.elements,l=this.elements,o=n[0],c=n[4],f=n[8],d=n[12],m=n[1],g=n[5],x=n[9],b=n[13],v=n[2],S=n[6],_=n[10],w=n[14],T=n[3],z=n[7],E=n[11],D=n[15],I=a[0],H=a[4],k=a[8],X=a[12],J=a[1],et=a[5],ot=a[9],gt=a[13],Bt=a[2],xt=a[6],q=a[10],Q=a[14],lt=a[3],dt=a[7],B=a[11],G=a[15];return l[0]=o*I+c*J+f*Bt+d*lt,l[4]=o*H+c*et+f*xt+d*dt,l[8]=o*k+c*ot+f*q+d*B,l[12]=o*X+c*gt+f*Q+d*G,l[1]=m*I+g*J+x*Bt+b*lt,l[5]=m*H+g*et+x*xt+b*dt,l[9]=m*k+g*ot+x*q+b*B,l[13]=m*X+g*gt+x*Q+b*G,l[2]=v*I+S*J+_*Bt+w*lt,l[6]=v*H+S*et+_*xt+w*dt,l[10]=v*k+S*ot+_*q+w*B,l[14]=v*X+S*gt+_*Q+w*G,l[3]=T*I+z*J+E*Bt+D*lt,l[7]=T*H+z*et+E*xt+D*dt,l[11]=T*k+z*ot+E*q+D*B,l[15]=T*X+z*gt+E*Q+D*G,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],a=t[8],l=t[12],o=t[1],c=t[5],f=t[9],d=t[13],m=t[2],g=t[6],x=t[10],b=t[14],v=t[3],S=t[7],_=t[11],w=t[15];return v*(+l*f*g-a*d*g-l*c*x+n*d*x+a*c*b-n*f*b)+S*(+e*f*b-e*d*x+l*o*x-a*o*b+a*d*m-l*f*m)+_*(+e*d*g-e*c*b-l*o*g+n*o*b+l*c*m-n*d*m)+w*(-a*c*m-e*f*g+e*c*x+a*o*g-n*o*x+n*f*m)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const a=this.elements;return t.isVector3?(a[12]=t.x,a[13]=t.y,a[14]=t.z):(a[12]=t,a[13]=e,a[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],a=t[2],l=t[3],o=t[4],c=t[5],f=t[6],d=t[7],m=t[8],g=t[9],x=t[10],b=t[11],v=t[12],S=t[13],_=t[14],w=t[15],T=g*_*d-S*x*d+S*f*b-c*_*b-g*f*w+c*x*w,z=v*x*d-m*_*d-v*f*b+o*_*b+m*f*w-o*x*w,E=m*S*d-v*g*d+v*c*b-o*S*b-m*c*w+o*g*w,D=v*g*f-m*S*f-v*c*x+o*S*x+m*c*_-o*g*_,I=e*T+n*z+a*E+l*D;if(I===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const H=1/I;return t[0]=T*H,t[1]=(S*x*l-g*_*l-S*a*b+n*_*b+g*a*w-n*x*w)*H,t[2]=(c*_*l-S*f*l+S*a*d-n*_*d-c*a*w+n*f*w)*H,t[3]=(g*f*l-c*x*l-g*a*d+n*x*d+c*a*b-n*f*b)*H,t[4]=z*H,t[5]=(m*_*l-v*x*l+v*a*b-e*_*b-m*a*w+e*x*w)*H,t[6]=(v*f*l-o*_*l-v*a*d+e*_*d+o*a*w-e*f*w)*H,t[7]=(o*x*l-m*f*l+m*a*d-e*x*d-o*a*b+e*f*b)*H,t[8]=E*H,t[9]=(v*g*l-m*S*l-v*n*b+e*S*b+m*n*w-e*g*w)*H,t[10]=(o*S*l-v*c*l+v*n*d-e*S*d-o*n*w+e*c*w)*H,t[11]=(m*c*l-o*g*l-m*n*d+e*g*d+o*n*b-e*c*b)*H,t[12]=D*H,t[13]=(m*S*a-v*g*a+v*n*x-e*S*x-m*n*_+e*g*_)*H,t[14]=(v*c*a-o*S*a-v*n*f+e*S*f+o*n*_-e*c*_)*H,t[15]=(o*g*a-m*c*a+m*n*f-e*g*f-o*n*x+e*c*x)*H,this}scale(t){const e=this.elements,n=t.x,a=t.y,l=t.z;return e[0]*=n,e[4]*=a,e[8]*=l,e[1]*=n,e[5]*=a,e[9]*=l,e[2]*=n,e[6]*=a,e[10]*=l,e[3]*=n,e[7]*=a,e[11]*=l,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],a=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,a))}makeTranslation(t,e,n){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),a=Math.sin(e),l=1-n,o=t.x,c=t.y,f=t.z,d=l*o,m=l*c;return this.set(d*o+n,d*c-a*f,d*f+a*c,0,d*c+a*f,m*c+n,m*f-a*o,0,d*f-a*c,m*f+a*o,l*f*f+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n,a,l,o){return this.set(1,n,l,0,t,1,o,0,e,a,1,0,0,0,0,1),this}compose(t,e,n){const a=this.elements,l=e._x,o=e._y,c=e._z,f=e._w,d=l+l,m=o+o,g=c+c,x=l*d,b=l*m,v=l*g,S=o*m,_=o*g,w=c*g,T=f*d,z=f*m,E=f*g,D=n.x,I=n.y,H=n.z;return a[0]=(1-(S+w))*D,a[1]=(b+E)*D,a[2]=(v-z)*D,a[3]=0,a[4]=(b-E)*I,a[5]=(1-(x+w))*I,a[6]=(_+T)*I,a[7]=0,a[8]=(v+z)*H,a[9]=(_-T)*H,a[10]=(1-(x+S))*H,a[11]=0,a[12]=t.x,a[13]=t.y,a[14]=t.z,a[15]=1,this}decompose(t,e,n){const a=this.elements;let l=Na.set(a[0],a[1],a[2]).length();const o=Na.set(a[4],a[5],a[6]).length(),c=Na.set(a[8],a[9],a[10]).length();this.determinant()<0&&(l=-l),t.x=a[12],t.y=a[13],t.z=a[14],Ei.copy(this);const d=1/l,m=1/o,g=1/c;return Ei.elements[0]*=d,Ei.elements[1]*=d,Ei.elements[2]*=d,Ei.elements[4]*=m,Ei.elements[5]*=m,Ei.elements[6]*=m,Ei.elements[8]*=g,Ei.elements[9]*=g,Ei.elements[10]*=g,e.setFromRotationMatrix(Ei),n.x=l,n.y=o,n.z=c,this}makePerspective(t,e,n,a,l,o,c=Hi){const f=this.elements,d=2*l/(e-t),m=2*l/(n-a),g=(e+t)/(e-t),x=(n+a)/(n-a);let b,v;if(c===Hi)b=-(o+l)/(o-l),v=-2*o*l/(o-l);else if(c===Wu)b=-o/(o-l),v=-o*l/(o-l);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+c);return f[0]=d,f[4]=0,f[8]=g,f[12]=0,f[1]=0,f[5]=m,f[9]=x,f[13]=0,f[2]=0,f[6]=0,f[10]=b,f[14]=v,f[3]=0,f[7]=0,f[11]=-1,f[15]=0,this}makeOrthographic(t,e,n,a,l,o,c=Hi){const f=this.elements,d=1/(e-t),m=1/(n-a),g=1/(o-l),x=(e+t)*d,b=(n+a)*m;let v,S;if(c===Hi)v=(o+l)*g,S=-2*g;else if(c===Wu)v=l*g,S=-1*g;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+c);return f[0]=2*d,f[4]=0,f[8]=0,f[12]=-x,f[1]=0,f[5]=2*m,f[9]=0,f[13]=-b,f[2]=0,f[6]=0,f[10]=S,f[14]=-v,f[3]=0,f[7]=0,f[11]=0,f[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let a=0;a<16;a++)if(e[a]!==n[a])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}const Na=new C,Ei=new wt,jS=new C(0,0,0),QS=new C(1,1,1),Qn=new C,au=new C,ni=new C,kg=new wt,Vg=new oi;class Gi{constructor(t=0,e=0,n=0,a=Gi.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=n,this._order=a}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,n,a=this._order){return this._x=t,this._y=e,this._z=n,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,n=!0){const a=t.elements,l=a[0],o=a[4],c=a[8],f=a[1],d=a[5],m=a[9],g=a[2],x=a[6],b=a[10];switch(e){case"XYZ":this._y=Math.asin(bt(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-m,b),this._z=Math.atan2(-o,l)):(this._x=Math.atan2(x,d),this._z=0);break;case"YXZ":this._x=Math.asin(-bt(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(c,b),this._z=Math.atan2(f,d)):(this._y=Math.atan2(-g,l),this._z=0);break;case"ZXY":this._x=Math.asin(bt(x,-1,1)),Math.abs(x)<.9999999?(this._y=Math.atan2(-g,b),this._z=Math.atan2(-o,d)):(this._y=0,this._z=Math.atan2(f,l));break;case"ZYX":this._y=Math.asin(-bt(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(x,b),this._z=Math.atan2(f,l)):(this._x=0,this._z=Math.atan2(-o,d));break;case"YZX":this._z=Math.asin(bt(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-m,d),this._y=Math.atan2(-g,l)):(this._x=0,this._y=Math.atan2(c,b));break;case"XZY":this._z=Math.asin(-bt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(x,d),this._y=Math.atan2(c,l)):(this._x=Math.atan2(-m,b),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,n===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,n){return kg.makeRotationFromQuaternion(t),this.setFromRotationMatrix(kg,e,n)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return Vg.setFromEuler(this),this.setFromQuaternion(Vg,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Gi.DEFAULT_ORDER="XYZ";class a1{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let KS=0;const Fg=new C,Ua=new oi,dn=new wt,ru=new C,ul=new C,$S=new C,tw=new oi,Hg=new C(1,0,0),qg=new C(0,1,0),Gg=new C(0,0,1),Pg={type:"added"},ew={type:"removed"},La={type:"childadded",child:null},Yf={type:"childremoved",child:null};class Lt extends ns{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:KS++}),this.uuid=li(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Lt.DEFAULT_UP.clone();const t=new C,e=new Gi,n=new oi,a=new C(1,1,1);function l(){n.setFromEuler(e,!1)}function o(){e.setFromQuaternion(n,void 0,!1)}e._onChange(l),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new wt},normalMatrix:{value:new Yi}}),this.matrix=new wt,this.matrixWorld=new wt,this.matrixAutoUpdate=Lt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Lt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new a1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return Ua.setFromAxisAngle(t,e),this.quaternion.multiply(Ua),this}rotateOnWorldAxis(t,e){return Ua.setFromAxisAngle(t,e),this.quaternion.premultiply(Ua),this}rotateX(t){return this.rotateOnAxis(Hg,t)}rotateY(t){return this.rotateOnAxis(qg,t)}rotateZ(t){return this.rotateOnAxis(Gg,t)}translateOnAxis(t,e){return Fg.copy(t).applyQuaternion(this.quaternion),this.position.add(Fg.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(Hg,t)}translateY(t){return this.translateOnAxis(qg,t)}translateZ(t){return this.translateOnAxis(Gg,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(dn.copy(this.matrixWorld).invert())}lookAt(t,e,n){t.isVector3?ru.copy(t):ru.set(t,e,n);const a=this.parent;this.updateWorldMatrix(!0,!1),ul.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?dn.lookAt(ul,ru,this.up):dn.lookAt(ru,ul,this.up),this.quaternion.setFromRotationMatrix(dn),a&&(dn.extractRotation(a.matrixWorld),Ua.setFromRotationMatrix(dn),this.quaternion.premultiply(Ua.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(Pg),La.child=t,this.dispatchEvent(La),La.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(ew),Yf.child=t,this.dispatchEvent(Yf),Yf.child=null),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),dn.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),dn.multiply(t.parent.matrixWorld)),t.applyMatrix4(dn),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(Pg),La.child=t,this.dispatchEvent(La),La.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let n=0,a=this.children.length;n<a;n++){const o=this.children[n].getObjectByProperty(t,e);if(o!==void 0)return o}}getObjectsByProperty(t,e,n=[]){this[t]===e&&n.push(this);const a=this.children;for(let l=0,o=a.length;l<o;l++)a[l].getObjectsByProperty(t,e,n);return n}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ul,t,$S),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ul,tw,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let n=0,a=e.length;n<a;n++)e[n].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let n=0,a=e.length;n<a;n++)e[n].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,a=e.length;n<a;n++)e[n].updateMatrixWorld(t)}updateWorldMatrix(t,e){const n=this.parent;if(t===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),e===!0){const a=this.children;for(let l=0,o=a.length;l<o;l++)a[l].updateWorldMatrix(!1,!0)}}toJSON(t){const e=t===void 0||typeof t=="string",n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.geometryInfo=this._geometryInfo.map(c=>({...c,boundingBox:c.boundingBox?{min:c.boundingBox.min.toArray(),max:c.boundingBox.max.toArray()}:void 0,boundingSphere:c.boundingSphere?{radius:c.boundingSphere.radius,center:c.boundingSphere.center.toArray()}:void 0})),a.instanceInfo=this._instanceInfo.map(c=>({...c})),a.availableInstanceIds=this._availableInstanceIds.slice(),a.availableGeometryIds=this._availableGeometryIds.slice(),a.nextIndexStart=this._nextIndexStart,a.nextVertexStart=this._nextVertexStart,a.geometryCount=this._geometryCount,a.maxInstanceCount=this._maxInstanceCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.matricesTexture=this._matricesTexture.toJSON(t),a.indirectTexture=this._indirectTexture.toJSON(t),this._colorsTexture!==null&&(a.colorsTexture=this._colorsTexture.toJSON(t)),this.boundingSphere!==null&&(a.boundingSphere={center:this.boundingSphere.center.toArray(),radius:this.boundingSphere.radius}),this.boundingBox!==null&&(a.boundingBox={min:this.boundingBox.min.toArray(),max:this.boundingBox.max.toArray()}));function l(c,f){return c[f.uuid]===void 0&&(c[f.uuid]=f.toJSON(t)),f.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=l(t.geometries,this.geometry);const c=this.geometry.parameters;if(c!==void 0&&c.shapes!==void 0){const f=c.shapes;if(Array.isArray(f))for(let d=0,m=f.length;d<m;d++){const g=f[d];l(t.shapes,g)}else l(t.shapes,f)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(l(t.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const c=[];for(let f=0,d=this.material.length;f<d;f++)c.push(l(t.materials,this.material[f]));a.material=c}else a.material=l(t.materials,this.material);if(this.children.length>0){a.children=[];for(let c=0;c<this.children.length;c++)a.children.push(this.children[c].toJSON(t).object)}if(this.animations.length>0){a.animations=[];for(let c=0;c<this.animations.length;c++){const f=this.animations[c];a.animations.push(l(t.animations,f))}}if(e){const c=o(t.geometries),f=o(t.materials),d=o(t.textures),m=o(t.images),g=o(t.shapes),x=o(t.skeletons),b=o(t.animations),v=o(t.nodes);c.length>0&&(n.geometries=c),f.length>0&&(n.materials=f),d.length>0&&(n.textures=d),m.length>0&&(n.images=m),g.length>0&&(n.shapes=g),x.length>0&&(n.skeletons=x),b.length>0&&(n.animations=b),v.length>0&&(n.nodes=v)}return n.object=a,n;function o(c){const f=[];for(const d in c){const m=c[d];delete m.metadata,f.push(m)}return f}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let n=0;n<t.children.length;n++){const a=t.children[n];this.add(a.clone())}return this}}Lt.DEFAULT_UP=new C(0,1,0);Lt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Lt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ci=new C,pn=new C,Xf=new C,mn=new C,Ia=new C,ka=new C,Yg=new C,Zf=new C,Wf=new C,Jf=new C,jf=new ve,Qf=new ve,Kf=new ve;class ri{constructor(t=new C,e=new C,n=new C){this.a=t,this.b=e,this.c=n}static getNormal(t,e,n,a){a.subVectors(n,e),Ci.subVectors(t,e),a.cross(Ci);const l=a.lengthSq();return l>0?a.multiplyScalar(1/Math.sqrt(l)):a.set(0,0,0)}static getBarycoord(t,e,n,a,l){Ci.subVectors(a,e),pn.subVectors(n,e),Xf.subVectors(t,e);const o=Ci.dot(Ci),c=Ci.dot(pn),f=Ci.dot(Xf),d=pn.dot(pn),m=pn.dot(Xf),g=o*d-c*c;if(g===0)return l.set(0,0,0),null;const x=1/g,b=(d*f-c*m)*x,v=(o*m-c*f)*x;return l.set(1-b-v,v,b)}static containsPoint(t,e,n,a){return this.getBarycoord(t,e,n,a,mn)===null?!1:mn.x>=0&&mn.y>=0&&mn.x+mn.y<=1}static getInterpolation(t,e,n,a,l,o,c,f){return this.getBarycoord(t,e,n,a,mn)===null?(f.x=0,f.y=0,"z"in f&&(f.z=0),"w"in f&&(f.w=0),null):(f.setScalar(0),f.addScaledVector(l,mn.x),f.addScaledVector(o,mn.y),f.addScaledVector(c,mn.z),f)}static getInterpolatedAttribute(t,e,n,a,l,o){return jf.setScalar(0),Qf.setScalar(0),Kf.setScalar(0),jf.fromBufferAttribute(t,e),Qf.fromBufferAttribute(t,n),Kf.fromBufferAttribute(t,a),o.setScalar(0),o.addScaledVector(jf,l.x),o.addScaledVector(Qf,l.y),o.addScaledVector(Kf,l.z),o}static isFrontFacing(t,e,n,a){return Ci.subVectors(n,e),pn.subVectors(t,e),Ci.cross(pn).dot(a)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,a){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[a]),this}setFromAttributeAndIndices(t,e,n,a){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,a),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Ci.subVectors(this.c,this.b),pn.subVectors(this.a,this.b),Ci.cross(pn).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return ri.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return ri.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,n,a,l){return ri.getInterpolation(t,this.a,this.b,this.c,e,n,a,l)}containsPoint(t){return ri.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return ri.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const n=this.a,a=this.b,l=this.c;let o,c;Ia.subVectors(a,n),ka.subVectors(l,n),Zf.subVectors(t,n);const f=Ia.dot(Zf),d=ka.dot(Zf);if(f<=0&&d<=0)return e.copy(n);Wf.subVectors(t,a);const m=Ia.dot(Wf),g=ka.dot(Wf);if(m>=0&&g<=m)return e.copy(a);const x=f*g-m*d;if(x<=0&&f>=0&&m<=0)return o=f/(f-m),e.copy(n).addScaledVector(Ia,o);Jf.subVectors(t,l);const b=Ia.dot(Jf),v=ka.dot(Jf);if(v>=0&&b<=v)return e.copy(l);const S=b*d-f*v;if(S<=0&&d>=0&&v<=0)return c=d/(d-v),e.copy(n).addScaledVector(ka,c);const _=m*v-b*g;if(_<=0&&g-m>=0&&b-v>=0)return Yg.subVectors(l,a),c=(g-m)/(g-m+(b-v)),e.copy(a).addScaledVector(Yg,c);const w=1/(_+S+x);return o=S*w,c=x*w,e.copy(n).addScaledVector(Ia,o).addScaledVector(ka,c)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const r1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Kn={h:0,s:0,l:0},lu={h:0,s:0,l:0};function $f(h,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?h+(t-h)*6*e:e<1/2?t:e<2/3?h+(t-h)*6*(2/3-e):h}class vt{constructor(t,e,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,n)}set(t,e,n){if(e===void 0&&n===void 0){const a=t;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(t,e,n);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=vi){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,ai.toWorkingColorSpace(this,e),this}setRGB(t,e,n,a=ai.workingColorSpace){return this.r=t,this.g=e,this.b=n,ai.toWorkingColorSpace(this,a),this}setHSL(t,e,n,a=ai.workingColorSpace){if(t=Vd(t,1),e=bt(e,0,1),n=bt(n,0,1),e===0)this.r=this.g=this.b=n;else{const l=n<=.5?n*(1+e):n+e-n*e,o=2*n-l;this.r=$f(o,l,t+1/3),this.g=$f(o,l,t),this.b=$f(o,l,t-1/3)}return ai.toWorkingColorSpace(this,a),this}setStyle(t,e=vi){function n(l){l!==void 0&&parseFloat(l)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(t)){let l;const o=a[1],c=a[2];switch(o){case"rgb":case"rgba":if(l=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return n(l[4]),this.setRGB(Math.min(255,parseInt(l[1],10))/255,Math.min(255,parseInt(l[2],10))/255,Math.min(255,parseInt(l[3],10))/255,e);if(l=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return n(l[4]),this.setRGB(Math.min(100,parseInt(l[1],10))/100,Math.min(100,parseInt(l[2],10))/100,Math.min(100,parseInt(l[3],10))/100,e);break;case"hsl":case"hsla":if(l=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return n(l[4]),this.setHSL(parseFloat(l[1])/360,parseFloat(l[2])/100,parseFloat(l[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(t)){const l=a[1],o=l.length;if(o===3)return this.setRGB(parseInt(l.charAt(0),16)/15,parseInt(l.charAt(1),16)/15,parseInt(l.charAt(2),16)/15,e);if(o===6)return this.setHex(parseInt(l,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=vi){const n=r1[t.toLowerCase()];return n!==void 0?this.setHex(n,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=xn(t.r),this.g=xn(t.g),this.b=xn(t.b),this}copyLinearToSRGB(t){return this.r=Qa(t.r),this.g=Qa(t.g),this.b=Qa(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=vi){return ai.fromWorkingColorSpace(Re.copy(this),t),Math.round(bt(Re.r*255,0,255))*65536+Math.round(bt(Re.g*255,0,255))*256+Math.round(bt(Re.b*255,0,255))}getHexString(t=vi){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=ai.workingColorSpace){ai.fromWorkingColorSpace(Re.copy(this),e);const n=Re.r,a=Re.g,l=Re.b,o=Math.max(n,a,l),c=Math.min(n,a,l);let f,d;const m=(c+o)/2;if(c===o)f=0,d=0;else{const g=o-c;switch(d=m<=.5?g/(o+c):g/(2-o-c),o){case n:f=(a-l)/g+(a<l?6:0);break;case a:f=(l-n)/g+2;break;case l:f=(n-a)/g+4;break}f/=6}return t.h=f,t.s=d,t.l=m,t}getRGB(t,e=ai.workingColorSpace){return ai.fromWorkingColorSpace(Re.copy(this),e),t.r=Re.r,t.g=Re.g,t.b=Re.b,t}getStyle(t=vi){ai.fromWorkingColorSpace(Re.copy(this),t);const e=Re.r,n=Re.g,a=Re.b;return t!==vi?`color(${t} ${e.toFixed(3)} ${n.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(e*255)},${Math.round(n*255)},${Math.round(a*255)})`}offsetHSL(t,e,n){return this.getHSL(Kn),this.setHSL(Kn.h+t,Kn.s+e,Kn.l+n)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}lerpHSL(t,e){this.getHSL(Kn),t.getHSL(lu);const n=Tl(Kn.h,lu.h,e),a=Tl(Kn.s,lu.s,e),l=Tl(Kn.l,lu.l,e);return this.setHSL(n,a,l),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,n=this.g,a=this.b,l=t.elements;return this.r=l[0]*e+l[3]*n+l[6]*a,this.g=l[1]*e+l[4]*n+l[7]*a,this.b=l[2]*e+l[5]*n+l[8]*a,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Re=new vt;vt.NAMES=r1;let iw=0;class Ve extends ns{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:iw++}),this.uuid=li(),this.name="",this.type="Material",this.blending=wg,this.side=vd,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Ag,this.blendDst=Tg,this.blendEquation=_g,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new vt(0,0,0),this.blendAlpha=0,this.depthFunc=zg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Og,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ca,this.stencilZFail=Ca,this.stencilZPass=Ca,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const n=t[e];if(n===void 0){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const a=this[e];if(a===void 0){console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(n):a&&a.isVector3&&n&&n.isVector3?a.copy(n):this[e]=n}}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==wg&&(n.blending=this.blending),this.side!==vd&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==Ag&&(n.blendSrc=this.blendSrc),this.blendDst!==Tg&&(n.blendDst=this.blendDst),this.blendEquation!==_g&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==zg&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Og&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ca&&(n.stencilFail=this.stencilFail),this.stencilZFail!==Ca&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==Ca&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function a(l){const o=[];for(const c in l){const f=l[c];delete f.metadata,o.push(f)}return o}if(e){const l=a(t.textures),o=a(t.images);l.length>0&&(n.textures=l),o.length>0&&(n.images=o)}return n}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(e!==null){const a=e.length;n=new Array(a);for(let l=0;l!==a;++l)n[l]=e[l].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}}class sr extends Ve{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new vt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Gi,this.combine=Dd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const gn=nw();function nw(){const h=new ArrayBuffer(4),t=new Float32Array(h),e=new Uint32Array(h),n=new Uint32Array(512),a=new Uint32Array(512);for(let f=0;f<256;++f){const d=f-127;d<-27?(n[f]=0,n[f|256]=32768,a[f]=24,a[f|256]=24):d<-14?(n[f]=1024>>-d-14,n[f|256]=1024>>-d-14|32768,a[f]=-d-1,a[f|256]=-d-1):d<=15?(n[f]=d+15<<10,n[f|256]=d+15<<10|32768,a[f]=13,a[f|256]=13):d<128?(n[f]=31744,n[f|256]=64512,a[f]=24,a[f|256]=24):(n[f]=31744,n[f|256]=64512,a[f]=13,a[f|256]=13)}const l=new Uint32Array(2048),o=new Uint32Array(64),c=new Uint32Array(64);for(let f=1;f<1024;++f){let d=f<<13,m=0;for(;(d&8388608)===0;)d<<=1,m-=8388608;d&=-8388609,m+=947912704,l[f]=d|m}for(let f=1024;f<2048;++f)l[f]=939524096+(f-1024<<13);for(let f=1;f<31;++f)o[f]=f<<23;o[31]=1199570944,o[32]=2147483648;for(let f=33;f<63;++f)o[f]=2147483648+(f-32<<23);o[63]=3347054592;for(let f=1;f<64;++f)f!==32&&(c[f]=1024);return{floatView:t,uint32View:e,baseTable:n,shiftTable:a,mantissaTable:l,exponentTable:o,offsetTable:c}}function Xe(h){Math.abs(h)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),h=bt(h,-65504,65504),gn.floatView[0]=h;const t=gn.uint32View[0],e=t>>23&511;return gn.baseTable[e]+((t&8388607)>>gn.shiftTable[e])}function Sl(h){const t=h>>10;return gn.uint32View[0]=gn.mantissaTable[gn.offsetTable[t]+(h&1023)]+gn.exponentTable[t],gn.floatView[0]}class sz{static toHalfFloat(t){return Xe(t)}static fromHalfFloat(t){return Sl(t)}}const ue=new C,ou=new j;let sw=0;class Kt{constructor(t,e,n=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:sw++}),this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=n,this.usage=Zu,this.updateRanges=[],this.gpuType=$a,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let a=0,l=this.itemSize;a<l;a++)this.array[t+a]=e.array[n+a];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,n=this.count;e<n;e++)ou.fromBufferAttribute(this,e),ou.applyMatrix3(t),this.setXY(e,ou.x,ou.y);else if(this.itemSize===3)for(let e=0,n=this.count;e<n;e++)ue.fromBufferAttribute(this,e),ue.applyMatrix3(t),this.setXYZ(e,ue.x,ue.y,ue.z);return this}applyMatrix4(t){for(let e=0,n=this.count;e<n;e++)ue.fromBufferAttribute(this,e),ue.applyMatrix4(t),this.setXYZ(e,ue.x,ue.y,ue.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)ue.fromBufferAttribute(this,e),ue.applyNormalMatrix(t),this.setXYZ(e,ue.x,ue.y,ue.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)ue.fromBufferAttribute(this,e),ue.transformDirection(t),this.setXYZ(e,ue.x,ue.y,ue.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let n=this.array[t*this.itemSize+e];return this.normalized&&(n=Ie(n,this.array)),n}setComponent(t,e,n){return this.normalized&&(n=St(n,this.array)),this.array[t*this.itemSize+e]=n,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=Ie(e,this.array)),e}setX(t,e){return this.normalized&&(e=St(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=Ie(e,this.array)),e}setY(t,e){return this.normalized&&(e=St(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=Ie(e,this.array)),e}setZ(t,e){return this.normalized&&(e=St(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=Ie(e,this.array)),e}setW(t,e){return this.normalized&&(e=St(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,n){return t*=this.itemSize,this.normalized&&(e=St(e,this.array),n=St(n,this.array)),this.array[t+0]=e,this.array[t+1]=n,this}setXYZ(t,e,n,a){return t*=this.itemSize,this.normalized&&(e=St(e,this.array),n=St(n,this.array),a=St(a,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=a,this}setXYZW(t,e,n,a,l){return t*=this.itemSize,this.normalized&&(e=St(e,this.array),n=St(n,this.array),a=St(a,this.array),l=St(l,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=a,this.array[t+3]=l,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==Zu&&(t.usage=this.usage),t}}class az extends Kt{constructor(t,e,n){super(new Int8Array(t),e,n)}}class rz extends Kt{constructor(t,e,n){super(new Uint8Array(t),e,n)}}class lz extends Kt{constructor(t,e,n){super(new Uint8ClampedArray(t),e,n)}}class oz extends Kt{constructor(t,e,n){super(new Int16Array(t),e,n)}}class aw extends Kt{constructor(t,e,n){super(new Uint16Array(t),e,n)}}class uz extends Kt{constructor(t,e,n){super(new Int32Array(t),e,n)}}class rw extends Kt{constructor(t,e,n){super(new Uint32Array(t),e,n)}}class cz extends Kt{constructor(t,e,n){super(new Uint16Array(t),e,n),this.isFloat16BufferAttribute=!0}getX(t){let e=Sl(this.array[t*this.itemSize]);return this.normalized&&(e=Ie(e,this.array)),e}setX(t,e){return this.normalized&&(e=St(e,this.array)),this.array[t*this.itemSize]=Xe(e),this}getY(t){let e=Sl(this.array[t*this.itemSize+1]);return this.normalized&&(e=Ie(e,this.array)),e}setY(t,e){return this.normalized&&(e=St(e,this.array)),this.array[t*this.itemSize+1]=Xe(e),this}getZ(t){let e=Sl(this.array[t*this.itemSize+2]);return this.normalized&&(e=Ie(e,this.array)),e}setZ(t,e){return this.normalized&&(e=St(e,this.array)),this.array[t*this.itemSize+2]=Xe(e),this}getW(t){let e=Sl(this.array[t*this.itemSize+3]);return this.normalized&&(e=Ie(e,this.array)),e}setW(t,e){return this.normalized&&(e=St(e,this.array)),this.array[t*this.itemSize+3]=Xe(e),this}setXY(t,e,n){return t*=this.itemSize,this.normalized&&(e=St(e,this.array),n=St(n,this.array)),this.array[t+0]=Xe(e),this.array[t+1]=Xe(n),this}setXYZ(t,e,n,a){return t*=this.itemSize,this.normalized&&(e=St(e,this.array),n=St(n,this.array),a=St(a,this.array)),this.array[t+0]=Xe(e),this.array[t+1]=Xe(n),this.array[t+2]=Xe(a),this}setXYZW(t,e,n,a,l){return t*=this.itemSize,this.normalized&&(e=St(e,this.array),n=St(n,this.array),a=St(a,this.array),l=St(l,this.array)),this.array[t+0]=Xe(e),this.array[t+1]=Xe(n),this.array[t+2]=Xe(a),this.array[t+3]=Xe(l),this}}class rt extends Kt{constructor(t,e,n){super(new Float32Array(t),e,n)}}let lw=0;const bi=new wt,td=new Lt,Va=new C,si=new ke,cl=new ke,be=new C;class Tt extends ns{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:lw++}),this.uuid=li(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(GS(t)?rw:aw)(t,1):this.index=t,this}setIndirect(t){return this.indirect=t,this}getIndirect(){return this.indirect}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const l=new Yi().getNormalMatrix(t);n.applyNormalMatrix(l),n.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(t),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return bi.makeRotationFromQuaternion(t),this.applyMatrix4(bi),this}rotateX(t){return bi.makeRotationX(t),this.applyMatrix4(bi),this}rotateY(t){return bi.makeRotationY(t),this.applyMatrix4(bi),this}rotateZ(t){return bi.makeRotationZ(t),this.applyMatrix4(bi),this}translate(t,e,n){return bi.makeTranslation(t,e,n),this.applyMatrix4(bi),this}scale(t,e,n){return bi.makeScale(t,e,n),this.applyMatrix4(bi),this}lookAt(t){return td.lookAt(t),td.updateMatrix(),this.applyMatrix4(td.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Va).negate(),this.translate(Va.x,Va.y,Va.z),this}setFromPoints(t){const e=this.getAttribute("position");if(e===void 0){const n=[];for(let a=0,l=t.length;a<l;a++){const o=t[a];n.push(o.x,o.y,o.z||0)}this.setAttribute("position",new rt(n,3))}else{const n=Math.min(t.length,e.count);for(let a=0;a<n;a++){const l=t[a];e.setXYZ(a,l.x,l.y,l.z||0)}t.length>e.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),e.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ke);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new C(-1/0,-1/0,-1/0),new C(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let n=0,a=e.length;n<a;n++){const l=e[n];si.setFromBufferAttribute(l),this.morphTargetsRelative?(be.addVectors(this.boundingBox.min,si.min),this.boundingBox.expandByPoint(be),be.addVectors(this.boundingBox.max,si.max),this.boundingBox.expandByPoint(be)):(this.boundingBox.expandByPoint(si.min),this.boundingBox.expandByPoint(si.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Oe);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new C,1/0);return}if(t){const n=this.boundingSphere.center;if(si.setFromBufferAttribute(t),e)for(let l=0,o=e.length;l<o;l++){const c=e[l];cl.setFromBufferAttribute(c),this.morphTargetsRelative?(be.addVectors(si.min,cl.min),si.expandByPoint(be),be.addVectors(si.max,cl.max),si.expandByPoint(be)):(si.expandByPoint(cl.min),si.expandByPoint(cl.max))}si.getCenter(n);let a=0;for(let l=0,o=t.count;l<o;l++)be.fromBufferAttribute(t,l),a=Math.max(a,n.distanceToSquared(be));if(e)for(let l=0,o=e.length;l<o;l++){const c=e[l],f=this.morphTargetsRelative;for(let d=0,m=c.count;d<m;d++)be.fromBufferAttribute(c,d),f&&(Va.fromBufferAttribute(t,d),be.add(Va)),a=Math.max(a,n.distanceToSquared(be))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=e.position,a=e.normal,l=e.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Kt(new Float32Array(4*n.count),4));const o=this.getAttribute("tangent"),c=[],f=[];for(let k=0;k<n.count;k++)c[k]=new C,f[k]=new C;const d=new C,m=new C,g=new C,x=new j,b=new j,v=new j,S=new C,_=new C;function w(k,X,J){d.fromBufferAttribute(n,k),m.fromBufferAttribute(n,X),g.fromBufferAttribute(n,J),x.fromBufferAttribute(l,k),b.fromBufferAttribute(l,X),v.fromBufferAttribute(l,J),m.sub(d),g.sub(d),b.sub(x),v.sub(x);const et=1/(b.x*v.y-v.x*b.y);isFinite(et)&&(S.copy(m).multiplyScalar(v.y).addScaledVector(g,-b.y).multiplyScalar(et),_.copy(g).multiplyScalar(b.x).addScaledVector(m,-v.x).multiplyScalar(et),c[k].add(S),c[X].add(S),c[J].add(S),f[k].add(_),f[X].add(_),f[J].add(_))}let T=this.groups;T.length===0&&(T=[{start:0,count:t.count}]);for(let k=0,X=T.length;k<X;++k){const J=T[k],et=J.start,ot=J.count;for(let gt=et,Bt=et+ot;gt<Bt;gt+=3)w(t.getX(gt+0),t.getX(gt+1),t.getX(gt+2))}const z=new C,E=new C,D=new C,I=new C;function H(k){D.fromBufferAttribute(a,k),I.copy(D);const X=c[k];z.copy(X),z.sub(D.multiplyScalar(D.dot(X))).normalize(),E.crossVectors(I,X);const et=E.dot(f[k])<0?-1:1;o.setXYZW(k,z.x,z.y,z.z,et)}for(let k=0,X=T.length;k<X;++k){const J=T[k],et=J.start,ot=J.count;for(let gt=et,Bt=et+ot;gt<Bt;gt+=3)H(t.getX(gt+0)),H(t.getX(gt+1)),H(t.getX(gt+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Kt(new Float32Array(e.count*3),3),this.setAttribute("normal",n);else for(let x=0,b=n.count;x<b;x++)n.setXYZ(x,0,0,0);const a=new C,l=new C,o=new C,c=new C,f=new C,d=new C,m=new C,g=new C;if(t)for(let x=0,b=t.count;x<b;x+=3){const v=t.getX(x+0),S=t.getX(x+1),_=t.getX(x+2);a.fromBufferAttribute(e,v),l.fromBufferAttribute(e,S),o.fromBufferAttribute(e,_),m.subVectors(o,l),g.subVectors(a,l),m.cross(g),c.fromBufferAttribute(n,v),f.fromBufferAttribute(n,S),d.fromBufferAttribute(n,_),c.add(m),f.add(m),d.add(m),n.setXYZ(v,c.x,c.y,c.z),n.setXYZ(S,f.x,f.y,f.z),n.setXYZ(_,d.x,d.y,d.z)}else for(let x=0,b=e.count;x<b;x+=3)a.fromBufferAttribute(e,x+0),l.fromBufferAttribute(e,x+1),o.fromBufferAttribute(e,x+2),m.subVectors(o,l),g.subVectors(a,l),m.cross(g),n.setXYZ(x+0,m.x,m.y,m.z),n.setXYZ(x+1,m.x,m.y,m.z),n.setXYZ(x+2,m.x,m.y,m.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)be.fromBufferAttribute(t,e),be.normalize(),t.setXYZ(e,be.x,be.y,be.z)}toNonIndexed(){function t(c,f){const d=c.array,m=c.itemSize,g=c.normalized,x=new d.constructor(f.length*m);let b=0,v=0;for(let S=0,_=f.length;S<_;S++){c.isInterleavedBufferAttribute?b=f[S]*c.data.stride+c.offset:b=f[S]*m;for(let w=0;w<m;w++)x[v++]=d[b++]}return new Kt(x,m,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Tt,n=this.index.array,a=this.attributes;for(const c in a){const f=a[c],d=t(f,n);e.setAttribute(c,d)}const l=this.morphAttributes;for(const c in l){const f=[],d=l[c];for(let m=0,g=d.length;m<g;m++){const x=d[m],b=t(x,n);f.push(b)}e.morphAttributes[c]=f}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let c=0,f=o.length;c<f;c++){const d=o[c];e.addGroup(d.start,d.count,d.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const f=this.parameters;for(const d in f)f[d]!==void 0&&(t[d]=f[d]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const f in n){const d=n[f];t.data.attributes[f]=d.toJSON(t.data)}const a={};let l=!1;for(const f in this.morphAttributes){const d=this.morphAttributes[f],m=[];for(let g=0,x=d.length;g<x;g++){const b=d[g];m.push(b.toJSON(t.data))}m.length>0&&(a[f]=m,l=!0)}l&&(t.data.morphAttributes=a,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const c=this.boundingSphere;return c!==null&&(t.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;n!==null&&this.setIndex(n.clone());const a=t.attributes;for(const d in a){const m=a[d];this.setAttribute(d,m.clone(e))}const l=t.morphAttributes;for(const d in l){const m=[],g=l[d];for(let x=0,b=g.length;x<b;x++)m.push(g[x].clone(e));this.morphAttributes[d]=m}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let d=0,m=o.length;d<m;d++){const g=o[d];this.addGroup(g.start,g.count,g.materialIndex)}const c=t.boundingBox;c!==null&&(this.boundingBox=c.clone());const f=t.boundingSphere;return f!==null&&(this.boundingSphere=f.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Xg=new wt,As=new Ll,uu=new Oe,Zg=new C,cu=new C,hu=new C,fu=new C,ed=new C,du=new C,Wg=new C,pu=new C;class Bi extends Lt{constructor(t=new Tt,e=new sr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const a=e[n[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,o=a.length;l<o;l++){const c=a[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=l}}}}getVertexPosition(t,e){const n=this.geometry,a=n.attributes.position,l=n.morphAttributes.position,o=n.morphTargetsRelative;e.fromBufferAttribute(a,t);const c=this.morphTargetInfluences;if(l&&c){du.set(0,0,0);for(let f=0,d=l.length;f<d;f++){const m=c[f],g=l[f];m!==0&&(ed.fromBufferAttribute(g,t),o?du.addScaledVector(ed,m):du.addScaledVector(ed.sub(e),m))}e.add(du)}return e}raycast(t,e){const n=this.geometry,a=this.material,l=this.matrixWorld;a!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),uu.copy(n.boundingSphere),uu.applyMatrix4(l),As.copy(t.ray).recast(t.near),!(uu.containsPoint(As.origin)===!1&&(As.intersectSphere(uu,Zg)===null||As.origin.distanceToSquared(Zg)>(t.far-t.near)**2))&&(Xg.copy(l).invert(),As.copy(t.ray).applyMatrix4(Xg),!(n.boundingBox!==null&&As.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(t,e,As)))}_computeIntersections(t,e,n){let a;const l=this.geometry,o=this.material,c=l.index,f=l.attributes.position,d=l.attributes.uv,m=l.attributes.uv1,g=l.attributes.normal,x=l.groups,b=l.drawRange;if(c!==null)if(Array.isArray(o))for(let v=0,S=x.length;v<S;v++){const _=x[v],w=o[_.materialIndex],T=Math.max(_.start,b.start),z=Math.min(c.count,Math.min(_.start+_.count,b.start+b.count));for(let E=T,D=z;E<D;E+=3){const I=c.getX(E),H=c.getX(E+1),k=c.getX(E+2);a=mu(this,w,t,n,d,m,g,I,H,k),a&&(a.faceIndex=Math.floor(E/3),a.face.materialIndex=_.materialIndex,e.push(a))}}else{const v=Math.max(0,b.start),S=Math.min(c.count,b.start+b.count);for(let _=v,w=S;_<w;_+=3){const T=c.getX(_),z=c.getX(_+1),E=c.getX(_+2);a=mu(this,o,t,n,d,m,g,T,z,E),a&&(a.faceIndex=Math.floor(_/3),e.push(a))}}else if(f!==void 0)if(Array.isArray(o))for(let v=0,S=x.length;v<S;v++){const _=x[v],w=o[_.materialIndex],T=Math.max(_.start,b.start),z=Math.min(f.count,Math.min(_.start+_.count,b.start+b.count));for(let E=T,D=z;E<D;E+=3){const I=E,H=E+1,k=E+2;a=mu(this,w,t,n,d,m,g,I,H,k),a&&(a.faceIndex=Math.floor(E/3),a.face.materialIndex=_.materialIndex,e.push(a))}}else{const v=Math.max(0,b.start),S=Math.min(f.count,b.start+b.count);for(let _=v,w=S;_<w;_+=3){const T=_,z=_+1,E=_+2;a=mu(this,o,t,n,d,m,g,T,z,E),a&&(a.faceIndex=Math.floor(_/3),e.push(a))}}}}function ow(h,t,e,n,a,l,o,c){let f;if(t.side===Kx?f=n.intersectTriangle(o,l,a,!0,c):f=n.intersectTriangle(a,l,o,t.side===vd,c),f===null)return null;pu.copy(c),pu.applyMatrix4(h.matrixWorld);const d=e.ray.origin.distanceTo(pu);return d<e.near||d>e.far?null:{distance:d,point:pu.clone(),object:h}}function mu(h,t,e,n,a,l,o,c,f,d){h.getVertexPosition(c,cu),h.getVertexPosition(f,hu),h.getVertexPosition(d,fu);const m=ow(h,t,e,n,cu,hu,fu,Wg);if(m){const g=new C;ri.getBarycoord(Wg,cu,hu,fu,g),a&&(m.uv=ri.getInterpolatedAttribute(a,c,f,d,g,new j)),l&&(m.uv1=ri.getInterpolatedAttribute(l,c,f,d,g,new j)),o&&(m.normal=ri.getInterpolatedAttribute(o,c,f,d,g,new C),m.normal.dot(n.direction)>0&&m.normal.multiplyScalar(-1));const x={a:c,b:f,c:d,normal:new C,materialIndex:0};ri.getNormal(cu,hu,fu,x.normal),m.face=x,m.barycoord=g}return m}class ac extends Tt{constructor(t=1,e=1,n=1,a=1,l=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:a,heightSegments:l,depthSegments:o};const c=this;a=Math.floor(a),l=Math.floor(l),o=Math.floor(o);const f=[],d=[],m=[],g=[];let x=0,b=0;v("z","y","x",-1,-1,n,e,t,o,l,0),v("z","y","x",1,-1,n,e,-t,o,l,1),v("x","z","y",1,1,t,n,e,a,o,2),v("x","z","y",1,-1,t,n,-e,a,o,3),v("x","y","z",1,-1,t,e,n,a,l,4),v("x","y","z",-1,-1,t,e,-n,a,l,5),this.setIndex(f),this.setAttribute("position",new rt(d,3)),this.setAttribute("normal",new rt(m,3)),this.setAttribute("uv",new rt(g,2));function v(S,_,w,T,z,E,D,I,H,k,X){const J=E/H,et=D/k,ot=E/2,gt=D/2,Bt=I/2,xt=H+1,q=k+1;let Q=0,lt=0;const dt=new C;for(let B=0;B<q;B++){const G=B*et-gt;for(let $=0;$<xt;$++){const K=$*J-ot;dt[S]=K*T,dt[_]=G*z,dt[w]=Bt,d.push(dt.x,dt.y,dt.z),dt[S]=0,dt[_]=0,dt[w]=I>0?1:-1,m.push(dt.x,dt.y,dt.z),g.push($/H),g.push(1-B/k),Q+=1}}for(let B=0;B<k;B++)for(let G=0;G<H;G++){const $=x+G+xt*B,K=x+G+xt*(B+1),ut=x+(G+1)+xt*(B+1),zt=x+(G+1)+xt*B;f.push($,K,zt),f.push(K,ut,zt),lt+=6}c.addGroup(b,lt,X),b+=lt,x+=Q}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new ac(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function rc(h){const t={};for(const e in h){t[e]={};for(const n in h[e]){const a=h[e][n];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][n]=null):t[e][n]=a.clone():Array.isArray(a)?t[e][n]=a.slice():t[e][n]=a}}return t}function uw(h){const t={};for(let e=0;e<h.length;e++){const n=rc(h[e]);for(const a in n)t[a]=n[a]}return t}function cw(h){const t=[];for(let e=0;e<h.length;e++)t.push(h[e].clone());return t}function hz(h){const t=h.getRenderTarget();return t===null?h.outputColorSpace:t.isXRRenderTarget===!0?t.texture.colorSpace:ai.workingColorSpace}const fz={clone:rc,merge:uw};var hw=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,fw=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class qd extends Ve{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=hw,this.fragmentShader=fw,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=rc(t.uniforms),this.uniformsGroups=cw(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const a in this.uniforms){const o=this.uniforms[a].value;o&&o.isTexture?e.uniforms[a]={type:"t",value:o.toJSON(t).uuid}:o&&o.isColor?e.uniforms[a]={type:"c",value:o.getHex()}:o&&o.isVector2?e.uniforms[a]={type:"v2",value:o.toArray()}:o&&o.isVector3?e.uniforms[a]={type:"v3",value:o.toArray()}:o&&o.isVector4?e.uniforms[a]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?e.uniforms[a]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?e.uniforms[a]={type:"m4",value:o.toArray()}:e.uniforms[a]={value:o}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const n={};for(const a in this.extensions)this.extensions[a]===!0&&(n[a]=!0);return Object.keys(n).length>0&&(e.extensions=n),e}}class Gd extends Lt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new wt,this.projectionMatrix=new wt,this.projectionMatrixInverse=new wt,this.coordinateSystem=Hi}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const $n=new C,Jg=new j,jg=new j;class Mi extends Gd{constructor(t=50,e=1,n=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=a,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=Rl*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(Is*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return Rl*2*Math.atan(Math.tan(Is*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,n){$n.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set($n.x,$n.y).multiplyScalar(-t/$n.z),$n.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set($n.x,$n.y).multiplyScalar(-t/$n.z)}getViewSize(t,e){return this.getViewBounds(t,Jg,jg),e.subVectors(jg,Jg)}setViewOffset(t,e,n,a,l,o){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=a,this.view.width=l,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(Is*.5*this.fov)/this.zoom,n=2*e,a=this.aspect*n,l=-.5*a;const o=this.view;if(this.view!==null&&this.view.enabled){const f=o.fullWidth,d=o.fullHeight;l+=o.offsetX*a/f,e-=o.offsetY*n/d,a*=o.width/f,n*=o.height/d}const c=this.filmOffset;c!==0&&(l+=t*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(l,l+a,e,e-n,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const Fa=-90,Ha=1;class dw extends Lt{constructor(t,e,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new Mi(Fa,Ha,t,e);a.layers=this.layers,this.add(a);const l=new Mi(Fa,Ha,t,e);l.layers=this.layers,this.add(l);const o=new Mi(Fa,Ha,t,e);o.layers=this.layers,this.add(o);const c=new Mi(Fa,Ha,t,e);c.layers=this.layers,this.add(c);const f=new Mi(Fa,Ha,t,e);f.layers=this.layers,this.add(f);const d=new Mi(Fa,Ha,t,e);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[n,a,l,o,c,f]=e;for(const d of e)this.remove(d);if(t===Hi)n.up.set(0,1,0),n.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),l.up.set(0,0,-1),l.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),c.up.set(0,1,0),c.lookAt(0,0,1),f.up.set(0,1,0),f.lookAt(0,0,-1);else if(t===Wu)n.up.set(0,-1,0),n.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),l.up.set(0,0,1),l.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),c.up.set(0,-1,0),c.lookAt(0,0,1),f.up.set(0,-1,0),f.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(const d of e)this.add(d),d.updateMatrixWorld()}update(t,e){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:a}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[l,o,c,f,d,m]=this.children,g=t.getRenderTarget(),x=t.getActiveCubeFace(),b=t.getActiveMipmapLevel(),v=t.xr.enabled;t.xr.enabled=!1;const S=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0,a),t.render(e,l),t.setRenderTarget(n,1,a),t.render(e,o),t.setRenderTarget(n,2,a),t.render(e,c),t.setRenderTarget(n,3,a),t.render(e,f),t.setRenderTarget(n,4,a),t.render(e,d),n.texture.generateMipmaps=S,t.setRenderTarget(n,5,a),t.render(e,m),t.setRenderTarget(g,x,b),t.xr.enabled=v,n.texture.needsPMREMUpdate=!0}}class Pd extends de{constructor(t=[],e=Ud,n,a,l,o,c,f,d,m){super(t,e,n,a,l,o,c,f,d,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class dz extends Hd{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const n={width:t,height:t,depth:1},a=[n,n,n,n,n,n];this.texture=new Pd(a,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=e.generateMipmaps!==void 0?e.generateMipmaps:!1,this.texture.minFilter=e.minFilter!==void 0?e.minFilter:Si}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new ac(5,5,5),l=new qd({name:"CubemapFromEquirect",uniforms:rc(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Kx,blending:SM});l.uniforms.tEquirect.value=e;const o=new Bi(a,l),c=e.minFilter;return e.minFilter===sc&&(e.minFilter=Si),new dw(1,10,this).update(t,o),e.minFilter=c,o.geometry.dispose(),o.material.dispose(),this}clear(t,e=!0,n=!0,a=!0){const l=t.getRenderTarget();for(let o=0;o<6;o++)t.setRenderTarget(this,o),t.clear(e,n,a);t.setRenderTarget(l)}}class wl extends Lt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const pw={type:"move"};class pz{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new wl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new wl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new C,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new C),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new wl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new C,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new C),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const n of t.hand.values())this._getHandJoint(e,n)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,e,n){let a=null,l=null,o=null;const c=this._targetRay,f=this._grip,d=this._hand;if(t&&e.session.visibilityState!=="visible-blurred"){if(d&&t.hand){o=!0;for(const S of t.hand.values()){const _=e.getJointPose(S,n),w=this._getHandJoint(d,S);_!==null&&(w.matrix.fromArray(_.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.matrixWorldNeedsUpdate=!0,w.jointRadius=_.radius),w.visible=_!==null}const m=d.joints["index-finger-tip"],g=d.joints["thumb-tip"],x=m.position.distanceTo(g.position),b=.02,v=.005;d.inputState.pinching&&x>b+v?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!d.inputState.pinching&&x<=b-v&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else f!==null&&t.gripSpace&&(l=e.getPose(t.gripSpace,n),l!==null&&(f.matrix.fromArray(l.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.matrixWorldNeedsUpdate=!0,l.linearVelocity?(f.hasLinearVelocity=!0,f.linearVelocity.copy(l.linearVelocity)):f.hasLinearVelocity=!1,l.angularVelocity?(f.hasAngularVelocity=!0,f.angularVelocity.copy(l.angularVelocity)):f.hasAngularVelocity=!1));c!==null&&(a=e.getPose(t.targetRaySpace,n),a===null&&l!==null&&(a=l),a!==null&&(c.matrix.fromArray(a.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,a.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(a.linearVelocity)):c.hasLinearVelocity=!1,a.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(a.angularVelocity)):c.hasAngularVelocity=!1,this.dispatchEvent(pw)))}return c!==null&&(c.visible=a!==null),f!==null&&(f.visible=l!==null),d!==null&&(d.visible=o!==null),this}_getHandJoint(t,e){if(t.joints[e.jointName]===void 0){const n=new wl;n.matrixAutoUpdate=!1,n.visible=!1,t.joints[e.jointName]=n,t.add(n)}return t.joints[e.jointName]}}class Yd{constructor(t,e=25e-5){this.isFogExp2=!0,this.name="",this.color=new vt(t),this.density=e}clone(){return new Yd(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Xd{constructor(t,e=1,n=1e3){this.isFog=!0,this.name="",this.color=new vt(t),this.near=e,this.far=n}clone(){return new Xd(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class mw extends Lt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Gi,this.environmentIntensity=1,this.environmentRotation=new Gi,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return this.fog!==null&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}class Zd{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=Zu,this.updateRanges=[],this.version=0,this.uuid=li()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,n){t*=this.stride,n*=e.stride;for(let a=0,l=this.stride;a<l;a++)this.array[t+a]=e.array[n+a];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=li()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(e,this.stride);return n.setUsage(this.usage),n}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=li()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Le=new C;class tr{constructor(t,e,n,a=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=a}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,n=this.data.count;e<n;e++)Le.fromBufferAttribute(this,e),Le.applyMatrix4(t),this.setXYZ(e,Le.x,Le.y,Le.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)Le.fromBufferAttribute(this,e),Le.applyNormalMatrix(t),this.setXYZ(e,Le.x,Le.y,Le.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)Le.fromBufferAttribute(this,e),Le.transformDirection(t),this.setXYZ(e,Le.x,Le.y,Le.z);return this}getComponent(t,e){let n=this.array[t*this.data.stride+this.offset+e];return this.normalized&&(n=Ie(n,this.array)),n}setComponent(t,e,n){return this.normalized&&(n=St(n,this.array)),this.data.array[t*this.data.stride+this.offset+e]=n,this}setX(t,e){return this.normalized&&(e=St(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=St(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=St(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=St(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=Ie(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=Ie(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=Ie(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=Ie(e,this.array)),e}setXY(t,e,n){return t=t*this.data.stride+this.offset,this.normalized&&(e=St(e,this.array),n=St(n,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this}setXYZ(t,e,n,a){return t=t*this.data.stride+this.offset,this.normalized&&(e=St(e,this.array),n=St(n,this.array),a=St(a,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=a,this}setXYZW(t,e,n,a,l){return t=t*this.data.stride+this.offset,this.normalized&&(e=St(e,this.array),n=St(n,this.array),a=St(a,this.array),l=St(l,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=a,this.data.array[t+3]=l,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let n=0;n<this.count;n++){const a=n*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)e.push(this.data.array[a+l])}return new Kt(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new tr(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let n=0;n<this.count;n++){const a=n*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)e.push(this.data.array[a+l])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class l1 extends Ve{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new vt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let qa;const hl=new C,Ga=new C,Pa=new C,Ya=new j,fl=new j,o1=new wt,yu=new C,dl=new C,gu=new C,Qg=new j,id=new j,Kg=new j;class yw extends Lt{constructor(t=new l1){if(super(),this.isSprite=!0,this.type="Sprite",qa===void 0){qa=new Tt;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Zd(e,5);qa.setIndex([0,1,2,0,2,3]),qa.setAttribute("position",new tr(n,3,0,!1)),qa.setAttribute("uv",new tr(n,2,3,!1))}this.geometry=qa,this.material=t,this.center=new j(.5,.5)}raycast(t,e){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ga.setFromMatrixScale(this.matrixWorld),o1.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Pa.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Ga.multiplyScalar(-Pa.z);const n=this.material.rotation;let a,l;n!==0&&(l=Math.cos(n),a=Math.sin(n));const o=this.center;xu(yu.set(-.5,-.5,0),Pa,o,Ga,a,l),xu(dl.set(.5,-.5,0),Pa,o,Ga,a,l),xu(gu.set(.5,.5,0),Pa,o,Ga,a,l),Qg.set(0,0),id.set(1,0),Kg.set(1,1);let c=t.ray.intersectTriangle(yu,dl,gu,!1,hl);if(c===null&&(xu(dl.set(-.5,.5,0),Pa,o,Ga,a,l),id.set(0,1),c=t.ray.intersectTriangle(yu,gu,dl,!1,hl),c===null))return;const f=t.ray.origin.distanceTo(hl);f<t.near||f>t.far||e.push({distance:f,point:hl.clone(),uv:ri.getInterpolation(hl,yu,dl,gu,Qg,id,Kg,new j),face:null,object:this})}copy(t,e){return super.copy(t,e),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}function xu(h,t,e,n,a,l){Ya.subVectors(h,e).addScalar(.5).multiply(n),a!==void 0?(fl.x=l*Ya.x-a*Ya.y,fl.y=a*Ya.x+l*Ya.y):fl.copy(Ya),h.copy(t),h.x+=fl.x,h.y+=fl.y,h.applyMatrix4(o1)}const bu=new C,$g=new C;class gw extends Lt{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const e=t.levels;for(let n=0,a=e.length;n<a;n++){const l=e[n];this.addLevel(l.object.clone(),l.distance,l.hysteresis)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,e=0,n=0){e=Math.abs(e);const a=this.levels;let l;for(l=0;l<a.length&&!(e<a[l].distance);l++);return a.splice(l,0,{distance:e,hysteresis:n,object:t}),this.add(t),this}removeLevel(t){const e=this.levels;for(let n=0;n<e.length;n++)if(e[n].distance===t){const a=e.splice(n,1);return this.remove(a[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const e=this.levels;if(e.length>0){let n,a;for(n=1,a=e.length;n<a;n++){let l=e[n].distance;if(e[n].object.visible&&(l-=l*e[n].hysteresis),t<l)break}return e[n-1].object}return null}raycast(t,e){if(this.levels.length>0){bu.setFromMatrixPosition(this.matrixWorld);const a=t.ray.origin.distanceTo(bu);this.getObjectForDistance(a).raycast(t,e)}}update(t){const e=this.levels;if(e.length>1){bu.setFromMatrixPosition(t.matrixWorld),$g.setFromMatrixPosition(this.matrixWorld);const n=bu.distanceTo($g)/t.zoom;e[0].object.visible=!0;let a,l;for(a=1,l=e.length;a<l;a++){let o=e[a].distance;if(e[a].object.visible&&(o-=o*e[a].hysteresis),n>=o)e[a-1].object.visible=!1,e[a].object.visible=!0;else break}for(this._currentLevel=a-1;a<l;a++)e[a].object.visible=!1}}toJSON(t){const e=super.toJSON(t);this.autoUpdate===!1&&(e.object.autoUpdate=!1),e.object.levels=[];const n=this.levels;for(let a=0,l=n.length;a<l;a++){const o=n[a];e.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return e}}const tx=new C,ex=new ve,ix=new ve,xw=new C,nx=new wt,vu=new C,nd=new Oe,sx=new wt,sd=new Ll;class bw extends Bi{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Eg,this.bindMatrix=new wt,this.bindMatrixInverse=new wt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;this.boundingBox===null&&(this.boundingBox=new ke),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let n=0;n<e.count;n++)this.getVertexPosition(n,vu),this.boundingBox.expandByPoint(vu)}computeBoundingSphere(){const t=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Oe),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let n=0;n<e.count;n++)this.getVertexPosition(n,vu),this.boundingSphere.expandByPoint(vu)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const n=this.material,a=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),nd.copy(this.boundingSphere),nd.applyMatrix4(a),t.ray.intersectsSphere(nd)!==!1&&(sx.copy(a).invert(),sd.copy(t.ray).applyMatrix4(sx),!(this.boundingBox!==null&&sd.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(t,e,sd)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new ve,e=this.geometry.attributes.skinWeight;for(let n=0,a=e.count;n<a;n++){t.fromBufferAttribute(e,n);const l=1/t.manhattanLength();l!==1/0?t.multiplyScalar(l):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===Eg?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===wM?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,e){const n=this.skeleton,a=this.geometry;ex.fromBufferAttribute(a.attributes.skinIndex,t),ix.fromBufferAttribute(a.attributes.skinWeight,t),tx.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let l=0;l<4;l++){const o=ix.getComponent(l);if(o!==0){const c=ex.getComponent(l);nx.multiplyMatrices(n.bones[c].matrixWorld,n.boneInverses[c]),e.addScaledVector(xw.copy(tx).applyMatrix4(nx),o)}}return e.applyMatrix4(this.bindMatrixInverse)}}class u1 extends Lt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class bn extends de{constructor(t=null,e=1,n=1,a,l,o,c,f,d=Ri,m=Ri,g,x){super(null,o,c,f,d,m,a,l,g,x),this.isDataTexture=!0,this.image={data:t,width:e,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const ax=new wt,vw=new wt;class Wd{constructor(t=[],e=[]){this.uuid=li(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),e.length===0)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,a=this.bones.length;n<a;n++)this.boneInverses.push(new wt)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const n=new wt;this.bones[t]&&n.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const n=this.bones[t];n&&n.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const n=this.bones[t];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const t=this.bones,e=this.boneInverses,n=this.boneMatrices,a=this.boneTexture;for(let l=0,o=t.length;l<o;l++){const c=t[l]?t[l].matrixWorld:vw;ax.multiplyMatrices(c,e[l]),ax.toArray(n,l*16)}a!==null&&(a.needsUpdate=!0)}clone(){return new Wd(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(this.bones.length*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const n=new bn(e,t,t,Cl,$a);return n.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=n,this}getBoneByName(t){for(let e=0,n=this.bones.length;e<n;e++){const a=this.bones[e];if(a.name===t)return a}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let n=0,a=t.bones.length;n<a;n++){const l=t.bones[n];let o=e[l];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",l),o=new u1),this.bones.push(o),this.boneInverses.push(new wt().fromArray(t.boneInverses[n]))}return this.init(),this}toJSON(){const t={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,n=this.boneInverses;for(let a=0,l=e.length;a<l;a++){const o=e[a];t.bones.push(o.uuid);const c=n[a];t.boneInverses.push(c.toArray())}return t}}class Bl extends Kt{constructor(t,e,n,a=1){super(t,e,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=a}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const Xa=new wt,rx=new wt,Mu=[],lx=new ke,Mw=new wt,pl=new Bi,ml=new Oe;class Sw extends Bi{constructor(t,e,n){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new Bl(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let a=0;a<n;a++)this.setMatrixAt(a,Mw)}computeBoundingBox(){const t=this.geometry,e=this.count;this.boundingBox===null&&(this.boundingBox=new ke),t.boundingBox===null&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<e;n++)this.getMatrixAt(n,Xa),lx.copy(t.boundingBox).applyMatrix4(Xa),this.boundingBox.union(lx)}computeBoundingSphere(){const t=this.geometry,e=this.count;this.boundingSphere===null&&(this.boundingSphere=new Oe),t.boundingSphere===null&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<e;n++)this.getMatrixAt(n,Xa),ml.copy(t.boundingSphere).applyMatrix4(Xa),this.boundingSphere.union(ml)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),t.morphTexture!==null&&(this.morphTexture=t.morphTexture.clone()),t.instanceColor!==null&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,t*3)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,t*16)}getMorphAt(t,e){const n=e.morphTargetInfluences,a=this.morphTexture.source.data.data,l=n.length+1,o=t*l+1;for(let c=0;c<n.length;c++)n[c]=a[o+c]}raycast(t,e){const n=this.matrixWorld,a=this.count;if(pl.geometry=this.geometry,pl.material=this.material,pl.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),ml.copy(this.boundingSphere),ml.applyMatrix4(n),t.ray.intersectsSphere(ml)!==!1))for(let l=0;l<a;l++){this.getMatrixAt(l,Xa),rx.multiplyMatrices(n,Xa),pl.matrixWorld=rx,pl.raycast(t,Mu);for(let o=0,c=Mu.length;o<c;o++){const f=Mu[o];f.instanceId=l,f.object=this,e.push(f)}Mu.length=0}}setColorAt(t,e){this.instanceColor===null&&(this.instanceColor=new Bl(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),e.toArray(this.instanceColor.array,t*3)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,t*16)}setMorphAt(t,e){const n=e.morphTargetInfluences,a=n.length+1;this.morphTexture===null&&(this.morphTexture=new bn(new Float32Array(a*this.count),a,this.count,$x,$a));const l=this.morphTexture.source.data.data;let o=0;for(let d=0;d<n.length;d++)o+=n[d];const c=this.geometry.morphTargetsRelative?1:1-o,f=a*t;l[f]=c,l.set(n,f+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const ad=new C,ww=new C,_w=new Yi;class Za{constructor(t=new C(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,a){return this.normal.set(t,e,n),this.constant=a,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const a=ad.subVectors(n,e).cross(ww.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(a,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const n=t.delta(ad),a=this.normal.dot(n);if(a===0)return this.distanceToPoint(t.start)===0?e.copy(t.start):null;const l=-(t.start.dot(this.normal)+this.constant)/a;return l<0||l>1?null:e.copy(t.start).addScaledVector(n,l)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||_w.getNormalMatrix(t),a=this.coplanarPoint(ad).applyMatrix4(t),l=this.normal.applyMatrix3(n).normalize();return this.constant=-a.dot(l),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ts=new Oe,Su=new C;class Jd{constructor(t=new Za,e=new Za,n=new Za,a=new Za,l=new Za,o=new Za){this.planes=[t,e,n,a,l,o]}set(t,e,n,a,l,o){const c=this.planes;return c[0].copy(t),c[1].copy(e),c[2].copy(n),c[3].copy(a),c[4].copy(l),c[5].copy(o),this}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t,e=Hi){const n=this.planes,a=t.elements,l=a[0],o=a[1],c=a[2],f=a[3],d=a[4],m=a[5],g=a[6],x=a[7],b=a[8],v=a[9],S=a[10],_=a[11],w=a[12],T=a[13],z=a[14],E=a[15];if(n[0].setComponents(f-l,x-d,_-b,E-w).normalize(),n[1].setComponents(f+l,x+d,_+b,E+w).normalize(),n[2].setComponents(f+o,x+m,_+v,E+T).normalize(),n[3].setComponents(f-o,x-m,_-v,E-T).normalize(),n[4].setComponents(f-c,x-g,_-S,E-z).normalize(),e===Hi)n[5].setComponents(f+c,x+g,_+S,E+z).normalize();else if(e===Wu)n[5].setComponents(c,g,S,z).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),Ts.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;e.boundingSphere===null&&e.computeBoundingSphere(),Ts.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(Ts)}intersectsSprite(t){return Ts.center.set(0,0,0),Ts.radius=.7071067811865476,Ts.applyMatrix4(t.matrixWorld),this.intersectsSphere(Ts)}intersectsSphere(t){const e=this.planes,n=t.center,a=-t.radius;for(let l=0;l<6;l++)if(e[l].distanceToPoint(n)<a)return!1;return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const a=e[n];if(Su.x=a.normal.x>0?t.max.x:t.min.x,Su.y=a.normal.y>0?t.max.y:t.min.y,Su.z=a.normal.z>0?t.max.z:t.min.z,a.distanceToPoint(Su)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const ki=new wt,Vi=new Jd;class jd{constructor(){this.coordinateSystem=Hi}intersectsObject(t,e){if(!e.isArrayCamera||e.cameras.length===0)return!1;for(let n=0;n<e.cameras.length;n++){const a=e.cameras[n];if(ki.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Vi.setFromProjectionMatrix(ki,this.coordinateSystem),Vi.intersectsObject(t))return!0}return!1}intersectsSprite(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let n=0;n<e.cameras.length;n++){const a=e.cameras[n];if(ki.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Vi.setFromProjectionMatrix(ki,this.coordinateSystem),Vi.intersectsSprite(t))return!0}return!1}intersectsSphere(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let n=0;n<e.cameras.length;n++){const a=e.cameras[n];if(ki.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Vi.setFromProjectionMatrix(ki,this.coordinateSystem),Vi.intersectsSphere(t))return!0}return!1}intersectsBox(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let n=0;n<e.cameras.length;n++){const a=e.cameras[n];if(ki.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Vi.setFromProjectionMatrix(ki,this.coordinateSystem),Vi.intersectsBox(t))return!0}return!1}containsPoint(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let n=0;n<e.cameras.length;n++){const a=e.cameras[n];if(ki.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Vi.setFromProjectionMatrix(ki,this.coordinateSystem),Vi.containsPoint(t))return!0}return!1}clone(){return new jd}}function rd(h,t){return h-t}function Aw(h,t){return h.z-t.z}function Tw(h,t){return t.z-h.z}class zw{constructor(){this.index=0,this.pool=[],this.list=[]}push(t,e,n,a){const l=this.pool,o=this.list;this.index>=l.length&&l.push({start:-1,count:-1,z:-1,index:-1});const c=l[this.index];o.push(c),this.index++,c.start=t,c.count=e,c.z=n,c.index=a}reset(){this.list.length=0,this.index=0}}const Ye=new wt,Ew=new vt(1,1,1),ox=new Jd,Cw=new jd,wu=new ke,zs=new Oe,yl=new C,ux=new C,Rw=new C,ld=new zw,Be=new Bi,_u=[];function Bw(h,t,e=0){const n=t.itemSize;if(h.isInterleavedBufferAttribute||h.array.constructor!==t.array.constructor){const a=h.count;for(let l=0;l<a;l++)for(let o=0;o<n;o++)t.setComponent(l+e,o,h.getComponent(l,o))}else t.array.set(h.array,e*n);t.needsUpdate=!0}function Es(h,t){if(h.constructor!==t.constructor){const e=Math.min(h.length,t.length);for(let n=0;n<e;n++)t[n]=h[n]}else{const e=Math.min(h.length,t.length);t.set(new h.constructor(h.buffer,0,e))}}class Ow extends Bi{constructor(t,e,n=e*2,a){super(new Tt,a),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=t,this._maxVertexCount=e,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(t),this._multiDrawStarts=new Int32Array(t),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let t=Math.sqrt(this._maxInstanceCount*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4),n=new bn(e,t,t,Cl,$a);this._matricesTexture=n}_initIndirectTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Uint32Array(t*t),n=new bn(e,t,t,t1,Id);this._indirectTexture=n}_initColorsTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Float32Array(t*t*4).fill(1),n=new bn(e,t,t,Cl,$a);n.colorSpace=ai.workingColorSpace,this._colorsTexture=n}_initializeGeometry(t){const e=this.geometry,n=this._maxVertexCount,a=this._maxIndexCount;if(this._geometryInitialized===!1){for(const l in t.attributes){const o=t.getAttribute(l),{array:c,itemSize:f,normalized:d}=o,m=new c.constructor(n*f),g=new Kt(m,f,d);e.setAttribute(l,g)}if(t.getIndex()!==null){const l=n>65535?new Uint32Array(a):new Uint16Array(a);e.setIndex(new Kt(l,1))}this._geometryInitialized=!0}}_validateGeometry(t){const e=this.geometry;if(!!t.getIndex()!=!!e.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in e.attributes){if(!t.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const a=t.getAttribute(n),l=e.getAttribute(n);if(a.itemSize!==l.itemSize||a.normalized!==l.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(t){const e=this._instanceInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${t}. Instance is either out of range or has been deleted.`)}validateGeometryId(t){const e=this._geometryInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${t}. Geometry is either out of range or has been deleted.`)}setCustomSort(t){return this.customSort=t,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ke);const t=this.boundingBox,e=this._instanceInfo;t.makeEmpty();for(let n=0,a=e.length;n<a;n++){if(e[n].active===!1)continue;const l=e[n].geometryIndex;this.getMatrixAt(n,Ye),this.getBoundingBoxAt(l,wu).applyMatrix4(Ye),t.union(wu)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Oe);const t=this.boundingSphere,e=this._instanceInfo;t.makeEmpty();for(let n=0,a=e.length;n<a;n++){if(e[n].active===!1)continue;const l=e[n].geometryIndex;this.getMatrixAt(n,Ye),this.getBoundingSphereAt(l,zs).applyMatrix4(Ye),t.union(zs)}}addInstance(t){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:t};let a=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(rd),a=this._availableInstanceIds.shift(),this._instanceInfo[a]=n):(a=this._instanceInfo.length,this._instanceInfo.push(n));const l=this._matricesTexture;Ye.identity().toArray(l.image.data,a*16),l.needsUpdate=!0;const o=this._colorsTexture;return o&&(Ew.toArray(o.image.data,a*4),o.needsUpdate=!0),this._visibilityChanged=!0,a}addGeometry(t,e=-1,n=-1){this._initializeGeometry(t),this._validateGeometry(t);const a={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},l=this._geometryInfo;a.vertexStart=this._nextVertexStart,a.reservedVertexCount=e===-1?t.getAttribute("position").count:e;const o=t.getIndex();if(o!==null&&(a.indexStart=this._nextIndexStart,a.reservedIndexCount=n===-1?o.count:n),a.indexStart!==-1&&a.indexStart+a.reservedIndexCount>this._maxIndexCount||a.vertexStart+a.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let f;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(rd),f=this._availableGeometryIds.shift(),l[f]=a):(f=this._geometryCount,this._geometryCount++,l.push(a)),this.setGeometryAt(f,t),this._nextIndexStart=a.indexStart+a.reservedIndexCount,this._nextVertexStart=a.vertexStart+a.reservedVertexCount,f}setGeometryAt(t,e){if(t>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(e);const n=this.geometry,a=n.getIndex()!==null,l=n.getIndex(),o=e.getIndex(),c=this._geometryInfo[t];if(a&&o.count>c.reservedIndexCount||e.attributes.position.count>c.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const f=c.vertexStart,d=c.reservedVertexCount;c.vertexCount=e.getAttribute("position").count;for(const m in n.attributes){const g=e.getAttribute(m),x=n.getAttribute(m);Bw(g,x,f);const b=g.itemSize;for(let v=g.count,S=d;v<S;v++){const _=f+v;for(let w=0;w<b;w++)x.setComponent(_,w,0)}x.needsUpdate=!0,x.addUpdateRange(f*b,d*b)}if(a){const m=c.indexStart,g=c.reservedIndexCount;c.indexCount=e.getIndex().count;for(let x=0;x<o.count;x++)l.setX(m+x,f+o.getX(x));for(let x=o.count,b=g;x<b;x++)l.setX(m+x,f);l.needsUpdate=!0,l.addUpdateRange(m,c.reservedIndexCount)}return c.start=a?c.indexStart:c.vertexStart,c.count=a?c.indexCount:c.vertexCount,c.boundingBox=null,e.boundingBox!==null&&(c.boundingBox=e.boundingBox.clone()),c.boundingSphere=null,e.boundingSphere!==null&&(c.boundingSphere=e.boundingSphere.clone()),this._visibilityChanged=!0,t}deleteGeometry(t){const e=this._geometryInfo;if(t>=e.length||e[t].active===!1)return this;const n=this._instanceInfo;for(let a=0,l=n.length;a<l;a++)n[a].active&&n[a].geometryIndex===t&&this.deleteInstance(a);return e[t].active=!1,this._availableGeometryIds.push(t),this._visibilityChanged=!0,this}deleteInstance(t){return this.validateInstanceId(t),this._instanceInfo[t].active=!1,this._availableInstanceIds.push(t),this._visibilityChanged=!0,this}optimize(){let t=0,e=0;const n=this._geometryInfo,a=n.map((o,c)=>c).sort((o,c)=>n[o].vertexStart-n[c].vertexStart),l=this.geometry;for(let o=0,c=n.length;o<c;o++){const f=a[o],d=n[f];if(d.active!==!1){if(l.index!==null){if(d.indexStart!==e){const{indexStart:m,vertexStart:g,reservedIndexCount:x}=d,b=l.index,v=b.array,S=t-g;for(let _=m;_<m+x;_++)v[_]=v[_]+S;b.array.copyWithin(e,m,m+x),b.addUpdateRange(e,x),d.indexStart=e}e+=d.reservedIndexCount}if(d.vertexStart!==t){const{vertexStart:m,reservedVertexCount:g}=d,x=l.attributes;for(const b in x){const v=x[b],{array:S,itemSize:_}=v;S.copyWithin(t*_,m*_,(m+g)*_),v.addUpdateRange(t*_,g*_)}d.vertexStart=t}t+=d.reservedVertexCount,d.start=l.index?d.indexStart:d.vertexStart,this._nextIndexStart=l.index?d.indexStart+d.reservedIndexCount:0,this._nextVertexStart=d.vertexStart+d.reservedVertexCount}}return this}getBoundingBoxAt(t,e){if(t>=this._geometryCount)return null;const n=this.geometry,a=this._geometryInfo[t];if(a.boundingBox===null){const l=new ke,o=n.index,c=n.attributes.position;for(let f=a.start,d=a.start+a.count;f<d;f++){let m=f;o&&(m=o.getX(m)),l.expandByPoint(yl.fromBufferAttribute(c,m))}a.boundingBox=l}return e.copy(a.boundingBox),e}getBoundingSphereAt(t,e){if(t>=this._geometryCount)return null;const n=this.geometry,a=this._geometryInfo[t];if(a.boundingSphere===null){const l=new Oe;this.getBoundingBoxAt(t,wu),wu.getCenter(l.center);const o=n.index,c=n.attributes.position;let f=0;for(let d=a.start,m=a.start+a.count;d<m;d++){let g=d;o&&(g=o.getX(g)),yl.fromBufferAttribute(c,g),f=Math.max(f,l.center.distanceToSquared(yl))}l.radius=Math.sqrt(f),a.boundingSphere=l}return e.copy(a.boundingSphere),e}setMatrixAt(t,e){this.validateInstanceId(t);const n=this._matricesTexture,a=this._matricesTexture.image.data;return e.toArray(a,t*16),n.needsUpdate=!0,this}getMatrixAt(t,e){return this.validateInstanceId(t),e.fromArray(this._matricesTexture.image.data,t*16)}setColorAt(t,e){return this.validateInstanceId(t),this._colorsTexture===null&&this._initColorsTexture(),e.toArray(this._colorsTexture.image.data,t*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(t,e){return this.validateInstanceId(t),e.fromArray(this._colorsTexture.image.data,t*4)}setVisibleAt(t,e){return this.validateInstanceId(t),this._instanceInfo[t].visible===e?this:(this._instanceInfo[t].visible=e,this._visibilityChanged=!0,this)}getVisibleAt(t){return this.validateInstanceId(t),this._instanceInfo[t].visible}setGeometryIdAt(t,e){return this.validateInstanceId(t),this.validateGeometryId(e),this._instanceInfo[t].geometryIndex=e,this}getGeometryIdAt(t){return this.validateInstanceId(t),this._instanceInfo[t].geometryIndex}getGeometryRangeAt(t,e={}){this.validateGeometryId(t);const n=this._geometryInfo[t];return e.vertexStart=n.vertexStart,e.vertexCount=n.vertexCount,e.reservedVertexCount=n.reservedVertexCount,e.indexStart=n.indexStart,e.indexCount=n.indexCount,e.reservedIndexCount=n.reservedIndexCount,e.start=n.start,e.count=n.count,e}setInstanceCount(t){const e=this._availableInstanceIds,n=this._instanceInfo;for(e.sort(rd);e[e.length-1]===n.length;)n.pop(),e.pop();if(t<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${t} are being used. Cannot shrink instance count.`);const a=new Int32Array(t),l=new Int32Array(t);Es(this._multiDrawCounts,a),Es(this._multiDrawStarts,l),this._multiDrawCounts=a,this._multiDrawStarts=l,this._maxInstanceCount=t;const o=this._indirectTexture,c=this._matricesTexture,f=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Es(o.image.data,this._indirectTexture.image.data),c.dispose(),this._initMatricesTexture(),Es(c.image.data,this._matricesTexture.image.data),f&&(f.dispose(),this._initColorsTexture(),Es(f.image.data,this._colorsTexture.image.data))}setGeometrySize(t,e){const n=[...this._geometryInfo].filter(c=>c.active);if(Math.max(...n.map(c=>c.vertexStart+c.reservedVertexCount))>t)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${e}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(f=>f.indexStart+f.reservedIndexCount))>e)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${e}. Cannot shrink further.`);const l=this.geometry;l.dispose(),this._maxVertexCount=t,this._maxIndexCount=e,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Tt,this._initializeGeometry(l));const o=this.geometry;l.index&&Es(l.index.array,o.index.array);for(const c in l.attributes)Es(l.attributes[c].array,o.attributes[c].array)}raycast(t,e){const n=this._instanceInfo,a=this._geometryInfo,l=this.matrixWorld,o=this.geometry;Be.material=this.material,Be.geometry.index=o.index,Be.geometry.attributes=o.attributes,Be.geometry.boundingBox===null&&(Be.geometry.boundingBox=new ke),Be.geometry.boundingSphere===null&&(Be.geometry.boundingSphere=new Oe);for(let c=0,f=n.length;c<f;c++){if(!n[c].visible||!n[c].active)continue;const d=n[c].geometryIndex,m=a[d];Be.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(c,Be.matrixWorld).premultiply(l),this.getBoundingBoxAt(d,Be.geometry.boundingBox),this.getBoundingSphereAt(d,Be.geometry.boundingSphere),Be.raycast(t,_u);for(let g=0,x=_u.length;g<x;g++){const b=_u[g];b.object=this,b.batchId=c,e.push(b)}_u.length=0}Be.material=null,Be.geometry.index=null,Be.geometry.attributes={},Be.geometry.setDrawRange(0,1/0)}copy(t){return super.copy(t),this.geometry=t.geometry.clone(),this.perObjectFrustumCulled=t.perObjectFrustumCulled,this.sortObjects=t.sortObjects,this.boundingBox=t.boundingBox!==null?t.boundingBox.clone():null,this.boundingSphere=t.boundingSphere!==null?t.boundingSphere.clone():null,this._geometryInfo=t._geometryInfo.map(e=>({...e,boundingBox:e.boundingBox!==null?e.boundingBox.clone():null,boundingSphere:e.boundingSphere!==null?e.boundingSphere.clone():null})),this._instanceInfo=t._instanceInfo.map(e=>({...e})),this._availableInstanceIds=t._availableInstanceIds.slice(),this._availableGeometryIds=t._availableGeometryIds.slice(),this._nextIndexStart=t._nextIndexStart,this._nextVertexStart=t._nextVertexStart,this._geometryCount=t._geometryCount,this._maxInstanceCount=t._maxInstanceCount,this._maxVertexCount=t._maxVertexCount,this._maxIndexCount=t._maxIndexCount,this._geometryInitialized=t._geometryInitialized,this._multiDrawCounts=t._multiDrawCounts.slice(),this._multiDrawStarts=t._multiDrawStarts.slice(),this._indirectTexture=t._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=t._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=t._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(t,e,n,a,l){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=a.getIndex(),c=o===null?1:o.array.BYTES_PER_ELEMENT,f=this._instanceInfo,d=this._multiDrawStarts,m=this._multiDrawCounts,g=this._geometryInfo,x=this.perObjectFrustumCulled,b=this._indirectTexture,v=b.image.data,S=n.isArrayCamera?Cw:ox;x&&!n.isArrayCamera&&(Ye.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),ox.setFromProjectionMatrix(Ye,t.coordinateSystem));let _=0;if(this.sortObjects){Ye.copy(this.matrixWorld).invert(),yl.setFromMatrixPosition(n.matrixWorld).applyMatrix4(Ye),ux.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(Ye);for(let z=0,E=f.length;z<E;z++)if(f[z].visible&&f[z].active){const D=f[z].geometryIndex;this.getMatrixAt(z,Ye),this.getBoundingSphereAt(D,zs).applyMatrix4(Ye);let I=!1;if(x&&(I=!S.intersectsSphere(zs,n)),!I){const H=g[D],k=Rw.subVectors(zs.center,yl).dot(ux);ld.push(H.start,H.count,k,z)}}const w=ld.list,T=this.customSort;T===null?w.sort(l.transparent?Tw:Aw):T.call(this,w,n);for(let z=0,E=w.length;z<E;z++){const D=w[z];d[_]=D.start*c,m[_]=D.count,v[_]=D.index,_++}ld.reset()}else for(let w=0,T=f.length;w<T;w++)if(f[w].visible&&f[w].active){const z=f[w].geometryIndex;let E=!1;if(x&&(this.getMatrixAt(w,Ye),this.getBoundingSphereAt(z,zs).applyMatrix4(Ye),E=!S.intersectsSphere(zs,n)),!E){const D=g[z];d[_]=D.start*c,m[_]=D.count,v[_]=w,_++}}b.needsUpdate=!0,this._multiDrawCount=_,this._visibilityChanged=!1}onBeforeShadow(t,e,n,a,l,o){this.onBeforeRender(t,null,a,l,o)}}class Ze extends Ve{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new vt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const ju=new C,Qu=new C,cx=new wt,gl=new Ll,Au=new Oe,od=new C,hx=new C;class ks extends Lt{constructor(t=new Tt,e=new Ze){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,n=[0];for(let a=1,l=e.count;a<l;a++)ju.fromBufferAttribute(e,a-1),Qu.fromBufferAttribute(e,a),n[a]=n[a-1],n[a]+=ju.distanceTo(Qu);t.setAttribute("lineDistance",new rt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const n=this.geometry,a=this.matrixWorld,l=t.params.Line.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Au.copy(n.boundingSphere),Au.applyMatrix4(a),Au.radius+=l,t.ray.intersectsSphere(Au)===!1)return;cx.copy(a).invert(),gl.copy(t.ray).applyMatrix4(cx);const c=l/((this.scale.x+this.scale.y+this.scale.z)/3),f=c*c,d=this.isLineSegments?2:1,m=n.index,x=n.attributes.position;if(m!==null){const b=Math.max(0,o.start),v=Math.min(m.count,o.start+o.count);for(let S=b,_=v-1;S<_;S+=d){const w=m.getX(S),T=m.getX(S+1),z=Tu(this,t,gl,f,w,T,S);z&&e.push(z)}if(this.isLineLoop){const S=m.getX(v-1),_=m.getX(b),w=Tu(this,t,gl,f,S,_,v-1);w&&e.push(w)}}else{const b=Math.max(0,o.start),v=Math.min(x.count,o.start+o.count);for(let S=b,_=v-1;S<_;S+=d){const w=Tu(this,t,gl,f,S,S+1,S);w&&e.push(w)}if(this.isLineLoop){const S=Tu(this,t,gl,f,v-1,b,v-1);S&&e.push(S)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const a=e[n[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,o=a.length;l<o;l++){const c=a[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=l}}}}}function Tu(h,t,e,n,a,l,o){const c=h.geometry.attributes.position;if(ju.fromBufferAttribute(c,a),Qu.fromBufferAttribute(c,l),e.distanceSqToSegment(ju,Qu,od,hx)>n)return;od.applyMatrix4(h.matrixWorld);const d=t.ray.origin.distanceTo(od);if(!(d<t.near||d>t.far))return{distance:d,point:hx.clone().applyMatrix4(h.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:h}}const fx=new C,dx=new C;class Sn extends ks{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,n=[];for(let a=0,l=e.count;a<l;a+=2)fx.fromBufferAttribute(e,a),dx.fromBufferAttribute(e,a+1),n[a]=a===0?0:n[a-1],n[a+1]=n[a]+fx.distanceTo(dx);t.setAttribute("lineDistance",new rt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Dw extends ks{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class c1 extends Ve{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new vt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const px=new wt,_d=new Ll,zu=new Oe,Eu=new C;class Nw extends Lt{constructor(t=new Tt,e=new c1){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const n=this.geometry,a=this.matrixWorld,l=t.params.Points.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),zu.copy(n.boundingSphere),zu.applyMatrix4(a),zu.radius+=l,t.ray.intersectsSphere(zu)===!1)return;px.copy(a).invert(),_d.copy(t.ray).applyMatrix4(px);const c=l/((this.scale.x+this.scale.y+this.scale.z)/3),f=c*c,d=n.index,g=n.attributes.position;if(d!==null){const x=Math.max(0,o.start),b=Math.min(d.count,o.start+o.count);for(let v=x,S=b;v<S;v++){const _=d.getX(v);Eu.fromBufferAttribute(g,_),mx(Eu,_,f,a,t,e,this)}}else{const x=Math.max(0,o.start),b=Math.min(g.count,o.start+o.count);for(let v=x,S=b;v<S;v++)Eu.fromBufferAttribute(g,v),mx(Eu,v,f,a,t,e,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const a=e[n[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,o=a.length;l<o;l++){const c=a[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=l}}}}}function mx(h,t,e,n,a,l,o){const c=_d.distanceSqToPoint(h);if(c<e){const f=new C;_d.closestPointToPoint(h,f),f.applyMatrix4(n);const d=a.ray.origin.distanceTo(f);if(d<a.near||d>a.far)return;l.push({distance:d,distanceToRay:Math.sqrt(c),point:f,index:t,face:null,faceIndex:null,barycoord:null,object:o})}}class Uw extends de{constructor(t,e,n,a,l=Si,o=Si,c,f,d){super(t,e,n,a,l,o,c,f,d),this.isVideoTexture=!0,this.generateMipmaps=!1;const m=this;function g(){m.needsUpdate=!0,t.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(g)}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t===!1&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class mz extends Uw{constructor(t,e,n,a,l,o,c,f){super({},t,e,n,a,l,o,c,f),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(t){this.image=t,this.needsUpdate=!0}}class yz extends de{constructor(t,e){super({width:t,height:e}),this.isFramebufferTexture=!0,this.magFilter=Ri,this.minFilter=Ri,this.generateMipmaps=!1,this.needsUpdate=!0}}class Qd extends de{constructor(t,e,n,a,l,o,c,f,d,m,g,x){super(null,o,c,f,d,m,a,l,g,x),this.isCompressedTexture=!0,this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class gz extends Qd{constructor(t,e,n,a,l,o){super(t,e,n,l,o),this.isCompressedArrayTexture=!0,this.image.depth=a,this.wrapR=Fi,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class xz extends Qd{constructor(t,e,n){super(void 0,t[0].width,t[0].height,e,n,Ud),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=t}}class bz extends de{constructor(t,e,n,a,l,o,c,f,d){super(t,e,n,a,l,o,c,f,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Lw extends de{constructor(t,e,n=Id,a,l,o,c=Ri,f=Ri,d,m=Cg){if(m!==Cg&&m!==HM)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,a,l,o,c,f,m,n,d),this.isDepthTexture=!0,this.image={width:t,height:e},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.source=new Us(Object.assign({},t.image)),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return this.compareFunction!==null&&(e.compareFunction=this.compareFunction),e}}class vz extends Lw{constructor(t=1,e=1,n=1){super(t,e),this.isDepthArrayTexture=!0,this.image={width:t,height:e,depth:n},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class Kd extends Tt{constructor(t=1,e=1,n=4,a=8,l=1){super(),this.type="CapsuleGeometry",this.parameters={radius:t,height:e,capSegments:n,radialSegments:a,heightSegments:l},e=Math.max(0,e),n=Math.max(1,Math.floor(n)),a=Math.max(3,Math.floor(a)),l=Math.max(1,Math.floor(l));const o=[],c=[],f=[],d=[],m=e/2,g=Math.PI/2*t,x=e,b=2*g+x,v=n*2+l,S=a+1,_=new C,w=new C;for(let T=0;T<=v;T++){let z=0,E=0,D=0,I=0;if(T<=n){const X=T/n,J=X*Math.PI/2;E=-m-t*Math.cos(J),D=t*Math.sin(J),I=-t*Math.cos(J),z=X*g}else if(T<=n+l){const X=(T-n)/l;E=-m+X*e,D=t,I=0,z=g+X*x}else{const X=(T-n-l)/n,J=X*Math.PI/2;E=m+t*Math.sin(J),D=t*Math.cos(J),I=t*Math.sin(J),z=g+x+X*g}const H=Math.max(0,Math.min(1,z/b));let k=0;T===0?k=.5/a:T===v&&(k=-.5/a);for(let X=0;X<=a;X++){const J=X/a,et=J*Math.PI*2,ot=Math.sin(et),gt=Math.cos(et);w.x=-D*gt,w.y=E,w.z=D*ot,c.push(w.x,w.y,w.z),_.set(-D*gt,I,D*ot),_.normalize(),f.push(_.x,_.y,_.z),d.push(J+k,H)}if(T>0){const X=(T-1)*S;for(let J=0;J<a;J++){const et=X+J,ot=X+J+1,gt=T*S+J,Bt=T*S+J+1;o.push(et,ot,gt),o.push(ot,Bt,gt)}}}this.setIndex(o),this.setAttribute("position",new rt(c,3)),this.setAttribute("normal",new rt(f,3)),this.setAttribute("uv",new rt(d,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Kd(t.radius,t.height,t.capSegments,t.radialSegments,t.heightSegments)}}class $d extends Tt{constructor(t=1,e=32,n=0,a=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:a},e=Math.max(3,e);const l=[],o=[],c=[],f=[],d=new C,m=new j;o.push(0,0,0),c.push(0,0,1),f.push(.5,.5);for(let g=0,x=3;g<=e;g++,x+=3){const b=n+g/e*a;d.x=t*Math.cos(b),d.y=t*Math.sin(b),o.push(d.x,d.y,d.z),c.push(0,0,1),m.x=(o[x]/t+1)/2,m.y=(o[x+1]/t+1)/2,f.push(m.x,m.y)}for(let g=1;g<=e;g++)l.push(g,g+1,0);this.setIndex(l),this.setAttribute("position",new rt(o,3)),this.setAttribute("normal",new rt(c,3)),this.setAttribute("uv",new rt(f,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new $d(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class lc extends Tt{constructor(t=1,e=1,n=1,a=32,l=1,o=!1,c=0,f=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:a,heightSegments:l,openEnded:o,thetaStart:c,thetaLength:f};const d=this;a=Math.floor(a),l=Math.floor(l);const m=[],g=[],x=[],b=[];let v=0;const S=[],_=n/2;let w=0;T(),o===!1&&(t>0&&z(!0),e>0&&z(!1)),this.setIndex(m),this.setAttribute("position",new rt(g,3)),this.setAttribute("normal",new rt(x,3)),this.setAttribute("uv",new rt(b,2));function T(){const E=new C,D=new C;let I=0;const H=(e-t)/n;for(let k=0;k<=l;k++){const X=[],J=k/l,et=J*(e-t)+t;for(let ot=0;ot<=a;ot++){const gt=ot/a,Bt=gt*f+c,xt=Math.sin(Bt),q=Math.cos(Bt);D.x=et*xt,D.y=-J*n+_,D.z=et*q,g.push(D.x,D.y,D.z),E.set(xt,H,q).normalize(),x.push(E.x,E.y,E.z),b.push(gt,1-J),X.push(v++)}S.push(X)}for(let k=0;k<a;k++)for(let X=0;X<l;X++){const J=S[X][k],et=S[X+1][k],ot=S[X+1][k+1],gt=S[X][k+1];(t>0||X!==0)&&(m.push(J,et,gt),I+=3),(e>0||X!==l-1)&&(m.push(et,ot,gt),I+=3)}d.addGroup(w,I,0),w+=I}function z(E){const D=v,I=new j,H=new C;let k=0;const X=E===!0?t:e,J=E===!0?1:-1;for(let ot=1;ot<=a;ot++)g.push(0,_*J,0),x.push(0,J,0),b.push(.5,.5),v++;const et=v;for(let ot=0;ot<=a;ot++){const Bt=ot/a*f+c,xt=Math.cos(Bt),q=Math.sin(Bt);H.x=X*q,H.y=_*J,H.z=X*xt,g.push(H.x,H.y,H.z),x.push(0,J,0),I.x=xt*.5+.5,I.y=q*.5*J+.5,b.push(I.x,I.y),v++}for(let ot=0;ot<a;ot++){const gt=D+ot,Bt=et+ot;E===!0?m.push(Bt,Bt+1,gt):m.push(Bt+1,Bt,gt),k+=3}d.addGroup(w,k,E===!0?1:2),w+=k}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new lc(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class oc extends lc{constructor(t=1,e=1,n=32,a=1,l=!1,o=0,c=Math.PI*2){super(0,t,e,n,a,l,o,c),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:a,openEnded:l,thetaStart:o,thetaLength:c}}static fromJSON(t){return new oc(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class Fs extends Tt{constructor(t=[],e=[],n=1,a=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:a};const l=[],o=[];c(a),d(n),m(),this.setAttribute("position",new rt(l,3)),this.setAttribute("normal",new rt(l.slice(),3)),this.setAttribute("uv",new rt(o,2)),a===0?this.computeVertexNormals():this.normalizeNormals();function c(T){const z=new C,E=new C,D=new C;for(let I=0;I<e.length;I+=3)b(e[I+0],z),b(e[I+1],E),b(e[I+2],D),f(z,E,D,T)}function f(T,z,E,D){const I=D+1,H=[];for(let k=0;k<=I;k++){H[k]=[];const X=T.clone().lerp(E,k/I),J=z.clone().lerp(E,k/I),et=I-k;for(let ot=0;ot<=et;ot++)ot===0&&k===I?H[k][ot]=X:H[k][ot]=X.clone().lerp(J,ot/et)}for(let k=0;k<I;k++)for(let X=0;X<2*(I-k)-1;X++){const J=Math.floor(X/2);X%2===0?(x(H[k][J+1]),x(H[k+1][J]),x(H[k][J])):(x(H[k][J+1]),x(H[k+1][J+1]),x(H[k+1][J]))}}function d(T){const z=new C;for(let E=0;E<l.length;E+=3)z.x=l[E+0],z.y=l[E+1],z.z=l[E+2],z.normalize().multiplyScalar(T),l[E+0]=z.x,l[E+1]=z.y,l[E+2]=z.z}function m(){const T=new C;for(let z=0;z<l.length;z+=3){T.x=l[z+0],T.y=l[z+1],T.z=l[z+2];const E=_(T)/2/Math.PI+.5,D=w(T)/Math.PI+.5;o.push(E,1-D)}v(),g()}function g(){for(let T=0;T<o.length;T+=6){const z=o[T+0],E=o[T+2],D=o[T+4],I=Math.max(z,E,D),H=Math.min(z,E,D);I>.9&&H<.1&&(z<.2&&(o[T+0]+=1),E<.2&&(o[T+2]+=1),D<.2&&(o[T+4]+=1))}}function x(T){l.push(T.x,T.y,T.z)}function b(T,z){const E=T*3;z.x=t[E+0],z.y=t[E+1],z.z=t[E+2]}function v(){const T=new C,z=new C,E=new C,D=new C,I=new j,H=new j,k=new j;for(let X=0,J=0;X<l.length;X+=9,J+=6){T.set(l[X+0],l[X+1],l[X+2]),z.set(l[X+3],l[X+4],l[X+5]),E.set(l[X+6],l[X+7],l[X+8]),I.set(o[J+0],o[J+1]),H.set(o[J+2],o[J+3]),k.set(o[J+4],o[J+5]),D.copy(T).add(z).add(E).divideScalar(3);const et=_(D);S(I,J+0,T,et),S(H,J+2,z,et),S(k,J+4,E,et)}}function S(T,z,E,D){D<0&&T.x===1&&(o[z]=T.x-1),E.x===0&&E.z===0&&(o[z]=D/2/Math.PI+.5)}function _(T){return Math.atan2(T.z,-T.x)}function w(T){return Math.atan2(-T.y,Math.sqrt(T.x*T.x+T.z*T.z))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Fs(t.vertices,t.indices,t.radius,t.details)}}class tp extends Fs{constructor(t=1,e=0){const n=(1+Math.sqrt(5))/2,a=1/n,l=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-n,0,-a,n,0,a,-n,0,a,n,-a,-n,0,-a,n,0,a,-n,0,a,n,0,-n,0,-a,n,0,-a,-n,0,a,n,0,a],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(l,o,t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new tp(t.radius,t.detail)}}const Cu=new C,Ru=new C,ud=new C,Bu=new ri;class Iw extends Tt{constructor(t=null,e=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:e},t!==null){const a=Math.pow(10,4),l=Math.cos(Is*e),o=t.getIndex(),c=t.getAttribute("position"),f=o?o.count:c.count,d=[0,0,0],m=["a","b","c"],g=new Array(3),x={},b=[];for(let v=0;v<f;v+=3){o?(d[0]=o.getX(v),d[1]=o.getX(v+1),d[2]=o.getX(v+2)):(d[0]=v,d[1]=v+1,d[2]=v+2);const{a:S,b:_,c:w}=Bu;if(S.fromBufferAttribute(c,d[0]),_.fromBufferAttribute(c,d[1]),w.fromBufferAttribute(c,d[2]),Bu.getNormal(ud),g[0]=`${Math.round(S.x*a)},${Math.round(S.y*a)},${Math.round(S.z*a)}`,g[1]=`${Math.round(_.x*a)},${Math.round(_.y*a)},${Math.round(_.z*a)}`,g[2]=`${Math.round(w.x*a)},${Math.round(w.y*a)},${Math.round(w.z*a)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let T=0;T<3;T++){const z=(T+1)%3,E=g[T],D=g[z],I=Bu[m[T]],H=Bu[m[z]],k=`${E}_${D}`,X=`${D}_${E}`;X in x&&x[X]?(ud.dot(x[X].normal)<=l&&(b.push(I.x,I.y,I.z),b.push(H.x,H.y,H.z)),x[X]=null):k in x||(x[k]={index0:d[T],index1:d[z],normal:ud.clone()})}}for(const v in x)if(x[v]){const{index0:S,index1:_}=x[v];Cu.fromBufferAttribute(c,S),Ru.fromBufferAttribute(c,_),b.push(Cu.x,Cu.y,Cu.z),b.push(Ru.x,Ru.y,Ru.z)}this.setAttribute("position",new rt(b,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}class Xi{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(t,e){const n=this.getUtoTmapping(t);return this.getPoint(n,e)}getPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return e}getSpacedPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let n,a=this.getPoint(0),l=0;e.push(0);for(let o=1;o<=t;o++)n=this.getPoint(o/t),l+=n.distanceTo(a),e.push(l),a=n;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e=null){const n=this.getLengths();let a=0;const l=n.length;let o;e?o=e:o=t*n[l-1];let c=0,f=l-1,d;for(;c<=f;)if(a=Math.floor(c+(f-c)/2),d=n[a]-o,d<0)c=a+1;else if(d>0)f=a-1;else{f=a;break}if(a=f,n[a]===o)return a/(l-1);const m=n[a],x=n[a+1]-m,b=(o-m)/x;return(a+b)/(l-1)}getTangent(t,e){let a=t-1e-4,l=t+1e-4;a<0&&(a=0),l>1&&(l=1);const o=this.getPoint(a),c=this.getPoint(l),f=e||(o.isVector2?new j:new C);return f.copy(c).sub(o).normalize(),f}getTangentAt(t,e){const n=this.getUtoTmapping(t);return this.getTangent(n,e)}computeFrenetFrames(t,e=!1){const n=new C,a=[],l=[],o=[],c=new C,f=new wt;for(let b=0;b<=t;b++){const v=b/t;a[b]=this.getTangentAt(v,new C)}l[0]=new C,o[0]=new C;let d=Number.MAX_VALUE;const m=Math.abs(a[0].x),g=Math.abs(a[0].y),x=Math.abs(a[0].z);m<=d&&(d=m,n.set(1,0,0)),g<=d&&(d=g,n.set(0,1,0)),x<=d&&n.set(0,0,1),c.crossVectors(a[0],n).normalize(),l[0].crossVectors(a[0],c),o[0].crossVectors(a[0],l[0]);for(let b=1;b<=t;b++){if(l[b]=l[b-1].clone(),o[b]=o[b-1].clone(),c.crossVectors(a[b-1],a[b]),c.length()>Number.EPSILON){c.normalize();const v=Math.acos(bt(a[b-1].dot(a[b]),-1,1));l[b].applyMatrix4(f.makeRotationAxis(c,v))}o[b].crossVectors(a[b],l[b])}if(e===!0){let b=Math.acos(bt(l[0].dot(l[t]),-1,1));b/=t,a[0].dot(c.crossVectors(l[0],l[t]))>0&&(b=-b);for(let v=1;v<=t;v++)l[v].applyMatrix4(f.makeRotationAxis(a[v],b*v)),o[v].crossVectors(a[v],l[v])}return{tangents:a,normals:l,binormals:o}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class ep extends Xi{constructor(t=0,e=0,n=1,a=1,l=0,o=Math.PI*2,c=!1,f=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=a,this.aStartAngle=l,this.aEndAngle=o,this.aClockwise=c,this.aRotation=f}getPoint(t,e=new j){const n=e,a=Math.PI*2;let l=this.aEndAngle-this.aStartAngle;const o=Math.abs(l)<Number.EPSILON;for(;l<0;)l+=a;for(;l>a;)l-=a;l<Number.EPSILON&&(o?l=0:l=a),this.aClockwise===!0&&!o&&(l===a?l=-a:l=l-a);const c=this.aStartAngle+t*l;let f=this.aX+this.xRadius*Math.cos(c),d=this.aY+this.yRadius*Math.sin(c);if(this.aRotation!==0){const m=Math.cos(this.aRotation),g=Math.sin(this.aRotation),x=f-this.aX,b=d-this.aY;f=x*m-b*g+this.aX,d=x*g+b*m+this.aY}return n.set(f,d)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class kw extends ep{constructor(t,e,n,a,l,o){super(t,e,n,n,a,l,o),this.isArcCurve=!0,this.type="ArcCurve"}}function ip(){let h=0,t=0,e=0,n=0;function a(l,o,c,f){h=l,t=c,e=-3*l+3*o-2*c-f,n=2*l-2*o+c+f}return{initCatmullRom:function(l,o,c,f,d){a(o,c,d*(c-l),d*(f-o))},initNonuniformCatmullRom:function(l,o,c,f,d,m,g){let x=(o-l)/d-(c-l)/(d+m)+(c-o)/m,b=(c-o)/m-(f-o)/(m+g)+(f-c)/g;x*=m,b*=m,a(o,c,x,b)},calc:function(l){const o=l*l,c=o*l;return h+t*l+e*o+n*c}}}const Ou=new C,cd=new ip,hd=new ip,fd=new ip;class Vw extends Xi{constructor(t=[],e=!1,n="centripetal",a=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=n,this.tension=a}getPoint(t,e=new C){const n=e,a=this.points,l=a.length,o=(l-(this.closed?0:1))*t;let c=Math.floor(o),f=o-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/l)+1)*l:f===0&&c===l-1&&(c=l-2,f=1);let d,m;this.closed||c>0?d=a[(c-1)%l]:(Ou.subVectors(a[0],a[1]).add(a[0]),d=Ou);const g=a[c%l],x=a[(c+1)%l];if(this.closed||c+2<l?m=a[(c+2)%l]:(Ou.subVectors(a[l-1],a[l-2]).add(a[l-1]),m=Ou),this.curveType==="centripetal"||this.curveType==="chordal"){const b=this.curveType==="chordal"?.5:.25;let v=Math.pow(d.distanceToSquared(g),b),S=Math.pow(g.distanceToSquared(x),b),_=Math.pow(x.distanceToSquared(m),b);S<1e-4&&(S=1),v<1e-4&&(v=S),_<1e-4&&(_=S),cd.initNonuniformCatmullRom(d.x,g.x,x.x,m.x,v,S,_),hd.initNonuniformCatmullRom(d.y,g.y,x.y,m.y,v,S,_),fd.initNonuniformCatmullRom(d.z,g.z,x.z,m.z,v,S,_)}else this.curveType==="catmullrom"&&(cd.initCatmullRom(d.x,g.x,x.x,m.x,this.tension),hd.initCatmullRom(d.y,g.y,x.y,m.y,this.tension),fd.initCatmullRom(d.z,g.z,x.z,m.z,this.tension));return n.set(cd.calc(f),hd.calc(f),fd.calc(f)),n}copy(t){super.copy(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const a=t.points[e];this.points.push(a.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,n=this.points.length;e<n;e++){const a=this.points[e];t.points.push(a.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const a=t.points[e];this.points.push(new C().fromArray(a))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function yx(h,t,e,n,a){const l=(n-t)*.5,o=(a-e)*.5,c=h*h,f=h*c;return(2*e-2*n+l+o)*f+(-3*e+3*n-2*l-o)*c+l*h+e}function Fw(h,t){const e=1-h;return e*e*t}function Hw(h,t){return 2*(1-h)*h*t}function qw(h,t){return h*h*t}function zl(h,t,e,n){return Fw(h,t)+Hw(h,e)+qw(h,n)}function Gw(h,t){const e=1-h;return e*e*e*t}function Pw(h,t){const e=1-h;return 3*e*e*h*t}function Yw(h,t){return 3*(1-h)*h*h*t}function Xw(h,t){return h*h*h*t}function El(h,t,e,n,a){return Gw(h,t)+Pw(h,e)+Yw(h,n)+Xw(h,a)}class h1 extends Xi{constructor(t=new j,e=new j,n=new j,a=new j){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=n,this.v3=a}getPoint(t,e=new j){const n=e,a=this.v0,l=this.v1,o=this.v2,c=this.v3;return n.set(El(t,a.x,l.x,o.x,c.x),El(t,a.y,l.y,o.y,c.y)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class Zw extends Xi{constructor(t=new C,e=new C,n=new C,a=new C){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=n,this.v3=a}getPoint(t,e=new C){const n=e,a=this.v0,l=this.v1,o=this.v2,c=this.v3;return n.set(El(t,a.x,l.x,o.x,c.x),El(t,a.y,l.y,o.y,c.y),El(t,a.z,l.z,o.z,c.z)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class f1 extends Xi{constructor(t=new j,e=new j){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new j){const n=e;return t===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new j){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class Ww extends Xi{constructor(t=new C,e=new C){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=e}getPoint(t,e=new C){const n=e;return t===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new C){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class d1 extends Xi{constructor(t=new j,e=new j,n=new j){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new j){const n=e,a=this.v0,l=this.v1,o=this.v2;return n.set(zl(t,a.x,l.x,o.x),zl(t,a.y,l.y,o.y)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class p1 extends Xi{constructor(t=new C,e=new C,n=new C){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new C){const n=e,a=this.v0,l=this.v1,o=this.v2;return n.set(zl(t,a.x,l.x,o.x),zl(t,a.y,l.y,o.y),zl(t,a.z,l.z,o.z)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class m1 extends Xi{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,e=new j){const n=e,a=this.points,l=(a.length-1)*t,o=Math.floor(l),c=l-o,f=a[o===0?o:o-1],d=a[o],m=a[o>a.length-2?a.length-1:o+1],g=a[o>a.length-3?a.length-1:o+2];return n.set(yx(c,f.x,d.x,m.x,g.x),yx(c,f.y,d.y,m.y,g.y)),n}copy(t){super.copy(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const a=t.points[e];this.points.push(a.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,n=this.points.length;e<n;e++){const a=this.points[e];t.points.push(a.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const a=t.points[e];this.points.push(new j().fromArray(a))}return this}}var Ku=Object.freeze({__proto__:null,ArcCurve:kw,CatmullRomCurve3:Vw,CubicBezierCurve:h1,CubicBezierCurve3:Zw,EllipseCurve:ep,LineCurve:f1,LineCurve3:Ww,QuadraticBezierCurve:d1,QuadraticBezierCurve3:p1,SplineCurve:m1});class Jw extends Xi{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);if(!t.equals(e)){const n=t.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Ku[n](e,t))}return this}getPoint(t,e){const n=t*this.getLength(),a=this.getCurveLengths();let l=0;for(;l<a.length;){if(a[l]>=n){const o=a[l]-n,c=this.curves[l],f=c.getLength(),d=f===0?0:1-o/f;return c.getPointAt(d,e)}l++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let n=0,a=this.curves.length;n<a;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let n;for(let a=0,l=this.curves;a<l.length;a++){const o=l[a],c=o.isEllipseCurve?t*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?t*o.points.length:t,f=o.getPoints(c);for(let d=0;d<f.length;d++){const m=f[d];n&&n.equals(m)||(e.push(m),n=m)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const a=t.curves[e];this.curves.push(a.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,n=this.curves.length;e<n;e++){const a=this.curves[e];t.curves.push(a.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const a=t.curves[e];this.curves.push(new Ku[a.type]().fromJSON(a))}return this}}class Ad extends Jw{constructor(t){super(),this.type="Path",this.currentPoint=new j,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const n=new f1(this.currentPoint.clone(),new j(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,n,a){const l=new d1(this.currentPoint.clone(),new j(t,e),new j(n,a));return this.curves.push(l),this.currentPoint.set(n,a),this}bezierCurveTo(t,e,n,a,l,o){const c=new h1(this.currentPoint.clone(),new j(t,e),new j(n,a),new j(l,o));return this.curves.push(c),this.currentPoint.set(l,o),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),n=new m1(e);return this.curves.push(n),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,n,a,l,o){const c=this.currentPoint.x,f=this.currentPoint.y;return this.absarc(t+c,e+f,n,a,l,o),this}absarc(t,e,n,a,l,o){return this.absellipse(t,e,n,n,a,l,o),this}ellipse(t,e,n,a,l,o,c,f){const d=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(t+d,e+m,n,a,l,o,c,f),this}absellipse(t,e,n,a,l,o,c,f){const d=new ep(t,e,n,a,l,o,c,f);if(this.curves.length>0){const g=d.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(d);const m=d.getPoint(1);return this.currentPoint.copy(m),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class Ka extends Ad{constructor(t){super(t),this.uuid=li(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let n=0,a=this.holes.length;n<a;n++)e[n]=this.holes[n].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const a=t.holes[e];this.holes.push(a.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,n=this.holes.length;e<n;e++){const a=this.holes[e];t.holes.push(a.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const a=t.holes[e];this.holes.push(new Ad().fromJSON(a))}return this}}function jw(h,t,e=2){const n=t&&t.length,a=n?t[0]*e:h.length;let l=y1(h,0,a,e,!0);const o=[];if(!l||l.next===l.prev)return o;let c,f,d;if(n&&(l=e_(h,t,l,e)),h.length>80*e){c=1/0,f=1/0;let m=-1/0,g=-1/0;for(let x=e;x<a;x+=e){const b=h[x],v=h[x+1];b<c&&(c=b),v<f&&(f=v),b>m&&(m=b),v>g&&(g=v)}d=Math.max(m-c,g-f),d=d!==0?32767/d:0}return Ol(l,o,e,c,f,d,0),o}function y1(h,t,e,n,a){let l;if(a===f_(h,t,e,n)>0)for(let o=t;o<e;o+=n)l=gx(o/n|0,h[o],h[o+1],l);else for(let o=e-n;o>=t;o-=n)l=gx(o/n|0,h[o],h[o+1],l);return l&&er(l,l.next)&&(Nl(l),l=l.next),l}function Vs(h,t){if(!h)return h;t||(t=h);let e=h,n;do if(n=!1,!e.steiner&&(er(e,e.next)||Qt(e.prev,e,e.next)===0)){if(Nl(e),e=t=e.prev,e===e.next)break;n=!0}else e=e.next;while(n||e!==t);return t}function Ol(h,t,e,n,a,l,o){if(!h)return;!o&&l&&r_(h,n,a,l);let c=h;for(;h.prev!==h.next;){const f=h.prev,d=h.next;if(l?Kw(h,n,a,l):Qw(h)){t.push(f.i,h.i,d.i),Nl(h),h=d.next,c=d.next;continue}if(h=d,h===c){o?o===1?(h=$w(Vs(h),t),Ol(h,t,e,n,a,l,2)):o===2&&t_(h,t,e,n,a,l):Ol(Vs(h),t,e,n,a,l,1);break}}}function Qw(h){const t=h.prev,e=h,n=h.next;if(Qt(t,e,n)>=0)return!1;const a=t.x,l=e.x,o=n.x,c=t.y,f=e.y,d=n.y,m=Math.min(a,l,o),g=Math.min(c,f,d),x=Math.max(a,l,o),b=Math.max(c,f,d);let v=n.next;for(;v!==t;){if(v.x>=m&&v.x<=x&&v.y>=g&&v.y<=b&&_l(a,c,l,f,o,d,v.x,v.y)&&Qt(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function Kw(h,t,e,n){const a=h.prev,l=h,o=h.next;if(Qt(a,l,o)>=0)return!1;const c=a.x,f=l.x,d=o.x,m=a.y,g=l.y,x=o.y,b=Math.min(c,f,d),v=Math.min(m,g,x),S=Math.max(c,f,d),_=Math.max(m,g,x),w=Td(b,v,t,e,n),T=Td(S,_,t,e,n);let z=h.prevZ,E=h.nextZ;for(;z&&z.z>=w&&E&&E.z<=T;){if(z.x>=b&&z.x<=S&&z.y>=v&&z.y<=_&&z!==a&&z!==o&&_l(c,m,f,g,d,x,z.x,z.y)&&Qt(z.prev,z,z.next)>=0||(z=z.prevZ,E.x>=b&&E.x<=S&&E.y>=v&&E.y<=_&&E!==a&&E!==o&&_l(c,m,f,g,d,x,E.x,E.y)&&Qt(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;z&&z.z>=w;){if(z.x>=b&&z.x<=S&&z.y>=v&&z.y<=_&&z!==a&&z!==o&&_l(c,m,f,g,d,x,z.x,z.y)&&Qt(z.prev,z,z.next)>=0)return!1;z=z.prevZ}for(;E&&E.z<=T;){if(E.x>=b&&E.x<=S&&E.y>=v&&E.y<=_&&E!==a&&E!==o&&_l(c,m,f,g,d,x,E.x,E.y)&&Qt(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function $w(h,t){let e=h;do{const n=e.prev,a=e.next.next;!er(n,a)&&x1(n,e,e.next,a)&&Dl(n,a)&&Dl(a,n)&&(t.push(n.i,e.i,a.i),Nl(e),Nl(e.next),e=h=a),e=e.next}while(e!==h);return Vs(e)}function t_(h,t,e,n,a,l){let o=h;do{let c=o.next.next;for(;c!==o.prev;){if(o.i!==c.i&&u_(o,c)){let f=b1(o,c);o=Vs(o,o.next),f=Vs(f,f.next),Ol(o,t,e,n,a,l,0),Ol(f,t,e,n,a,l,0);return}c=c.next}o=o.next}while(o!==h)}function e_(h,t,e,n){const a=[];for(let l=0,o=t.length;l<o;l++){const c=t[l]*n,f=l<o-1?t[l+1]*n:h.length,d=y1(h,c,f,n,!1);d===d.next&&(d.steiner=!0),a.push(o_(d))}a.sort(i_);for(let l=0;l<a.length;l++)e=n_(a[l],e);return e}function i_(h,t){let e=h.x-t.x;if(e===0&&(e=h.y-t.y,e===0)){const n=(h.next.y-h.y)/(h.next.x-h.x),a=(t.next.y-t.y)/(t.next.x-t.x);e=n-a}return e}function n_(h,t){const e=s_(h,t);if(!e)return t;const n=b1(e,h);return Vs(n,n.next),Vs(e,e.next)}function s_(h,t){let e=t;const n=h.x,a=h.y;let l=-1/0,o;if(er(h,e))return e;do{if(er(h,e.next))return e.next;if(a<=e.y&&a>=e.next.y&&e.next.y!==e.y){const g=e.x+(a-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(g<=n&&g>l&&(l=g,o=e.x<e.next.x?e:e.next,g===n))return o}e=e.next}while(e!==t);if(!o)return null;const c=o,f=o.x,d=o.y;let m=1/0;e=o;do{if(n>=e.x&&e.x>=f&&n!==e.x&&g1(a<d?n:l,a,f,d,a<d?l:n,a,e.x,e.y)){const g=Math.abs(a-e.y)/(n-e.x);Dl(e,h)&&(g<m||g===m&&(e.x>o.x||e.x===o.x&&a_(o,e)))&&(o=e,m=g)}e=e.next}while(e!==c);return o}function a_(h,t){return Qt(h.prev,h,t.prev)<0&&Qt(t.next,h,h.next)<0}function r_(h,t,e,n){let a=h;do a.z===0&&(a.z=Td(a.x,a.y,t,e,n)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==h);a.prevZ.nextZ=null,a.prevZ=null,l_(a)}function l_(h){let t,e=1;do{let n=h,a;h=null;let l=null;for(t=0;n;){t++;let o=n,c=0;for(let d=0;d<e&&(c++,o=o.nextZ,!!o);d++);let f=e;for(;c>0||f>0&&o;)c!==0&&(f===0||!o||n.z<=o.z)?(a=n,n=n.nextZ,c--):(a=o,o=o.nextZ,f--),l?l.nextZ=a:h=a,a.prevZ=l,l=a;n=o}l.nextZ=null,e*=2}while(t>1);return h}function Td(h,t,e,n,a){return h=(h-e)*a|0,t=(t-n)*a|0,h=(h|h<<8)&16711935,h=(h|h<<4)&252645135,h=(h|h<<2)&858993459,h=(h|h<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,h|t<<1}function o_(h){let t=h,e=h;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==h);return e}function g1(h,t,e,n,a,l,o,c){return(a-o)*(t-c)>=(h-o)*(l-c)&&(h-o)*(n-c)>=(e-o)*(t-c)&&(e-o)*(l-c)>=(a-o)*(n-c)}function _l(h,t,e,n,a,l,o,c){return!(h===o&&t===c)&&g1(h,t,e,n,a,l,o,c)}function u_(h,t){return h.next.i!==t.i&&h.prev.i!==t.i&&!c_(h,t)&&(Dl(h,t)&&Dl(t,h)&&h_(h,t)&&(Qt(h.prev,h,t.prev)||Qt(h,t.prev,t))||er(h,t)&&Qt(h.prev,h,h.next)>0&&Qt(t.prev,t,t.next)>0)}function Qt(h,t,e){return(t.y-h.y)*(e.x-t.x)-(t.x-h.x)*(e.y-t.y)}function er(h,t){return h.x===t.x&&h.y===t.y}function x1(h,t,e,n){const a=Nu(Qt(h,t,e)),l=Nu(Qt(h,t,n)),o=Nu(Qt(e,n,h)),c=Nu(Qt(e,n,t));return!!(a!==l&&o!==c||a===0&&Du(h,e,t)||l===0&&Du(h,n,t)||o===0&&Du(e,h,n)||c===0&&Du(e,t,n))}function Du(h,t,e){return t.x<=Math.max(h.x,e.x)&&t.x>=Math.min(h.x,e.x)&&t.y<=Math.max(h.y,e.y)&&t.y>=Math.min(h.y,e.y)}function Nu(h){return h>0?1:h<0?-1:0}function c_(h,t){let e=h;do{if(e.i!==h.i&&e.next.i!==h.i&&e.i!==t.i&&e.next.i!==t.i&&x1(e,e.next,h,t))return!0;e=e.next}while(e!==h);return!1}function Dl(h,t){return Qt(h.prev,h,h.next)<0?Qt(h,t,h.next)>=0&&Qt(h,h.prev,t)>=0:Qt(h,t,h.prev)<0||Qt(h,h.next,t)<0}function h_(h,t){let e=h,n=!1;const a=(h.x+t.x)/2,l=(h.y+t.y)/2;do e.y>l!=e.next.y>l&&e.next.y!==e.y&&a<(e.next.x-e.x)*(l-e.y)/(e.next.y-e.y)+e.x&&(n=!n),e=e.next;while(e!==h);return n}function b1(h,t){const e=zd(h.i,h.x,h.y),n=zd(t.i,t.x,t.y),a=h.next,l=t.prev;return h.next=t,t.prev=h,e.next=a,a.prev=e,n.next=e,e.prev=n,l.next=n,n.prev=l,n}function gx(h,t,e,n){const a=zd(h,t,e);return n?(a.next=n.next,a.prev=n,n.next.prev=a,n.next=a):(a.prev=a,a.next=a),a}function Nl(h){h.next.prev=h.prev,h.prev.next=h.next,h.prevZ&&(h.prevZ.nextZ=h.nextZ),h.nextZ&&(h.nextZ.prevZ=h.prevZ)}function zd(h,t,e){return{i:h,x:t,y:e,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function f_(h,t,e,n){let a=0;for(let l=t,o=e-n;l<e;l+=n)a+=(h[o]-h[l])*(h[l+1]+h[o+1]),o=l;return a}class d_{static triangulate(t,e,n=2){return jw(t,e,n)}}class qi{static area(t){const e=t.length;let n=0;for(let a=e-1,l=0;l<e;a=l++)n+=t[a].x*t[l].y-t[l].x*t[a].y;return n*.5}static isClockWise(t){return qi.area(t)<0}static triangulateShape(t,e){const n=[],a=[],l=[];xx(t),bx(n,t);let o=t.length;e.forEach(xx);for(let f=0;f<e.length;f++)a.push(o),o+=e[f].length,bx(n,e[f]);const c=d_.triangulate(n,a);for(let f=0;f<c.length;f+=3)l.push(c.slice(f,f+3));return l}}function xx(h){const t=h.length;t>2&&h[t-1].equals(h[0])&&h.pop()}function bx(h,t){for(let e=0;e<t.length;e++)h.push(t[e].x),h.push(t[e].y)}class np extends Tt{constructor(t=new Ka([new j(.5,.5),new j(-.5,.5),new j(-.5,-.5),new j(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const n=this,a=[],l=[];for(let c=0,f=t.length;c<f;c++){const d=t[c];o(d)}this.setAttribute("position",new rt(a,3)),this.setAttribute("uv",new rt(l,2)),this.computeVertexNormals();function o(c){const f=[],d=e.curveSegments!==void 0?e.curveSegments:12,m=e.steps!==void 0?e.steps:1,g=e.depth!==void 0?e.depth:1;let x=e.bevelEnabled!==void 0?e.bevelEnabled:!0,b=e.bevelThickness!==void 0?e.bevelThickness:.2,v=e.bevelSize!==void 0?e.bevelSize:b-.1,S=e.bevelOffset!==void 0?e.bevelOffset:0,_=e.bevelSegments!==void 0?e.bevelSegments:3;const w=e.extrudePath,T=e.UVGenerator!==void 0?e.UVGenerator:p_;let z,E=!1,D,I,H,k;w&&(z=w.getSpacedPoints(m),E=!0,x=!1,D=w.computeFrenetFrames(m,!1),I=new C,H=new C,k=new C),x||(_=0,b=0,v=0,S=0);const X=c.extractPoints(d);let J=X.shape;const et=X.holes;if(!qi.isClockWise(J)){J=J.reverse();for(let tt=0,it=et.length;tt<it;tt++){const nt=et[tt];qi.isClockWise(nt)&&(et[tt]=nt.reverse())}}function gt(tt){const nt=10000000000000001e-36;let st=tt[0];for(let ct=1;ct<=tt.length;ct++){const Ot=ct%tt.length,Mt=tt[Ot],kt=Mt.x-st.x,Wt=Mt.y-st.y,te=kt*kt+Wt*Wt,Ne=Math.max(Math.abs(Mt.x),Math.abs(Mt.y),Math.abs(st.x),Math.abs(st.y)),Wi=nt*Ne*Ne;if(te<=Wi){tt.splice(Ot,1),ct--;continue}st=Mt}}gt(J),et.forEach(gt);const Bt=et.length,xt=J;for(let tt=0;tt<Bt;tt++){const it=et[tt];J=J.concat(it)}function q(tt,it,nt){return it||console.error("THREE.ExtrudeGeometry: vec does not exist"),tt.clone().addScaledVector(it,nt)}const Q=J.length;function lt(tt,it,nt){let st,ct,Ot;const Mt=tt.x-it.x,kt=tt.y-it.y,Wt=nt.x-tt.x,te=nt.y-tt.y,Ne=Mt*Mt+kt*kt,Wi=Mt*te-kt*Wt;if(Math.abs(Wi)>Number.EPSILON){const ce=Math.sqrt(Ne),_e=Math.sqrt(Wt*Wt+te*te),wi=it.x-kt/ce,Ae=it.y+Mt/ce,mc=nt.x-te/_e,yc=nt.y+Wt/_e,Fl=((mc-wi)*te-(yc-Ae)*Wt)/(Mt*te-kt*Wt);st=wi+Mt*Fl-tt.x,ct=Ae+kt*Fl-tt.y;const ss=st*st+ct*ct;if(ss<=2)return new j(st,ct);Ot=Math.sqrt(ss/2)}else{let ce=!1;Mt>Number.EPSILON?Wt>Number.EPSILON&&(ce=!0):Mt<-Number.EPSILON?Wt<-Number.EPSILON&&(ce=!0):Math.sign(kt)===Math.sign(te)&&(ce=!0),ce?(st=-kt,ct=Mt,Ot=Math.sqrt(Ne)):(st=Mt,ct=kt,Ot=Math.sqrt(Ne/2))}return new j(st/Ot,ct/Ot)}const dt=[];for(let tt=0,it=xt.length,nt=it-1,st=tt+1;tt<it;tt++,nt++,st++)nt===it&&(nt=0),st===it&&(st=0),dt[tt]=lt(xt[tt],xt[nt],xt[st]);const B=[];let G,$=dt.concat();for(let tt=0,it=Bt;tt<it;tt++){const nt=et[tt];G=[];for(let st=0,ct=nt.length,Ot=ct-1,Mt=st+1;st<ct;st++,Ot++,Mt++)Ot===ct&&(Ot=0),Mt===ct&&(Mt=0),G[st]=lt(nt[st],nt[Ot],nt[Mt]);B.push(G),$=$.concat(G)}let K;if(_===0)K=qi.triangulateShape(xt,et);else{const tt=[],it=[];for(let nt=0;nt<_;nt++){const st=nt/_,ct=b*Math.cos(st*Math.PI/2),Ot=v*Math.sin(st*Math.PI/2)+S;for(let Mt=0,kt=xt.length;Mt<kt;Mt++){const Wt=q(xt[Mt],dt[Mt],Ot);pe(Wt.x,Wt.y,-ct),st===0&&tt.push(Wt)}for(let Mt=0,kt=Bt;Mt<kt;Mt++){const Wt=et[Mt];G=B[Mt];const te=[];for(let Ne=0,Wi=Wt.length;Ne<Wi;Ne++){const ce=q(Wt[Ne],G[Ne],Ot);pe(ce.x,ce.y,-ct),st===0&&te.push(ce)}st===0&&it.push(te)}}K=qi.triangulateShape(tt,it)}const ut=K.length,zt=v+S;for(let tt=0;tt<Q;tt++){const it=x?q(J[tt],$[tt],zt):J[tt];E?(H.copy(D.normals[0]).multiplyScalar(it.x),I.copy(D.binormals[0]).multiplyScalar(it.y),k.copy(z[0]).add(H).add(I),pe(k.x,k.y,k.z)):pe(it.x,it.y,0)}for(let tt=1;tt<=m;tt++)for(let it=0;it<Q;it++){const nt=x?q(J[it],$[it],zt):J[it];E?(H.copy(D.normals[tt]).multiplyScalar(nt.x),I.copy(D.binormals[tt]).multiplyScalar(nt.y),k.copy(z[tt]).add(H).add(I),pe(k.x,k.y,k.z)):pe(nt.x,nt.y,g/m*tt)}for(let tt=_-1;tt>=0;tt--){const it=tt/_,nt=b*Math.cos(it*Math.PI/2),st=v*Math.sin(it*Math.PI/2)+S;for(let ct=0,Ot=xt.length;ct<Ot;ct++){const Mt=q(xt[ct],dt[ct],st);pe(Mt.x,Mt.y,g+nt)}for(let ct=0,Ot=et.length;ct<Ot;ct++){const Mt=et[ct];G=B[ct];for(let kt=0,Wt=Mt.length;kt<Wt;kt++){const te=q(Mt[kt],G[kt],st);E?pe(te.x,te.y+z[m-1].y,z[m-1].x+nt):pe(te.x,te.y,g+nt)}}}yt(),De();function yt(){const tt=a.length/3;if(x){let it=0,nt=Q*it;for(let st=0;st<ut;st++){const ct=K[st];_n(ct[2]+nt,ct[1]+nt,ct[0]+nt)}it=m+_*2,nt=Q*it;for(let st=0;st<ut;st++){const ct=K[st];_n(ct[0]+nt,ct[1]+nt,ct[2]+nt)}}else{for(let it=0;it<ut;it++){const nt=K[it];_n(nt[2],nt[1],nt[0])}for(let it=0;it<ut;it++){const nt=K[it];_n(nt[0]+Q*m,nt[1]+Q*m,nt[2]+Q*m)}}n.addGroup(tt,a.length/3-tt,0)}function De(){const tt=a.length/3;let it=0;Pt(xt,it),it+=xt.length;for(let nt=0,st=et.length;nt<st;nt++){const ct=et[nt];Pt(ct,it),it+=ct.length}n.addGroup(tt,a.length/3-tt,1)}function Pt(tt,it){let nt=tt.length;for(;--nt>=0;){const st=nt;let ct=nt-1;ct<0&&(ct=tt.length-1);for(let Ot=0,Mt=m+_*2;Ot<Mt;Ot++){const kt=Q*Ot,Wt=Q*(Ot+1),te=it+st+kt,Ne=it+ct+kt,Wi=it+ct+Wt,ce=it+st+Wt;Gs(te,Ne,Wi,ce)}}}function pe(tt,it,nt){f.push(tt),f.push(it),f.push(nt)}function _n(tt,it,nt){We(tt),We(it),We(nt);const st=a.length/3,ct=T.generateTopUV(n,a,st-3,st-2,st-1);Je(ct[0]),Je(ct[1]),Je(ct[2])}function Gs(tt,it,nt,st){We(tt),We(it),We(st),We(it),We(nt),We(st);const ct=a.length/3,Ot=T.generateSideWallUV(n,a,ct-6,ct-3,ct-2,ct-1);Je(Ot[0]),Je(Ot[1]),Je(Ot[3]),Je(Ot[1]),Je(Ot[2]),Je(Ot[3])}function We(tt){a.push(f[tt*3+0]),a.push(f[tt*3+1]),a.push(f[tt*3+2])}function Je(tt){l.push(tt.x),l.push(tt.y)}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes,n=this.parameters.options;return m_(e,n,t)}static fromJSON(t,e){const n=[];for(let l=0,o=t.shapes.length;l<o;l++){const c=e[t.shapes[l]];n.push(c)}const a=t.options.extrudePath;return a!==void 0&&(t.options.extrudePath=new Ku[a.type]().fromJSON(a)),new np(n,t.options)}}const p_={generateTopUV:function(h,t,e,n,a){const l=t[e*3],o=t[e*3+1],c=t[n*3],f=t[n*3+1],d=t[a*3],m=t[a*3+1];return[new j(l,o),new j(c,f),new j(d,m)]},generateSideWallUV:function(h,t,e,n,a,l){const o=t[e*3],c=t[e*3+1],f=t[e*3+2],d=t[n*3],m=t[n*3+1],g=t[n*3+2],x=t[a*3],b=t[a*3+1],v=t[a*3+2],S=t[l*3],_=t[l*3+1],w=t[l*3+2];return Math.abs(c-m)<Math.abs(o-d)?[new j(o,1-f),new j(d,1-g),new j(x,1-v),new j(S,1-w)]:[new j(c,1-f),new j(m,1-g),new j(b,1-v),new j(_,1-w)]}};function m_(h,t,e){if(e.shapes=[],Array.isArray(h))for(let n=0,a=h.length;n<a;n++){const l=h[n];e.shapes.push(l.uuid)}else e.shapes.push(h.uuid);return e.options=Object.assign({},t),t.extrudePath!==void 0&&(e.options.extrudePath=t.extrudePath.toJSON()),e}class sp extends Fs{constructor(t=1,e=0){const n=(1+Math.sqrt(5))/2,a=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],l=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(a,l,t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new sp(t.radius,t.detail)}}class ap extends Tt{constructor(t=[new j(0,-.5),new j(.5,0),new j(0,.5)],e=12,n=0,a=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:a},e=Math.floor(e),a=bt(a,0,Math.PI*2);const l=[],o=[],c=[],f=[],d=[],m=1/e,g=new C,x=new j,b=new C,v=new C,S=new C;let _=0,w=0;for(let T=0;T<=t.length-1;T++)switch(T){case 0:_=t[T+1].x-t[T].x,w=t[T+1].y-t[T].y,b.x=w*1,b.y=-_,b.z=w*0,S.copy(b),b.normalize(),f.push(b.x,b.y,b.z);break;case t.length-1:f.push(S.x,S.y,S.z);break;default:_=t[T+1].x-t[T].x,w=t[T+1].y-t[T].y,b.x=w*1,b.y=-_,b.z=w*0,v.copy(b),b.x+=S.x,b.y+=S.y,b.z+=S.z,b.normalize(),f.push(b.x,b.y,b.z),S.copy(v)}for(let T=0;T<=e;T++){const z=n+T*m*a,E=Math.sin(z),D=Math.cos(z);for(let I=0;I<=t.length-1;I++){g.x=t[I].x*E,g.y=t[I].y,g.z=t[I].x*D,o.push(g.x,g.y,g.z),x.x=T/e,x.y=I/(t.length-1),c.push(x.x,x.y);const H=f[3*I+0]*E,k=f[3*I+1],X=f[3*I+0]*D;d.push(H,k,X)}}for(let T=0;T<e;T++)for(let z=0;z<t.length-1;z++){const E=z+T*t.length,D=E,I=E+t.length,H=E+t.length+1,k=E+1;l.push(D,I,k),l.push(H,k,I)}this.setIndex(l),this.setAttribute("position",new rt(o,3)),this.setAttribute("uv",new rt(c,2)),this.setAttribute("normal",new rt(d,3))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new ap(t.points,t.segments,t.phiStart,t.phiLength)}}class uc extends Fs{constructor(t=1,e=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],a=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,a,t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new uc(t.radius,t.detail)}}class rp extends Tt{constructor(t=1,e=1,n=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:a};const l=t/2,o=e/2,c=Math.floor(n),f=Math.floor(a),d=c+1,m=f+1,g=t/c,x=e/f,b=[],v=[],S=[],_=[];for(let w=0;w<m;w++){const T=w*x-o;for(let z=0;z<d;z++){const E=z*g-l;v.push(E,-T,0),S.push(0,0,1),_.push(z/c),_.push(1-w/f)}}for(let w=0;w<f;w++)for(let T=0;T<c;T++){const z=T+d*w,E=T+d*(w+1),D=T+1+d*(w+1),I=T+1+d*w;b.push(z,E,I),b.push(E,D,I)}this.setIndex(b),this.setAttribute("position",new rt(v,3)),this.setAttribute("normal",new rt(S,3)),this.setAttribute("uv",new rt(_,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new rp(t.width,t.height,t.widthSegments,t.heightSegments)}}class lp extends Tt{constructor(t=.5,e=1,n=32,a=1,l=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:a,thetaStart:l,thetaLength:o},n=Math.max(3,n),a=Math.max(1,a);const c=[],f=[],d=[],m=[];let g=t;const x=(e-t)/a,b=new C,v=new j;for(let S=0;S<=a;S++){for(let _=0;_<=n;_++){const w=l+_/n*o;b.x=g*Math.cos(w),b.y=g*Math.sin(w),f.push(b.x,b.y,b.z),d.push(0,0,1),v.x=(b.x/e+1)/2,v.y=(b.y/e+1)/2,m.push(v.x,v.y)}g+=x}for(let S=0;S<a;S++){const _=S*(n+1);for(let w=0;w<n;w++){const T=w+_,z=T,E=T+n+1,D=T+n+2,I=T+1;c.push(z,E,I),c.push(E,D,I)}}this.setIndex(c),this.setAttribute("position",new rt(f,3)),this.setAttribute("normal",new rt(d,3)),this.setAttribute("uv",new rt(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new lp(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class op extends Tt{constructor(t=new Ka([new j(0,.5),new j(-.5,-.5),new j(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const n=[],a=[],l=[],o=[];let c=0,f=0;if(Array.isArray(t)===!1)d(t);else for(let m=0;m<t.length;m++)d(t[m]),this.addGroup(c,f,m),c+=f,f=0;this.setIndex(n),this.setAttribute("position",new rt(a,3)),this.setAttribute("normal",new rt(l,3)),this.setAttribute("uv",new rt(o,2));function d(m){const g=a.length/3,x=m.extractPoints(e);let b=x.shape;const v=x.holes;qi.isClockWise(b)===!1&&(b=b.reverse());for(let _=0,w=v.length;_<w;_++){const T=v[_];qi.isClockWise(T)===!0&&(v[_]=T.reverse())}const S=qi.triangulateShape(b,v);for(let _=0,w=v.length;_<w;_++){const T=v[_];b=b.concat(T)}for(let _=0,w=b.length;_<w;_++){const T=b[_];a.push(T.x,T.y,0),l.push(0,0,1),o.push(T.x,T.y)}for(let _=0,w=S.length;_<w;_++){const T=S[_],z=T[0]+g,E=T[1]+g,D=T[2]+g;n.push(z,E,D),f+=3}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes;return y_(e,t)}static fromJSON(t,e){const n=[];for(let a=0,l=t.shapes.length;a<l;a++){const o=e[t.shapes[a]];n.push(o)}return new op(n,t.curveSegments)}}function y_(h,t){if(t.shapes=[],Array.isArray(h))for(let e=0,n=h.length;e<n;e++){const a=h[e];t.shapes.push(a.uuid)}else t.shapes.push(h.uuid);return t}class cc extends Tt{constructor(t=1,e=32,n=16,a=0,l=Math.PI*2,o=0,c=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:a,phiLength:l,thetaStart:o,thetaLength:c},e=Math.max(3,Math.floor(e)),n=Math.max(2,Math.floor(n));const f=Math.min(o+c,Math.PI);let d=0;const m=[],g=new C,x=new C,b=[],v=[],S=[],_=[];for(let w=0;w<=n;w++){const T=[],z=w/n;let E=0;w===0&&o===0?E=.5/e:w===n&&f===Math.PI&&(E=-.5/e);for(let D=0;D<=e;D++){const I=D/e;g.x=-t*Math.cos(a+I*l)*Math.sin(o+z*c),g.y=t*Math.cos(o+z*c),g.z=t*Math.sin(a+I*l)*Math.sin(o+z*c),v.push(g.x,g.y,g.z),x.copy(g).normalize(),S.push(x.x,x.y,x.z),_.push(I+E,1-z),T.push(d++)}m.push(T)}for(let w=0;w<n;w++)for(let T=0;T<e;T++){const z=m[w][T+1],E=m[w][T],D=m[w+1][T],I=m[w+1][T+1];(w!==0||o>0)&&b.push(z,E,I),(w!==n-1||f<Math.PI)&&b.push(E,D,I)}this.setIndex(b),this.setAttribute("position",new rt(v,3)),this.setAttribute("normal",new rt(S,3)),this.setAttribute("uv",new rt(_,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new cc(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class up extends Fs{constructor(t=1,e=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],a=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,a,t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new up(t.radius,t.detail)}}class cp extends Tt{constructor(t=1,e=.4,n=12,a=48,l=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:a,arc:l},n=Math.floor(n),a=Math.floor(a);const o=[],c=[],f=[],d=[],m=new C,g=new C,x=new C;for(let b=0;b<=n;b++)for(let v=0;v<=a;v++){const S=v/a*l,_=b/n*Math.PI*2;g.x=(t+e*Math.cos(_))*Math.cos(S),g.y=(t+e*Math.cos(_))*Math.sin(S),g.z=e*Math.sin(_),c.push(g.x,g.y,g.z),m.x=t*Math.cos(S),m.y=t*Math.sin(S),x.subVectors(g,m).normalize(),f.push(x.x,x.y,x.z),d.push(v/a),d.push(b/n)}for(let b=1;b<=n;b++)for(let v=1;v<=a;v++){const S=(a+1)*b+v-1,_=(a+1)*(b-1)+v-1,w=(a+1)*(b-1)+v,T=(a+1)*b+v;o.push(S,_,T),o.push(_,w,T)}this.setIndex(o),this.setAttribute("position",new rt(c,3)),this.setAttribute("normal",new rt(f,3)),this.setAttribute("uv",new rt(d,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new cp(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class hp extends Tt{constructor(t=1,e=.4,n=64,a=8,l=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:a,p:l,q:o},n=Math.floor(n),a=Math.floor(a);const c=[],f=[],d=[],m=[],g=new C,x=new C,b=new C,v=new C,S=new C,_=new C,w=new C;for(let z=0;z<=n;++z){const E=z/n*l*Math.PI*2;T(E,l,o,t,b),T(E+.01,l,o,t,v),_.subVectors(v,b),w.addVectors(v,b),S.crossVectors(_,w),w.crossVectors(S,_),S.normalize(),w.normalize();for(let D=0;D<=a;++D){const I=D/a*Math.PI*2,H=-e*Math.cos(I),k=e*Math.sin(I);g.x=b.x+(H*w.x+k*S.x),g.y=b.y+(H*w.y+k*S.y),g.z=b.z+(H*w.z+k*S.z),f.push(g.x,g.y,g.z),x.subVectors(g,b).normalize(),d.push(x.x,x.y,x.z),m.push(z/n),m.push(D/a)}}for(let z=1;z<=n;z++)for(let E=1;E<=a;E++){const D=(a+1)*(z-1)+(E-1),I=(a+1)*z+(E-1),H=(a+1)*z+E,k=(a+1)*(z-1)+E;c.push(D,I,k),c.push(I,H,k)}this.setIndex(c),this.setAttribute("position",new rt(f,3)),this.setAttribute("normal",new rt(d,3)),this.setAttribute("uv",new rt(m,2));function T(z,E,D,I,H){const k=Math.cos(z),X=Math.sin(z),J=D/E*z,et=Math.cos(J);H.x=I*(2+et)*.5*k,H.y=I*(2+et)*X*.5,H.z=I*Math.sin(J)*.5}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new hp(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class fp extends Tt{constructor(t=new p1(new C(-1,-1,0),new C(-1,1,0),new C(1,1,0)),e=64,n=1,a=8,l=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:a,closed:l};const o=t.computeFrenetFrames(e,l);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const c=new C,f=new C,d=new j;let m=new C;const g=[],x=[],b=[],v=[];S(),this.setIndex(v),this.setAttribute("position",new rt(g,3)),this.setAttribute("normal",new rt(x,3)),this.setAttribute("uv",new rt(b,2));function S(){for(let z=0;z<e;z++)_(z);_(l===!1?e:0),T(),w()}function _(z){m=t.getPointAt(z/e,m);const E=o.normals[z],D=o.binormals[z];for(let I=0;I<=a;I++){const H=I/a*Math.PI*2,k=Math.sin(H),X=-Math.cos(H);f.x=X*E.x+k*D.x,f.y=X*E.y+k*D.y,f.z=X*E.z+k*D.z,f.normalize(),x.push(f.x,f.y,f.z),c.x=m.x+n*f.x,c.y=m.y+n*f.y,c.z=m.z+n*f.z,g.push(c.x,c.y,c.z)}}function w(){for(let z=1;z<=e;z++)for(let E=1;E<=a;E++){const D=(a+1)*(z-1)+(E-1),I=(a+1)*z+(E-1),H=(a+1)*z+E,k=(a+1)*(z-1)+E;v.push(D,I,k),v.push(I,H,k)}}function T(){for(let z=0;z<=e;z++)for(let E=0;E<=a;E++)d.x=z/e,d.y=E/a,b.push(d.x,d.y)}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new fp(new Ku[t.path.type]().fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class g_ extends Tt{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},t!==null){const e=[],n=new Set,a=new C,l=new C;if(t.index!==null){const o=t.attributes.position,c=t.index;let f=t.groups;f.length===0&&(f=[{start:0,count:c.count,materialIndex:0}]);for(let d=0,m=f.length;d<m;++d){const g=f[d],x=g.start,b=g.count;for(let v=x,S=x+b;v<S;v+=3)for(let _=0;_<3;_++){const w=c.getX(v+_),T=c.getX(v+(_+1)%3);a.fromBufferAttribute(o,w),l.fromBufferAttribute(o,T),vx(a,l,n)===!0&&(e.push(a.x,a.y,a.z),e.push(l.x,l.y,l.z))}}}else{const o=t.attributes.position;for(let c=0,f=o.count/3;c<f;c++)for(let d=0;d<3;d++){const m=3*c+d,g=3*c+(d+1)%3;a.fromBufferAttribute(o,m),l.fromBufferAttribute(o,g),vx(a,l,n)===!0&&(e.push(a.x,a.y,a.z),e.push(l.x,l.y,l.z))}}this.setAttribute("position",new rt(e,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function vx(h,t,e){const n=`${h.x},${h.y},${h.z}-${t.x},${t.y},${t.z}`,a=`${t.x},${t.y},${t.z}-${h.x},${h.y},${h.z}`;return e.has(n)===!0||e.has(a)===!0?!1:(e.add(n),e.add(a),!0)}var Mx=Object.freeze({__proto__:null,BoxGeometry:ac,CapsuleGeometry:Kd,CircleGeometry:$d,ConeGeometry:oc,CylinderGeometry:lc,DodecahedronGeometry:tp,EdgesGeometry:Iw,ExtrudeGeometry:np,IcosahedronGeometry:sp,LatheGeometry:ap,OctahedronGeometry:uc,PlaneGeometry:rp,PolyhedronGeometry:Fs,RingGeometry:lp,ShapeGeometry:op,SphereGeometry:cc,TetrahedronGeometry:up,TorusGeometry:cp,TorusKnotGeometry:hp,TubeGeometry:fp,WireframeGeometry:g_});class x_ extends Ve{constructor(t){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new vt(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}class b_ extends qd{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class v1 extends Ve{constructor(t){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new vt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nr,this.normalScale=new j(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Gi,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class v_ extends v1{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new j(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return bt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new vt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new vt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new vt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get dispersion(){return this._dispersion}set dispersion(t){this._dispersion>0!=t>0&&this.version++,this._dispersion=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.dispersion=t.dispersion,this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class M_ extends Ve{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new vt(16777215),this.specular=new vt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nr,this.normalScale=new j(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Gi,this.combine=Dd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class S_ extends Ve{constructor(t){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new vt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nr,this.normalScale=new j(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}class w_ extends Ve{constructor(t){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nr,this.normalScale=new j(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}class __ extends Ve{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new vt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nr,this.normalScale=new j(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Gi,this.combine=Dd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class A_ extends Ve{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=TS,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class T_ extends Ve{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}class z_ extends Ve{constructor(t){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new vt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nr,this.normalScale=new j(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}class E_ extends Ze{constructor(t){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}function Ls(h,t){return!h||h.constructor===t?h:typeof t.BYTES_PER_ELEMENT=="number"?new t(h):Array.prototype.slice.call(h)}function M1(h){return ArrayBuffer.isView(h)&&!(h instanceof DataView)}function S1(h){function t(a,l){return h[a]-h[l]}const e=h.length,n=new Array(e);for(let a=0;a!==e;++a)n[a]=a;return n.sort(t),n}function Ed(h,t,e){const n=h.length,a=new h.constructor(n);for(let l=0,o=0;o!==n;++l){const c=e[l]*t;for(let f=0;f!==t;++f)a[o++]=h[c+f]}return a}function dp(h,t,e,n){let a=1,l=h[0];for(;l!==void 0&&l[n]===void 0;)l=h[a++];if(l===void 0)return;let o=l[n];if(o!==void 0)if(Array.isArray(o))do o=l[n],o!==void 0&&(t.push(l.time),e.push(...o)),l=h[a++];while(l!==void 0);else if(o.toArray!==void 0)do o=l[n],o!==void 0&&(t.push(l.time),o.toArray(e,e.length)),l=h[a++];while(l!==void 0);else do o=l[n],o!==void 0&&(t.push(l.time),e.push(o)),l=h[a++];while(l!==void 0)}function C_(h,t,e,n,a=30){const l=h.clone();l.name=t;const o=[];for(let f=0;f<l.tracks.length;++f){const d=l.tracks[f],m=d.getValueSize(),g=[],x=[];for(let b=0;b<d.times.length;++b){const v=d.times[b]*a;if(!(v<e||v>=n)){g.push(d.times[b]);for(let S=0;S<m;++S)x.push(d.values[b*m+S])}}g.length!==0&&(d.times=Ls(g,d.times.constructor),d.values=Ls(x,d.values.constructor),o.push(d))}l.tracks=o;let c=1/0;for(let f=0;f<l.tracks.length;++f)c>l.tracks[f].times[0]&&(c=l.tracks[f].times[0]);for(let f=0;f<l.tracks.length;++f)l.tracks[f].shift(-1*c);return l.resetDuration(),l}function R_(h,t=0,e=h,n=30){n<=0&&(n=30);const a=e.tracks.length,l=t/n;for(let o=0;o<a;++o){const c=e.tracks[o],f=c.ValueTypeName;if(f==="bool"||f==="string")continue;const d=h.tracks.find(function(w){return w.name===c.name&&w.ValueTypeName===f});if(d===void 0)continue;let m=0;const g=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);let x=0;const b=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(x=b/3);const v=c.times.length-1;let S;if(l<=c.times[0]){const w=m,T=g-m;S=c.values.slice(w,T)}else if(l>=c.times[v]){const w=v*g+m,T=w+g-m;S=c.values.slice(w,T)}else{const w=c.createInterpolant(),T=m,z=g-m;w.evaluate(l),S=w.resultBuffer.slice(T,z)}f==="quaternion"&&new oi().fromArray(S).normalize().conjugate().toArray(S);const _=d.times.length;for(let w=0;w<_;++w){const T=w*b+x;if(f==="quaternion")oi.multiplyQuaternionsFlat(d.values,T,S,0,d.values,T);else{const z=b-x*2;for(let E=0;E<z;++E)d.values[T+E]-=S[E]}}}return h.blendMode=e1,h}class Mz{static convertArray(t,e){return Ls(t,e)}static isTypedArray(t){return M1(t)}static getKeyframeOrder(t){return S1(t)}static sortedArray(t,e,n){return Ed(t,e,n)}static flattenJSON(t,e,n,a){dp(t,e,n,a)}static subclip(t,e,n,a,l=30){return C_(t,e,n,a,l)}static makeClipAdditive(t,e=0,n=t,a=30){return R_(t,e,n,a)}}class hc{constructor(t,e,n,a){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=a!==void 0?a:new e.constructor(n),this.sampleValues=e,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let n=this._cachedIndex,a=e[n],l=e[n-1];t:{e:{let o;i:{n:if(!(t<a)){for(let c=n+2;;){if(a===void 0){if(t<l)break n;return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===c)break;if(l=a,a=e[++n],t<a)break e}o=e.length;break i}if(!(t>=l)){const c=e[1];t<c&&(n=2,l=c);for(let f=n-2;;){if(l===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===f)break;if(a=l,l=e[--n-1],t>=l)break e}o=n,n=0;break i}break t}for(;n<o;){const c=n+o>>>1;t<e[c]?o=c:n=c+1}if(a=e[n],l=e[n-1],l===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(a===void 0)return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,l,a)}return this.interpolate_(n,l,t,a)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,a=this.valueSize,l=t*a;for(let o=0;o!==a;++o)e[o]=n[l+o];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class B_ extends hc{constructor(t,e,n,a){super(t,e,n,a),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Wa,endingEnd:Wa}}intervalChanged_(t,e,n){const a=this.parameterPositions;let l=t-2,o=t+1,c=a[l],f=a[o];if(c===void 0)switch(this.getSettings_().endingStart){case Ja:l=t,c=2*e-n;break;case Xu:l=a.length-2,c=e+a[l]-a[l+1];break;default:l=t,c=n}if(f===void 0)switch(this.getSettings_().endingEnd){case Ja:o=t,f=2*n-e;break;case Xu:o=1,f=n+a[1]-a[0];break;default:o=t-1,f=e}const d=(n-e)*.5,m=this.valueSize;this._weightPrev=d/(e-c),this._weightNext=d/(f-n),this._offsetPrev=l*m,this._offsetNext=o*m}interpolate_(t,e,n,a){const l=this.resultBuffer,o=this.sampleValues,c=this.valueSize,f=t*c,d=f-c,m=this._offsetPrev,g=this._offsetNext,x=this._weightPrev,b=this._weightNext,v=(n-e)/(a-e),S=v*v,_=S*v,w=-x*_+2*x*S-x*v,T=(1+x)*_+(-1.5-2*x)*S+(-.5+x)*v+1,z=(-1-b)*_+(1.5+b)*S+.5*v,E=b*_-b*S;for(let D=0;D!==c;++D)l[D]=w*o[m+D]+T*o[d+D]+z*o[f+D]+E*o[g+D];return l}}class w1 extends hc{constructor(t,e,n,a){super(t,e,n,a)}interpolate_(t,e,n,a){const l=this.resultBuffer,o=this.sampleValues,c=this.valueSize,f=t*c,d=f-c,m=(n-e)/(a-e),g=1-m;for(let x=0;x!==c;++x)l[x]=o[d+x]*g+o[f+x]*m;return l}}class O_ extends hc{constructor(t,e,n,a){super(t,e,n,a)}interpolate_(t){return this.copySampleValue_(t-1)}}class Oi{constructor(t,e,n,a){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Ls(e,this.TimeBufferType),this.values=Ls(n,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let n;if(e.toJSON!==this.toJSON)n=e.toJSON(t);else{n={name:t.name,times:Ls(t.times,Array),values:Ls(t.values,Array)};const a=t.getInterpolation();a!==t.DefaultInterpolation&&(n.interpolation=a)}return n.type=t.ValueTypeName,n}InterpolantFactoryMethodDiscrete(t){return new O_(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new w1(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new B_(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case Yu:e=this.InterpolantFactoryMethodDiscrete;break;case wd:e=this.InterpolantFactoryMethodLinear;break;case Uf:e=this.InterpolantFactoryMethodSmooth;break}if(e===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Yu;case this.InterpolantFactoryMethodLinear:return wd;case this.InterpolantFactoryMethodSmooth:return Uf}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const e=this.times;for(let n=0,a=e.length;n!==a;++n)e[n]+=t}return this}scale(t){if(t!==1){const e=this.times;for(let n=0,a=e.length;n!==a;++n)e[n]*=t}return this}trim(t,e){const n=this.times,a=n.length;let l=0,o=a-1;for(;l!==a&&n[l]<t;)++l;for(;o!==-1&&n[o]>e;)--o;if(++o,l!==0||o!==a){l>=o&&(o=Math.max(o,1),l=o-1);const c=this.getValueSize();this.times=n.slice(l,o),this.values=this.values.slice(l*c,o*c)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,a=this.values,l=n.length;l===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let c=0;c!==l;c++){const f=n[c];if(typeof f=="number"&&isNaN(f)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,c,f),t=!1;break}if(o!==null&&o>f){console.error("THREE.KeyframeTrack: Out of order keys.",this,c,f,o),t=!1;break}o=f}if(a!==void 0&&M1(a))for(let c=0,f=a.length;c!==f;++c){const d=a[c];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,c,d),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),n=this.getValueSize(),a=this.getInterpolation()===Uf,l=t.length-1;let o=1;for(let c=1;c<l;++c){let f=!1;const d=t[c],m=t[c+1];if(d!==m&&(c!==1||d!==t[0]))if(a)f=!0;else{const g=c*n,x=g-n,b=g+n;for(let v=0;v!==n;++v){const S=e[g+v];if(S!==e[x+v]||S!==e[b+v]){f=!0;break}}}if(f){if(c!==o){t[o]=t[c];const g=c*n,x=o*n;for(let b=0;b!==n;++b)e[x+b]=e[g+b]}++o}}if(l>0){t[o]=t[l];for(let c=l*n,f=o*n,d=0;d!==n;++d)e[f+d]=e[c+d];++o}return o!==t.length?(this.times=t.slice(0,o),this.values=e.slice(0,o*n)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),n=this.constructor,a=new n(this.name,t,e);return a.createInterpolant=this.createInterpolant,a}}Oi.prototype.ValueTypeName="";Oi.prototype.TimeBufferType=Float32Array;Oi.prototype.ValueBufferType=Float32Array;Oi.prototype.DefaultInterpolation=wd;class ar extends Oi{constructor(t,e,n){super(t,e,n)}}ar.prototype.ValueTypeName="bool";ar.prototype.ValueBufferType=Array;ar.prototype.DefaultInterpolation=Yu;ar.prototype.InterpolantFactoryMethodLinear=void 0;ar.prototype.InterpolantFactoryMethodSmooth=void 0;class _1 extends Oi{constructor(t,e,n,a){super(t,e,n,a)}}_1.prototype.ValueTypeName="color";class $u extends Oi{constructor(t,e,n,a){super(t,e,n,a)}}$u.prototype.ValueTypeName="number";class D_ extends hc{constructor(t,e,n,a){super(t,e,n,a)}interpolate_(t,e,n,a){const l=this.resultBuffer,o=this.sampleValues,c=this.valueSize,f=(n-e)/(a-e);let d=t*c;for(let m=d+c;d!==m;d+=4)oi.slerpFlat(l,0,o,d-c,o,d,f);return l}}class fc extends Oi{constructor(t,e,n,a){super(t,e,n,a)}InterpolantFactoryMethodLinear(t){return new D_(this.times,this.values,this.getValueSize(),t)}}fc.prototype.ValueTypeName="quaternion";fc.prototype.InterpolantFactoryMethodSmooth=void 0;class rr extends Oi{constructor(t,e,n){super(t,e,n)}}rr.prototype.ValueTypeName="string";rr.prototype.ValueBufferType=Array;rr.prototype.DefaultInterpolation=Yu;rr.prototype.InterpolantFactoryMethodLinear=void 0;rr.prototype.InterpolantFactoryMethodSmooth=void 0;class tc extends Oi{constructor(t,e,n,a){super(t,e,n,a)}}tc.prototype.ValueTypeName="vector";class ec{constructor(t="",e=-1,n=[],a=kd){this.name=t,this.tracks=n,this.duration=e,this.blendMode=a,this.uuid=li(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],n=t.tracks,a=1/(t.fps||1);for(let o=0,c=n.length;o!==c;++o)e.push(U_(n[o]).scale(a));const l=new this(t.name,t.duration,e,t.blendMode);return l.uuid=t.uuid,l}static toJSON(t){const e=[],n=t.tracks,a={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let l=0,o=n.length;l!==o;++l)e.push(Oi.toJSON(n[l]));return a}static CreateFromMorphTargetSequence(t,e,n,a){const l=e.length,o=[];for(let c=0;c<l;c++){let f=[],d=[];f.push((c+l-1)%l,c,(c+1)%l),d.push(0,1,0);const m=S1(f);f=Ed(f,1,m),d=Ed(d,1,m),!a&&f[0]===0&&(f.push(l),d.push(d[0])),o.push(new $u(".morphTargetInfluences["+e[c].name+"]",f,d).scale(1/n))}return new this(t,-1,o)}static findByName(t,e){let n=t;if(!Array.isArray(t)){const a=t;n=a.geometry&&a.geometry.animations||a.animations}for(let a=0;a<n.length;a++)if(n[a].name===e)return n[a];return null}static CreateClipsFromMorphTargetSequences(t,e,n){const a={},l=/^([\w-]*?)([\d]+)$/;for(let c=0,f=t.length;c<f;c++){const d=t[c],m=d.name.match(l);if(m&&m.length>1){const g=m[1];let x=a[g];x||(a[g]=x=[]),x.push(d)}}const o=[];for(const c in a)o.push(this.CreateFromMorphTargetSequence(c,a[c],e,n));return o}static parseAnimation(t,e){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(g,x,b,v,S){if(b.length!==0){const _=[],w=[];dp(b,_,w,v),_.length!==0&&S.push(new g(x,_,w))}},a=[],l=t.name||"default",o=t.fps||30,c=t.blendMode;let f=t.length||-1;const d=t.hierarchy||[];for(let g=0;g<d.length;g++){const x=d[g].keys;if(!(!x||x.length===0))if(x[0].morphTargets){const b={};let v;for(v=0;v<x.length;v++)if(x[v].morphTargets)for(let S=0;S<x[v].morphTargets.length;S++)b[x[v].morphTargets[S]]=-1;for(const S in b){const _=[],w=[];for(let T=0;T!==x[v].morphTargets.length;++T){const z=x[v];_.push(z.time),w.push(z.morphTarget===S?1:0)}a.push(new $u(".morphTargetInfluence["+S+"]",_,w))}f=b.length*o}else{const b=".bones["+e[g].name+"]";n(tc,b+".position",x,"pos",a),n(fc,b+".quaternion",x,"rot",a),n(tc,b+".scale",x,"scl",a)}}return a.length===0?null:new this(l,f,a,c)}resetDuration(){const t=this.tracks;let e=0;for(let n=0,a=t.length;n!==a;++n){const l=this.tracks[n];e=Math.max(e,l.times[l.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function N_(h){switch(h.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return $u;case"vector":case"vector2":case"vector3":case"vector4":return tc;case"color":return _1;case"quaternion":return fc;case"bool":case"boolean":return ar;case"string":return rr}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+h)}function U_(h){if(h.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=N_(h.type);if(h.times===void 0){const e=[],n=[];dp(h.keys,e,n,"value"),h.times=e,h.values=n}return t.parse!==void 0?t.parse(h):new t(h.name,h.times,h.values,h.interpolation)}const es={enabled:!1,files:{},add:function(h,t){this.enabled!==!1&&(this.files[h]=t)},get:function(h){if(this.enabled!==!1)return this.files[h]},remove:function(h){delete this.files[h]},clear:function(){this.files={}}};class A1{constructor(t,e,n){const a=this;let l=!1,o=0,c=0,f;const d=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(m){c++,l===!1&&a.onStart!==void 0&&a.onStart(m,o,c),l=!0},this.itemEnd=function(m){o++,a.onProgress!==void 0&&a.onProgress(m,o,c),o===c&&(l=!1,a.onLoad!==void 0&&a.onLoad())},this.itemError=function(m){a.onError!==void 0&&a.onError(m)},this.resolveURL=function(m){return f?f(m):m},this.setURLModifier=function(m){return f=m,this},this.addHandler=function(m,g){return d.push(m,g),this},this.removeHandler=function(m){const g=d.indexOf(m);return g!==-1&&d.splice(g,2),this},this.getHandler=function(m){for(let g=0,x=d.length;g<x;g+=2){const b=d[g],v=d[g+1];if(b.global&&(b.lastIndex=0),b.test(m))return v}return null}}}const Al=new A1;class ui{constructor(t){this.manager=t!==void 0?t:Al,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const n=this;return new Promise(function(a,l){n.load(t,a,e,l)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}ui.DEFAULT_MATERIAL_NAME="__DEFAULT";const yn={};class L_ extends Error{constructor(t,e){super(t),this.response=e}}class is extends ui{constructor(t){super(t),this.mimeType="",this.responseType=""}load(t,e,n,a){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const l=es.get(t);if(l!==void 0)return this.manager.itemStart(t),setTimeout(()=>{e&&e(l),this.manager.itemEnd(t)},0),l;if(yn[t]!==void 0){yn[t].push({onLoad:e,onProgress:n,onError:a});return}yn[t]=[],yn[t].push({onLoad:e,onProgress:n,onError:a});const o=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),c=this.mimeType,f=this.responseType;fetch(o).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const m=yn[t],g=d.body.getReader(),x=d.headers.get("X-File-Size")||d.headers.get("Content-Length"),b=x?parseInt(x):0,v=b!==0;let S=0;const _=new ReadableStream({start(w){T();function T(){g.read().then(({done:z,value:E})=>{if(z)w.close();else{S+=E.byteLength;const D=new ProgressEvent("progress",{lengthComputable:v,loaded:S,total:b});for(let I=0,H=m.length;I<H;I++){const k=m[I];k.onProgress&&k.onProgress(D)}w.enqueue(E),T()}},z=>{w.error(z)})}}});return new Response(_)}else throw new L_(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(f){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(m=>new DOMParser().parseFromString(m,c));case"json":return d.json();default:if(c==="")return d.text();{const g=/charset="?([^;"\s]*)"?/i.exec(c),x=g&&g[1]?g[1].toLowerCase():void 0,b=new TextDecoder(x);return d.arrayBuffer().then(v=>b.decode(v))}}}).then(d=>{es.add(t,d);const m=yn[t];delete yn[t];for(let g=0,x=m.length;g<x;g++){const b=m[g];b.onLoad&&b.onLoad(d)}}).catch(d=>{const m=yn[t];if(m===void 0)throw this.manager.itemError(t),d;delete yn[t];for(let g=0,x=m.length;g<x;g++){const b=m[g];b.onError&&b.onError(d)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class Sz extends ui{constructor(t){super(t)}load(t,e,n,a){const l=this,o=new is(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(c){try{e(l.parse(JSON.parse(c)))}catch(f){a?a(f):console.error(f),l.manager.itemError(t)}},n,a)}parse(t){const e=[];for(let n=0;n<t.length;n++){const a=ec.parse(t[n]);e.push(a)}return e}}class wz extends ui{constructor(t){super(t)}load(t,e,n,a){const l=this,o=[],c=new Qd,f=new is(this.manager);f.setPath(this.path),f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setWithCredentials(l.withCredentials);let d=0;function m(g){f.load(t[g],function(x){const b=l.parse(x,!0);o[g]={width:b.width,height:b.height,format:b.format,mipmaps:b.mipmaps},d+=1,d===6&&(b.mipmapCount===1&&(c.minFilter=Si),c.image=o,c.format=b.format,c.needsUpdate=!0,e&&e(c))},n,a)}if(Array.isArray(t))for(let g=0,x=t.length;g<x;++g)m(g);else f.load(t,function(g){const x=l.parse(g,!0);if(x.isCubemap){const b=x.mipmaps.length/x.mipmapCount;for(let v=0;v<b;v++){o[v]={mipmaps:[]};for(let S=0;S<x.mipmapCount;S++)o[v].mipmaps.push(x.mipmaps[v*x.mipmapCount+S]),o[v].format=x.format,o[v].width=x.width,o[v].height=x.height}c.image=o}else c.image.width=x.width,c.image.height=x.height,c.mipmaps=x.mipmaps;x.mipmapCount===1&&(c.minFilter=Si),c.format=x.format,c.needsUpdate=!0,e&&e(c)},n,a);return c}}class ic extends ui{constructor(t){super(t)}load(t,e,n,a){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const l=this,o=es.get(t);if(o!==void 0)return l.manager.itemStart(t),setTimeout(function(){e&&e(o),l.manager.itemEnd(t)},0),o;const c=Ju("img");function f(){m(),es.add(t,this),e&&e(this),l.manager.itemEnd(t)}function d(g){m(),a&&a(g),l.manager.itemError(t),l.manager.itemEnd(t)}function m(){c.removeEventListener("load",f,!1),c.removeEventListener("error",d,!1)}return c.addEventListener("load",f,!1),c.addEventListener("error",d,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(c.crossOrigin=this.crossOrigin),l.manager.itemStart(t),c.src=t,c}}class _z extends ui{constructor(t){super(t)}load(t,e,n,a){const l=new Pd;l.colorSpace=vi;const o=new ic(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let c=0;function f(d){o.load(t[d],function(m){l.images[d]=m,c++,c===6&&(l.needsUpdate=!0,e&&e(l))},void 0,a)}for(let d=0;d<t.length;++d)f(d);return l}}class Az extends ui{constructor(t){super(t)}load(t,e,n,a){const l=this,o=new bn,c=new is(this.manager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(l.withCredentials),c.load(t,function(f){let d;try{d=l.parse(f)}catch(m){if(a!==void 0)a(m);else{console.error(m);return}}d.image!==void 0?o.image=d.image:d.data!==void 0&&(o.image.width=d.width,o.image.height=d.height,o.image.data=d.data),o.wrapS=d.wrapS!==void 0?d.wrapS:Fi,o.wrapT=d.wrapT!==void 0?d.wrapT:Fi,o.magFilter=d.magFilter!==void 0?d.magFilter:Si,o.minFilter=d.minFilter!==void 0?d.minFilter:Si,o.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.colorSpace!==void 0&&(o.colorSpace=d.colorSpace),d.flipY!==void 0&&(o.flipY=d.flipY),d.format!==void 0&&(o.format=d.format),d.type!==void 0&&(o.type=d.type),d.mipmaps!==void 0&&(o.mipmaps=d.mipmaps,o.minFilter=sc),d.mipmapCount===1&&(o.minFilter=Si),d.generateMipmaps!==void 0&&(o.generateMipmaps=d.generateMipmaps),o.needsUpdate=!0,e&&e(o,d)},n,a),o}}class Tz extends ui{constructor(t){super(t)}load(t,e,n,a){const l=new de,o=new ic(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(c){l.image=c,l.needsUpdate=!0,e!==void 0&&e(l)},n,a),l}}class Hs extends Lt{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new vt(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(e.object.target=this.target.uuid),e}}class I_ extends Hs{constructor(t,e,n){super(t,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Lt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new vt(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}}const dd=new wt,Sx=new C,wx=new C;class pp{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new j(512,512),this.mapType=Ld,this.map=null,this.mapPass=null,this.matrix=new wt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Jd,this._frameExtents=new j(1,1),this._viewportCount=1,this._viewports=[new ve(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,n=this.matrix;Sx.setFromMatrixPosition(t.matrixWorld),e.position.copy(Sx),wx.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(wx),e.updateMatrixWorld(),dd.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(dd),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(dd)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.autoUpdate=t.autoUpdate,this.needsUpdate=t.needsUpdate,this.normalBias=t.normalBias,this.blurSamples=t.blurSamples,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.intensity!==1&&(t.intensity=this.intensity),this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class k_ extends pp{constructor(){super(new Mi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const e=this.camera,n=Rl*2*t.angle*this.focus,a=this.mapSize.width/this.mapSize.height,l=t.distance||e.far;(n!==e.fov||a!==e.aspect||l!==e.far)&&(e.fov=n,e.aspect=a,e.far=l,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class V_ extends Hs{constructor(t,e,n=0,a=Math.PI/3,l=0,o=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Lt.DEFAULT_UP),this.updateMatrix(),this.target=new Lt,this.distance=n,this.angle=a,this.penumbra=l,this.decay=o,this.map=null,this.shadow=new k_}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const _x=new wt,xl=new C,pd=new C;class F_ extends pp{constructor(){super(new Mi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new j(4,2),this._viewportCount=6,this._viewports=[new ve(2,1,1,1),new ve(0,1,1,1),new ve(3,1,1,1),new ve(1,1,1,1),new ve(3,0,1,1),new ve(1,0,1,1)],this._cubeDirections=[new C(1,0,0),new C(-1,0,0),new C(0,0,1),new C(0,0,-1),new C(0,1,0),new C(0,-1,0)],this._cubeUps=[new C(0,1,0),new C(0,1,0),new C(0,1,0),new C(0,1,0),new C(0,0,1),new C(0,0,-1)]}updateMatrices(t,e=0){const n=this.camera,a=this.matrix,l=t.distance||n.far;l!==n.far&&(n.far=l,n.updateProjectionMatrix()),xl.setFromMatrixPosition(t.matrixWorld),n.position.copy(xl),pd.copy(n.position),pd.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(pd),n.updateMatrixWorld(),a.makeTranslation(-xl.x,-xl.y,-xl.z),_x.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_x)}}class H_ extends Hs{constructor(t,e,n=0,a=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=a,this.shadow=new F_}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class T1 extends Gd{constructor(t=-1,e=1,n=1,a=-1,l=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=a,this.near=l,this.far=o,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,n,a,l,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=a,this.view.width=l,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let l=n-t,o=n+t,c=a+e,f=a-e;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;l+=d*this.view.offsetX,o=l+d*this.view.width,c-=m*this.view.offsetY,f=c-m*this.view.height}this.projectionMatrix.makeOrthographic(l,o,c,f,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}class q_ extends pp{constructor(){super(new T1(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class G_ extends Hs{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Lt.DEFAULT_UP),this.updateMatrix(),this.target=new Lt,this.shadow=new q_}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class P_ extends Hs{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class Y_ extends Hs{constructor(t,e,n=10,a=10){super(t,e),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=a}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}class X_{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new C)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const n=t.x,a=t.y,l=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.282095),e.addScaledVector(o[1],.488603*a),e.addScaledVector(o[2],.488603*l),e.addScaledVector(o[3],.488603*n),e.addScaledVector(o[4],1.092548*(n*a)),e.addScaledVector(o[5],1.092548*(a*l)),e.addScaledVector(o[6],.315392*(3*l*l-1)),e.addScaledVector(o[7],1.092548*(n*l)),e.addScaledVector(o[8],.546274*(n*n-a*a)),e}getIrradianceAt(t,e){const n=t.x,a=t.y,l=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.886227),e.addScaledVector(o[1],2*.511664*a),e.addScaledVector(o[2],2*.511664*l),e.addScaledVector(o[3],2*.511664*n),e.addScaledVector(o[4],2*.429043*n*a),e.addScaledVector(o[5],2*.429043*a*l),e.addScaledVector(o[6],.743125*l*l-.247708),e.addScaledVector(o[7],2*.429043*n*l),e.addScaledVector(o[8],.429043*(n*n-a*a)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(t.coefficients[n],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,e=0){const n=this.coefficients;for(let a=0;a<9;a++)n[a].fromArray(t,e+a*3);return this}toArray(t=[],e=0){const n=this.coefficients;for(let a=0;a<9;a++)n[a].toArray(t,e+a*3);return t}static getBasisAt(t,e){const n=t.x,a=t.y,l=t.z;e[0]=.282095,e[1]=.488603*a,e[2]=.488603*l,e[3]=.488603*n,e[4]=1.092548*n*a,e[5]=1.092548*a*l,e[6]=.315392*(3*l*l-1),e[7]=1.092548*n*l,e[8]=.546274*(n*n-a*a)}}class Z_ extends Hs{constructor(t=new X_,e=1){super(void 0,e),this.isLightProbe=!0,this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}class mp extends ui{constructor(t){super(t),this.textures={}}load(t,e,n,a){const l=this,o=new is(l.manager);o.setPath(l.path),o.setRequestHeader(l.requestHeader),o.setWithCredentials(l.withCredentials),o.load(t,function(c){try{e(l.parse(JSON.parse(c)))}catch(f){a?a(f):console.error(f),l.manager.itemError(t)}},n,a)}parse(t){const e=this.textures;function n(l){return e[l]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",l),e[l]}const a=this.createMaterialFromType(t.type);if(t.uuid!==void 0&&(a.uuid=t.uuid),t.name!==void 0&&(a.name=t.name),t.color!==void 0&&a.color!==void 0&&a.color.setHex(t.color),t.roughness!==void 0&&(a.roughness=t.roughness),t.metalness!==void 0&&(a.metalness=t.metalness),t.sheen!==void 0&&(a.sheen=t.sheen),t.sheenColor!==void 0&&(a.sheenColor=new vt().setHex(t.sheenColor)),t.sheenRoughness!==void 0&&(a.sheenRoughness=t.sheenRoughness),t.emissive!==void 0&&a.emissive!==void 0&&a.emissive.setHex(t.emissive),t.specular!==void 0&&a.specular!==void 0&&a.specular.setHex(t.specular),t.specularIntensity!==void 0&&(a.specularIntensity=t.specularIntensity),t.specularColor!==void 0&&a.specularColor!==void 0&&a.specularColor.setHex(t.specularColor),t.shininess!==void 0&&(a.shininess=t.shininess),t.clearcoat!==void 0&&(a.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(a.clearcoatRoughness=t.clearcoatRoughness),t.dispersion!==void 0&&(a.dispersion=t.dispersion),t.iridescence!==void 0&&(a.iridescence=t.iridescence),t.iridescenceIOR!==void 0&&(a.iridescenceIOR=t.iridescenceIOR),t.iridescenceThicknessRange!==void 0&&(a.iridescenceThicknessRange=t.iridescenceThicknessRange),t.transmission!==void 0&&(a.transmission=t.transmission),t.thickness!==void 0&&(a.thickness=t.thickness),t.attenuationDistance!==void 0&&(a.attenuationDistance=t.attenuationDistance),t.attenuationColor!==void 0&&a.attenuationColor!==void 0&&a.attenuationColor.setHex(t.attenuationColor),t.anisotropy!==void 0&&(a.anisotropy=t.anisotropy),t.anisotropyRotation!==void 0&&(a.anisotropyRotation=t.anisotropyRotation),t.fog!==void 0&&(a.fog=t.fog),t.flatShading!==void 0&&(a.flatShading=t.flatShading),t.blending!==void 0&&(a.blending=t.blending),t.combine!==void 0&&(a.combine=t.combine),t.side!==void 0&&(a.side=t.side),t.shadowSide!==void 0&&(a.shadowSide=t.shadowSide),t.opacity!==void 0&&(a.opacity=t.opacity),t.transparent!==void 0&&(a.transparent=t.transparent),t.alphaTest!==void 0&&(a.alphaTest=t.alphaTest),t.alphaHash!==void 0&&(a.alphaHash=t.alphaHash),t.depthFunc!==void 0&&(a.depthFunc=t.depthFunc),t.depthTest!==void 0&&(a.depthTest=t.depthTest),t.depthWrite!==void 0&&(a.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(a.colorWrite=t.colorWrite),t.blendSrc!==void 0&&(a.blendSrc=t.blendSrc),t.blendDst!==void 0&&(a.blendDst=t.blendDst),t.blendEquation!==void 0&&(a.blendEquation=t.blendEquation),t.blendSrcAlpha!==void 0&&(a.blendSrcAlpha=t.blendSrcAlpha),t.blendDstAlpha!==void 0&&(a.blendDstAlpha=t.blendDstAlpha),t.blendEquationAlpha!==void 0&&(a.blendEquationAlpha=t.blendEquationAlpha),t.blendColor!==void 0&&a.blendColor!==void 0&&a.blendColor.setHex(t.blendColor),t.blendAlpha!==void 0&&(a.blendAlpha=t.blendAlpha),t.stencilWriteMask!==void 0&&(a.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(a.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(a.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(a.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(a.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(a.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(a.stencilZPass=t.stencilZPass),t.stencilWrite!==void 0&&(a.stencilWrite=t.stencilWrite),t.wireframe!==void 0&&(a.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(a.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(a.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(a.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(a.rotation=t.rotation),t.linewidth!==void 0&&(a.linewidth=t.linewidth),t.dashSize!==void 0&&(a.dashSize=t.dashSize),t.gapSize!==void 0&&(a.gapSize=t.gapSize),t.scale!==void 0&&(a.scale=t.scale),t.polygonOffset!==void 0&&(a.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(a.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(a.polygonOffsetUnits=t.polygonOffsetUnits),t.dithering!==void 0&&(a.dithering=t.dithering),t.alphaToCoverage!==void 0&&(a.alphaToCoverage=t.alphaToCoverage),t.premultipliedAlpha!==void 0&&(a.premultipliedAlpha=t.premultipliedAlpha),t.forceSinglePass!==void 0&&(a.forceSinglePass=t.forceSinglePass),t.visible!==void 0&&(a.visible=t.visible),t.toneMapped!==void 0&&(a.toneMapped=t.toneMapped),t.userData!==void 0&&(a.userData=t.userData),t.vertexColors!==void 0&&(typeof t.vertexColors=="number"?a.vertexColors=t.vertexColors>0:a.vertexColors=t.vertexColors),t.uniforms!==void 0)for(const l in t.uniforms){const o=t.uniforms[l];switch(a.uniforms[l]={},o.type){case"t":a.uniforms[l].value=n(o.value);break;case"c":a.uniforms[l].value=new vt().setHex(o.value);break;case"v2":a.uniforms[l].value=new j().fromArray(o.value);break;case"v3":a.uniforms[l].value=new C().fromArray(o.value);break;case"v4":a.uniforms[l].value=new ve().fromArray(o.value);break;case"m3":a.uniforms[l].value=new Yi().fromArray(o.value);break;case"m4":a.uniforms[l].value=new wt().fromArray(o.value);break;default:a.uniforms[l].value=o.value}}if(t.defines!==void 0&&(a.defines=t.defines),t.vertexShader!==void 0&&(a.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(a.fragmentShader=t.fragmentShader),t.glslVersion!==void 0&&(a.glslVersion=t.glslVersion),t.extensions!==void 0)for(const l in t.extensions)a.extensions[l]=t.extensions[l];if(t.lights!==void 0&&(a.lights=t.lights),t.clipping!==void 0&&(a.clipping=t.clipping),t.size!==void 0&&(a.size=t.size),t.sizeAttenuation!==void 0&&(a.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(a.map=n(t.map)),t.matcap!==void 0&&(a.matcap=n(t.matcap)),t.alphaMap!==void 0&&(a.alphaMap=n(t.alphaMap)),t.bumpMap!==void 0&&(a.bumpMap=n(t.bumpMap)),t.bumpScale!==void 0&&(a.bumpScale=t.bumpScale),t.normalMap!==void 0&&(a.normalMap=n(t.normalMap)),t.normalMapType!==void 0&&(a.normalMapType=t.normalMapType),t.normalScale!==void 0){let l=t.normalScale;Array.isArray(l)===!1&&(l=[l,l]),a.normalScale=new j().fromArray(l)}return t.displacementMap!==void 0&&(a.displacementMap=n(t.displacementMap)),t.displacementScale!==void 0&&(a.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(a.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(a.roughnessMap=n(t.roughnessMap)),t.metalnessMap!==void 0&&(a.metalnessMap=n(t.metalnessMap)),t.emissiveMap!==void 0&&(a.emissiveMap=n(t.emissiveMap)),t.emissiveIntensity!==void 0&&(a.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(a.specularMap=n(t.specularMap)),t.specularIntensityMap!==void 0&&(a.specularIntensityMap=n(t.specularIntensityMap)),t.specularColorMap!==void 0&&(a.specularColorMap=n(t.specularColorMap)),t.envMap!==void 0&&(a.envMap=n(t.envMap)),t.envMapRotation!==void 0&&a.envMapRotation.fromArray(t.envMapRotation),t.envMapIntensity!==void 0&&(a.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(a.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(a.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(a.lightMap=n(t.lightMap)),t.lightMapIntensity!==void 0&&(a.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(a.aoMap=n(t.aoMap)),t.aoMapIntensity!==void 0&&(a.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(a.gradientMap=n(t.gradientMap)),t.clearcoatMap!==void 0&&(a.clearcoatMap=n(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(a.clearcoatRoughnessMap=n(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(a.clearcoatNormalMap=n(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(a.clearcoatNormalScale=new j().fromArray(t.clearcoatNormalScale)),t.iridescenceMap!==void 0&&(a.iridescenceMap=n(t.iridescenceMap)),t.iridescenceThicknessMap!==void 0&&(a.iridescenceThicknessMap=n(t.iridescenceThicknessMap)),t.transmissionMap!==void 0&&(a.transmissionMap=n(t.transmissionMap)),t.thicknessMap!==void 0&&(a.thicknessMap=n(t.thicknessMap)),t.anisotropyMap!==void 0&&(a.anisotropyMap=n(t.anisotropyMap)),t.sheenColorMap!==void 0&&(a.sheenColorMap=n(t.sheenColorMap)),t.sheenRoughnessMap!==void 0&&(a.sheenRoughnessMap=n(t.sheenRoughnessMap)),a}setTextures(t){return this.textures=t,this}createMaterialFromType(t){return mp.createMaterialFromType(t)}static createMaterialFromType(t){const e={ShadowMaterial:x_,SpriteMaterial:l1,RawShaderMaterial:b_,ShaderMaterial:qd,PointsMaterial:c1,MeshPhysicalMaterial:v_,MeshStandardMaterial:v1,MeshPhongMaterial:M_,MeshToonMaterial:S_,MeshNormalMaterial:w_,MeshLambertMaterial:__,MeshDepthMaterial:A_,MeshDistanceMaterial:T_,MeshBasicMaterial:sr,MeshMatcapMaterial:z_,LineDashedMaterial:E_,LineBasicMaterial:Ze,Material:Ve};return new e[t]}}class Ax{static extractUrlBase(t){const e=t.lastIndexOf("/");return e===-1?"./":t.slice(0,e+1)}static resolveURL(t,e){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class W_ extends Tt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class J_ extends ui{constructor(t){super(t)}load(t,e,n,a){const l=this,o=new is(l.manager);o.setPath(l.path),o.setRequestHeader(l.requestHeader),o.setWithCredentials(l.withCredentials),o.load(t,function(c){try{e(l.parse(JSON.parse(c)))}catch(f){a?a(f):console.error(f),l.manager.itemError(t)}},n,a)}parse(t){const e={},n={};function a(b,v){if(e[v]!==void 0)return e[v];const _=b.interleavedBuffers[v],w=l(b,_.buffer),T=ja(_.type,w),z=new Zd(T,_.stride);return z.uuid=_.uuid,e[v]=z,z}function l(b,v){if(n[v]!==void 0)return n[v];const _=b.arrayBuffers[v],w=new Uint32Array(_).buffer;return n[v]=w,w}const o=t.isInstancedBufferGeometry?new W_:new Tt,c=t.data.index;if(c!==void 0){const b=ja(c.type,c.array);o.setIndex(new Kt(b,1))}const f=t.data.attributes;for(const b in f){const v=f[b];let S;if(v.isInterleavedBufferAttribute){const _=a(t.data,v.data);S=new tr(_,v.itemSize,v.offset,v.normalized)}else{const _=ja(v.type,v.array),w=v.isInstancedBufferAttribute?Bl:Kt;S=new w(_,v.itemSize,v.normalized)}v.name!==void 0&&(S.name=v.name),v.usage!==void 0&&S.setUsage(v.usage),o.setAttribute(b,S)}const d=t.data.morphAttributes;if(d)for(const b in d){const v=d[b],S=[];for(let _=0,w=v.length;_<w;_++){const T=v[_];let z;if(T.isInterleavedBufferAttribute){const E=a(t.data,T.data);z=new tr(E,T.itemSize,T.offset,T.normalized)}else{const E=ja(T.type,T.array);z=new Kt(E,T.itemSize,T.normalized)}T.name!==void 0&&(z.name=T.name),S.push(z)}o.morphAttributes[b]=S}t.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const g=t.data.groups||t.data.drawcalls||t.data.offsets;if(g!==void 0)for(let b=0,v=g.length;b!==v;++b){const S=g[b];o.addGroup(S.start,S.count,S.materialIndex)}const x=t.data.boundingSphere;if(x!==void 0){const b=new C;x.center!==void 0&&b.fromArray(x.center),o.boundingSphere=new Oe(b,x.radius)}return t.name&&(o.name=t.name),t.userData&&(o.userData=t.userData),o}}class zz extends ui{constructor(t){super(t)}load(t,e,n,a){const l=this,o=this.path===""?Ax.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||o;const c=new is(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(t,function(f){let d=null;try{d=JSON.parse(f)}catch(g){a!==void 0&&a(g),console.error("THREE:ObjectLoader: Can't parse "+t+".",g.message);return}const m=d.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){a!==void 0&&a(new Error("THREE.ObjectLoader: Can't load "+t)),console.error("THREE.ObjectLoader: Can't load "+t);return}l.parse(d,e)},n,a)}async loadAsync(t,e){const n=this,a=this.path===""?Ax.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||a;const l=new is(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials);const o=await l.loadAsync(t,e),c=JSON.parse(o),f=c.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+t);return await n.parseAsync(c)}parse(t,e){const n=this.parseAnimations(t.animations),a=this.parseShapes(t.shapes),l=this.parseGeometries(t.geometries,a),o=this.parseImages(t.images,function(){e!==void 0&&e(d)}),c=this.parseTextures(t.textures,o),f=this.parseMaterials(t.materials,c),d=this.parseObject(t.object,l,f,c,n),m=this.parseSkeletons(t.skeletons,d);if(this.bindSkeletons(d,m),this.bindLightTargets(d),e!==void 0){let g=!1;for(const x in o)if(o[x].data instanceof HTMLImageElement){g=!0;break}g===!1&&e(d)}return d}async parseAsync(t){const e=this.parseAnimations(t.animations),n=this.parseShapes(t.shapes),a=this.parseGeometries(t.geometries,n),l=await this.parseImagesAsync(t.images),o=this.parseTextures(t.textures,l),c=this.parseMaterials(t.materials,o),f=this.parseObject(t.object,a,c,o,e),d=this.parseSkeletons(t.skeletons,f);return this.bindSkeletons(f,d),this.bindLightTargets(f),f}parseShapes(t){const e={};if(t!==void 0)for(let n=0,a=t.length;n<a;n++){const l=new Ka().fromJSON(t[n]);e[l.uuid]=l}return e}parseSkeletons(t,e){const n={},a={};if(e.traverse(function(l){l.isBone&&(a[l.uuid]=l)}),t!==void 0)for(let l=0,o=t.length;l<o;l++){const c=new Wd().fromJSON(t[l],a);n[c.uuid]=c}return n}parseGeometries(t,e){const n={};if(t!==void 0){const a=new J_;for(let l=0,o=t.length;l<o;l++){let c;const f=t[l];switch(f.type){case"BufferGeometry":case"InstancedBufferGeometry":c=a.parse(f);break;default:f.type in Mx?c=Mx[f.type].fromJSON(f,e):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${f.type}"`)}c.uuid=f.uuid,f.name!==void 0&&(c.name=f.name),f.userData!==void 0&&(c.userData=f.userData),n[f.uuid]=c}}return n}parseMaterials(t,e){const n={},a={};if(t!==void 0){const l=new mp;l.setTextures(e);for(let o=0,c=t.length;o<c;o++){const f=t[o];n[f.uuid]===void 0&&(n[f.uuid]=l.parse(f)),a[f.uuid]=n[f.uuid]}}return a}parseAnimations(t){const e={};if(t!==void 0)for(let n=0;n<t.length;n++){const a=t[n],l=ec.parse(a);e[l.uuid]=l}return e}parseImages(t,e){const n=this,a={};let l;function o(f){return n.manager.itemStart(f),l.load(f,function(){n.manager.itemEnd(f)},void 0,function(){n.manager.itemError(f),n.manager.itemEnd(f)})}function c(f){if(typeof f=="string"){const d=f,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:n.resourcePath+d;return o(m)}else return f.data?{data:ja(f.type,f.data),width:f.width,height:f.height}:null}if(t!==void 0&&t.length>0){const f=new A1(e);l=new ic(f),l.setCrossOrigin(this.crossOrigin);for(let d=0,m=t.length;d<m;d++){const g=t[d],x=g.url;if(Array.isArray(x)){const b=[];for(let v=0,S=x.length;v<S;v++){const _=x[v],w=c(_);w!==null&&(w instanceof HTMLImageElement?b.push(w):b.push(new bn(w.data,w.width,w.height)))}a[g.uuid]=new Us(b)}else{const b=c(g.url);a[g.uuid]=new Us(b)}}}return a}async parseImagesAsync(t){const e=this,n={};let a;async function l(o){if(typeof o=="string"){const c=o,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:e.resourcePath+c;return await a.loadAsync(f)}else return o.data?{data:ja(o.type,o.data),width:o.width,height:o.height}:null}if(t!==void 0&&t.length>0){a=new ic(this.manager),a.setCrossOrigin(this.crossOrigin);for(let o=0,c=t.length;o<c;o++){const f=t[o],d=f.url;if(Array.isArray(d)){const m=[];for(let g=0,x=d.length;g<x;g++){const b=d[g],v=await l(b);v!==null&&(v instanceof HTMLImageElement?m.push(v):m.push(new bn(v.data,v.width,v.height)))}n[f.uuid]=new Us(m)}else{const m=await l(f.url);n[f.uuid]=new Us(m)}}}return n}parseTextures(t,e){function n(l,o){return typeof l=="number"?l:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",l),o[l])}const a={};if(t!==void 0)for(let l=0,o=t.length;l<o;l++){const c=t[l];c.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',c.uuid),e[c.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",c.image);const f=e[c.image],d=f.data;let m;Array.isArray(d)?(m=new Pd,d.length===6&&(m.needsUpdate=!0)):(d&&d.data?m=new bn:m=new de,d&&(m.needsUpdate=!0)),m.source=f,m.uuid=c.uuid,c.name!==void 0&&(m.name=c.name),c.mapping!==void 0&&(m.mapping=n(c.mapping,j_)),c.channel!==void 0&&(m.channel=c.channel),c.offset!==void 0&&m.offset.fromArray(c.offset),c.repeat!==void 0&&m.repeat.fromArray(c.repeat),c.center!==void 0&&m.center.fromArray(c.center),c.rotation!==void 0&&(m.rotation=c.rotation),c.wrap!==void 0&&(m.wrapS=n(c.wrap[0],Tx),m.wrapT=n(c.wrap[1],Tx)),c.format!==void 0&&(m.format=c.format),c.internalFormat!==void 0&&(m.internalFormat=c.internalFormat),c.type!==void 0&&(m.type=c.type),c.colorSpace!==void 0&&(m.colorSpace=c.colorSpace),c.minFilter!==void 0&&(m.minFilter=n(c.minFilter,zx)),c.magFilter!==void 0&&(m.magFilter=n(c.magFilter,zx)),c.anisotropy!==void 0&&(m.anisotropy=c.anisotropy),c.flipY!==void 0&&(m.flipY=c.flipY),c.generateMipmaps!==void 0&&(m.generateMipmaps=c.generateMipmaps),c.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=c.premultiplyAlpha),c.unpackAlignment!==void 0&&(m.unpackAlignment=c.unpackAlignment),c.compareFunction!==void 0&&(m.compareFunction=c.compareFunction),c.userData!==void 0&&(m.userData=c.userData),a[c.uuid]=m}return a}parseObject(t,e,n,a,l){let o;function c(x){return e[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",x),e[x]}function f(x){if(x!==void 0){if(Array.isArray(x)){const b=[];for(let v=0,S=x.length;v<S;v++){const _=x[v];n[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),b.push(n[_])}return b}return n[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),n[x]}}function d(x){return a[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",x),a[x]}let m,g;switch(t.type){case"Scene":o=new mw,t.background!==void 0&&(Number.isInteger(t.background)?o.background=new vt(t.background):o.background=d(t.background)),t.environment!==void 0&&(o.environment=d(t.environment)),t.fog!==void 0&&(t.fog.type==="Fog"?o.fog=new Xd(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&&(o.fog=new Yd(t.fog.color,t.fog.density)),t.fog.name!==""&&(o.fog.name=t.fog.name)),t.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=t.backgroundBlurriness),t.backgroundIntensity!==void 0&&(o.backgroundIntensity=t.backgroundIntensity),t.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(t.backgroundRotation),t.environmentIntensity!==void 0&&(o.environmentIntensity=t.environmentIntensity),t.environmentRotation!==void 0&&o.environmentRotation.fromArray(t.environmentRotation);break;case"PerspectiveCamera":o=new Mi(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&&(o.focus=t.focus),t.zoom!==void 0&&(o.zoom=t.zoom),t.filmGauge!==void 0&&(o.filmGauge=t.filmGauge),t.filmOffset!==void 0&&(o.filmOffset=t.filmOffset),t.view!==void 0&&(o.view=Object.assign({},t.view));break;case"OrthographicCamera":o=new T1(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&&(o.zoom=t.zoom),t.view!==void 0&&(o.view=Object.assign({},t.view));break;case"AmbientLight":o=new P_(t.color,t.intensity);break;case"DirectionalLight":o=new G_(t.color,t.intensity),o.target=t.target||"";break;case"PointLight":o=new H_(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":o=new Y_(t.color,t.intensity,t.width,t.height);break;case"SpotLight":o=new V_(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay),o.target=t.target||"";break;case"HemisphereLight":o=new I_(t.color,t.groundColor,t.intensity);break;case"LightProbe":o=new Z_().fromJSON(t);break;case"SkinnedMesh":m=c(t.geometry),g=f(t.material),o=new bw(m,g),t.bindMode!==void 0&&(o.bindMode=t.bindMode),t.bindMatrix!==void 0&&o.bindMatrix.fromArray(t.bindMatrix),t.skeleton!==void 0&&(o.skeleton=t.skeleton);break;case"Mesh":m=c(t.geometry),g=f(t.material),o=new Bi(m,g);break;case"InstancedMesh":m=c(t.geometry),g=f(t.material);const x=t.count,b=t.instanceMatrix,v=t.instanceColor;o=new Sw(m,g,x),o.instanceMatrix=new Bl(new Float32Array(b.array),16),v!==void 0&&(o.instanceColor=new Bl(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":m=c(t.geometry),g=f(t.material),o=new Ow(t.maxInstanceCount,t.maxVertexCount,t.maxIndexCount,g),o.geometry=m,o.perObjectFrustumCulled=t.perObjectFrustumCulled,o.sortObjects=t.sortObjects,o._drawRanges=t.drawRanges,o._reservedRanges=t.reservedRanges,o._geometryInfo=t.geometryInfo.map(S=>{let _=null,w=null;return S.boundingBox!==void 0&&(_=new ke,_.min.fromArray(S.boundingBox.min),_.max.fromArray(S.boundingBox.max)),S.boundingSphere!==void 0&&(w=new Oe,w.radius=S.boundingSphere.radius,w.center.fromArray(S.boundingSphere.center)),{...S,boundingBox:_,boundingSphere:w}}),o._instanceInfo=t.instanceInfo,o._availableInstanceIds=t._availableInstanceIds,o._availableGeometryIds=t._availableGeometryIds,o._nextIndexStart=t.nextIndexStart,o._nextVertexStart=t.nextVertexStart,o._geometryCount=t.geometryCount,o._maxInstanceCount=t.maxInstanceCount,o._maxVertexCount=t.maxVertexCount,o._maxIndexCount=t.maxIndexCount,o._geometryInitialized=t.geometryInitialized,o._matricesTexture=d(t.matricesTexture.uuid),o._indirectTexture=d(t.indirectTexture.uuid),t.colorsTexture!==void 0&&(o._colorsTexture=d(t.colorsTexture.uuid)),t.boundingSphere!==void 0&&(o.boundingSphere=new Oe,o.boundingSphere.center.fromArray(t.boundingSphere.center),o.boundingSphere.radius=t.boundingSphere.radius),t.boundingBox!==void 0&&(o.boundingBox=new ke,o.boundingBox.min.fromArray(t.boundingBox.min),o.boundingBox.max.fromArray(t.boundingBox.max));break;case"LOD":o=new gw;break;case"Line":o=new ks(c(t.geometry),f(t.material));break;case"LineLoop":o=new Dw(c(t.geometry),f(t.material));break;case"LineSegments":o=new Sn(c(t.geometry),f(t.material));break;case"PointCloud":case"Points":o=new Nw(c(t.geometry),f(t.material));break;case"Sprite":o=new yw(f(t.material));break;case"Group":o=new wl;break;case"Bone":o=new u1;break;default:o=new Lt}if(o.uuid=t.uuid,t.name!==void 0&&(o.name=t.name),t.matrix!==void 0?(o.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=t.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(t.position!==void 0&&o.position.fromArray(t.position),t.rotation!==void 0&&o.rotation.fromArray(t.rotation),t.quaternion!==void 0&&o.quaternion.fromArray(t.quaternion),t.scale!==void 0&&o.scale.fromArray(t.scale)),t.up!==void 0&&o.up.fromArray(t.up),t.castShadow!==void 0&&(o.castShadow=t.castShadow),t.receiveShadow!==void 0&&(o.receiveShadow=t.receiveShadow),t.shadow&&(t.shadow.intensity!==void 0&&(o.shadow.intensity=t.shadow.intensity),t.shadow.bias!==void 0&&(o.shadow.bias=t.shadow.bias),t.shadow.normalBias!==void 0&&(o.shadow.normalBias=t.shadow.normalBias),t.shadow.radius!==void 0&&(o.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&&(o.visible=t.visible),t.frustumCulled!==void 0&&(o.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&&(o.renderOrder=t.renderOrder),t.userData!==void 0&&(o.userData=t.userData),t.layers!==void 0&&(o.layers.mask=t.layers),t.children!==void 0){const x=t.children;for(let b=0;b<x.length;b++)o.add(this.parseObject(x[b],e,n,a,l))}if(t.animations!==void 0){const x=t.animations;for(let b=0;b<x.length;b++){const v=x[b];o.animations.push(l[v])}}if(t.type==="LOD"){t.autoUpdate!==void 0&&(o.autoUpdate=t.autoUpdate);const x=t.levels;for(let b=0;b<x.length;b++){const v=x[b],S=o.getObjectByProperty("uuid",v.object);S!==void 0&&o.addLevel(S,v.distance,v.hysteresis)}}return o}bindSkeletons(t,e){Object.keys(e).length!==0&&t.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const a=e[n.skeleton];a===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(a,n.bindMatrix)}})}bindLightTargets(t){t.traverse(function(e){if(e.isDirectionalLight||e.isSpotLight){const n=e.target,a=t.getObjectByProperty("uuid",n);a!==void 0?e.target=a:e.target=new Lt}})}}const j_={UVMapping:Nd,CubeReflectionMapping:Ud,CubeRefractionMapping:_M,EquirectangularReflectionMapping:AM,EquirectangularRefractionMapping:TM,CubeUVReflectionMapping:zM},Tx={RepeatWrapping:Md,ClampToEdgeWrapping:Fi,MirroredRepeatWrapping:Sd},zx={NearestFilter:Ri,NearestMipmapNearestFilter:EM,NearestMipmapLinearFilter:CM,LinearFilter:Si,LinearMipmapNearestFilter:RM,LinearMipmapLinearFilter:sc};class Ez extends ui{constructor(t){super(t),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,n,a){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const l=this,o=es.get(t);if(o!==void 0){if(l.manager.itemStart(t),o.then){o.then(d=>{e&&e(d),l.manager.itemEnd(t)}).catch(d=>{a&&a(d)});return}return setTimeout(function(){e&&e(o),l.manager.itemEnd(t)},0),o}const c={};c.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",c.headers=this.requestHeader;const f=fetch(t,c).then(function(d){return d.blob()}).then(function(d){return createImageBitmap(d,Object.assign(l.options,{colorSpaceConversion:"none"}))}).then(function(d){return es.add(t,d),e&&e(d),l.manager.itemEnd(t),d}).catch(function(d){a&&a(d),es.remove(t),l.manager.itemError(t),l.manager.itemEnd(t)});es.add(t,f),l.manager.itemStart(t)}}let Uu;class z1{static getContext(){return Uu===void 0&&(Uu=new(window.AudioContext||window.webkitAudioContext)),Uu}static setContext(t){Uu=t}}class Cz extends ui{constructor(t){super(t)}load(t,e,n,a){const l=this,o=new is(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(f){try{const d=f.slice(0);z1.getContext().decodeAudioData(d,function(g){e(g)}).catch(c)}catch(d){c(d)}},n,a);function c(f){a?a(f):console.error(f),l.manager.itemError(t)}}}const Ex=new wt,Cx=new wt,Cs=new wt;class Rz{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Mi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Mi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,Cs.copy(t.projectionMatrix);const a=e.eyeSep/2,l=a*e.near/e.focus,o=e.near*Math.tan(Is*e.fov*.5)/e.zoom;let c,f;Cx.elements[12]=-a,Ex.elements[12]=a,c=-o*e.aspect+l,f=o*e.aspect+l,Cs.elements[0]=2*e.near/(f-c),Cs.elements[8]=(f+c)/(f-c),this.cameraL.projectionMatrix.copy(Cs),c=-o*e.aspect-l,f=o*e.aspect-l,Cs.elements[0]=2*e.near/(f-c),Cs.elements[8]=(f+c)/(f-c),this.cameraR.projectionMatrix.copy(Cs)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Cx),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Ex)}}class Bz extends Mi{constructor(t=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=t}}class Q_{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Rx(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=Rx();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function Rx(){return performance.now()}const Rs=new C,Bx=new oi,K_=new C,Bs=new C;class Oz extends Lt{constructor(){super(),this.type="AudioListener",this.context=z1.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Q_}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Rs,Bx,K_),Bs.set(0,0,-1).applyQuaternion(Bx),e.positionX){const a=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(Rs.x,a),e.positionY.linearRampToValueAtTime(Rs.y,a),e.positionZ.linearRampToValueAtTime(Rs.z,a),e.forwardX.linearRampToValueAtTime(Bs.x,a),e.forwardY.linearRampToValueAtTime(Bs.y,a),e.forwardZ.linearRampToValueAtTime(Bs.z,a),e.upX.linearRampToValueAtTime(n.x,a),e.upY.linearRampToValueAtTime(n.y,a),e.upZ.linearRampToValueAtTime(n.z,a)}else e.setPosition(Rs.x,Rs.y,Rs.z),e.setOrientation(Bs.x,Bs.y,Bs.z,n.x,n.y,n.z)}}class $_ extends Lt{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(t=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+t),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){return this.detune=t,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}copy(t,e){return super.copy(t,e),t.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=t.autoplay,this.buffer=t.buffer,this.detune=t.detune,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.offset=t.offset,this.duration=t.duration,this.playbackRate=t.playbackRate,this.hasPlaybackControl=t.hasPlaybackControl,this.sourceType=t.sourceType,this.filters=t.filters.slice(),this)}clone(t){return new this.constructor(this.listener).copy(this,t)}}const Os=new C,Ox=new oi,tA=new C,Ds=new C;class Dz extends $_{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,n){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=n,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Os,Ox,tA),Ds.set(0,0,1).applyQuaternion(Ox);const e=this.panner;if(e.positionX){const n=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(Os.x,n),e.positionY.linearRampToValueAtTime(Os.y,n),e.positionZ.linearRampToValueAtTime(Os.z,n),e.orientationX.linearRampToValueAtTime(Ds.x,n),e.orientationY.linearRampToValueAtTime(Ds.y,n),e.orientationZ.linearRampToValueAtTime(Ds.z,n)}else e.setPosition(Os.x,Os.y,Os.z),e.setOrientation(Ds.x,Ds.y,Ds.z)}}class Nz{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let n=0;n<e.length;n++)t+=e[n];return t/e.length}}class eA{constructor(t,e,n){this.binding=t,this.valueSize=n;let a,l,o;switch(e){case"quaternion":a=this._slerp,l=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":a=this._select,l=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:a=this._lerp,l=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=l,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const n=this.buffer,a=this.valueSize,l=t*a+a;let o=this.cumulativeWeight;if(o===0){for(let c=0;c!==a;++c)n[l+c]=n[c];o=e}else{o+=e;const c=e/o;this._mixBufferRegion(n,l,0,c,a)}this.cumulativeWeight=o}accumulateAdditive(t){const e=this.buffer,n=this.valueSize,a=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(e,a,0,t,n),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,n=this.buffer,a=t*e+e,l=this.cumulativeWeight,o=this.cumulativeWeightAdditive,c=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,l<1){const f=e*this._origIndex;this._mixBufferRegion(n,a,f,1-l,e)}o>0&&this._mixBufferRegionAdditive(n,a,this._addIndex*e,1,e);for(let f=e,d=e+e;f!==d;++f)if(n[f]!==n[f+e]){c.setValue(n,a);break}}saveOriginalState(){const t=this.binding,e=this.buffer,n=this.valueSize,a=n*this._origIndex;t.getValue(e,a);for(let l=n,o=a;l!==o;++l)e[l]=e[a+l%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let n=t;n<e;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[t+n]}_select(t,e,n,a,l){if(a>=.5)for(let o=0;o!==l;++o)t[e+o]=t[n+o]}_slerp(t,e,n,a){oi.slerpFlat(t,e,t,e,t,n,a)}_slerpAdditive(t,e,n,a,l){const o=this._workIndex*l;oi.multiplyQuaternionsFlat(t,o,t,e,t,n),oi.slerpFlat(t,e,t,e,t,o,a)}_lerp(t,e,n,a,l){const o=1-a;for(let c=0;c!==l;++c){const f=e+c;t[f]=t[f]*o+t[n+c]*a}}_lerpAdditive(t,e,n,a,l){for(let o=0;o!==l;++o){const c=e+o;t[c]=t[c]+t[n+o]*a}}}const yp="\\[\\]\\.:\\/",iA=new RegExp("["+yp+"]","g"),gp="[^"+yp+"]",nA="[^"+yp.replace("\\.","")+"]",sA=/((?:WC+[\/:])*)/.source.replace("WC",gp),aA=/(WCOD+)?/.source.replace("WCOD",nA),rA=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",gp),lA=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",gp),oA=new RegExp("^"+sA+aA+rA+lA+"$"),uA=["material","materials","bones","map"];class cA{constructor(t,e,n){const a=n||Ut.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,a)}getValue(t,e){this.bind();const n=this._targetGroup.nCachedObjects_,a=this._bindings[n];a!==void 0&&a.getValue(t,e)}setValue(t,e){const n=this._bindings;for(let a=this._targetGroup.nCachedObjects_,l=n.length;a!==l;++a)n[a].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}class Ut{constructor(t,e,n){this.path=e,this.parsedPath=n||Ut.parseTrackName(e),this.node=Ut.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,n){return t&&t.isAnimationObjectGroup?new Ut.Composite(t,e,n):new Ut(t,e,n)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(iA,"")}static parseTrackName(t){const e=oA.exec(t);if(e===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},a=n.nodeName&&n.nodeName.lastIndexOf(".");if(a!==void 0&&a!==-1){const l=n.nodeName.substring(a+1);uA.indexOf(l)!==-1&&(n.nodeName=n.nodeName.substring(0,a),n.objectName=l)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}static findNode(t,e){if(e===void 0||e===""||e==="."||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(n!==void 0)return n}if(t.children){const n=function(l){for(let o=0;o<l.length;o++){const c=l[o];if(c.name===e||c.uuid===e)return c;const f=n(c.children);if(f)return f}return null},a=n(t.children);if(a)return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const n=this.resolvedProperty;for(let a=0,l=n.length;a!==l;++a)t[e++]=n[a]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const n=this.resolvedProperty;for(let a=0,l=n.length;a!==l;++a)n[a]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const n=this.resolvedProperty;for(let a=0,l=n.length;a!==l;++a)n[a]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const n=this.resolvedProperty;for(let a=0,l=n.length;a!==l;++a)n[a]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,n=e.objectName,a=e.propertyName;let l=e.propertyIndex;if(t||(t=Ut.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let d=e.objectIndex;switch(n){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let m=0;m<t.length;m++)if(t[m].name===d){d=m;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}t=t.material.map;break;default:if(t[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[n]}if(d!==void 0){if(t[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[d]}}const o=t[a];if(o===void 0){const d=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+a+" but it wasn't found.",t);return}let c=this.Versioning.None;this.targetObject=t,t.isMaterial===!0?c=this.Versioning.NeedsUpdate:t.isObject3D===!0&&(c=this.Versioning.MatrixWorldNeedsUpdate);let f=this.BindingType.Direct;if(l!==void 0){if(a==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[l]!==void 0&&(l=t.morphTargetDictionary[l])}f=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=l}else o.fromArray!==void 0&&o.toArray!==void 0?(f=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(f=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=a;this.getValue=this.GetterByBindingType[f],this.setValue=this.SetterByBindingTypeAndVersioning[f][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ut.Composite=cA;Ut.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ut.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ut.prototype.GetterByBindingType=[Ut.prototype._getValue_direct,Ut.prototype._getValue_array,Ut.prototype._getValue_arrayElement,Ut.prototype._getValue_toArray];Ut.prototype.SetterByBindingTypeAndVersioning=[[Ut.prototype._setValue_direct,Ut.prototype._setValue_direct_setNeedsUpdate,Ut.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ut.prototype._setValue_array,Ut.prototype._setValue_array_setNeedsUpdate,Ut.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ut.prototype._setValue_arrayElement,Ut.prototype._setValue_arrayElement_setNeedsUpdate,Ut.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ut.prototype._setValue_fromArray,Ut.prototype._setValue_fromArray_setNeedsUpdate,Ut.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Uz{constructor(){this.isAnimationObjectGroup=!0,this.uuid=li(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let n=0,a=arguments.length;n!==a;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const t=this._objects,e=this._indicesByUUID,n=this._paths,a=this._parsedPaths,l=this._bindings,o=l.length;let c,f=t.length,d=this.nCachedObjects_;for(let m=0,g=arguments.length;m!==g;++m){const x=arguments[m],b=x.uuid;let v=e[b];if(v===void 0){v=f++,e[b]=v,t.push(x);for(let S=0,_=o;S!==_;++S)l[S].push(new Ut(x,n[S],a[S]))}else if(v<d){c=t[v];const S=--d,_=t[S];e[_.uuid]=v,t[v]=_,e[b]=S,t[S]=x;for(let w=0,T=o;w!==T;++w){const z=l[w],E=z[S];let D=z[v];z[v]=E,D===void 0&&(D=new Ut(x,n[w],a[w])),z[S]=D}}else t[v]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,a=n.length;let l=this.nCachedObjects_;for(let o=0,c=arguments.length;o!==c;++o){const f=arguments[o],d=f.uuid,m=e[d];if(m!==void 0&&m>=l){const g=l++,x=t[g];e[x.uuid]=m,t[m]=x,e[d]=g,t[g]=f;for(let b=0,v=a;b!==v;++b){const S=n[b],_=S[g],w=S[m];S[m]=_,S[g]=w}}}this.nCachedObjects_=l}uncache(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,a=n.length;let l=this.nCachedObjects_,o=t.length;for(let c=0,f=arguments.length;c!==f;++c){const d=arguments[c],m=d.uuid,g=e[m];if(g!==void 0)if(delete e[m],g<l){const x=--l,b=t[x],v=--o,S=t[v];e[b.uuid]=g,t[g]=b,e[S.uuid]=x,t[x]=S,t.pop();for(let _=0,w=a;_!==w;++_){const T=n[_],z=T[x],E=T[v];T[g]=z,T[x]=E,T.pop()}}else{const x=--o,b=t[x];x>0&&(e[b.uuid]=g),t[g]=b,t.pop();for(let v=0,S=a;v!==S;++v){const _=n[v];_[g]=_[x],_.pop()}}}this.nCachedObjects_=l}subscribe_(t,e){const n=this._bindingsIndicesByPath;let a=n[t];const l=this._bindings;if(a!==void 0)return l[a];const o=this._paths,c=this._parsedPaths,f=this._objects,d=f.length,m=this.nCachedObjects_,g=new Array(d);a=l.length,n[t]=a,o.push(t),c.push(e),l.push(g);for(let x=m,b=f.length;x!==b;++x){const v=f[x];g[x]=new Ut(v,t,e)}return g}unsubscribe_(t){const e=this._bindingsIndicesByPath,n=e[t];if(n!==void 0){const a=this._paths,l=this._parsedPaths,o=this._bindings,c=o.length-1,f=o[c],d=t[c];e[d]=n,o[n]=f,o.pop(),l[n]=l[c],l.pop(),a[n]=a[c],a.pop()}}}class hA{constructor(t,e,n=null,a=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=n,this.blendMode=a;const l=e.tracks,o=l.length,c=new Array(o),f={endingStart:Wa,endingEnd:Wa};for(let d=0;d!==o;++d){const m=l[d].createInterpolant(null);c[d]=m,m.settings=f}this._interpolantSettings=f,this._interpolants=c,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=_S,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,n=!1){if(t.fadeOut(e),this.fadeIn(e),n===!0){const a=this._clip.duration,l=t._clip.duration,o=l/a,c=a/l;t.warp(1,o,e),this.warp(c,1,e)}return this}crossFadeTo(t,e,n=!1){return t.crossFadeFrom(this,e,n)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,n){const a=this._mixer,l=a.time,o=this.timeScale;let c=this._timeScaleInterpolant;c===null&&(c=a._lendControlInterpolant(),this._timeScaleInterpolant=c);const f=c.parameterPositions,d=c.sampleValues;return f[0]=l,f[1]=l+n,d[0]=t/o,d[1]=e/o,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,n,a){if(!this.enabled){this._updateWeight(t);return}const l=this._startTime;if(l!==null){const f=(t-l)*n;f<0||n===0?e=0:(this._startTime=null,e=n*f)}e*=this._updateTimeScale(t);const o=this._updateTime(e),c=this._updateWeight(t);if(c>0){const f=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case e1:for(let m=0,g=f.length;m!==g;++m)f[m].evaluate(o),d[m].accumulateAdditive(c);break;case kd:default:for(let m=0,g=f.length;m!==g;++m)f[m].evaluate(o),d[m].accumulate(a,c)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const n=this._weightInterpolant;if(n!==null){const a=n.evaluate(t)[0];e*=a,t>n.parameterPositions[1]&&(this.stopFading(),a===0&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const a=n.evaluate(t)[0];e*=a,t>n.parameterPositions[1]&&(this.stopWarping(),e===0?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,n=this.loop;let a=this.time+t,l=this._loopCount;const o=n===AS;if(t===0)return l===-1?a:o&&(l&1)===1?e-a:a;if(n===wS){l===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(a>=e)a=e;else if(a<0)a=0;else{this.time=a;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(l===-1&&(t>=0?(l=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),a>=e||a<0){const c=Math.floor(a/e);a-=e*c,l+=Math.abs(c);const f=this.repetitions-l;if(f<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,a=t>0?e:0,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(f===1){const d=t<0;this._setEndings(d,!d,o)}else this._setEndings(!1,!1,o);this._loopCount=l,this.time=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c})}}else this.time=a;if(o&&(l&1)===1)return e-a}return a}_setEndings(t,e,n){const a=this._interpolantSettings;n?(a.endingStart=Ja,a.endingEnd=Ja):(t?a.endingStart=this.zeroSlopeAtStart?Ja:Wa:a.endingStart=Xu,e?a.endingEnd=this.zeroSlopeAtEnd?Ja:Wa:a.endingEnd=Xu)}_scheduleFading(t,e,n){const a=this._mixer,l=a.time;let o=this._weightInterpolant;o===null&&(o=a._lendControlInterpolant(),this._weightInterpolant=o);const c=o.parameterPositions,f=o.sampleValues;return c[0]=l,f[0]=e,c[1]=l+t,f[1]=n,this}}const fA=new Float32Array(1);class Lz extends ns{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const n=t._localRoot||this._root,a=t._clip.tracks,l=a.length,o=t._propertyBindings,c=t._interpolants,f=n.uuid,d=this._bindingsByRootAndName;let m=d[f];m===void 0&&(m={},d[f]=m);for(let g=0;g!==l;++g){const x=a[g],b=x.name;let v=m[b];if(v!==void 0)++v.referenceCount,o[g]=v;else{if(v=o[g],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,f,b));continue}const S=e&&e._propertyBindings[g].binding.parsedPath;v=new eA(Ut.create(n,b,S),x.ValueTypeName,x.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,f,b),o[g]=v}c[g].resultBuffer=v.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const n=(t._localRoot||this._root).uuid,a=t._clip.uuid,l=this._actionsByClip[a];this._bindAction(t,l&&l.knownActions[0]),this._addInactiveAction(t,a,n)}const e=t._propertyBindings;for(let n=0,a=e.length;n!==a;++n){const l=e[n];l.useCount++===0&&(this._lendBinding(l),l.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let n=0,a=e.length;n!==a;++n){const l=e[n];--l.useCount===0&&(l.restoreOriginalState(),this._takeBackBinding(l))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return e!==null&&e<this._nActiveActions}_addInactiveAction(t,e,n){const a=this._actions,l=this._actionsByClip;let o=l[e];if(o===void 0)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,l[e]=o;else{const c=o.knownActions;t._byClipCacheIndex=c.length,c.push(t)}t._cacheIndex=a.length,a.push(t),o.actionByRoot[n]=t}_removeInactiveAction(t){const e=this._actions,n=e[e.length-1],a=t._cacheIndex;n._cacheIndex=a,e[a]=n,e.pop(),t._cacheIndex=null;const l=t._clip.uuid,o=this._actionsByClip,c=o[l],f=c.knownActions,d=f[f.length-1],m=t._byClipCacheIndex;d._byClipCacheIndex=m,f[m]=d,f.pop(),t._byClipCacheIndex=null;const g=c.actionByRoot,x=(t._localRoot||this._root).uuid;delete g[x],f.length===0&&delete o[l],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let n=0,a=e.length;n!==a;++n){const l=e[n];--l.referenceCount===0&&this._removeInactiveBinding(l)}}_lendAction(t){const e=this._actions,n=t._cacheIndex,a=this._nActiveActions++,l=e[a];t._cacheIndex=a,e[a]=t,l._cacheIndex=n,e[n]=l}_takeBackAction(t){const e=this._actions,n=t._cacheIndex,a=--this._nActiveActions,l=e[a];t._cacheIndex=a,e[a]=t,l._cacheIndex=n,e[n]=l}_addInactiveBinding(t,e,n){const a=this._bindingsByRootAndName,l=this._bindings;let o=a[e];o===void 0&&(o={},a[e]=o),o[n]=t,t._cacheIndex=l.length,l.push(t)}_removeInactiveBinding(t){const e=this._bindings,n=t.binding,a=n.rootNode.uuid,l=n.path,o=this._bindingsByRootAndName,c=o[a],f=e[e.length-1],d=t._cacheIndex;f._cacheIndex=d,e[d]=f,e.pop(),delete c[l],Object.keys(c).length===0&&delete o[a]}_lendBinding(t){const e=this._bindings,n=t._cacheIndex,a=this._nActiveBindings++,l=e[a];t._cacheIndex=a,e[a]=t,l._cacheIndex=n,e[n]=l}_takeBackBinding(t){const e=this._bindings,n=t._cacheIndex,a=--this._nActiveBindings,l=e[a];t._cacheIndex=a,e[a]=t,l._cacheIndex=n,e[n]=l}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let n=t[e];return n===void 0&&(n=new w1(new Float32Array(2),new Float32Array(2),1,fA),n.__cacheIndex=e,t[e]=n),n}_takeBackControlInterpolant(t){const e=this._controlInterpolants,n=t.__cacheIndex,a=--this._nActiveControlInterpolants,l=e[a];t.__cacheIndex=a,e[a]=t,l.__cacheIndex=n,e[n]=l}clipAction(t,e,n){const a=e||this._root,l=a.uuid;let o=typeof t=="string"?ec.findByName(a,t):t;const c=o!==null?o.uuid:t,f=this._actionsByClip[c];let d=null;if(n===void 0&&(o!==null?n=o.blendMode:n=kd),f!==void 0){const g=f.actionByRoot[l];if(g!==void 0&&g.blendMode===n)return g;d=f.knownActions[0],o===null&&(o=d._clip)}if(o===null)return null;const m=new hA(this,o,e,n);return this._bindAction(m,d),this._addInactiveAction(m,c,l),m}existingAction(t,e){const n=e||this._root,a=n.uuid,l=typeof t=="string"?ec.findByName(n,t):t,o=l?l.uuid:t,c=this._actionsByClip[o];return c!==void 0&&c.actionByRoot[a]||null}stopAllAction(){const t=this._actions,e=this._nActiveActions;for(let n=e-1;n>=0;--n)t[n].stop();return this}update(t){t*=this.timeScale;const e=this._actions,n=this._nActiveActions,a=this.time+=t,l=Math.sign(t),o=this._accuIndex^=1;for(let d=0;d!==n;++d)e[d]._update(a,t,l,o);const c=this._bindings,f=this._nActiveBindings;for(let d=0;d!==f;++d)c[d].apply(o);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,n=t.uuid,a=this._actionsByClip,l=a[n];if(l!==void 0){const o=l.knownActions;for(let c=0,f=o.length;c!==f;++c){const d=o[c];this._deactivateAction(d);const m=d._cacheIndex,g=e[e.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,g._cacheIndex=m,e[m]=g,e.pop(),this._removeInactiveBindingsForAction(d)}delete a[n]}}uncacheRoot(t){const e=t.uuid,n=this._actionsByClip;for(const o in n){const c=n[o].actionByRoot,f=c[e];f!==void 0&&(this._deactivateAction(f),this._removeInactiveAction(f))}const a=this._bindingsByRootAndName,l=a[e];if(l!==void 0)for(const o in l){const c=l[o];c.restoreOriginalState(),this._removeInactiveBinding(c)}}uncacheAction(t,e){const n=this.existingAction(t,e);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class Iz extends Fd{constructor(t=1,e=1,n=1,a={}){super(t,e,a),this.isRenderTarget3D=!0,this.depth=n,this.texture=new s1(null,t,e,n),this.texture.isRenderTargetTexture=!0}}class kz extends Fd{constructor(t=1,e=1,n=1,a={}){super(t,e,a),this.isRenderTargetArray=!0,this.depth=n,this.texture=new n1(null,t,e,n),this.texture.isRenderTargetTexture=!0}}class E1{constructor(t){this.value=t}clone(){return new E1(this.value.clone===void 0?this.value:this.value.clone())}}let dA=0;class Vz extends ns{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:dA++}),this.name="",this.usage=Zu,this.uniforms=[]}add(t){return this.uniforms.push(t),this}remove(t){const e=this.uniforms.indexOf(t);return e!==-1&&this.uniforms.splice(e,1),this}setName(t){return this.name=t,this}setUsage(t){return this.usage=t,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(t){this.name=t.name,this.usage=t.usage;const e=t.uniforms;this.uniforms.length=0;for(let n=0,a=e.length;n<a;n++){const l=Array.isArray(e[n])?e[n]:[e[n]];for(let o=0;o<l.length;o++)this.uniforms.push(l[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class Fz extends Zd{constructor(t,e,n=1){super(t,e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}class Hz{constructor(t,e,n,a,l){this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=e,this.itemSize=n,this.elementSize=a,this.count=l,this.version=0}set needsUpdate(t){t===!0&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}const Dx=new wt;class qz{constructor(t,e,n=0,a=1/0){this.ray=new Ll(t,e),this.near=n,this.far=a,this.camera=null,this.layers=new a1,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}setFromXRController(t){return Dx.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Dx),this}intersectObject(t,e=!0,n=[]){return Cd(t,this,n,e),n.sort(Nx),n}intersectObjects(t,e=!0,n=[]){for(let a=0,l=t.length;a<l;a++)Cd(t[a],this,n,e);return n.sort(Nx),n}}function Nx(h,t){return h.distance-t.distance}function Cd(h,t,e,n){let a=!0;if(h.layers.test(t.layers)&&h.raycast(t,e)===!1&&(a=!1),a===!0&&n===!0){const l=h.children;for(let o=0,c=l.length;o<c;o++)Cd(l[o],t,e,!0)}}class Gz{constructor(t=1,e=0,n=0){this.radius=t,this.phi=e,this.theta=n}set(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=bt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(bt(e/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Pz{constructor(t=1,e=0,n=0){this.radius=t,this.theta=e,this.y=n}set(t,e,n){return this.radius=t,this.theta=e,this.y=n,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+n*n),this.theta=Math.atan2(t,n),this.y=e,this}clone(){return new this.constructor().copy(this)}}class C1{constructor(t,e,n,a){C1.prototype.isMatrix2=!0,this.elements=[1,0,0,1],t!==void 0&&this.set(t,e,n,a)}identity(){return this.set(1,0,0,1),this}fromArray(t,e=0){for(let n=0;n<4;n++)this.elements[n]=t[n+e];return this}set(t,e,n,a){const l=this.elements;return l[0]=t,l[2]=e,l[1]=n,l[3]=a,this}}const Ux=new j;class Yz{constructor(t=new j(1/0,1/0),e=new j(-1/0,-1/0)){this.isBox2=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=Ux.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Ux).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const Lx=new C,Lu=new C;class Xz{constructor(t=new C,e=new C){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){Lx.subVectors(t,this.start),Lu.subVectors(this.end,this.start);const n=Lu.dot(Lu);let l=Lu.dot(Lx)/n;return e&&(l=bt(l,0,1)),l}closestPointToPoint(t,e,n){const a=this.closestPointToPointParameter(t,e);return this.delta(n).multiplyScalar(a).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Ix=new C;class Zz extends Lt{constructor(t,e){super(),this.light=t,this.matrixAutoUpdate=!1,this.color=e,this.type="SpotLightHelper";const n=new Tt,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,c=1,f=32;o<f;o++,c++){const d=o/f*Math.PI*2,m=c/f*Math.PI*2;a.push(Math.cos(d),Math.sin(d),1,Math.cos(m),Math.sin(m),1)}n.setAttribute("position",new rt(a,3));const l=new Ze({fog:!1,toneMapped:!1});this.cone=new Sn(n,l),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),Ix.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Ix),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ts=new C,Iu=new wt,md=new wt;class Wz extends Sn{constructor(t){const e=R1(t),n=new Tt,a=[],l=[],o=new vt(0,0,1),c=new vt(0,1,0);for(let d=0;d<e.length;d++){const m=e[d];m.parent&&m.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),l.push(o.r,o.g,o.b),l.push(c.r,c.g,c.b))}n.setAttribute("position",new rt(a,3)),n.setAttribute("color",new rt(l,3));const f=new Ze({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,f),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,n=this.geometry,a=n.getAttribute("position");md.copy(this.root.matrixWorld).invert();for(let l=0,o=0;l<e.length;l++){const c=e[l];c.parent&&c.parent.isBone&&(Iu.multiplyMatrices(md,c.matrixWorld),ts.setFromMatrixPosition(Iu),a.setXYZ(o,ts.x,ts.y,ts.z),Iu.multiplyMatrices(md,c.parent.matrixWorld),ts.setFromMatrixPosition(Iu),a.setXYZ(o+1,ts.x,ts.y,ts.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose()}}function R1(h){const t=[];h.isBone===!0&&t.push(h);for(let e=0;e<h.children.length;e++)t.push(...R1(h.children[e]));return t}class Jz extends Bi{constructor(t,e,n){const a=new cc(e,4,2),l=new sr({wireframe:!0,fog:!1,toneMapped:!1});super(a,l),this.light=t,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const pA=new C,kx=new vt,Vx=new vt;class jz extends Lt{constructor(t,e,n){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const a=new uc(e);a.rotateY(Math.PI*.5),this.material=new sr({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const l=a.getAttribute("position"),o=new Float32Array(l.count*3);a.setAttribute("color",new Kt(o,3)),this.add(new Bi(a,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const e=t.geometry.getAttribute("color");kx.copy(this.light.color),Vx.copy(this.light.groundColor);for(let n=0,a=e.count;n<a;n++){const l=n<a/2?kx:Vx;e.setXYZ(n,l.r,l.g,l.b)}e.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),t.lookAt(pA.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Qz extends Sn{constructor(t=10,e=10,n=4473924,a=8947848){n=new vt(n),a=new vt(a);const l=e/2,o=t/e,c=t/2,f=[],d=[];for(let x=0,b=0,v=-c;x<=e;x++,v+=o){f.push(-c,0,v,c,0,v),f.push(v,0,-c,v,0,c);const S=x===l?n:a;S.toArray(d,b),b+=3,S.toArray(d,b),b+=3,S.toArray(d,b),b+=3,S.toArray(d,b),b+=3}const m=new Tt;m.setAttribute("position",new rt(f,3)),m.setAttribute("color",new rt(d,3));const g=new Ze({vertexColors:!0,toneMapped:!1});super(m,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Kz extends Sn{constructor(t=10,e=16,n=8,a=64,l=4473924,o=8947848){l=new vt(l),o=new vt(o);const c=[],f=[];if(e>1)for(let g=0;g<e;g++){const x=g/e*(Math.PI*2),b=Math.sin(x)*t,v=Math.cos(x)*t;c.push(0,0,0),c.push(b,0,v);const S=g&1?l:o;f.push(S.r,S.g,S.b),f.push(S.r,S.g,S.b)}for(let g=0;g<n;g++){const x=g&1?l:o,b=t-t/n*g;for(let v=0;v<a;v++){let S=v/a*(Math.PI*2),_=Math.sin(S)*b,w=Math.cos(S)*b;c.push(_,0,w),f.push(x.r,x.g,x.b),S=(v+1)/a*(Math.PI*2),_=Math.sin(S)*b,w=Math.cos(S)*b,c.push(_,0,w),f.push(x.r,x.g,x.b)}}const d=new Tt;d.setAttribute("position",new rt(c,3)),d.setAttribute("color",new rt(f,3));const m=new Ze({vertexColors:!0,toneMapped:!1});super(d,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Fx=new C,ku=new C,Hx=new C;class $z extends Lt{constructor(t,e,n){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",e===void 0&&(e=1);let a=new Tt;a.setAttribute("position",new rt([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const l=new Ze({fog:!1,toneMapped:!1});this.lightPlane=new ks(a,l),this.add(this.lightPlane),a=new Tt,a.setAttribute("position",new rt([0,0,0,0,0,1],3)),this.targetLine=new ks(a,l),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Fx.setFromMatrixPosition(this.light.matrixWorld),ku.setFromMatrixPosition(this.light.target.matrixWorld),Hx.subVectors(ku,Fx),this.lightPlane.lookAt(ku),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(ku),this.targetLine.scale.z=Hx.length()}}const Vu=new C,ne=new Gd;class tE extends Sn{constructor(t){const e=new Tt,n=new Ze({color:16777215,vertexColors:!0,toneMapped:!1}),a=[],l=[],o={};c("n1","n2"),c("n2","n4"),c("n4","n3"),c("n3","n1"),c("f1","f2"),c("f2","f4"),c("f4","f3"),c("f3","f1"),c("n1","f1"),c("n2","f2"),c("n3","f3"),c("n4","f4"),c("p","n1"),c("p","n2"),c("p","n3"),c("p","n4"),c("u1","u2"),c("u2","u3"),c("u3","u1"),c("c","t"),c("p","c"),c("cn1","cn2"),c("cn3","cn4"),c("cf1","cf2"),c("cf3","cf4");function c(v,S){f(v),f(S)}function f(v){a.push(0,0,0),l.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(a.length/3-1)}e.setAttribute("position",new rt(a,3)),e.setAttribute("color",new rt(l,3)),super(e,n),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const d=new vt(16755200),m=new vt(16711680),g=new vt(43775),x=new vt(16777215),b=new vt(3355443);this.setColors(d,m,g,x,b)}setColors(t,e,n,a,l){const c=this.geometry.getAttribute("color");c.setXYZ(0,t.r,t.g,t.b),c.setXYZ(1,t.r,t.g,t.b),c.setXYZ(2,t.r,t.g,t.b),c.setXYZ(3,t.r,t.g,t.b),c.setXYZ(4,t.r,t.g,t.b),c.setXYZ(5,t.r,t.g,t.b),c.setXYZ(6,t.r,t.g,t.b),c.setXYZ(7,t.r,t.g,t.b),c.setXYZ(8,t.r,t.g,t.b),c.setXYZ(9,t.r,t.g,t.b),c.setXYZ(10,t.r,t.g,t.b),c.setXYZ(11,t.r,t.g,t.b),c.setXYZ(12,t.r,t.g,t.b),c.setXYZ(13,t.r,t.g,t.b),c.setXYZ(14,t.r,t.g,t.b),c.setXYZ(15,t.r,t.g,t.b),c.setXYZ(16,t.r,t.g,t.b),c.setXYZ(17,t.r,t.g,t.b),c.setXYZ(18,t.r,t.g,t.b),c.setXYZ(19,t.r,t.g,t.b),c.setXYZ(20,t.r,t.g,t.b),c.setXYZ(21,t.r,t.g,t.b),c.setXYZ(22,t.r,t.g,t.b),c.setXYZ(23,t.r,t.g,t.b),c.setXYZ(24,e.r,e.g,e.b),c.setXYZ(25,e.r,e.g,e.b),c.setXYZ(26,e.r,e.g,e.b),c.setXYZ(27,e.r,e.g,e.b),c.setXYZ(28,e.r,e.g,e.b),c.setXYZ(29,e.r,e.g,e.b),c.setXYZ(30,e.r,e.g,e.b),c.setXYZ(31,e.r,e.g,e.b),c.setXYZ(32,n.r,n.g,n.b),c.setXYZ(33,n.r,n.g,n.b),c.setXYZ(34,n.r,n.g,n.b),c.setXYZ(35,n.r,n.g,n.b),c.setXYZ(36,n.r,n.g,n.b),c.setXYZ(37,n.r,n.g,n.b),c.setXYZ(38,a.r,a.g,a.b),c.setXYZ(39,a.r,a.g,a.b),c.setXYZ(40,l.r,l.g,l.b),c.setXYZ(41,l.r,l.g,l.b),c.setXYZ(42,l.r,l.g,l.b),c.setXYZ(43,l.r,l.g,l.b),c.setXYZ(44,l.r,l.g,l.b),c.setXYZ(45,l.r,l.g,l.b),c.setXYZ(46,l.r,l.g,l.b),c.setXYZ(47,l.r,l.g,l.b),c.setXYZ(48,l.r,l.g,l.b),c.setXYZ(49,l.r,l.g,l.b),c.needsUpdate=!0}update(){const t=this.geometry,e=this.pointMap,n=1,a=1;ne.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const l=this.camera.coordinateSystem===Hi?-1:0;re("c",e,t,ne,0,0,l),re("t",e,t,ne,0,0,1),re("n1",e,t,ne,-1,-1,l),re("n2",e,t,ne,n,-1,l),re("n3",e,t,ne,-1,a,l),re("n4",e,t,ne,n,a,l),re("f1",e,t,ne,-1,-1,1),re("f2",e,t,ne,n,-1,1),re("f3",e,t,ne,-1,a,1),re("f4",e,t,ne,n,a,1),re("u1",e,t,ne,n*.7,a*1.1,l),re("u2",e,t,ne,-1*.7,a*1.1,l),re("u3",e,t,ne,0,a*2,l),re("cf1",e,t,ne,-1,0,1),re("cf2",e,t,ne,n,0,1),re("cf3",e,t,ne,0,-1,1),re("cf4",e,t,ne,0,a,1),re("cn1",e,t,ne,-1,0,l),re("cn2",e,t,ne,n,0,l),re("cn3",e,t,ne,0,-1,l),re("cn4",e,t,ne,0,a,l),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function re(h,t,e,n,a,l,o){Vu.set(a,l,o).unproject(n);const c=t[h];if(c!==void 0){const f=e.getAttribute("position");for(let d=0,m=c.length;d<m;d++)f.setXYZ(c[d],Vu.x,Vu.y,Vu.z)}}const Fu=new ke;class eE extends Sn{constructor(t,e=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(8*3),l=new Tt;l.setIndex(new Kt(n,1)),l.setAttribute("position",new Kt(a,3)),super(l,new Ze({color:e,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Fu.setFromObject(this.object),Fu.isEmpty())return;const t=Fu.min,e=Fu.max,n=this.geometry.attributes.position,a=n.array;a[0]=e.x,a[1]=e.y,a[2]=e.z,a[3]=t.x,a[4]=e.y,a[5]=e.z,a[6]=t.x,a[7]=t.y,a[8]=e.z,a[9]=e.x,a[10]=t.y,a[11]=e.z,a[12]=e.x,a[13]=e.y,a[14]=t.z,a[15]=t.x,a[16]=e.y,a[17]=t.z,a[18]=t.x,a[19]=t.y,a[20]=t.z,a[21]=e.x,a[22]=t.y,a[23]=t.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,e){return super.copy(t,e),this.object=t.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class iE extends Sn{constructor(t,e=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],l=new Tt;l.setIndex(new Kt(n,1)),l.setAttribute("position",new rt(a,3)),super(l,new Ze({color:e,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}dispose(){this.geometry.dispose(),this.material.dispose()}}class nE extends ks{constructor(t,e=1,n=16776960){const a=n,l=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Tt;o.setAttribute("position",new rt(l,3)),o.computeBoundingSphere(),super(o,new Ze({color:a,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=e;const c=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],f=new Tt;f.setAttribute("position",new rt(c,3)),f.computeBoundingSphere(),this.add(new Bi(f,new sr({color:a,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const qx=new C;let Hu,yd;class sE extends Lt{constructor(t=new C(0,0,1),e=new C(0,0,0),n=1,a=16776960,l=n*.2,o=l*.2){super(),this.type="ArrowHelper",Hu===void 0&&(Hu=new Tt,Hu.setAttribute("position",new rt([0,0,0,0,1,0],3)),yd=new oc(.5,1,5,1),yd.translate(0,-.5,0)),this.position.copy(e),this.line=new ks(Hu,new Ze({color:a,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Bi(yd,new sr({color:a,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,l,o)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{qx.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(qx,e)}}setLength(t,e=t*.2,n=e*.2){this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class aE extends Sn{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],a=new Tt;a.setAttribute("position",new rt(e,3)),a.setAttribute("color",new rt(n,3));const l=new Ze({vertexColors:!0,toneMapped:!1});super(a,l),this.type="AxesHelper"}setColors(t,e,n){const a=new vt,l=this.geometry.attributes.color.array;return a.set(t),a.toArray(l,0),a.toArray(l,3),a.set(e),a.toArray(l,6),a.toArray(l,9),a.set(n),a.toArray(l,12),a.toArray(l,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class rE{constructor(){this.type="ShapePath",this.color=new vt,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new Ad,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,n,a){return this.currentPath.quadraticCurveTo(t,e,n,a),this}bezierCurveTo(t,e,n,a,l,o){return this.currentPath.bezierCurveTo(t,e,n,a,l,o),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t){function e(w){const T=[];for(let z=0,E=w.length;z<E;z++){const D=w[z],I=new Ka;I.curves=D.curves,T.push(I)}return T}function n(w,T){const z=T.length;let E=!1;for(let D=z-1,I=0;I<z;D=I++){let H=T[D],k=T[I],X=k.x-H.x,J=k.y-H.y;if(Math.abs(J)>Number.EPSILON){if(J<0&&(H=T[I],X=-X,k=T[D],J=-J),w.y<H.y||w.y>k.y)continue;if(w.y===H.y){if(w.x===H.x)return!0}else{const et=J*(w.x-H.x)-X*(w.y-H.y);if(et===0)return!0;if(et<0)continue;E=!E}}else{if(w.y!==H.y)continue;if(k.x<=w.x&&w.x<=H.x||H.x<=w.x&&w.x<=k.x)return!0}}return E}const a=qi.isClockWise,l=this.subPaths;if(l.length===0)return[];let o,c,f;const d=[];if(l.length===1)return c=l[0],f=new Ka,f.curves=c.curves,d.push(f),d;let m=!a(l[0].getPoints());m=t?!m:m;const g=[],x=[];let b=[],v=0,S;x[v]=void 0,b[v]=[];for(let w=0,T=l.length;w<T;w++)c=l[w],S=c.getPoints(),o=a(S),o=t?!o:o,o?(!m&&x[v]&&v++,x[v]={s:new Ka,p:S},x[v].s.curves=c.curves,m&&v++,b[v]=[]):b[v].push({h:c,p:S[0]});if(!x[0])return e(l);if(x.length>1){let w=!1,T=0;for(let z=0,E=x.length;z<E;z++)g[z]=[];for(let z=0,E=x.length;z<E;z++){const D=b[z];for(let I=0;I<D.length;I++){const H=D[I];let k=!0;for(let X=0;X<x.length;X++)n(H.p,x[X].p)&&(z!==X&&T++,k?(k=!1,g[X].push(H)):w=!0);k&&g[z].push(H)}}T>0&&w===!1&&(b=g)}let _;for(let w=0,T=x.length;w<T;w++){f=x[w].s,d.push(f),_=b[w];for(let z=0,E=_.length;z<E;z++)f.holes.push(_[z].h)}return d}}class lE extends ns{constructor(t,e=null){super(),this.object=t,this.domElement=e,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(t){if(t===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=t}disconnect(){}dispose(){}update(){}}function mA(h,t){const e=h.image&&h.image.width?h.image.width/h.image.height:1;return e>t?(h.repeat.x=1,h.repeat.y=e/t,h.offset.x=0,h.offset.y=(1-h.repeat.y)/2):(h.repeat.x=t/e,h.repeat.y=1,h.offset.x=(1-h.repeat.x)/2,h.offset.y=0),h}function yA(h,t){const e=h.image&&h.image.width?h.image.width/h.image.height:1;return e>t?(h.repeat.x=t/e,h.repeat.y=1,h.offset.x=(1-h.repeat.x)/2,h.offset.y=0):(h.repeat.x=1,h.repeat.y=e/t,h.offset.x=0,h.offset.y=(1-h.repeat.y)/2),h}function gA(h){return h.repeat.x=1,h.repeat.y=1,h.offset.x=0,h.offset.y=0,h}function xA(h,t,e,n){const a=bA(n);switch(e){case VM:return h*t;case $x:return h*t/a.components*a.byteLength;case t1:return h*t/a.components*a.byteLength;case qM:return h*t*2/a.components*a.byteLength;case GM:return h*t*2/a.components*a.byteLength;case FM:return h*t*3/a.components*a.byteLength;case Cl:return h*t*4/a.components*a.byteLength;case PM:return h*t*4/a.components*a.byteLength;case YM:case XM:return Math.floor((h+3)/4)*Math.floor((t+3)/4)*8;case ZM:case WM:return Math.floor((h+3)/4)*Math.floor((t+3)/4)*16;case jM:case KM:return Math.max(h,16)*Math.max(t,8)/4;case JM:case QM:return Math.max(h,8)*Math.max(t,8)/2;case $M:case tS:return Math.floor((h+3)/4)*Math.floor((t+3)/4)*8;case eS:return Math.floor((h+3)/4)*Math.floor((t+3)/4)*16;case iS:return Math.floor((h+3)/4)*Math.floor((t+3)/4)*16;case nS:return Math.floor((h+4)/5)*Math.floor((t+3)/4)*16;case sS:return Math.floor((h+4)/5)*Math.floor((t+4)/5)*16;case aS:return Math.floor((h+5)/6)*Math.floor((t+4)/5)*16;case rS:return Math.floor((h+5)/6)*Math.floor((t+5)/6)*16;case lS:return Math.floor((h+7)/8)*Math.floor((t+4)/5)*16;case oS:return Math.floor((h+7)/8)*Math.floor((t+5)/6)*16;case uS:return Math.floor((h+7)/8)*Math.floor((t+7)/8)*16;case cS:return Math.floor((h+9)/10)*Math.floor((t+4)/5)*16;case hS:return Math.floor((h+9)/10)*Math.floor((t+5)/6)*16;case fS:return Math.floor((h+9)/10)*Math.floor((t+7)/8)*16;case dS:return Math.floor((h+9)/10)*Math.floor((t+9)/10)*16;case pS:return Math.floor((h+11)/12)*Math.floor((t+9)/10)*16;case mS:return Math.floor((h+11)/12)*Math.floor((t+11)/12)*16;case yS:case gS:case xS:return Math.ceil(h/4)*Math.ceil(t/4)*16;case bS:case vS:return Math.ceil(h/4)*Math.ceil(t/4)*8;case MS:case SS:return Math.ceil(h/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${e} format.`)}function bA(h){switch(h){case Ld:case BM:return{byteLength:1,components:1};case DM:case OM:case UM:return{byteLength:2,components:1};case LM:case IM:return{byteLength:2,components:4};case Id:case NM:case $a:return{byteLength:4,components:1};case kM:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${h}.`)}class oE{static contain(t,e){return mA(t,e)}static cover(t,e){return yA(t,e)}static fill(t){return gA(t)}static getByteLength(t,e,n,a){return xA(t,e,n,a)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Qx}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Qx);const Gx=h=>{let t;const e=new Set,n=(d,m)=>{const g=typeof d=="function"?d(t):d;if(!Object.is(g,t)){const x=t;t=m??(typeof g!="object"||g===null)?g:Object.assign({},t,g),e.forEach(b=>b(t,x))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>f,subscribe:d=>(e.add(d),()=>e.delete(d))},f=t=h(n,a,c);return c},vA=h=>h?Gx(h):Gx,MA=h=>h;function SA(h,t=MA){const e=bd.useSyncExternalStore(h.subscribe,()=>t(h.getState()),()=>t(h.getInitialState()));return bd.useDebugValue(e),e}const Px=h=>{const t=vA(h),e=n=>SA(t,n);return Object.assign(e,t),e},wA=h=>h?Px(h):Px;let bl=0;const B1=wA(h=>(Al.onStart=(t,e,n)=>{h({active:!0,item:t,loaded:e,total:n,progress:(e-bl)/(n-bl)*100})},Al.onLoad=()=>{h({active:!1})},Al.onError=t=>h(e=>({errors:[...e.errors,t]})),Al.onProgress=(t,e,n)=>{e===n&&(bl=n),h({active:!0,item:t,loaded:e,total:n,progress:(e-bl)/(n-bl)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));var vl={},Yx;function _A(){if(Yx)return vl;Yx=1,Object.defineProperty(vl,"__esModule",{value:!0}),vl.parse=o,vl.serialize=d;const h=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function o(x,b){const v=new l,S=x.length;if(S<2)return v;const _=(b==null?void 0:b.decode)||m;let w=0;do{const T=x.indexOf("=",w);if(T===-1)break;const z=x.indexOf(";",w),E=z===-1?S:z;if(T>E){w=x.lastIndexOf(";",T-1)+1;continue}const D=c(x,w,T),I=f(x,T,D),H=x.slice(D,I);if(v[H]===void 0){let k=c(x,T+1,E),X=f(x,E,k);const J=_(x.slice(k,X));v[H]=J}w=E+1}while(w<S);return v}function c(x,b,v){do{const S=x.charCodeAt(b);if(S!==32&&S!==9)return b}while(++b<v);return v}function f(x,b,v){for(;b>v;){const S=x.charCodeAt(--b);if(S!==32&&S!==9)return b+1}return v}function d(x,b,v){const S=(v==null?void 0:v.encode)||encodeURIComponent;if(!h.test(x))throw new TypeError(`argument name is invalid: ${x}`);const _=S(b);if(!t.test(_))throw new TypeError(`argument val is invalid: ${b}`);let w=x+"="+_;if(!v)return w;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);w+="; Max-Age="+v.maxAge}if(v.domain){if(!e.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);w+="; Domain="+v.domain}if(v.path){if(!n.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);w+="; Path="+v.path}if(v.expires){if(!g(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);w+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(w+="; HttpOnly"),v.secure&&(w+="; Secure"),v.partitioned&&(w+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return w}function m(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function g(x){return a.call(x)==="[object Date]"}return vl}_A();var Xx="popstate";function AA(h={}){function t(n,a){let{pathname:l,search:o,hash:c}=n.location;return Rd("",{pathname:l,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(n,a){return typeof a=="string"?a:Ul(a)}return zA(t,e,null,h)}function $t(h,t){if(h===!1||h===null||typeof h>"u")throw new Error(t)}function Pi(h,t){if(!h){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function TA(){return Math.random().toString(36).substring(2,10)}function Zx(h,t){return{usr:h.state,key:h.key,idx:t}}function Rd(h,t,e=null,n){return{pathname:typeof h=="string"?h:h.pathname,search:"",hash:"",...typeof t=="string"?lr(t):t,state:e,key:t&&t.key||n||TA()}}function Ul({pathname:h="/",search:t="",hash:e=""}){return t&&t!=="?"&&(h+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(h+=e.charAt(0)==="#"?e:"#"+e),h}function lr(h){let t={};if(h){let e=h.indexOf("#");e>=0&&(t.hash=h.substring(e),h=h.substring(0,e));let n=h.indexOf("?");n>=0&&(t.search=h.substring(n),h=h.substring(0,n)),h&&(t.pathname=h)}return t}function zA(h,t,e,n={}){let{window:a=document.defaultView,v5Compat:l=!1}=n,o=a.history,c="POP",f=null,d=m();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function m(){return(o.state||{idx:null}).idx}function g(){c="POP";let _=m(),w=_==null?null:_-d;d=_,f&&f({action:c,location:S.location,delta:w})}function x(_,w){c="PUSH";let T=Rd(S.location,_,w);d=m()+1;let z=Zx(T,d),E=S.createHref(T);try{o.pushState(z,"",E)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;a.location.assign(E)}l&&f&&f({action:c,location:S.location,delta:1})}function b(_,w){c="REPLACE";let T=Rd(S.location,_,w);d=m();let z=Zx(T,d),E=S.createHref(T);o.replaceState(z,"",E),l&&f&&f({action:c,location:S.location,delta:0})}function v(_){return EA(_)}let S={get action(){return c},get location(){return h(a,o)},listen(_){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Xx,g),f=_,()=>{a.removeEventListener(Xx,g),f=null}},createHref(_){return t(a,_)},createURL:v,encodeLocation(_){let w=v(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:x,replace:b,go(_){return o.go(_)}};return S}function EA(h,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),$t(e,"No window.location.(origin|href) available to create URL");let n=typeof h=="string"?h:Ul(h);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=e+n),new URL(n,e)}function O1(h,t,e="/"){return CA(h,t,e,!1)}function CA(h,t,e,n){let a=typeof t=="string"?lr(t):t,l=Mn(a.pathname||"/",e);if(l==null)return null;let o=D1(h);RA(o);let c=null;for(let f=0;c==null&&f<o.length;++f){let d=HA(l);c=VA(o[f],d,n)}return c}function D1(h,t=[],e=[],n=""){let a=(l,o,c)=>{let f={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};f.relativePath.startsWith("/")&&($t(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length));let d=vn([n,f.relativePath]),m=e.concat(f);l.children&&l.children.length>0&&($t(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),D1(l.children,t,m,d)),!(l.path==null&&!l.index)&&t.push({path:d,score:IA(d,l.index),routesMeta:m})};return h.forEach((l,o)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))a(l,o);else for(let f of N1(l.path))a(l,o,f)}),t}function N1(h){let t=h.split("/");if(t.length===0)return[];let[e,...n]=t,a=e.endsWith("?"),l=e.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let o=N1(n.join("/")),c=[];return c.push(...o.map(f=>f===""?l:[l,f].join("/"))),a&&c.push(...o),c.map(f=>h.startsWith("/")&&f===""?"/":f)}function RA(h){h.sort((t,e)=>t.score!==e.score?e.score-t.score:kA(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}var BA=/^:[\w-]+$/,OA=3,DA=2,NA=1,UA=10,LA=-2,Wx=h=>h==="*";function IA(h,t){let e=h.split("/"),n=e.length;return e.some(Wx)&&(n+=LA),t&&(n+=DA),e.filter(a=>!Wx(a)).reduce((a,l)=>a+(BA.test(l)?OA:l===""?NA:UA),n)}function kA(h,t){return h.length===t.length&&h.slice(0,-1).every((n,a)=>n===t[a])?h[h.length-1]-t[t.length-1]:0}function VA(h,t,e=!1){let{routesMeta:n}=h,a={},l="/",o=[];for(let c=0;c<n.length;++c){let f=n[c],d=c===n.length-1,m=l==="/"?t:t.slice(l.length)||"/",g=nc({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},m),x=f.route;if(!g&&d&&e&&!n[n.length-1].route.index&&(g=nc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!g)return null;Object.assign(a,g.params),o.push({params:a,pathname:vn([l,g.pathname]),pathnameBase:YA(vn([l,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(l=vn([l,g.pathnameBase]))}return o}function nc(h,t){typeof h=="string"&&(h={path:h,caseSensitive:!1,end:!0});let[e,n]=FA(h.path,h.caseSensitive,h.end),a=t.match(e);if(!a)return null;let l=a[0],o=l.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((d,{paramName:m,isOptional:g},x)=>{if(m==="*"){let v=c[x]||"";o=l.slice(0,l.length-v.length).replace(/(.)\/+$/,"$1")}const b=c[x];return g&&!b?d[m]=void 0:d[m]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:o,pattern:h}}function FA(h,t=!1,e=!0){Pi(h==="*"||!h.endsWith("*")||h.endsWith("/*"),`Route path "${h}" will be treated as if it were "${h.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${h.replace(/\*$/,"/*")}".`);let n=[],a="^"+h.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,f)=>(n.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return h.endsWith("*")?(n.push({paramName:"*"}),a+=h==="*"||h==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":h!==""&&h!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function HA(h){try{return h.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pi(!1,`The URL path "${h}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),h}}function Mn(h,t){if(t==="/")return h;if(!h.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=h.charAt(e);return n&&n!=="/"?null:h.slice(e)||"/"}function qA(h,t="/"){let{pathname:e,search:n="",hash:a=""}=typeof h=="string"?lr(h):h;return{pathname:e?e.startsWith("/")?e:GA(e,t):t,search:XA(n),hash:ZA(a)}}function GA(h,t){let e=t.replace(/\/+$/,"").split("/");return h.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function gd(h,t,e,n){return`Cannot include a '${h}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PA(h){return h.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function U1(h){let t=PA(h);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function L1(h,t,e,n=!1){let a;typeof h=="string"?a=lr(h):(a={...h},$t(!a.pathname||!a.pathname.includes("?"),gd("?","pathname","search",a)),$t(!a.pathname||!a.pathname.includes("#"),gd("#","pathname","hash",a)),$t(!a.search||!a.search.includes("#"),gd("#","search","hash",a)));let l=h===""||a.pathname==="",o=l?"/":a.pathname,c;if(o==null)c=e;else{let g=t.length-1;if(!n&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),g-=1;a.pathname=x.join("/")}c=g>=0?t[g]:"/"}let f=qA(a,c),d=o&&o!=="/"&&o.endsWith("/"),m=(l||o===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(d||m)&&(f.pathname+="/"),f}var vn=h=>h.join("/").replace(/\/\/+/g,"/"),YA=h=>h.replace(/\/+$/,"").replace(/^\/*/,"/"),XA=h=>!h||h==="?"?"":h.startsWith("?")?h:"?"+h,ZA=h=>!h||h==="#"?"":h.startsWith("#")?h:"#"+h;function WA(h){return h!=null&&typeof h.status=="number"&&typeof h.statusText=="string"&&typeof h.internal=="boolean"&&"data"in h}var I1=["POST","PUT","PATCH","DELETE"];new Set(I1);var JA=["GET",...I1];new Set(JA);var or=P.createContext(null);or.displayName="DataRouter";var dc=P.createContext(null);dc.displayName="DataRouterState";var k1=P.createContext({isTransitioning:!1});k1.displayName="ViewTransition";var jA=P.createContext(new Map);jA.displayName="Fetchers";var QA=P.createContext(null);QA.displayName="Await";var Zi=P.createContext(null);Zi.displayName="Navigation";var Il=P.createContext(null);Il.displayName="Location";var wn=P.createContext({outlet:null,matches:[],isDataRoute:!1});wn.displayName="Route";var xp=P.createContext(null);xp.displayName="RouteError";function KA(h,{relative:t}={}){$t(kl(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:n}=P.useContext(Zi),{hash:a,pathname:l,search:o}=Vl(h,{relative:t}),c=l;return e!=="/"&&(c=l==="/"?e:vn([e,l])),n.createHref({pathname:c,search:o,hash:a})}function kl(){return P.useContext(Il)!=null}function qs(){return $t(kl(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Il).location}var V1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function F1(h){P.useContext(Zi).static||P.useLayoutEffect(h)}function $A(){let{isDataRoute:h}=P.useContext(wn);return h?f2():t2()}function t2(){$t(kl(),"useNavigate() may be used only in the context of a <Router> component.");let h=P.useContext(or),{basename:t,navigator:e}=P.useContext(Zi),{matches:n}=P.useContext(wn),{pathname:a}=qs(),l=JSON.stringify(U1(n)),o=P.useRef(!1);return F1(()=>{o.current=!0}),P.useCallback((f,d={})=>{if(Pi(o.current,V1),!o.current)return;if(typeof f=="number"){e.go(f);return}let m=L1(f,JSON.parse(l),a,d.relative==="path");h==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:vn([t,m.pathname])),(d.replace?e.replace:e.push)(m,d.state,d)},[t,e,l,a,h])}P.createContext(null);function Vl(h,{relative:t}={}){let{matches:e}=P.useContext(wn),{pathname:n}=qs(),a=JSON.stringify(U1(e));return P.useMemo(()=>L1(h,JSON.parse(a),n,t==="path"),[h,a,n,t])}function e2(h,t){return H1(h,t)}function H1(h,t,e,n){var w;$t(kl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=P.useContext(Zi),{matches:l}=P.useContext(wn),o=l[l.length-1],c=o?o.params:{},f=o?o.pathname:"/",d=o?o.pathnameBase:"/",m=o&&o.route;{let T=m&&m.path||"";q1(f,!m||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=qs(),x;if(t){let T=typeof t=="string"?lr(t):t;$t(d==="/"||((w=T.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${T.pathname}" was given in the \`location\` prop.`),x=T}else x=g;let b=x.pathname||"/",v=b;if(d!=="/"){let T=d.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(T.length).join("/")}let S=O1(h,{pathname:v});Pi(m||S!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Pi(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=r2(S&&S.map(T=>Object.assign({},T,{params:Object.assign({},c,T.params),pathname:vn([d,a.encodeLocation?a.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?d:vn([d,a.encodeLocation?a.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),l,e,n);return t&&_?P.createElement(Il.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},_):_}function i2(){let h=h2(),t=WA(h)?`${h.status} ${h.statusText}`:h instanceof Error?h.message:JSON.stringify(h),e=h instanceof Error?h.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",h),o=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:l},"ErrorBoundary")," or"," ",P.createElement("code",{style:l},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),e?P.createElement("pre",{style:a},e):null,o)}var n2=P.createElement(i2,null),s2=class extends P.Component{constructor(h){super(h),this.state={location:h.location,revalidation:h.revalidation,error:h.error}}static getDerivedStateFromError(h){return{error:h}}static getDerivedStateFromProps(h,t){return t.location!==h.location||t.revalidation!=="idle"&&h.revalidation==="idle"?{error:h.error,location:h.location,revalidation:h.revalidation}:{error:h.error!==void 0?h.error:t.error,location:t.location,revalidation:h.revalidation||t.revalidation}}componentDidCatch(h,t){console.error("React Router caught the following error during render",h,t)}render(){return this.state.error!==void 0?P.createElement(wn.Provider,{value:this.props.routeContext},P.createElement(xp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function a2({routeContext:h,match:t,children:e}){let n=P.useContext(or);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(wn.Provider,{value:h},e)}function r2(h,t=[],e=null,n=null){if(h==null){if(!e)return null;if(e.errors)h=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)h=e.matches;else return null}let a=h,l=e==null?void 0:e.errors;if(l!=null){let f=a.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);$t(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let o=!1,c=-1;if(e)for(let f=0;f<a.length;f++){let d=a[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:m,errors:g}=e,x=d.route.loader&&!m.hasOwnProperty(d.route.id)&&(!g||g[d.route.id]===void 0);if(d.route.lazy||x){o=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((f,d,m)=>{let g,x=!1,b=null,v=null;e&&(g=l&&d.route.id?l[d.route.id]:void 0,b=d.route.errorElement||n2,o&&(c<0&&m===0?(q1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,v=null):c===m&&(x=!0,v=d.route.hydrateFallbackElement||null)));let S=t.concat(a.slice(0,m+1)),_=()=>{let w;return g?w=b:x?w=v:d.route.Component?w=P.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=f,P.createElement(a2,{match:d,routeContext:{outlet:f,matches:S,isDataRoute:e!=null},children:w})};return e&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?P.createElement(s2,{location:e.location,revalidation:e.revalidation,component:b,error:g,children:_(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):_()},null)}function bp(h){return`${h} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l2(h){let t=P.useContext(or);return $t(t,bp(h)),t}function o2(h){let t=P.useContext(dc);return $t(t,bp(h)),t}function u2(h){let t=P.useContext(wn);return $t(t,bp(h)),t}function vp(h){let t=u2(h),e=t.matches[t.matches.length-1];return $t(e.route.id,`${h} can only be used on routes that contain a unique "id"`),e.route.id}function c2(){return vp("useRouteId")}function h2(){var n;let h=P.useContext(xp),t=o2("useRouteError"),e=vp("useRouteError");return h!==void 0?h:(n=t.errors)==null?void 0:n[e]}function f2(){let{router:h}=l2("useNavigate"),t=vp("useNavigate"),e=P.useRef(!1);return F1(()=>{e.current=!0}),P.useCallback(async(a,l={})=>{Pi(e.current,V1),e.current&&(typeof a=="number"?h.navigate(a):await h.navigate(a,{fromRouteId:t,...l}))},[h,t])}var Jx={};function q1(h,t,e){!t&&!Jx[h]&&(Jx[h]=!0,Pi(!1,e))}P.memo(d2);function d2({routes:h,future:t,state:e}){return H1(h,void 0,e,t)}function Ns(h){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function p2({basename:h="/",children:t=null,location:e,navigationType:n="POP",navigator:a,static:l=!1}){$t(!kl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=h.replace(/^\/*/,"/"),c=P.useMemo(()=>({basename:o,navigator:a,static:l,future:{}}),[o,a,l]);typeof e=="string"&&(e=lr(e));let{pathname:f="/",search:d="",hash:m="",state:g=null,key:x="default"}=e,b=P.useMemo(()=>{let v=Mn(f,o);return v==null?null:{location:{pathname:v,search:d,hash:m,state:g,key:x},navigationType:n}},[o,f,d,m,g,x,n]);return Pi(b!=null,`<Router basename="${o}"> is not able to match the URL "${f}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:P.createElement(Zi.Provider,{value:c},P.createElement(Il.Provider,{children:t,value:b}))}function m2({children:h,location:t}){return e2(Bd(h),t)}function Bd(h,t=[]){let e=[];return P.Children.forEach(h,(n,a)=>{if(!P.isValidElement(n))return;let l=[...t,a];if(n.type===P.Fragment){e.push.apply(e,Bd(n.props.children,l));return}$t(n.type===Ns,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Bd(n.props.children,l)),e.push(o)}),e}var Gu="get",Pu="application/x-www-form-urlencoded";function pc(h){return h!=null&&typeof h.tagName=="string"}function y2(h){return pc(h)&&h.tagName.toLowerCase()==="button"}function g2(h){return pc(h)&&h.tagName.toLowerCase()==="form"}function x2(h){return pc(h)&&h.tagName.toLowerCase()==="input"}function b2(h){return!!(h.metaKey||h.altKey||h.ctrlKey||h.shiftKey)}function v2(h,t){return h.button===0&&(!t||t==="_self")&&!b2(h)}var qu=null;function M2(){if(qu===null)try{new FormData(document.createElement("form"),0),qu=!1}catch{qu=!0}return qu}var S2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xd(h){return h!=null&&!S2.has(h)?(Pi(!1,`"${h}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pu}"`),null):h}function w2(h,t){let e,n,a,l,o;if(g2(h)){let c=h.getAttribute("action");n=c?Mn(c,t):null,e=h.getAttribute("method")||Gu,a=xd(h.getAttribute("enctype"))||Pu,l=new FormData(h)}else if(y2(h)||x2(h)&&(h.type==="submit"||h.type==="image")){let c=h.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=h.getAttribute("formaction")||c.getAttribute("action");if(n=f?Mn(f,t):null,e=h.getAttribute("formmethod")||c.getAttribute("method")||Gu,a=xd(h.getAttribute("formenctype"))||xd(c.getAttribute("enctype"))||Pu,l=new FormData(c,h),!M2()){let{name:d,type:m,value:g}=h;if(m==="image"){let x=d?`${d}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else d&&l.append(d,g)}}else{if(pc(h))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Gu,n=null,a=Pu,o=h}return l&&a==="text/plain"&&(o=l,l=void 0),{action:n,method:e.toLowerCase(),encType:a,formData:l,body:o}}function Mp(h,t){if(h===!1||h===null||typeof h>"u")throw new Error(t)}async function _2(h,t){if(h.id in t)return t[h.id];try{let e=await import(h.module);return t[h.id]=e,e}catch(e){return console.error(`Error loading route module \`${h.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function A2(h){return h==null?!1:h.href==null?h.rel==="preload"&&typeof h.imageSrcSet=="string"&&typeof h.imageSizes=="string":typeof h.rel=="string"&&typeof h.href=="string"}async function T2(h,t,e){let n=await Promise.all(h.map(async a=>{let l=t.routes[a.route.id];if(l){let o=await _2(l,e);return o.links?o.links():[]}return[]}));return R2(n.flat(1).filter(A2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function jx(h,t,e,n,a,l){let o=(f,d)=>e[d]?f.route.id!==e[d].route.id:!0,c=(f,d)=>{var m;return e[d].pathname!==f.pathname||((m=e[d].route.path)==null?void 0:m.endsWith("*"))&&e[d].params["*"]!==f.params["*"]};return l==="assets"?t.filter((f,d)=>o(f,d)||c(f,d)):l==="data"?t.filter((f,d)=>{var g;let m=n.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(o(f,d)||c(f,d))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=e[0])==null?void 0:g.params)||{},nextUrl:new URL(h,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function z2(h,t,{includeHydrateFallback:e}={}){return E2(h.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function E2(h){return[...new Set(h)]}function C2(h){let t={},e=Object.keys(h).sort();for(let n of e)t[n]=h[n];return t}function R2(h,t){let e=new Set;return new Set(t),h.reduce((n,a)=>{let l=JSON.stringify(C2(a));return e.has(l)||(e.add(l),n.push({key:l,link:a})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var B2=new Set([100,101,204,205]);function O2(h,t){let e=typeof h=="string"?new URL(h,typeof window>"u"?"server://singlefetch/":window.location.origin):h;return e.pathname==="/"?e.pathname="_root.data":t&&Mn(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function G1(){let h=P.useContext(or);return Mp(h,"You must render this element inside a <DataRouterContext.Provider> element"),h}function D2(){let h=P.useContext(dc);return Mp(h,"You must render this element inside a <DataRouterStateContext.Provider> element"),h}var Sp=P.createContext(void 0);Sp.displayName="FrameworkContext";function P1(){let h=P.useContext(Sp);return Mp(h,"You must render this element inside a <HydratedRouter> element"),h}function N2(h,t){let e=P.useContext(Sp),[n,a]=P.useState(!1),[l,o]=P.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:d,onMouseLeave:m,onTouchStart:g}=t,x=P.useRef(null);P.useEffect(()=>{if(h==="render"&&o(!0),h==="viewport"){let S=w=>{w.forEach(T=>{o(T.isIntersecting)})},_=new IntersectionObserver(S,{threshold:.5});return x.current&&_.observe(x.current),()=>{_.disconnect()}}},[h]),P.useEffect(()=>{if(n){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[n]);let b=()=>{a(!0)},v=()=>{a(!1),o(!1)};return e?h!=="intent"?[l,x,{}]:[l,x,{onFocus:Ml(c,b),onBlur:Ml(f,v),onMouseEnter:Ml(d,b),onMouseLeave:Ml(m,v),onTouchStart:Ml(g,b)}]:[!1,x,{}]}function Ml(h,t){return e=>{h&&h(e),e.defaultPrevented||t(e)}}function U2({page:h,...t}){let{router:e}=G1(),n=P.useMemo(()=>O1(e.routes,h,e.basename),[e.routes,h,e.basename]);return n?P.createElement(I2,{page:h,matches:n,...t}):null}function L2(h){let{manifest:t,routeModules:e}=P1(),[n,a]=P.useState([]);return P.useEffect(()=>{let l=!1;return T2(h,t,e).then(o=>{l||a(o)}),()=>{l=!0}},[h,t,e]),n}function I2({page:h,matches:t,...e}){let n=qs(),{manifest:a,routeModules:l}=P1(),{basename:o}=G1(),{loaderData:c,matches:f}=D2(),d=P.useMemo(()=>jx(h,t,f,a,n,"data"),[h,t,f,a,n]),m=P.useMemo(()=>jx(h,t,f,a,n,"assets"),[h,t,f,a,n]),g=P.useMemo(()=>{if(h===n.pathname+n.search+n.hash)return[];let v=new Set,S=!1;if(t.forEach(w=>{var z;let T=a.routes[w.route.id];!T||!T.hasLoader||(!d.some(E=>E.route.id===w.route.id)&&w.route.id in c&&((z=l[w.route.id])!=null&&z.shouldRevalidate)||T.hasClientLoader?S=!0:v.add(w.route.id))}),v.size===0)return[];let _=O2(h,o);return S&&v.size>0&&_.searchParams.set("_routes",t.filter(w=>v.has(w.route.id)).map(w=>w.route.id).join(",")),[_.pathname+_.search]},[o,c,n,a,d,t,h,l]),x=P.useMemo(()=>z2(m,a),[m,a]),b=L2(m);return P.createElement(P.Fragment,null,g.map(v=>P.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...e})),x.map(v=>P.createElement("link",{key:v,rel:"modulepreload",href:v,...e})),b.map(({key:v,link:S})=>P.createElement("link",{key:v,...S})))}function k2(...h){return t=>{h.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Y1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Y1&&(window.__reactRouterVersion="7.6.1")}catch{}function V2({basename:h,children:t,window:e}){let n=P.useRef();n.current==null&&(n.current=AA({window:e,v5Compat:!0}));let a=n.current,[l,o]=P.useState({action:a.action,location:a.location}),c=P.useCallback(f=>{P.startTransition(()=>o(f))},[o]);return P.useLayoutEffect(()=>a.listen(c),[a,c]),P.createElement(p2,{basename:h,children:t,location:l.location,navigationType:l.action,navigator:a})}var X1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z1=P.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:a,reloadDocument:l,replace:o,state:c,target:f,to:d,preventScrollReset:m,viewTransition:g,...x},b){let{basename:v}=P.useContext(Zi),S=typeof d=="string"&&X1.test(d),_,w=!1;if(typeof d=="string"&&S&&(_=d,Y1))try{let X=new URL(window.location.href),J=d.startsWith("//")?new URL(X.protocol+d):new URL(d),et=Mn(J.pathname,v);J.origin===X.origin&&et!=null?d=et+J.search+J.hash:w=!0}catch{Pi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=KA(d,{relative:a}),[z,E,D]=N2(n,x),I=G2(d,{replace:o,state:c,target:f,preventScrollReset:m,relative:a,viewTransition:g});function H(X){t&&t(X),X.defaultPrevented||I(X)}let k=P.createElement("a",{...x,...D,href:_||T,onClick:w||l?t:H,ref:k2(b,E),target:f,"data-discover":!S&&e==="render"?"true":void 0});return z&&!S?P.createElement(P.Fragment,null,k,P.createElement(U2,{page:T})):k});Z1.displayName="Link";var F2=P.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:a=!1,style:l,to:o,viewTransition:c,children:f,...d},m){let g=Vl(o,{relative:d.relative}),x=qs(),b=P.useContext(dc),{navigator:v,basename:S}=P.useContext(Zi),_=b!=null&&W2(g)&&c===!0,w=v.encodeLocation?v.encodeLocation(g).pathname:g.pathname,T=x.pathname,z=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;e||(T=T.toLowerCase(),z=z?z.toLowerCase():null,w=w.toLowerCase()),z&&S&&(z=Mn(z,S)||z);const E=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let D=T===w||!a&&T.startsWith(w)&&T.charAt(E)==="/",I=z!=null&&(z===w||!a&&z.startsWith(w)&&z.charAt(w.length)==="/"),H={isActive:D,isPending:I,isTransitioning:_},k=D?t:void 0,X;typeof n=="function"?X=n(H):X=[n,D?"active":null,I?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let J=typeof l=="function"?l(H):l;return P.createElement(Z1,{...d,"aria-current":k,className:X,ref:m,style:J,to:o,viewTransition:c},typeof f=="function"?f(H):f)});F2.displayName="NavLink";var H2=P.forwardRef(({discover:h="render",fetcherKey:t,navigate:e,reloadDocument:n,replace:a,state:l,method:o=Gu,action:c,onSubmit:f,relative:d,preventScrollReset:m,viewTransition:g,...x},b)=>{let v=X2(),S=Z2(c,{relative:d}),_=o.toLowerCase()==="get"?"get":"post",w=typeof c=="string"&&X1.test(c),T=z=>{if(f&&f(z),z.defaultPrevented)return;z.preventDefault();let E=z.nativeEvent.submitter,D=(E==null?void 0:E.getAttribute("formmethod"))||o;v(E||z.currentTarget,{fetcherKey:t,method:D,navigate:e,replace:a,state:l,relative:d,preventScrollReset:m,viewTransition:g})};return P.createElement("form",{ref:b,method:_,action:S,onSubmit:n?f:T,...x,"data-discover":!w&&h==="render"?"true":void 0})});H2.displayName="Form";function q2(h){return`${h} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W1(h){let t=P.useContext(or);return $t(t,q2(h)),t}function G2(h,{target:t,replace:e,state:n,preventScrollReset:a,relative:l,viewTransition:o}={}){let c=$A(),f=qs(),d=Vl(h,{relative:l});return P.useCallback(m=>{if(v2(m,t)){m.preventDefault();let g=e!==void 0?e:Ul(f)===Ul(d);c(h,{replace:g,state:n,preventScrollReset:a,relative:l,viewTransition:o})}},[f,c,d,e,n,t,h,a,l,o])}var P2=0,Y2=()=>`__${String(++P2)}__`;function X2(){let{router:h}=W1("useSubmit"),{basename:t}=P.useContext(Zi),e=c2();return P.useCallback(async(n,a={})=>{let{action:l,method:o,encType:c,formData:f,body:d}=w2(n,t);if(a.navigate===!1){let m=a.fetcherKey||Y2();await h.fetch(m,e,a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:d,formMethod:a.method||o,formEncType:a.encType||c,flushSync:a.flushSync})}else await h.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:d,formMethod:a.method||o,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:e,flushSync:a.flushSync,viewTransition:a.viewTransition})},[h,t,e])}function Z2(h,{relative:t}={}){let{basename:e}=P.useContext(Zi),n=P.useContext(wn);$t(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),l={...Vl(h||".",{relative:t})},o=qs();if(h==null){l.search=o.search;let c=new URLSearchParams(l.search),f=c.getAll("index");if(f.some(m=>m==="")){c.delete("index"),f.filter(g=>g).forEach(g=>c.append("index",g));let m=c.toString();l.search=m?`?${m}`:""}}return(!h||h===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:vn([e,l.pathname])),Ul(l)}function W2(h,t={}){let e=P.useContext(k1);$t(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=W1("useViewTransitionState"),a=Vl(h,{relative:t.relative});if(!e.isTransitioning)return!1;let l=Mn(e.currentLocation.pathname,n)||e.currentLocation.pathname,o=Mn(e.nextLocation.pathname,n)||e.nextLocation.pathname;return nc(a.pathname,o)!=null||nc(a.pathname,l)!=null}[...B2];const J2=P.createContext(),j2=({children:h})=>{const[t,e]=P.useState("en");P.useEffect(()=>{const a=navigator.language.slice(0,2);["es","en"].includes(a)&&e(a)},[]);const n=a=>{e(a)};return Zt.jsx(J2.Provider,{value:{idioma:t,cambiarIdioma:n},children:h})},Q2=()=>{const{progress:h}=B1(),[t,e]=P.useState(!0);return P.useEffect(()=>{h>=100&&setTimeout(()=>e(!1),500)},[h]),t?Zt.jsxs("div",{className:`pantalla-carga ${h>=100?"fade-out":""}`,children:[Zt.jsxs("div",{className:"carga-contenedor",children:[Zt.jsx("div",{className:"spinner"}),Zt.jsx("p",{children:"Cargando..."})]}),Zt.jsx("div",{className:"barra-progreso",children:Zt.jsx("div",{className:"barra-progreso-inner",style:{width:`${h}%`}})})]}):null},K2=P.lazy(()=>ir(()=>import("./RutaPrincipal-Bq2aptRT.js").then(h=>h.R),__vite__mapDeps([0,1,2,3,4,5]))),$2=P.lazy(()=>ir(()=>import("./RutaGaleria-DBNweeWk.js"),__vite__mapDeps([6,1,2,3,4,7]))),tT=P.lazy(()=>ir(()=>import("./RutaPrivacidad-Bef9SSgP.js"),__vite__mapDeps([8,1,2,9,10]))),eT=P.lazy(()=>ir(()=>import("./RutaCookies-BXGI4ksc.js"),__vite__mapDeps([11,1,2]))),iT=P.lazy(()=>ir(()=>import("./RutaAvisosLegales-yMytLAYF.js"),__vite__mapDeps([12,9,10,1,2]))),nT=P.lazy(()=>ir(()=>import("./Admin-DjU9vF7V.js"),__vite__mapDeps([13,14]))),sT=()=>{const[h,t]=P.useState(!0),{progress:e}=B1();return P.useEffect(()=>{e===100&&setTimeout(()=>t(!1),0)},[e]),Zt.jsx(j2,{children:Zt.jsx(V2,{children:Zt.jsx(P.Suspense,{fallback:Zt.jsx(Q2,{}),children:Zt.jsxs(m2,{children:[Zt.jsx(Ns,{path:"/",element:Zt.jsx(K2,{cargando:h})}),Zt.jsx(Ns,{path:"/Privacidad",element:Zt.jsx(tT,{})}),Zt.jsx(Ns,{path:"/Galeria",element:Zt.jsx($2,{})}),Zt.jsx(Ns,{path:"/Cookies",element:Zt.jsx(eT,{})}),Zt.jsx(Ns,{path:"/AvisosLegales",element:Zt.jsx(iT,{})}),Zt.jsx(Ns,{path:"/Dashboard",element:Zt.jsx(nT,{})})]})})})})};bM.createRoot(document.getElementById("root")).render(Zt.jsx(P.StrictMode,{children:Zt.jsx(sT,{})}));export{zT as $,Bz as A,Kx as B,vt as C,gT as D,ns as E,Jd as F,UT as G,UM as H,BT as I,DT as J,Tg as K,sc as L,wt as M,WT as N,kT as O,Mi as P,CT as Q,Qx as R,vi as S,RT as T,Ld as U,C as V,Hd as W,OT as X,NT as Y,Ag as Z,ET as _,ve as a,lS as a$,TT as a0,Sd as a1,Fi as a2,Md as a3,RM as a4,Si as a5,CM as a6,EM as a7,Ri as a8,N3 as a9,OM as aA,NM as aB,$a as aC,VM as aD,FM as aE,$x as aF,t1 as aG,qM as aH,GM as aI,PM as aJ,YM as aK,XM as aL,ZM as aM,WM as aN,Lf as aO,JM as aP,jM as aQ,QM as aR,KM as aS,$M as aT,tS as aU,eS as aV,iS as aW,nS as aX,sS as aY,aS as aZ,rS as a_,D3 as aa,U3 as ab,B3 as ac,O3 as ad,R3 as ae,L3 as af,C3 as ag,Za as ah,Yi as ai,A_ as aj,h3 as ak,T_ as al,qd as am,Tt as an,Kt as ao,Bi as ap,pT as aq,SM as ar,yT as as,DM as at,LM as au,IM as av,de as aw,rp as ax,kM as ay,BM as az,ai as b,s1 as b$,oS as b0,uS as b1,cS as b2,hS as b3,fS as b4,dS as b5,pS as b6,mS as b7,yS as b8,gS as b9,zM as bA,nr as bB,p3 as bC,hz as bD,ac as bE,rc as bF,Gi as bG,xA as bH,Bg as bI,Ud as bJ,_M as bK,T1 as bL,sr as bM,rw as bN,aw as bO,GS as bP,X3 as bQ,a1 as bR,mT as bS,$T as bT,e3 as bU,t3 as bV,KT as bW,QT as bX,jT as bY,JT as bZ,Pd as b_,xS as ba,bS as bb,vS as bc,MS as bd,SS as be,YT as bf,PT as bg,GT as bh,qT as bi,HT as bj,FT as bk,VT as bl,uT as bm,cT as bn,hT as bo,wg as bp,MT as bq,vT as br,bT as bs,xT as bt,AM as bu,TM as bv,dz as bw,n1 as bx,fz as by,uw as bz,Q3 as c,v3 as c$,Ju as c0,ZT as c1,XT as c2,Dd as c3,_T as c4,AT as c5,e1 as c6,Og as c7,P_ as c8,hA as c9,tE as cA,bz as cB,Kd as cC,Vw as cD,$d as cE,Q_ as cF,_1 as cG,gz as cH,xz as cI,Qd as cJ,wz as cK,oc as cL,lE as cM,dw as cN,_z as cO,h1 as cP,Zw as cQ,B_ as cR,fT as cS,Xi as cT,Jw as cU,lc as cV,Pz as cW,bn as cX,Az as cY,sz as cZ,x3 as c_,ec as ca,Sz as cb,Lz as cc,Uz as cd,Mz as ce,kw as cf,sE as cg,Eg as ch,$_ as ci,Nz as cj,z1 as ck,Oz as cl,Cz as cm,aE as cn,TS as co,dT as cp,Ow as cq,u1 as cr,ar as cs,Yz as ct,ke as cu,iE as cv,eE as cw,J_ as cx,es as cy,Gd as cz,vd as d,f1 as d$,Al as d0,vz as d1,wM as d2,G_ as d3,$z as d4,O_ as d5,tp as d6,G3 as d7,I3 as d8,F3 as d9,Bl as dA,W_ as dB,Fz as dC,Sw as dD,oz as dE,uz as dF,az as dG,Zd as dH,tr as dI,hc as dJ,Yu as dK,wd as dL,Uf as dM,J3 as dN,W3 as dO,M3 as dP,Ca as dQ,Oi as dR,gw as dS,ap as dT,A3 as dU,w3 as dV,Hs as dW,Z_ as dX,ks as dY,Xz as dZ,Ze as d_,Iw as da,ep as db,_3 as dc,np as dd,is as de,cz as df,rt as dg,Xd as dh,Yd as di,yz as dj,jd as dk,Hz as dl,Y3 as dm,E3 as dn,T3 as dp,Qz as dq,wl as dr,I_ as ds,jz as dt,sp as du,Ez as dv,ic as dw,XS as dx,g3 as dy,b3 as dz,ez as e,x_ as e$,Ww as e0,E_ as e1,Dw as e2,Sn as e3,w1 as e4,a3 as e5,s3 as e6,ui as e7,Ax as e8,A1 as e9,H_ as eA,Jz as eB,Nw as eC,c1 as eD,Kz as eE,Fs as eF,Dz as eG,Ut as eH,eA as eI,d1 as eJ,p1 as eK,oi as eL,fc as eM,D_ as eN,f3 as eO,l3 as eP,d3 as eQ,b_ as eR,Ll as eS,qz as eT,Y_ as eU,Fd as eV,Iz as eW,kz as eX,y3 as eY,lp as eZ,mw as e_,wS as ea,AS as eb,_S as ec,lT as ed,Ve as ee,mp as ef,j3 as eg,C1 as eh,__ as ei,z_ as ej,w_ as ek,M_ as el,v_ as em,v1 as en,S_ as eo,n3 as ep,i3 as eq,S3 as er,kd as es,z3 as et,$u as eu,Lt as ev,zz as ew,uc as ex,Ad as ey,nE as ez,Rg as f,Q2 as f$,Ka as f0,op as f1,rE as f2,qi as f3,Wd as f4,Wz as f5,bw as f6,Us as f7,Oe as f8,cc as f9,fp as fA,Nd as fB,rz as fC,lz as fD,E1 as fE,Vz as fF,tc as fG,mz as fH,Uw as fI,nz as fJ,iz as fK,Wu as fL,g_ as fM,Xu as fN,Wa as fO,Ja as fP,m3 as fQ,Od as fR,uM as fS,vA as fT,bd as fU,P as fV,Zt as fW,bM as fX,yM as fY,ir as fZ,rT as f_,Gz as fa,X_ as fb,m1 as fc,V_ as fd,Zz as fe,yw as ff,l1 as fg,q3 as fh,Zu as fi,V3 as fj,Rz as fk,P3 as fl,k3 as fm,H3 as fn,rr as fo,oT as fp,up as fq,Tz as fr,oE as fs,Z3 as ft,cp as fu,hp as fv,ri as fw,c3 as fx,u3 as fy,o3 as fz,Hi as g,aT as g0,J2 as g1,j as h,pz as i,Cl as j,HM as k,Cg as l,r3 as m,Id as n,Lw as o,$3 as p,Rl as q,i1 as r,zg as s,tz as t,wT as u,ST as v,K3 as w,_g as x,IT as y,LT as z};
